webpackJsonp([0],[function(t,e,a){(function(t){!function(e,a){t.exports=a()}(0,function(){"use strict";function e(){return Ni.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function s(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var a,i=[];for(a=0;a<t.length;++a)i.push(e(t[a],a));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var a in e)u(e,a)&&(t[a]=e[a]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,a,i){return ye(t,e,a,i,!0).utc()}function D(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){return null==t._pf&&(t._pf=D()),t._pf}function C(t){if(null==t._isValid){var e=m(t),a=wi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&a);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function f(t){var e=c(NaN);return null!=t?d(m(e),t):m(e).userInvalidated=!0,e}function p(t,e){var a,i,r;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=m(e)),s(e._locale)||(t._locale=e._locale),Oi.length>0)for(a=0;a<Oi.length;a++)i=Oi[a],r=e[i],s(r)||(t[i]=r);return t}function v(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Pi&&(Pi=!0,e.updateOffset(this),Pi=!1)}function S(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function T(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function M(t){var e=+t,a=0;return 0!==e&&isFinite(e)&&(a=T(e)),a}function _(t,e,a){var i,r=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(a&&t[i]!==e[i]||!a&&M(t[i])!==M(e[i]))&&s++;return s+n}function I(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function L(t,a){var i=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,n=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var o in arguments[0])r+=o+": "+arguments[0][o]+", ";r=r.slice(0,-2)}else r=arguments[s];n.push(r)}I(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),i=!1}return a.apply(this,arguments)},a)}function g(t,a){null!=e.deprecationHandler&&e.deprecationHandler(t,a),Ri[t]||(I(a),Ri[t]=!0)}function y(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t){var e,a;for(a in t)e=t[a],y(e)?this[a]=e:this["_"+a]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F(t,e){var a,i=d({},t);for(a in e)u(e,a)&&(r(t[a])&&r(e[a])?(i[a]={},d(i[a],t[a]),d(i[a],e[a])):null!=e[a]?i[a]=e[a]:delete i[a]);for(a in t)u(t,a)&&!u(e,a)&&r(t[a])&&(i[a]=d({},i[a]));return i}function E(t){null!=t&&this.set(t)}function x(t,e,a){var i=this._calendar[t]||this._calendar.sameElse;return y(i)?i.call(e,a):i}function N(t){var e=this._longDateFormat[t],a=this._longDateFormat[t.toUpperCase()];return e||!a?e:(this._longDateFormat[t]=a.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function w(){return this._invalidDate}function O(t){return this._ordinal.replace("%d",t)}function P(t,e,a,i){var r=this._relativeTime[a];return y(r)?r(t,e,a,i):r.replace(/%d/i,t)}function R(t,e){var a=this._relativeTime[t>0?"future":"past"];return y(a)?a(e):a.replace(/%s/i,e)}function b(t,e){var a=t.toLowerCase();Vi[a]=Vi[a+"s"]=Vi[e]=t}function Y(t){return"string"==typeof t?Vi[t]||Vi[t.toLowerCase()]:void 0}function B(t){var e,a,i={};for(a in t)u(t,a)&&(e=Y(a))&&(i[e]=t[a]);return i}function H(t,e){Gi[t]=e}function k(t){var e=[];for(var a in t)e.push({unit:a,priority:Gi[a]});return e.sort(function(t,e){return t.priority-e.priority}),e}function V(t,e,a){var i=""+Math.abs(t),r=e-i.length;return(t>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function G(t,e,a,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Ki[t]=r),e&&(Ki[e[0]]=function(){return V(r.apply(this,arguments),e[1],e[2])}),a&&(Ki[a]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,a,i=t.match(Wi);for(e=0,a=i.length;e<a;e++)Ki[i[e]]?i[e]=Ki[i[e]]:i[e]=W(i[e]);return function(e){var r,n="";for(r=0;r<a;r++)n+=y(i[r])?i[r].call(e,t):i[r];return n}}function X(t,e){return t.isValid()?(e=K(e,t.localeData()),Xi[e]=Xi[e]||U(e),Xi[e](t)):t.localeData().invalidDate()}function K(t,e){function a(t){return e.longDateFormat(t)||t}var i=5;for(Ui.lastIndex=0;i>=0&&Ui.test(t);)t=t.replace(Ui,a),Ui.lastIndex=0,i-=1;return t}function J(t,e,a){ur[t]=y(e)?e:function(t,i){return t&&a?a:e}}function j(t,e){return u(ur,t)?ur[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,a,i,r){return e||a||i||r}))}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t,e){var a,i=e;for("string"==typeof t&&(t=[t]),o(e)&&(i=function(t,a){a[e]=M(t)}),a=0;a<t.length;a++)dr[t[a]]=i}function Q(t,e){Z(t,function(t,a,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function $(t,e,a){null!=e&&u(dr,t)&&dr[t](e,a._a,a,t)}function tt(t){return et(t)?366:365}function et(t){return t%4==0&&t%100!=0||t%400==0}function at(){return et(this.year())}function it(t,a){return function(i){return null!=i?(nt(this,t,i),e.updateOffset(this,a),this):rt(this,t)}}function rt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nt(t,e,a){t.isValid()&&!isNaN(a)&&("FullYear"===e&&et(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](a,t.month(),lt(a,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](a))}function st(t){return t=Y(t),y(this[t])?this[t]():this}function ot(t,e){if("object"==typeof t){t=B(t);for(var a=k(t),i=0;i<a.length;i++)this[a[i].unit](t[a[i].unit])}else if(t=Y(t),y(this[t]))return this[t](e);return this}function ht(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var a=ht(e,12);return t+=(e-a)/12,1===a?et(t)?29:28:31-a%7%2}function ut(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ir).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function dt(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ir.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(t,e,a){var i,r,n,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)n=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(n,"").toLocaleLowerCase();return a?"MMM"===e?(r=Mr.call(this._shortMonthsParse,s),-1!==r?r:null):(r=Mr.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?-1!==(r=Mr.call(this._shortMonthsParse,s))?r:(r=Mr.call(this._longMonthsParse,s),-1!==r?r:null):-1!==(r=Mr.call(this._longMonthsParse,s))?r:(r=Mr.call(this._shortMonthsParse,s),-1!==r?r:null)}function Dt(t,e,a){var i,r,n;if(this._monthsParseExact)return ct.call(this,t,e,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),a&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),a||this._monthsParse[i]||(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(n.replace(".",""),"i")),a&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(a&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!a&&this._monthsParse[i].test(t))return i}}function mt(t,e){var a;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=M(e);else if(e=t.localeData().monthsParse(e),!o(e))return t;return a=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,a),t}function Ct(t){return null!=t?(mt(this,t),e.updateOffset(this,!0),this):rt(this,"Month")}function ft(){return lt(this.year(),this.month())}function pt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||St.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=yr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||St.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ar),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function St(){function t(t,e){return e.length-t.length}var e,a,i=[],r=[],n=[];for(e=0;e<12;e++)a=c([2e3,e]),i.push(this.monthsShort(a,"")),r.push(this.months(a,"")),n.push(this.months(a,"")),n.push(this.monthsShort(a,""));for(i.sort(t),r.sort(t),n.sort(t),e=0;e<12;e++)i[e]=q(i[e]),r[e]=q(r[e]);for(e=0;e<24;e++)n[e]=q(n[e]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Tt(t,e,a,i,r,n,s){var o;return t<100&&t>=0?(o=new Date(t+400,e,a,i,r,n,s),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,a,i,r,n,s),o}function Mt(t){var e;if(t<100&&t>=0){var a=Array.prototype.slice.call(arguments);a[0]=t+400,e=new Date(Date.UTC.apply(null,a)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function _t(t,e,a){var i=7+e-a;return-(7+Mt(t,0,i).getUTCDay()-e)%7+i-1}function It(t,e,a,i,r){var n,s,o=(7+a-i)%7,h=_t(t,i,r),l=1+7*(e-1)+o+h;return l<=0?(n=t-1,s=tt(n)+l):l>tt(t)?(n=t+1,s=l-tt(t)):(n=t,s=l),{year:n,dayOfYear:s}}function Lt(t,e,a){var i,r,n=_t(t.year(),e,a),s=Math.floor((t.dayOfYear()-n-1)/7)+1;return s<1?(r=t.year()-1,i=s+gt(r,e,a)):s>gt(t.year(),e,a)?(i=s-gt(t.year(),e,a),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function gt(t,e,a){var i=_t(t,e,a),r=_t(t+1,e,a);return(tt(t)-i+r)/7}function yt(t){return Lt(t,this._week.dow,this._week.doy).week}function At(){return this._week.dow}function Ft(){return this._week.doy}function Et(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function xt(t){var e=Lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Nt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function wt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ot(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Pt(t,e){var a=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ot(a,this._week.dow):t?a[t.day()]:a}function Rt(t){return!0===t?Ot(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function bt(t){return!0===t?Ot(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Yt(t,e,a){var i,r,n,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)n=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(n,"").toLocaleLowerCase();return a?"dddd"===e?(r=Mr.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=Mr.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=Mr.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?-1!==(r=Mr.call(this._weekdaysParse,s))?r:-1!==(r=Mr.call(this._shortWeekdaysParse,s))?r:(r=Mr.call(this._minWeekdaysParse,s),-1!==r?r:null):"ddd"===e?-1!==(r=Mr.call(this._shortWeekdaysParse,s))?r:-1!==(r=Mr.call(this._weekdaysParse,s))?r:(r=Mr.call(this._minWeekdaysParse,s),-1!==r?r:null):-1!==(r=Mr.call(this._minWeekdaysParse,s))?r:-1!==(r=Mr.call(this._weekdaysParse,s))?r:(r=Mr.call(this._shortWeekdaysParse,s),-1!==r?r:null)}function Bt(t,e,a){var i,r,n;if(this._weekdaysParseExact)return Yt.call(this,t,e,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),a&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(n.replace(".",""),"i")),a&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(a&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(a&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!a&&this._weekdaysParse[i].test(t))return i}}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Nt(t,this.localeData()),this.add(t-e,"d")):e}function kt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Vt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=wt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Gt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=wr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Or),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ut(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function t(t,e){return e.length-t.length}var e,a,i,r,n,s=[],o=[],h=[],l=[];for(e=0;e<7;e++)a=c([2e3,1]).day(e),i=this.weekdaysMin(a,""),r=this.weekdaysShort(a,""),n=this.weekdays(a,""),s.push(i),o.push(r),h.push(n),l.push(i),l.push(r),l.push(n);for(s.sort(t),o.sort(t),h.sort(t),l.sort(t),e=0;e<7;e++)o[e]=q(o[e]),h[e]=q(h[e]),l[e]=q(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function jt(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function zt(t,e){return e._meridiemParse}function qt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Zt(t,e,a){return t>11?a?"pm":"PM":a?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function $t(t){for(var e,a,i,r,n=0;n<t.length;){for(r=Qt(t[n]).split("-"),e=r.length,a=Qt(t[n+1]),a=a?a.split("-"):null;e>0;){if(i=te(r.slice(0,e).join("-")))return i;if(a&&a.length>=e&&_(r,a,!0)>=e-1)break;e--}n++}return Rr}function te(e){var i=null;if(!Hr[e]&&void 0!==t&&t&&t.exports)try{i=Rr._abbr;a(291)("./"+e),ee(i)}catch(t){}return Hr[e]}function ee(t,e){var a;return t&&(a=s(e)?re(t):ae(t,e),a?Rr=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Rr._abbr}function ae(t,e){if(null!==e){var a,i=Br;if(e.abbr=t,null!=Hr[t])g("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Hr[t]._config;else if(null!=e.parentLocale)if(null!=Hr[e.parentLocale])i=Hr[e.parentLocale]._config;else{if(null==(a=te(e.parentLocale)))return kr[e.parentLocale]||(kr[e.parentLocale]=[]),kr[e.parentLocale].push({name:t,config:e}),null;i=a._config}return Hr[t]=new E(F(i,e)),kr[t]&&kr[t].forEach(function(t){ae(t.name,t.config)}),ee(t),Hr[t]}return delete Hr[t],null}function ie(t,e){if(null!=e){var a,i,r=Br;i=te(t),null!=i&&(r=i._config),e=F(r,e),a=new E(e),a.parentLocale=Hr[t],Hr[t]=a,ee(t)}else null!=Hr[t]&&(null!=Hr[t].parentLocale?Hr[t]=Hr[t].parentLocale:null!=Hr[t]&&delete Hr[t]);return Hr[t]}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rr;if(!i(t)){if(e=te(t))return e;t=[t]}return $t(t)}function ne(){return bi(Hr)}function se(t){var e,a=t._a;return a&&-2===m(t).overflow&&(e=a[Dr]<0||a[Dr]>11?Dr:a[mr]<1||a[mr]>lt(a[cr],a[Dr])?mr:a[Cr]<0||a[Cr]>24||24===a[Cr]&&(0!==a[fr]||0!==a[pr]||0!==a[vr])?Cr:a[fr]<0||a[fr]>59?fr:a[pr]<0||a[pr]>59?pr:a[vr]<0||a[vr]>999?vr:-1,m(t)._overflowDayOfYear&&(e<cr||e>mr)&&(e=mr),m(t)._overflowWeeks&&-1===e&&(e=Sr),m(t)._overflowWeekday&&-1===e&&(e=Tr),m(t).overflow=e),t}function oe(t,e,a){return null!=t?t:null!=e?e:a}function he(t){var a=new Date(e.now());return t._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function le(t){var e,a,i,r,n,s=[];if(!t._d){for(i=he(t),t._w&&null==t._a[mr]&&null==t._a[Dr]&&ue(t),null!=t._dayOfYear&&(n=oe(t._a[cr],i[cr]),(t._dayOfYear>tt(n)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),a=Mt(n,0,t._dayOfYear),t._a[Dr]=a.getUTCMonth(),t._a[mr]=a.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Cr]&&0===t._a[fr]&&0===t._a[pr]&&0===t._a[vr]&&(t._nextDay=!0,t._a[Cr]=0),t._d=(t._useUTC?Mt:Tt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Cr]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(m(t).weekdayMismatch=!0)}}function ue(t){var e,a,i,r,n,s,o,h;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)n=1,s=4,a=oe(e.GG,t._a[cr],Lt(Ae(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(h=!0);else{n=t._locale._week.dow,s=t._locale._week.doy;var l=Lt(Ae(),n,s);a=oe(e.gg,t._a[cr],l.year),i=oe(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(h=!0):null!=e.e?(r=e.e+n,(e.e<0||e.e>6)&&(h=!0)):r=n}i<1||i>gt(a,n,s)?m(t)._overflowWeeks=!0:null!=h?m(t)._overflowWeekday=!0:(o=It(a,i,r,n,s),t._a[cr]=o.year,t._dayOfYear=o.dayOfYear)}function de(t){var e,a,i,r,n,s,o=t._i,h=Vr.exec(o)||Gr.exec(o);if(h){for(m(t).iso=!0,e=0,a=Ur.length;e<a;e++)if(Ur[e][1].exec(h[1])){r=Ur[e][0],i=!1!==Ur[e][2];break}if(null==r)return void(t._isValid=!1);if(h[3]){for(e=0,a=Xr.length;e<a;e++)if(Xr[e][1].exec(h[3])){n=(h[2]||" ")+Xr[e][0];break}if(null==n)return void(t._isValid=!1)}if(!i&&null!=n)return void(t._isValid=!1);if(h[4]){if(!Wr.exec(h[4]))return void(t._isValid=!1);s="Z"}t._f=r+(n||"")+(s||""),Se(t)}else t._isValid=!1}function ce(t,e,a,i,r,n){var s=[De(t),gr.indexOf(e),parseInt(a,10),parseInt(i,10),parseInt(r,10)];return n&&s.push(parseInt(n,10)),s}function De(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function me(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ce(t,e,a){if(t){if(xr.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return m(a).weekdayMismatch=!0,a._isValid=!1,!1}return!0}function fe(t,e,a){if(t)return jr[t];if(e)return 0;var i=parseInt(a,10),r=i%100;return(i-r)/100*60+r}function pe(t){var e=Jr.exec(me(t._i));if(e){var a=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Ce(e[1],a,t))return;t._a=a,t._tzm=fe(e[8],e[9],e[10]),t._d=Mt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function ve(t){var a=Kr.exec(t._i);if(null!==a)return void(t._d=new Date(+a[1]));de(t),!1===t._isValid&&(delete t._isValid,pe(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function Se(t){if(t._f===e.ISO_8601)return void de(t);if(t._f===e.RFC_2822)return void pe(t);t._a=[],m(t).empty=!0;var a,i,r,n,s,o=""+t._i,h=o.length,l=0;for(r=K(t._f,t._locale).match(Wi)||[],a=0;a<r.length;a++)n=r[a],i=(o.match(j(n,t))||[])[0],i&&(s=o.substr(0,o.indexOf(i)),s.length>0&&m(t).unusedInput.push(s),o=o.slice(o.indexOf(i)+i.length),l+=i.length),Ki[n]?(i?m(t).empty=!1:m(t).unusedTokens.push(n),$(n,i,t)):t._strict&&!i&&m(t).unusedTokens.push(n);m(t).charsLeftOver=h-l,o.length>0&&m(t).unusedInput.push(o),t._a[Cr]<=12&&!0===m(t).bigHour&&t._a[Cr]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[Cr]=Te(t._locale,t._a[Cr],t._meridiem),le(t),se(t)}function Te(t,e,a){var i;return null==a?e:null!=t.meridiemHour?t.meridiemHour(e,a):null!=t.isPM?(i=t.isPM(a),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Me(t){var e,a,i,r,n;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)n=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Se(e),C(e)&&(n+=m(e).charsLeftOver,n+=10*m(e).unusedTokens.length,m(e).score=n,(null==i||n<i)&&(i=n,a=e));d(t,a||e)}function _e(t){if(!t._d){var e=B(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function Ie(t){var e=new v(se(Le(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Le(t){var e=t._i,a=t._f;return t._locale=t._locale||re(t._l),null===e||void 0===a&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new v(se(e)):(h(e)?t._d=e:i(a)?Me(t):a?Se(t):ge(t),C(t)||(t._d=null),t))}function ge(t){var a=t._i;s(a)?t._d=new Date(e.now()):h(a)?t._d=new Date(a.valueOf()):"string"==typeof a?ve(t):i(a)?(t._a=l(a.slice(0),function(t){return parseInt(t,10)}),le(t)):r(a)?_e(t):o(a)?t._d=new Date(a):e.createFromInputFallback(t)}function ye(t,e,a,s,o){var h={};return!0!==a&&!1!==a||(s=a,a=void 0),(r(t)&&n(t)||i(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=o,h._l=a,h._i=t,h._f=e,h._strict=s,Ie(h)}function Ae(t,e,a,i){return ye(t,e,a,i,!1)}function Fe(t,e){var a,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Ae();for(a=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](a)||(a=e[r]);return a}function Ee(){return Fe("isBefore",[].slice.call(arguments,0))}function xe(){return Fe("isAfter",[].slice.call(arguments,0))}function Ne(t){for(var e in t)if(-1===Mr.call(Qr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var a=!1,i=0;i<Qr.length;++i)if(t[Qr[i]]){if(a)return!1;parseFloat(t[Qr[i]])!==M(t[Qr[i]])&&(a=!0)}return!0}function we(){return this._isValid}function Oe(){return Qe(NaN)}function Pe(t){var e=B(t),a=e.year||0,i=e.quarter||0,r=e.month||0,n=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,h=e.minute||0,l=e.second||0,u=e.millisecond||0;this._isValid=Ne(e),this._milliseconds=+u+1e3*l+6e4*h+1e3*o*60*60,this._days=+s+7*n,this._months=+r+3*i+12*a,this._data={},this._locale=re(),this._bubble()}function Re(t){return t instanceof Pe}function be(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ye(t,e){G(t,0,0,function(){var t=this.utcOffset(),a="+";return t<0&&(t=-t,a="-"),a+V(~~(t/60),2)+e+V(~~t%60,2)})}function Be(t,e){var a=(e||"").match(t);if(null===a)return null;var i=a[a.length-1]||[],r=(i+"").match($r)||["-",0,0],n=60*r[1]+M(r[2]);return 0===n?0:"+"===r[0]?n:-n}function He(t,a){var i,r;return a._isUTC?(i=a.clone(),r=(S(t)||h(t)?t.valueOf():Ae(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):Ae(t).local()}function ke(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(t,a,i){var r,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Be(or,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&a&&(r=ke(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),n!==t&&(!a||this._changeInProgress?ia(this,Qe(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:ke(this)}function Ge(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Ue(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ke(this),"m")),this}function Xe(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Be(sr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ke(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Je(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function je(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=Le(t),t._a){var e=t._isUTC?c(t._a):Ae(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ze(){return!!this.isValid()&&!this._isUTC}function qe(){return!!this.isValid()&&this._isUTC}function Ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qe(t,e){var a,i,r,n=t,s=null;return Re(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(n={},e?n[e]=t:n.milliseconds=t):(s=tn.exec(t))?(a="-"===s[1]?-1:1,n={y:0,d:M(s[mr])*a,h:M(s[Cr])*a,m:M(s[fr])*a,s:M(s[pr])*a,ms:M(be(1e3*s[vr]))*a}):(s=en.exec(t))?(a="-"===s[1]?-1:1,n={y:$e(s[2],a),M:$e(s[3],a),w:$e(s[4],a),d:$e(s[5],a),h:$e(s[6],a),m:$e(s[7],a),s:$e(s[8],a)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(r=ea(Ae(n.from),Ae(n.to)),n={},n.ms=r.milliseconds,n.M=r.months),i=new Pe(n),Re(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function $e(t,e){var a=t&&parseFloat(t.replace(",","."));return(isNaN(a)?0:a)*e}function ta(t,e){var a={};return a.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(a.months,"M").isAfter(e)&&--a.months,a.milliseconds=+e-+t.clone().add(a.months,"M"),a}function ea(t,e){var a;return t.isValid()&&e.isValid()?(e=He(e,t),t.isBefore(e)?a=ta(t,e):(a=ta(e,t),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function aa(t,e){return function(a,i){var r,n;return null===i||isNaN(+i)||(g(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=a,a=i,i=n),a="string"==typeof a?+a:a,r=Qe(a,i),ia(this,r,t),this}}function ia(t,a,i,r){var n=a._milliseconds,s=be(a._days),o=be(a._months);t.isValid()&&(r=null==r||r,o&&mt(t,rt(t,"Month")+o*i),s&&nt(t,"Date",rt(t,"Date")+s*i),n&&t._d.setTime(t._d.valueOf()+n*i),r&&e.updateOffset(t,s||o))}function ra(t,e){var a=t.diff(e,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function na(t,a){var i=t||Ae(),r=He(i,this).startOf("day"),n=e.calendarFormat(this,r)||"sameElse",s=a&&(y(a[n])?a[n].call(this,i):a[n]);return this.format(s||this.localeData().calendar(n,this,Ae(i)))}function sa(){return new v(this)}function oa(t,e){var a=S(t)?t:Ae(t);return!(!this.isValid()||!a.isValid())&&(e=Y(e)||"millisecond","millisecond"===e?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(e).valueOf())}function ha(t,e){var a=S(t)?t:Ae(t);return!(!this.isValid()||!a.isValid())&&(e=Y(e)||"millisecond","millisecond"===e?this.valueOf()<a.valueOf():this.clone().endOf(e).valueOf()<a.valueOf())}function la(t,e,a,i){var r=S(t)?t:Ae(t),n=S(e)?e:Ae(e);return!!(this.isValid()&&r.isValid()&&n.isValid())&&(i=i||"()",("("===i[0]?this.isAfter(r,a):!this.isBefore(r,a))&&(")"===i[1]?this.isBefore(n,a):!this.isAfter(n,a)))}function ua(t,e){var a,i=S(t)?t:Ae(t);return!(!this.isValid()||!i.isValid())&&(e=Y(e)||"millisecond","millisecond"===e?this.valueOf()===i.valueOf():(a=i.valueOf(),this.clone().startOf(e).valueOf()<=a&&a<=this.clone().endOf(e).valueOf()))}function da(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ca(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Da(t,e,a){var i,r,n;if(!this.isValid())return NaN;if(i=He(t,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=Y(e)){case"year":n=ma(this,i)/12;break;case"month":n=ma(this,i);break;case"quarter":n=ma(this,i)/3;break;case"second":n=(this-i)/1e3;break;case"minute":n=(this-i)/6e4;break;case"hour":n=(this-i)/36e5;break;case"day":n=(this-i-r)/864e5;break;case"week":n=(this-i-r)/6048e5;break;default:n=this-i}return a?n:T(n)}function ma(t,e){var a,i,r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return e-n<0?(a=t.clone().add(r-1,"months"),i=(e-n)/(n-a)):(a=t.clone().add(r+1,"months"),i=(e-n)/(a-n)),-(r+i)||0}function Ca(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fa(t){if(!this.isValid())return null;var e=!0!==t,a=e?this.clone().utc():this;return a.year()<0||a.year()>9999?X(a,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):y(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",X(a,"Z")):X(a,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function pa(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var a="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(a+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function va(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=X(this,t);return this.localeData().postformat(a)}function Sa(t,e){return this.isValid()&&(S(t)&&t.isValid()||Ae(t).isValid())?Qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ta(t){return this.from(Ae(),t)}function Ma(t,e){return this.isValid()&&(S(t)&&t.isValid()||Ae(t).isValid())?Qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _a(t){return this.to(Ae(),t)}function Ia(t){var e;return void 0===t?this._locale._abbr:(e=re(t),null!=e&&(this._locale=e),this)}function La(){return this._locale}function ga(t,e){return(t%e+e)%e}function ya(t,e,a){return t<100&&t>=0?new Date(t+400,e,a)-ln:new Date(t,e,a).valueOf()}function Aa(t,e,a){return t<100&&t>=0?Date.UTC(t+400,e,a)-ln:Date.UTC(t,e,a)}function Fa(t){var a;if(void 0===(t=Y(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?Aa:ya;switch(t){case"year":a=i(this.year(),0,1);break;case"quarter":a=i(this.year(),this.month()-this.month()%3,1);break;case"month":a=i(this.year(),this.month(),1);break;case"week":a=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=i(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=ga(a+(this._isUTC?0:this.utcOffset()*on),hn);break;case"minute":a=this._d.valueOf(),a-=ga(a,on);break;case"second":a=this._d.valueOf(),a-=ga(a,sn)}return this._d.setTime(a),e.updateOffset(this,!0),this}function Ea(t){var a;if(void 0===(t=Y(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?Aa:ya;switch(t){case"year":a=i(this.year()+1,0,1)-1;break;case"quarter":a=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=i(this.year(),this.month()+1,1)-1;break;case"week":a=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=hn-ga(a+(this._isUTC?0:this.utcOffset()*on),hn)-1;break;case"minute":a=this._d.valueOf(),a+=on-ga(a,on)-1;break;case"second":a=this._d.valueOf(),a+=sn-ga(a,sn)-1}return this._d.setTime(a),e.updateOffset(this,!0),this}function xa(){return this._d.valueOf()-6e4*(this._offset||0)}function Na(){return Math.floor(this.valueOf()/1e3)}function wa(){return new Date(this.valueOf())}function Oa(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Pa(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ra(){return this.isValid()?this.toISOString():null}function ba(){return C(this)}function Ya(){return d({},m(this))}function Ba(){return m(this).overflow}function Ha(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ka(t,e){G(0,[t,t.length],0,e)}function Va(t){return Xa.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ga(t){return Xa.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Wa(){return gt(this.year(),1,4)}function Ua(){var t=this.localeData()._week;return gt(this.year(),t.dow,t.doy)}function Xa(t,e,a,i,r){var n;return null==t?Lt(this,i,r).year:(n=gt(t,i,r),e>n&&(e=n),Ka.call(this,t,e,a,i,r))}function Ka(t,e,a,i,r){var n=It(t,e,a,i,r),s=Mt(n.year,0,n.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ja(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function ja(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function za(t,e){e[vr]=M(1e3*("0."+t))}function qa(){return this._isUTC?"UTC":""}function Za(){return this._isUTC?"Coordinated Universal Time":""}function Qa(t){return Ae(1e3*t)}function $a(){return Ae.apply(null,arguments).parseZone()}function ti(t){return t}function ei(t,e,a,i){var r=re(),n=c().set(i,e);return r[a](n,t)}function ai(t,e,a){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return ei(t,e,a,"month");var i,r=[];for(i=0;i<12;i++)r[i]=ei(t,i,a,"month");return r}function ii(t,e,a,i){"boolean"==typeof t?(o(e)&&(a=e,e=void 0),e=e||""):(e=t,a=e,t=!1,o(e)&&(a=e,e=void 0),e=e||"");var r=re(),n=t?r._week.dow:0;if(null!=a)return ei(e,(a+n)%7,i,"day");var s,h=[];for(s=0;s<7;s++)h[s]=ei(e,(s+n)%7,i,"day");return h}function ri(t,e){return ai(t,e,"months")}function ni(t,e){return ai(t,e,"monthsShort")}function si(t,e,a){return ii(t,e,a,"weekdays")}function oi(t,e,a){return ii(t,e,a,"weekdaysShort")}function hi(t,e,a){return ii(t,e,a,"weekdaysMin")}function li(){var t=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),t.milliseconds=pn(t.milliseconds),t.seconds=pn(t.seconds),t.minutes=pn(t.minutes),t.hours=pn(t.hours),t.months=pn(t.months),t.years=pn(t.years),this}function ui(t,e,a,i){var r=Qe(e,a);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function di(t,e){return ui(this,t,e,1)}function ci(t,e){return ui(this,t,e,-1)}function Di(t){return t<0?Math.floor(t):Math.ceil(t)}function mi(){var t,e,a,i,r,n=this._milliseconds,s=this._days,o=this._months,h=this._data;return n>=0&&s>=0&&o>=0||n<=0&&s<=0&&o<=0||(n+=864e5*Di(fi(o)+s),s=0,o=0),h.milliseconds=n%1e3,t=T(n/1e3),h.seconds=t%60,e=T(t/60),h.minutes=e%60,a=T(e/60),h.hours=a%24,s+=T(a/24),r=T(Ci(s)),o+=r,s-=Di(fi(r)),i=T(o/12),o%=12,h.days=s,h.months=o,h.years=i,this}function Ci(t){return 4800*t/146097}function fi(t){return 146097*t/4800}function pi(t){if(!this.isValid())return NaN;var e,a,i=this._milliseconds;if("month"===(t=Y(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,a=this._months+Ci(e),t){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(e=this._days+Math.round(fi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function vi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN}function Si(t){return function(){return this.as(t)}}function Ti(){return Qe(this)}function Mi(t){return t=Y(t),this.isValid()?this[t+"s"]():NaN}function _i(t){return function(){return this.isValid()?this._data[t]:NaN}}function Ii(){return T(this.days()/7)}function Li(t,e,a,i,r){return r.relativeTime(e||1,!!a,t,i)}function gi(t,e,a){var i=Qe(t).abs(),r=Pn(i.as("s")),n=Pn(i.as("m")),s=Pn(i.as("h")),o=Pn(i.as("d")),h=Pn(i.as("M")),l=Pn(i.as("y")),u=r<=Rn.ss&&["s",r]||r<Rn.s&&["ss",r]||n<=1&&["m"]||n<Rn.m&&["mm",n]||s<=1&&["h"]||s<Rn.h&&["hh",s]||o<=1&&["d"]||o<Rn.d&&["dd",o]||h<=1&&["M"]||h<Rn.M&&["MM",h]||l<=1&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=a,Li.apply(null,u)}function yi(t){return void 0===t?Pn:"function"==typeof t&&(Pn=t,!0)}function Ai(t,e){return void 0!==Rn[t]&&(void 0===e?Rn[t]:(Rn[t]=e,"s"===t&&(Rn.ss=e-1),!0))}function Fi(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),a=gi(this,!t,e);return t&&(a=e.pastFuture(+this,a)),e.postformat(a)}function Ei(t){return(t>0)-(t<0)||+t}function xi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,a,i=bn(this._milliseconds)/1e3,r=bn(this._days),n=bn(this._months);t=T(i/60),e=T(t/60),i%=60,t%=60,a=T(n/12),n%=12;var s=a,o=n,h=r,l=e,u=t,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var D=c<0?"-":"",m=Ei(this._months)!==Ei(c)?"-":"",C=Ei(this._days)!==Ei(c)?"-":"",f=Ei(this._milliseconds)!==Ei(c)?"-":"";return D+"P"+(s?m+s+"Y":"")+(o?m+o+"M":"")+(h?C+h+"D":"")+(l||u||d?"T":"")+(l?f+l+"H":"")+(u?f+u+"M":"")+(d?f+d+"S":"")}var Ni,wi;wi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),a=e.length>>>0,i=0;i<a;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Oi=e.momentProperties=[],Pi=!1,Ri={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var bi;bi=Object.keys?Object.keys:function(t){var e,a=[];for(e in t)u(t,e)&&a.push(e);return a};var Yi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Bi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Hi=/\d{1,2}/,ki={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vi={},Gi={},Wi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ui=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xi={},Ki={},Ji=/\d/,ji=/\d\d/,zi=/\d{3}/,qi=/\d{4}/,Zi=/[+-]?\d{6}/,Qi=/\d\d?/,$i=/\d\d\d\d?/,tr=/\d\d\d\d\d\d?/,er=/\d{1,3}/,ar=/\d{1,4}/,ir=/[+-]?\d{1,6}/,rr=/\d+/,nr=/[+-]?\d+/,sr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,hr=/[+-]?\d+(\.\d{1,3})?/,lr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ur={},dr={},cr=0,Dr=1,mr=2,Cr=3,fr=4,pr=5,vr=6,Sr=7,Tr=8;G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),b("year","y"),H("year",1),J("Y",nr),J("YY",Qi,ji),J("YYYY",ar,qi),J("YYYYY",ir,Zi),J("YYYYYY",ir,Zi),Z(["YYYYY","YYYYYY"],cr),Z("YYYY",function(t,a){a[cr]=2===t.length?e.parseTwoDigitYear(t):M(t)}),Z("YY",function(t,a){a[cr]=e.parseTwoDigitYear(t)}),Z("Y",function(t,e){e[cr]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return M(t)+(M(t)>68?1900:2e3)};var Mr,_r=it("FullYear",!0);Mr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),b("month","M"),H("month",8),J("M",Qi),J("MM",Qi,ji),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),Z(["M","MM"],function(t,e){e[Dr]=M(t)-1}),Z(["MMM","MMMM"],function(t,e,a,i){var r=a._locale.monthsParse(t,i,a._strict);null!=r?e[Dr]=r:m(a).invalidMonth=t});var Ir=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yr=lr,Ar=lr;G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),b("week","w"),b("isoWeek","W"),H("week",5),H("isoWeek",5),J("w",Qi),J("ww",Qi,ji),J("W",Qi),J("WW",Qi,ji),Q(["w","ww","W","WW"],function(t,e,a,i){e[i.substr(0,1)]=M(t)});var Fr={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),b("day","d"),b("weekday","e"),b("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),J("d",Qi),J("e",Qi),J("E",Qi),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,a,i){var r=a._locale.weekdaysParse(t,i,a._strict);null!=r?e.d=r:m(a).invalidWeekday=t}),Q(["d","e","E"],function(t,e,a,i){e[i]=M(t)});var Er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Nr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wr=lr,Or=lr,Pr=lr;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Kt),G("k",["kk",2],0,Jt),G("hmm",0,0,function(){return""+Kt.apply(this)+V(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Kt.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),jt("a",!0),jt("A",!1),b("hour","h"),H("hour",13),J("a",zt),J("A",zt),J("H",Qi),J("h",Qi),J("k",Qi),J("HH",Qi,ji),J("hh",Qi,ji),J("kk",Qi,ji),J("hmm",$i),J("hmmss",tr),J("Hmm",$i),J("Hmmss",tr),Z(["H","HH"],Cr),Z(["k","kk"],function(t,e,a){var i=M(t);e[Cr]=24===i?0:i}),Z(["a","A"],function(t,e,a){a._isPm=a._locale.isPM(t),a._meridiem=t}),Z(["h","hh"],function(t,e,a){e[Cr]=M(t),m(a).bigHour=!0}),Z("hmm",function(t,e,a){var i=t.length-2;e[Cr]=M(t.substr(0,i)),e[fr]=M(t.substr(i)),m(a).bigHour=!0}),Z("hmmss",function(t,e,a){var i=t.length-4,r=t.length-2;e[Cr]=M(t.substr(0,i)),e[fr]=M(t.substr(i,2)),e[pr]=M(t.substr(r)),m(a).bigHour=!0}),Z("Hmm",function(t,e,a){var i=t.length-2;e[Cr]=M(t.substr(0,i)),e[fr]=M(t.substr(i))}),Z("Hmmss",function(t,e,a){var i=t.length-4,r=t.length-2;e[Cr]=M(t.substr(0,i)),e[fr]=M(t.substr(i,2)),e[pr]=M(t.substr(r))});var Rr,br=/[ap]\.?m?\.?/i,Yr=it("Hours",!0),Br={calendar:Yi,longDateFormat:Bi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Hi,relativeTime:ki,months:Lr,monthsShort:gr,week:Fr,weekdays:Er,weekdaysMin:Nr,weekdaysShort:xr,meridiemParse:br},Hr={},kr={},Vr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wr=/Z|[+-]\d\d(?::?\d\d)?/,Ur=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Xr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kr=/^\/?Date\((\-?\d+)/i,Jr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var zr=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),qr=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),Zr=function(){return Date.now?Date.now():+new Date},Qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ye("Z",":"),Ye("ZZ",""),J("Z",or),J("ZZ",or),Z(["Z","ZZ"],function(t,e,a){a._useUTC=!0,a._tzm=Be(or,t)});var $r=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var tn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,en=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qe.fn=Pe.prototype,Qe.invalid=Oe;var an=aa(1,"add"),rn=aa(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)}),sn=1e3,on=60*sn,hn=60*on,ln=3506328*hn;G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ka("gggg","weekYear"),ka("ggggg","weekYear"),ka("GGGG","isoWeekYear"),ka("GGGGG","isoWeekYear"),b("weekYear","gg"),b("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),J("G",nr),J("g",nr),J("GG",Qi,ji),J("gg",Qi,ji),J("GGGG",ar,qi),J("gggg",ar,qi),J("GGGGG",ir,Zi),J("ggggg",ir,Zi),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,a,i){e[i.substr(0,2)]=M(t)}),Q(["gg","GG"],function(t,a,i,r){a[r]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),b("quarter","Q"),H("quarter",7),J("Q",Ji),Z("Q",function(t,e){e[Dr]=3*(M(t)-1)}),G("D",["DD",2],"Do","date"),b("date","D"),H("date",9),J("D",Qi),J("DD",Qi,ji),J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],mr),Z("Do",function(t,e){e[mr]=M(t.match(Qi)[0])});var un=it("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),b("dayOfYear","DDD"),H("dayOfYear",4),J("DDD",er),J("DDDD",zi),Z(["DDD","DDDD"],function(t,e,a){a._dayOfYear=M(t)}),G("m",["mm",2],0,"minute"),b("minute","m"),H("minute",14),J("m",Qi),J("mm",Qi,ji),Z(["m","mm"],fr);var dn=it("Minutes",!1);G("s",["ss",2],0,"second"),b("second","s"),H("second",15),J("s",Qi),J("ss",Qi,ji),Z(["s","ss"],pr);var cn=it("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),b("millisecond","ms"),H("millisecond",16),J("S",er,Ji),J("SS",er,ji),J("SSS",er,zi);var Dn;for(Dn="SSSS";Dn.length<=9;Dn+="S")J(Dn,rr);for(Dn="S";Dn.length<=9;Dn+="S")Z(Dn,za);var mn=it("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Cn=v.prototype;Cn.add=an,Cn.calendar=na,Cn.clone=sa,Cn.diff=Da,Cn.endOf=Ea,Cn.format=va,Cn.from=Sa,Cn.fromNow=Ta,Cn.to=Ma,Cn.toNow=_a,Cn.get=st,Cn.invalidAt=Ba,Cn.isAfter=oa,Cn.isBefore=ha,Cn.isBetween=la,Cn.isSame=ua,Cn.isSameOrAfter=da,Cn.isSameOrBefore=ca,Cn.isValid=ba,Cn.lang=nn,Cn.locale=Ia,Cn.localeData=La,Cn.max=qr,Cn.min=zr,Cn.parsingFlags=Ya,Cn.set=ot,Cn.startOf=Fa,Cn.subtract=rn,Cn.toArray=Oa,Cn.toObject=Pa,Cn.toDate=wa,Cn.toISOString=fa,Cn.inspect=pa,Cn.toJSON=Ra,Cn.toString=Ca,Cn.unix=Na,Cn.valueOf=xa,Cn.creationData=Ha,Cn.year=_r,Cn.isLeapYear=at,Cn.weekYear=Va,Cn.isoWeekYear=Ga,Cn.quarter=Cn.quarters=Ja,Cn.month=Ct,Cn.daysInMonth=ft,Cn.week=Cn.weeks=Et,Cn.isoWeek=Cn.isoWeeks=xt,Cn.weeksInYear=Ua,Cn.isoWeeksInYear=Wa,Cn.date=un,Cn.day=Cn.days=Ht,Cn.weekday=kt,Cn.isoWeekday=Vt,Cn.dayOfYear=ja,Cn.hour=Cn.hours=Yr,Cn.minute=Cn.minutes=dn,Cn.second=Cn.seconds=cn,Cn.millisecond=Cn.milliseconds=mn,Cn.utcOffset=Ve,Cn.utc=We,Cn.local=Ue,Cn.parseZone=Xe,Cn.hasAlignedHourOffset=Ke,Cn.isDST=Je,Cn.isLocal=ze,Cn.isUtcOffset=qe,Cn.isUtc=Ze,Cn.isUTC=Ze,Cn.zoneAbbr=qa,Cn.zoneName=Za,Cn.dates=L("dates accessor is deprecated. Use date instead.",un),Cn.months=L("months accessor is deprecated. Use month instead",Ct),Cn.years=L("years accessor is deprecated. Use year instead",_r),Cn.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ge),Cn.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",je);var fn=E.prototype;fn.calendar=x,fn.longDateFormat=N,fn.invalidDate=w,fn.ordinal=O,fn.preparse=ti,fn.postformat=ti,fn.relativeTime=P,fn.pastFuture=R,fn.set=A,fn.months=ut,fn.monthsShort=dt,fn.monthsParse=Dt,fn.monthsRegex=vt,fn.monthsShortRegex=pt,fn.week=yt,fn.firstDayOfYear=Ft,fn.firstDayOfWeek=At,fn.weekdays=Pt,fn.weekdaysMin=bt,fn.weekdaysShort=Rt,fn.weekdaysParse=Bt,fn.weekdaysRegex=Gt,fn.weekdaysShortRegex=Wt,fn.weekdaysMinRegex=Ut,fn.isPM=qt,fn.meridiem=Zt,ee("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===M(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=L("moment.lang is deprecated. Use moment.locale instead.",ee),e.langData=L("moment.langData is deprecated. Use moment.localeData instead.",re);var pn=Math.abs,vn=Si("ms"),Sn=Si("s"),Tn=Si("m"),Mn=Si("h"),_n=Si("d"),In=Si("w"),Ln=Si("M"),gn=Si("Q"),yn=Si("y"),An=_i("milliseconds"),Fn=_i("seconds"),En=_i("minutes"),xn=_i("hours"),Nn=_i("days"),wn=_i("months"),On=_i("years"),Pn=Math.round,Rn={ss:44,s:45,m:45,h:22,d:26,M:11},bn=Math.abs,Yn=Pe.prototype;return Yn.isValid=we,Yn.abs=li,Yn.add=di,Yn.subtract=ci,Yn.as=pi,Yn.asMilliseconds=vn,Yn.asSeconds=Sn,Yn.asMinutes=Tn,Yn.asHours=Mn,Yn.asDays=_n,Yn.asWeeks=In,Yn.asMonths=Ln,Yn.asQuarters=gn,Yn.asYears=yn,Yn.valueOf=vi,Yn._bubble=mi,Yn.clone=Ti,Yn.get=Mi,Yn.milliseconds=An,Yn.seconds=Fn,Yn.minutes=En,Yn.hours=xn,Yn.days=Nn,Yn.weeks=Ii,Yn.months=wn,Yn.years=On,Yn.humanize=Fi,Yn.toISOString=xi,Yn.toString=xi,Yn.toJSON=xi,Yn.locale=Ia,Yn.localeData=La,Yn.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xi),Yn.lang=nn,G("X",0,0,"unix"),G("x",0,0,"valueOf"),J("x",nr),J("X",hr),Z("X",function(t,e,a){a._d=new Date(1e3*parseFloat(t,10))}),Z("x",function(t,e,a){a._d=new Date(M(t))}),e.version="2.24.0",function(t){Ni=t}(Ae),e.fn=Cn,e.min=Ee,e.max=xe,e.now=Zr,e.utc=c,e.unix=Qa,e.months=ri,e.isDate=h,e.locale=ee,e.invalid=f,e.duration=Qe,e.isMoment=S,e.weekdays=si,e.parseZone=$a,e.localeData=re,e.isDuration=Re,e.monthsShort=ni,e.weekdaysMin=hi,e.defineLocale=ae,e.updateLocale=ie,e.locales=ne,e.weekdaysShort=oi,e.normalizeUnits=Y,e.relativeTimeRounding=yi,e.relativeTimeThreshold=Ai,e.calendarFormat=ra,e.prototype=Cn,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})}).call(e,a(305)(t))},function(t,e){var a=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=a)},function(t,e){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(t,e,a){var i=a(2),r=a(1),n=a(11),s=a(9),o=a(12),h=function(t,e,a){var l,u,d,c=t&h.F,D=t&h.G,m=t&h.S,C=t&h.P,f=t&h.B,p=t&h.W,v=D?r:r[e]||(r[e]={}),S=v.prototype,T=D?i:m?i[e]:(i[e]||{}).prototype;D&&(a=e);for(l in a)(u=!c&&T&&void 0!==T[l])&&o(v,l)||(d=u?T[l]:a[l],v[l]=D&&"function"!=typeof T[l]?a[l]:f&&u?n(d,i):p&&T[l]==d?function(t){var e=function(e,a,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,a)}return new t(e,a,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):C&&"function"==typeof d?n(Function.call,d):d,C&&((v.virtual||(v.virtual={}))[l]=d,t&h.R&&S&&!S[l]&&s(S,l,d)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},function(t,e,a){var i=a(45)("wks"),r=a(28),n=a(2).Symbol,s="function"==typeof n;(t.exports=function(t){return i[t]||(i[t]=s&&n[t]||(s?n:r)("Symbol."+t))}).store=i},function(t,e,a){t.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,a){var i=a(8),r=a(62),n=a(49),s=Object.defineProperty;e.f=a(5)?Object.defineProperty:function(t,e,a){if(i(t),e=n(e,!0),i(a),r)try{return s(t,e,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(t[e]=a.value),t}},function(t,e,a){var i=a(6);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,a){var i=a(7),r=a(27);t.exports=a(5)?function(t,e,a){return i.f(t,e,r(1,a))}:function(t,e,a){return t[e]=a,t}},,function(t,e,a){var i=a(14);t.exports=function(t,e,a){if(i(t),void 0===e)return t;switch(a){case 1:return function(a){return t.call(e,a)};case 2:return function(a,i){return t.call(e,a,i)};case 3:return function(a,i,r){return t.call(e,a,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var a={}.hasOwnProperty;t.exports=function(t,e){return a.call(t,e)}},function(t,e,a){var i=a(63),r=a(35);t.exports=function(t){return i(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var a={}.toString;t.exports=function(t){return a.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,a){var i=a(11),r=a(249),n=a(248),s=a(8),o=a(47),h=a(78),l={},u={},e=t.exports=function(t,e,a,d,c){var D,m,C,f,p=c?function(){return t}:h(t),v=i(a,d,e?2:1),S=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(n(p)){for(D=o(t.length);D>S;S++)if((f=e?v(s(m=t[S])[0],m[1]):v(t[S]))===l||f===u)return f}else for(C=p.call(t);!(m=C.next()).done;)if((f=r(C,v,m.value,e))===l||f===u)return f};e.BREAK=l,e.RETURN=u},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e,a){var i=a(7).f,r=a(12),n=a(4)("toStringTag");t.exports=function(t,e,a){t&&!r(t=a?t:t.prototype,n)&&i(t,n,{configurable:!0,value:e})}},function(t,e,a){"use strict";var i=a(256)(!0);a(38)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=i(e,a),this._i+=t.length,{value:t,done:!1})})},function(t,e,a){a(260);for(var i=a(2),r=a(9),n=a(18),s=a(4)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<o.length;h++){var l=o[h],u=i[l],d=u&&u.prototype;d&&!d[s]&&r(d,s,l),n[l]=n.Array}},,,,function(t,e,a){var i=a(8),r=a(66),n=a(37),s=a(44)("IE_PROTO"),o=function(){},h=function(){var t,e=a(36)("iframe"),i=n.length;for(e.style.display="none",a(61).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h.prototype[n[i]];return h()};t.exports=Object.create||function(t,e){var a;return null!==t?(o.prototype=i(t),a=new o,o.prototype=null,a[s]=t):a=h(),void 0===e?a:r(a,e)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var a=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++a+i).toString(36))}},function(t,e){},function(t,e,a){var i,r;/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(e,a){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?a(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return a(t)}:a(e)}("undefined"!=typeof window?window:this,function(a,n){"use strict";function s(t,e,a){a=a||ct;var i,r,n=a.createElement("script");if(n.text=t,e)for(i in yt)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&n.setAttribute(i,r);a.head.appendChild(n).parentNode.removeChild(n)}function o(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?vt[St.call(t)]||"object":typeof t}function h(t){var e=!!t&&"length"in t&&t.length,a=o(t);return!Lt(t)&&!gt(t)&&("array"===a||0===e||"number"==typeof e&&e>0&&e-1 in t)}function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e,a){return Lt(e)?At.grep(t,function(t,i){return!!e.call(t,i,t)!==a}):e.nodeType?At.grep(t,function(t){return t===e!==a}):"string"!=typeof e?At.grep(t,function(t){return pt.call(e,t)>-1!==a}):At.filter(e,t,a)}function d(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return At.each(t.match(Bt)||[],function(t,a){e[a]=!0}),e}function D(t){return t}function m(t){throw t}function C(t,e,a,i){var r;try{t&&Lt(r=t.promise)?r.call(t).done(e).fail(a):t&&Lt(r=t.then)?r.call(t,e,a):e.apply(void 0,[t].slice(i))}catch(t){a.apply(void 0,[t])}}function f(){ct.removeEventListener("DOMContentLoaded",f),a.removeEventListener("load",f),At.ready()}function p(t,e){return e.toUpperCase()}function v(t){return t.replace(Gt,"ms-").replace(Wt,p)}function S(){this.expando=At.expando+S.uid++}function T(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Jt.test(t)?JSON.parse(t):t)}function M(t,e,a){var i;if(void 0===a&&1===t.nodeType)if(i="data-"+e.replace(jt,"-$&").toLowerCase(),"string"==typeof(a=t.getAttribute(i))){try{a=T(a)}catch(t){}Kt.set(t,e,a)}else a=void 0;return a}function _(t,e,a,i){var r,n,s=20,o=i?function(){return i.cur()}:function(){return At.css(t,e,"")},h=o(),l=a&&a[3]||(At.cssNumber[e]?"":"px"),u=t.nodeType&&(At.cssNumber[e]||"px"!==l&&+h)&&qt.exec(At.css(t,e));if(u&&u[3]!==l){for(h/=2,l=l||u[3],u=+h||1;s--;)At.style(t,e,u+l),(1-n)*(1-(n=o()/h||.5))<=0&&(s=0),u/=n;u*=2,At.style(t,e,u+l),a=a||[]}return a&&(u=+u||+h||0,r=a[1]?u+(a[1]+1)*a[2]:+a[2],i&&(i.unit=l,i.start=u,i.end=r)),r}function I(t){var e,a=t.ownerDocument,i=t.nodeName,r=ie[i];return r||(e=a.body.appendChild(a.createElement(i)),r=At.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ie[i]=r,r)}function L(t,e){for(var a,i,r=[],n=0,s=t.length;n<s;n++)i=t[n],i.style&&(a=i.style.display,e?("none"===a&&(r[n]=Xt.get(i,"display")||null,r[n]||(i.style.display="")),""===i.style.display&&ee(i)&&(r[n]=I(i))):"none"!==a&&(r[n]="none",Xt.set(i,"display",a)));for(n=0;n<s;n++)null!=r[n]&&(t[n].style.display=r[n]);return t}function g(t,e){var a;return a=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&l(t,e)?At.merge([t],a):a}function y(t,e){for(var a=0,i=t.length;a<i;a++)Xt.set(t[a],"globalEval",!e||Xt.get(e[a],"globalEval"))}function A(t,e,a,i,r){for(var n,s,h,l,u,d,c=e.createDocumentFragment(),D=[],m=0,C=t.length;m<C;m++)if((n=t[m])||0===n)if("object"===o(n))At.merge(D,n.nodeType?[n]:n);else if(he.test(n)){for(s=s||c.appendChild(e.createElement("div")),h=(ne.exec(n)||["",""])[1].toLowerCase(),l=oe[h]||oe._default,s.innerHTML=l[1]+At.htmlPrefilter(n)+l[2],d=l[0];d--;)s=s.lastChild;At.merge(D,s.childNodes),s=c.firstChild,s.textContent=""}else D.push(e.createTextNode(n));for(c.textContent="",m=0;n=D[m++];)if(i&&At.inArray(n,i)>-1)r&&r.push(n);else if(u=$t(n),s=g(c.appendChild(n),"script"),u&&y(s),a)for(d=0;n=s[d++];)se.test(n.type||"")&&a.push(n);return c}function F(){return!0}function E(){return!1}function x(t,e){return t===N()==("focus"===e)}function N(){try{return ct.activeElement}catch(t){}}function w(t,e,a,i,r,n){var s,o;if("object"==typeof e){"string"!=typeof a&&(i=i||a,a=void 0);for(o in e)w(t,o,a,i,e[o],n);return t}if(null==i&&null==r?(r=a,i=a=void 0):null==r&&("string"==typeof a?(r=i,i=void 0):(r=i,i=a,a=void 0)),!1===r)r=E;else if(!r)return t;return 1===n&&(s=r,r=function(t){return At().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=At.guid++)),t.each(function(){At.event.add(this,e,r,i,a)})}function O(t,e,a){if(!a)return void(void 0===Xt.get(t,e)&&At.event.add(t,e,F));Xt.set(t,e,!1),At.event.add(t,e,{namespace:!1,handler:function(t){var i,r,n=Xt.get(this,e);if(1&t.isTrigger&&this[e]){if(n.length)(At.event.special[e]||{}).delegateType&&t.stopPropagation();else if(n=mt.call(arguments),Xt.set(this,e,n),i=a(this,e),this[e](),r=Xt.get(this,e),n!==r||i?Xt.set(this,e,!1):r={},n!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else n.length&&(Xt.set(this,e,{value:At.event.trigger(At.extend(n[0],At.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})}function P(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")?At(t).children("tbody")[0]||t:t}function R(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Y(t,e){var a,i,r,n,s,o,h,l;if(1===e.nodeType){if(Xt.hasData(t)&&(n=Xt.access(t),s=Xt.set(e,n),l=n.events)){delete s.handle,s.events={};for(r in l)for(a=0,i=l[r].length;a<i;a++)At.event.add(e,r,l[r][a])}Kt.hasData(t)&&(o=Kt.access(t),h=At.extend({},o),Kt.set(e,h))}}function B(t,e){var a=e.nodeName.toLowerCase();"input"===a&&re.test(t.type)?e.checked=t.checked:"input"!==a&&"textarea"!==a||(e.defaultValue=t.defaultValue)}function H(t,e,a,i){e=Ct.apply([],e);var r,n,o,h,l,u,d=0,c=t.length,D=c-1,m=e[0],C=Lt(m);if(C||c>1&&"string"==typeof m&&!It.checkClone&&me.test(m))return t.each(function(r){var n=t.eq(r);C&&(e[0]=m.call(this,r,n.html())),H(n,e,a,i)});if(c&&(r=A(e,t[0].ownerDocument,!1,t,i),n=r.firstChild,1===r.childNodes.length&&(r=n),n||i)){for(o=At.map(g(r,"script"),R),h=o.length;d<c;d++)l=r,d!==D&&(l=At.clone(l,!0,!0),h&&At.merge(o,g(l,"script"))),a.call(t[d],l,d);if(h)for(u=o[o.length-1].ownerDocument,At.map(o,b),d=0;d<h;d++)l=o[d],se.test(l.type||"")&&!Xt.access(l,"globalEval")&&At.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?At._evalUrl&&!l.noModule&&At._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):s(l.textContent.replace(Ce,""),l,u))}return t}function k(t,e,a){for(var i,r=e?At.filter(e,t):t,n=0;null!=(i=r[n]);n++)a||1!==i.nodeType||At.cleanData(g(i)),i.parentNode&&(a&&$t(i)&&y(g(i,"script")),i.parentNode.removeChild(i));return t}function V(t,e,a){var i,r,n,s,o=t.style;return a=a||pe(t),a&&(s=a.getPropertyValue(e)||a[e],""!==s||$t(t)||(s=At.style(t,e)),!It.pixelBoxStyles()&&fe.test(s)&&ve.test(e)&&(i=o.width,r=o.minWidth,n=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=a.width,o.width=i,o.minWidth=r,o.maxWidth=n)),void 0!==s?s+"":s}function G(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function W(t){for(var e=t[0].toUpperCase()+t.slice(1),a=Se.length;a--;)if((t=Se[a]+e)in Te)return t}function U(t){var e=At.cssProps[t]||Me[t];return e||(t in Te?t:Me[t]=W(t)||t)}function X(t,e,a){var i=qt.exec(e);return i?Math.max(0,i[2]-(a||0))+(i[3]||"px"):e}function K(t,e,a,i,r,n){var s="width"===e?1:0,o=0,h=0;if(a===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===a&&(h+=At.css(t,a+Zt[s],!0,r)),i?("content"===a&&(h-=At.css(t,"padding"+Zt[s],!0,r)),"margin"!==a&&(h-=At.css(t,"border"+Zt[s]+"Width",!0,r))):(h+=At.css(t,"padding"+Zt[s],!0,r),"padding"!==a?h+=At.css(t,"border"+Zt[s]+"Width",!0,r):o+=At.css(t,"border"+Zt[s]+"Width",!0,r));return!i&&n>=0&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-n-h-o-.5))||0),h}function J(t,e,a){var i=pe(t),r=!It.boxSizingReliable()||a,n=r&&"border-box"===At.css(t,"boxSizing",!1,i),s=n,o=V(t,e,i),h="offset"+e[0].toUpperCase()+e.slice(1);if(fe.test(o)){if(!a)return o;o="auto"}return(!It.boxSizingReliable()&&n||"auto"===o||!parseFloat(o)&&"inline"===At.css(t,"display",!1,i))&&t.getClientRects().length&&(n="border-box"===At.css(t,"boxSizing",!1,i),(s=h in t)&&(o=t[h])),(o=parseFloat(o)||0)+K(t,e,a||(n?"border":"content"),s,i,o)+"px"}function j(t,e,a,i,r){return new j.prototype.init(t,e,a,i,r)}function z(){Ae&&(!1===ct.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(z):a.setTimeout(z,At.fx.interval),At.fx.tick())}function q(){return a.setTimeout(function(){ye=void 0}),ye=Date.now()}function Z(t,e){var a,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)a=Zt[i],r["margin"+a]=r["padding"+a]=t;return e&&(r.opacity=r.width=t),r}function Q(t,e,a){for(var i,r=(et.tweeners[e]||[]).concat(et.tweeners["*"]),n=0,s=r.length;n<s;n++)if(i=r[n].call(a,e,t))return i}function $(t,e,a){var i,r,n,s,o,h,l,u,d="width"in e||"height"in e,c=this,D={},m=t.style,C=t.nodeType&&ee(t),f=Xt.get(t,"fxshow");a.queue||(s=At._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,At.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],Fe.test(r)){if(delete e[i],n=n||"toggle"===r,r===(C?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;C=!0}D[i]=f&&f[i]||At.style(t,i)}if((h=!At.isEmptyObject(e))||!At.isEmptyObject(D)){d&&1===t.nodeType&&(a.overflow=[m.overflow,m.overflowX,m.overflowY],l=f&&f.display,null==l&&(l=Xt.get(t,"display")),u=At.css(t,"display"),"none"===u&&(l?u=l:(L([t],!0),l=t.style.display||l,u=At.css(t,"display"),L([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===At.css(t,"float")&&(h||(c.done(function(){m.display=l}),null==l&&(u=m.display,l="none"===u?"":u)),m.display="inline-block")),a.overflow&&(m.overflow="hidden",c.always(function(){m.overflow=a.overflow[0],m.overflowX=a.overflow[1],m.overflowY=a.overflow[2]})),h=!1;for(i in D)h||(f?"hidden"in f&&(C=f.hidden):f=Xt.access(t,"fxshow",{display:l}),n&&(f.hidden=!C),C&&L([t],!0),c.done(function(){C||L([t]),Xt.remove(t,"fxshow");for(i in D)At.style(t,i,D[i])})),h=Q(C?f[i]:0,i,c),i in f||(f[i]=h.start,C&&(h.end=h.start,h.start=0))}}function tt(t,e){var a,i,r,n,s;for(a in t)if(i=v(a),r=e[i],n=t[a],Array.isArray(n)&&(r=n[1],n=t[a]=n[0]),a!==i&&(t[i]=n,delete t[a]),(s=At.cssHooks[i])&&"expand"in s){n=s.expand(n),delete t[i];for(a in n)a in t||(t[a]=n[a],e[a]=r)}else e[i]=r}function et(t,e,a){var i,r,n=0,s=et.prefilters.length,o=At.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=ye||q(),a=Math.max(0,l.startTime+l.duration-e),i=a/l.duration||0,n=1-i,s=0,h=l.tweens.length;s<h;s++)l.tweens[s].run(n);return o.notifyWith(t,[l,n,a]),n<1&&h?a:(h||o.notifyWith(t,[l,1,0]),o.resolveWith(t,[l]),!1)},l=o.promise({elem:t,props:At.extend({},e),opts:At.extend(!0,{specialEasing:{},easing:At.easing._default},a),originalProperties:e,originalOptions:a,startTime:ye||q(),duration:a.duration,tweens:[],createTween:function(e,a){var i=At.Tween(t,l.opts,e,a,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var a=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;a<i;a++)l.tweens[a].run(1);return e?(o.notifyWith(t,[l,1,0]),o.resolveWith(t,[l,e])):o.rejectWith(t,[l,e]),this}}),u=l.props;for(tt(u,l.opts.specialEasing);n<s;n++)if(i=et.prefilters[n].call(l,t,u,l.opts))return Lt(i.stop)&&(At._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return At.map(u,Q,l),Lt(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),At.fx.timer(At.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l}function at(t){return(t.match(Bt)||[]).join(" ")}function it(t){return t.getAttribute&&t.getAttribute("class")||""}function rt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Bt)||[]:[]}function nt(t,e,a,i){var r;if(Array.isArray(e))At.each(e,function(e,r){a||ke.test(t)?i(t,r):nt(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,a,i)});else if(a||"object"!==o(e))i(t,e);else for(r in e)nt(t+"["+r+"]",e[r],a,i)}function st(t){return function(e,a){"string"!=typeof e&&(a=e,e="*");var i,r=0,n=e.toLowerCase().match(Bt)||[];if(Lt(a))for(;i=n[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(a)):(t[i]=t[i]||[]).push(a)}}function ot(t,e,a,i){function r(o){var h;return n[o]=!0,At.each(t[o]||[],function(t,o){var l=o(e,a,i);return"string"!=typeof l||s||n[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var n={},s=t===Qe;return r(e.dataTypes[0])||!n["*"]&&r("*")}function ht(t,e){var a,i,r=At.ajaxSettings.flatOptions||{};for(a in e)void 0!==e[a]&&((r[a]?t:i||(i={}))[a]=e[a]);return i&&At.extend(!0,t,i),t}function lt(t,e,a){for(var i,r,n,s,o=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){h.unshift(r);break}if(h[0]in a)n=h[0];else{for(r in a){if(!h[0]||t.converters[r+" "+h[0]]){n=r;break}s||(s=r)}n=n||s}if(n)return n!==h[0]&&h.unshift(n),a[n]}function ut(t,e,a,i){var r,n,s,o,h,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(n=u.shift();n;)if(t.responseFields[n]&&(a[t.responseFields[n]]=e),!h&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=n,n=u.shift())if("*"===n)n=h;else if("*"!==h&&h!==n){if(!(s=l[h+" "+n]||l["* "+n]))for(r in l)if(o=r.split(" "),o[1]===n&&(s=l[h+" "+o[0]]||l["* "+o[0]])){!0===s?s=l[r]:!0!==l[r]&&(n=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+h+" to "+n}}}return{state:"success",data:e}}var dt=[],ct=a.document,Dt=Object.getPrototypeOf,mt=dt.slice,Ct=dt.concat,ft=dt.push,pt=dt.indexOf,vt={},St=vt.toString,Tt=vt.hasOwnProperty,Mt=Tt.toString,_t=Mt.call(Object),It={},Lt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},gt=function(t){return null!=t&&t===t.window},yt={type:!0,src:!0,nonce:!0,noModule:!0},At=function(t,e){return new At.fn.init(t,e)},Ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;At.fn=At.prototype={jquery:"3.4.1",constructor:At,length:0,toArray:function(){return mt.call(this)},get:function(t){return null==t?mt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=At.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return At.each(this,t)},map:function(t){return this.pushStack(At.map(this,function(e,a){return t.call(e,a,e)}))},slice:function(){return this.pushStack(mt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,a=+t+(t<0?e:0);return this.pushStack(a>=0&&a<e?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ft,sort:dt.sort,splice:dt.splice},At.extend=At.fn.extend=function(){var t,e,a,i,r,n,s=arguments[0]||{},o=1,h=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[o]||{},o++),"object"==typeof s||Lt(s)||(s={}),o===h&&(s=this,o--);o<h;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(At.isPlainObject(i)||(r=Array.isArray(i)))?(a=s[e],n=r&&!Array.isArray(a)?[]:r||At.isPlainObject(a)?a:{},r=!1,s[e]=At.extend(l,n,i)):void 0!==i&&(s[e]=i));return s},At.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,a;return!(!t||"[object Object]"!==St.call(t))&&(!(e=Dt(t))||"function"==typeof(a=Tt.call(e,"constructor")&&e.constructor)&&Mt.call(a)===_t)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){s(t,{nonce:e&&e.nonce})},each:function(t,e){var a,i=0;if(h(t))for(a=t.length;i<a&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Ft,"")},makeArray:function(t,e){var a=e||[];return null!=t&&(h(Object(t))?At.merge(a,"string"==typeof t?[t]:t):ft.call(a,t)),a},inArray:function(t,e,a){return null==e?-1:pt.call(e,t,a)},merge:function(t,e){for(var a=+e.length,i=0,r=t.length;i<a;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,a){for(var i=[],r=0,n=t.length,s=!a;r<n;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,a){var i,r,n=0,s=[];if(h(t))for(i=t.length;n<i;n++)null!=(r=e(t[n],n,a))&&s.push(r);else for(n in t)null!=(r=e(t[n],n,a))&&s.push(r);return Ct.apply([],s)},guid:1,support:It}),"function"==typeof Symbol&&(At.fn[Symbol.iterator]=dt[Symbol.iterator]),At.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){vt["[object "+e+"]"]=e.toLowerCase()});var Et=/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){function e(t,e,a,i){var r,n,s,o,h,u,c,D=e&&e.ownerDocument,m=e?e.nodeType:9;if(a=a||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return a;if(!i&&((e?e.ownerDocument||e:H)!==N&&x(e),e=e||N,O)){if(11!==m&&(h=pt.exec(t)))if(r=h[1]){if(9===m){if(!(s=e.getElementById(r)))return a;if(s.id===r)return a.push(s),a}else if(D&&(s=D.getElementById(r))&&Y(e,s)&&s.id===r)return a.push(s),a}else{if(h[2])return Z.apply(a,e.getElementsByTagName(t)),a;if((r=h[3])&&T.getElementsByClassName&&e.getElementsByClassName)return Z.apply(a,e.getElementsByClassName(r)),a}if(T.qsa&&!X[t+" "]&&(!P||!P.test(t))&&(1!==m||"object"!==e.nodeName.toLowerCase())){if(c=t,D=e,1===m&&lt.test(t)){for((o=e.getAttribute("id"))?o=o.replace(Mt,_t):e.setAttribute("id",o=B),u=L(t),n=u.length;n--;)u[n]="#"+o+" "+d(u[n]);c=u.join(","),D=vt.test(t)&&l(e.parentNode)||e}try{return Z.apply(a,D.querySelectorAll(c)),a}catch(e){X(t,!0)}finally{o===B&&e.removeAttribute("id")}}}return y(t.replace(st,"$1"),e,a,i)}function a(){function t(a,i){return e.push(a+" ")>M.cacheLength&&delete t[e.shift()],t[a+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function n(t,e){for(var a=t.split("|"),i=a.length;i--;)M.attrHandle[a[i]]=e}function s(t,e){var a=e&&t,i=a&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(a)for(;a=a.nextSibling;)if(a===e)return-1;return t?1:-1}function o(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Lt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function h(t){return i(function(e){return e=+e,i(function(a,i){for(var r,n=t([],a.length,e),s=n.length;s--;)a[r=n[s]]&&(a[r]=!(i[r]=a[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function d(t){for(var e=0,a=t.length,i="";e<a;e++)i+=t[e].value;return i}function c(t,e,a){var i=e.dir,r=e.next,n=r||i,s=a&&"parentNode"===n,o=V++;return e.first?function(e,a,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,a,r);return!1}:function(e,a,h){var l,u,d,c=[k,o];if(h){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,a,h))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(d=e[B]||(e[B]={}),u=d[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[n])&&l[0]===k&&l[1]===o)return c[2]=l[2];if(u[n]=c,c[2]=t(e,a,h))return!0}return!1}}function D(t){return t.length>1?function(e,a,i){for(var r=t.length;r--;)if(!t[r](e,a,i))return!1;return!0}:t[0]}function m(t,a,i){for(var r=0,n=a.length;r<n;r++)e(t,a[r],i);return i}function C(t,e,a,i,r){for(var n,s=[],o=0,h=t.length,l=null!=e;o<h;o++)(n=t[o])&&(a&&!a(n,i,r)||(s.push(n),l&&e.push(o)));return s}function f(t,e,a,r,n,s){return r&&!r[B]&&(r=f(r)),n&&!n[B]&&(n=f(n,s)),i(function(i,s,o,h){var l,u,d,c=[],D=[],f=s.length,p=i||m(e||"*",o.nodeType?[o]:o,[]),v=!t||!i&&e?p:C(p,c,t,o,h),S=a?n||(i?t:f||r)?[]:s:v;if(a&&a(v,S,o,h),r)for(l=C(S,D),r(l,[],o,h),u=l.length;u--;)(d=l[u])&&(S[D[u]]=!(v[D[u]]=d));if(i){if(n||t){if(n){for(l=[],u=S.length;u--;)(d=S[u])&&l.push(v[u]=d);n(null,S=[],l,h)}for(u=S.length;u--;)(d=S[u])&&(l=n?$(i,d):c[u])>-1&&(i[l]=!(s[l]=d))}}else S=C(S===s?S.splice(f,S.length):S),n?n(null,s,S,h):Z.apply(s,S)})}function p(t){for(var e,a,i,r=t.length,n=M.relative[t[0].type],s=n||M.relative[" "],o=n?1:0,h=c(function(t){return t===e},s,!0),l=c(function(t){return $(e,t)>-1},s,!0),u=[function(t,a,i){var r=!n&&(i||a!==A)||((e=a).nodeType?h(t,a,i):l(t,a,i));return e=null,r}];o<r;o++)if(a=M.relative[t[o].type])u=[c(D(u),a)];else{if(a=M.filter[t[o].type].apply(null,t[o].matches),a[B]){for(i=++o;i<r&&!M.relative[t[i].type];i++);return f(o>1&&D(u),o>1&&d(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(st,"$1"),a,o<i&&p(t.slice(o,i)),i<r&&p(t=t.slice(i)),i<r&&d(t))}u.push(a)}return D(u)}function v(t,a){var r=a.length>0,n=t.length>0,s=function(i,s,o,h,l){var u,d,c,D=0,m="0",f=i&&[],p=[],v=A,S=i||n&&M.find.TAG("*",l),T=k+=null==v?1:Math.random()||.1,_=S.length;for(l&&(A=s===N||s||l);m!==_&&null!=(u=S[m]);m++){if(n&&u){for(d=0,s||u.ownerDocument===N||(x(u),o=!O);c=t[d++];)if(c(u,s||N,o)){h.push(u);break}l&&(k=T)}r&&((u=!c&&u)&&D--,i&&f.push(u))}if(D+=m,r&&m!==D){for(d=0;c=a[d++];)c(f,p,s,o);if(i){if(D>0)for(;m--;)f[m]||p[m]||(p[m]=z.call(h));p=C(p)}Z.apply(h,p),l&&!i&&p.length>0&&D+a.length>1&&e.uniqueSort(h)}return l&&(k=T,A=v),f};return r?i(s):s}var S,T,M,_,I,L,g,y,A,F,E,x,N,w,O,P,R,b,Y,B="sizzle"+1*new Date,H=t.document,k=0,V=0,G=a(),W=a(),U=a(),X=a(),K=function(t,e){return t===e&&(E=!0),0},J={}.hasOwnProperty,j=[],z=j.pop,q=j.push,Z=j.push,Q=j.slice,$=function(t,e){for(var a=0,i=t.length;a<i;a++)if(t[a]===e)return a;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+et+"*("+at+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+et+"*\\]",rt=":("+at+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",nt=new RegExp(et+"+","g"),st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),ot=new RegExp("^"+et+"*,"+et+"*"),ht=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),lt=new RegExp(et+"|>"),ut=new RegExp(rt),dt=new RegExp("^"+at+"$"),ct={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},Dt=/HTML$/i,mt=/^(?:input|select|textarea|button)$/i,Ct=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,pt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,St=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),Tt=function(t,e,a){var i="0x"+e-65536;return i!==i||a?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Mt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},It=function(){x()},Lt=c(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(j=Q.call(H.childNodes),H.childNodes),j[H.childNodes.length].nodeType}catch(t){Z={apply:j.length?function(t,e){q.apply(t,Q.call(e))}:function(t,e){for(var a=t.length,i=0;t[a++]=e[i++];);t.length=a-1}}}T=e.support={},I=e.isXML=function(t){var e=t.namespaceURI,a=(t.ownerDocument||t).documentElement;return!Dt.test(e||a&&a.nodeName||"HTML")},x=e.setDocument=function(t){var e,a,i=t?t.ownerDocument||t:H;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,w=N.documentElement,O=!I(N),H!==N&&(a=N.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",It,!1):a.attachEvent&&a.attachEvent("onunload",It)),T.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=r(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=ft.test(N.getElementsByClassName),T.getById=r(function(t){return w.appendChild(t).id=B,!N.getElementsByName||!N.getElementsByName(B).length}),T.getById?(M.filter.ID=function(t){var e=t.replace(St,Tt);return function(t){return t.getAttribute("id")===e}},M.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var a=e.getElementById(t);return a?[a]:[]}}):(M.filter.ID=function(t){var e=t.replace(St,Tt);return function(t){var a=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return a&&a.value===e}},M.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var a,i,r,n=e.getElementById(t);if(n){if((a=n.getAttributeNode("id"))&&a.value===t)return[n];for(r=e.getElementsByName(t),i=0;n=r[i++];)if((a=n.getAttributeNode("id"))&&a.value===t)return[n]}return[]}}),M.find.TAG=T.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):T.qsa?e.querySelectorAll(t):void 0}:function(t,e){var a,i=[],r=0,n=e.getElementsByTagName(t);if("*"===t){for(;a=n[r++];)1===a.nodeType&&i.push(a);return i}return n},M.find.CLASS=T.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},R=[],P=[],(T.qsa=ft.test(N.querySelectorAll))&&(r(function(t){w.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+et+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),w.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(T.matchesSelector=ft.test(b=w.matches||w.webkitMatchesSelector||w.mozMatchesSelector||w.oMatchesSelector||w.msMatchesSelector))&&r(function(t){T.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),R.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=ft.test(w.compareDocumentPosition),Y=e||ft.test(w.contains)?function(t,e){var a=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(a.contains?a.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return E=!0,0;var a=!t.compareDocumentPosition-!e.compareDocumentPosition;return a||(a=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&a||!T.sortDetached&&e.compareDocumentPosition(t)===a?t===N||t.ownerDocument===H&&Y(H,t)?-1:e===N||e.ownerDocument===H&&Y(H,e)?1:F?$(F,t)-$(F,e):0:4&a?-1:1)}:function(t,e){if(t===e)return E=!0,0;var a,i=0,r=t.parentNode,n=e.parentNode,o=[t],h=[e];if(!r||!n)return t===N?-1:e===N?1:r?-1:n?1:F?$(F,t)-$(F,e):0;if(r===n)return s(t,e);for(a=t;a=a.parentNode;)o.unshift(a);for(a=e;a=a.parentNode;)h.unshift(a);for(;o[i]===h[i];)i++;return i?s(o[i],h[i]):o[i]===H?-1:h[i]===H?1:0},N):N},e.matches=function(t,a){return e(t,null,null,a)},e.matchesSelector=function(t,a){if((t.ownerDocument||t)!==N&&x(t),T.matchesSelector&&O&&!X[a+" "]&&(!R||!R.test(a))&&(!P||!P.test(a)))try{var i=b.call(t,a);if(i||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){X(a,!0)}return e(a,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&x(t),Y(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&x(t);var a=M.attrHandle[e.toLowerCase()],i=a&&J.call(M.attrHandle,e.toLowerCase())?a(t,e,!O):void 0;return void 0!==i?i:T.attributes||!O?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(Mt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,a=[],i=0,r=0;if(E=!T.detectDuplicates,F=!T.sortStable&&t.slice(0),t.sort(K),E){for(;e=t[r++];)e===t[r]&&(i=a.push(r));for(;i--;)t.splice(a[i],1)}return F=null,t},_=e.getText=function(t){var e,a="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)a+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)a+=_(e);return a},M=e.selectors={cacheLength:50,createPseudo:i,match:ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(St,Tt),t[3]=(t[3]||t[4]||t[5]||"").replace(St,Tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,a=!t[6]&&t[2];return ct.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":a&&ut.test(a)&&(e=L(a,!0))&&(e=a.indexOf(")",a.length-e)-a.length)&&(t[0]=t[0].slice(0,e),t[2]=a.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(St,Tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,a,i){return function(r){var n=e.attr(r,t);return null==n?"!="===a:!a||(n+="","="===a?n===i:"!="===a?n!==i:"^="===a?i&&0===n.indexOf(i):"*="===a?i&&n.indexOf(i)>-1:"$="===a?i&&n.slice(-i.length)===i:"~="===a?(" "+n.replace(nt," ")+" ").indexOf(i)>-1:"|="===a&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,a,i,r){var n="nth"!==t.slice(0,3),s="last"!==t.slice(-4),o="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,a,h){var l,u,d,c,D,m,C=n!==s?"nextSibling":"previousSibling",f=e.parentNode,p=o&&e.nodeName.toLowerCase(),v=!h&&!o,S=!1;if(f){if(n){for(;C;){for(c=e;c=c[C];)if(o?c.nodeName.toLowerCase()===p:1===c.nodeType)return!1;m=C="only"===t&&!m&&"nextSibling"}return!0}if(m=[s?f.firstChild:f.lastChild],s&&v){for(c=f,d=c[B]||(c[B]={}),u=d[c.uniqueID]||(d[c.uniqueID]={}),l=u[t]||[],D=l[0]===k&&l[1],S=D&&l[2],c=D&&f.childNodes[D];c=++D&&c&&c[C]||(S=D=0)||m.pop();)if(1===c.nodeType&&++S&&c===e){u[t]=[k,D,S];break}}else if(v&&(c=e,d=c[B]||(c[B]={}),u=d[c.uniqueID]||(d[c.uniqueID]={}),l=u[t]||[],D=l[0]===k&&l[1],S=D),!1===S)for(;(c=++D&&c&&c[C]||(S=D=0)||m.pop())&&((o?c.nodeName.toLowerCase()!==p:1!==c.nodeType)||!++S||(v&&(d=c[B]||(c[B]={}),u=d[c.uniqueID]||(d[c.uniqueID]={}),u[t]=[k,S]),c!==e)););return(S-=r)===i||S%i==0&&S/i>=0}}},PSEUDO:function(t,a){var r,n=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return n[B]?n(a):n.length>1?(r=[t,t,"",a],M.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=n(t,a),s=r.length;s--;)i=$(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return n(t,0,r)}):n}},pseudos:{not:i(function(t){var e=[],a=[],r=g(t.replace(st,"$1"));return r[B]?i(function(t,e,a,i){for(var n,s=r(t,null,i,[]),o=t.length;o--;)(n=s[o])&&(t[o]=!(e[o]=n))}):function(t,i,n){return e[0]=t,r(e,null,n,a),e[0]=null,!a.pop()}}),has:i(function(t){return function(a){return e(t,a).length>0}}),contains:i(function(t){return t=t.replace(St,Tt),function(e){return(e.textContent||_(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(St,Tt).toLowerCase(),function(e){var a;do{if(a=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(a=a.toLowerCase())===t||0===a.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var a=t.location&&t.location.hash;return a&&a.slice(1)===e.id},root:function(t){return t===w},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return Ct.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,a){return[a<0?a+e:a]}),even:h(function(t,e){for(var a=0;a<e;a+=2)t.push(a);return t}),odd:h(function(t,e){for(var a=1;a<e;a+=2)t.push(a);return t}),lt:h(function(t,e,a){for(var i=a<0?a+e:a>e?e:a;--i>=0;)t.push(i);return t}),gt:h(function(t,e,a){for(var i=a<0?a+e:a;++i<e;)t.push(i);return t})}},M.pseudos.nth=M.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[S]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(S);for(S in{submit:!0,reset:!0})M.pseudos[S]=function(t){return function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&e.type===t}}(S);return u.prototype=M.filters=M.pseudos,M.setFilters=new u,L=e.tokenize=function(t,a){var i,r,n,s,o,h,l,u=W[t+" "];if(u)return a?0:u.slice(0);for(o=t,h=[],l=M.preFilter;o;){i&&!(r=ot.exec(o))||(r&&(o=o.slice(r[0].length)||o),h.push(n=[])),i=!1,(r=ht.exec(o))&&(i=r.shift(),n.push({value:i,type:r[0].replace(st," ")}),o=o.slice(i.length));for(s in M.filter)!(r=ct[s].exec(o))||l[s]&&!(r=l[s](r))||(i=r.shift(),n.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return a?o.length:o?e.error(t):W(t,h).slice(0)},g=e.compile=function(t,e){var a,i=[],r=[],n=U[t+" "];if(!n){for(e||(e=L(t)),a=e.length;a--;)n=p(e[a]),n[B]?i.push(n):r.push(n);n=U(t,v(r,i)),n.selector=t}return n},y=e.select=function(t,e,a,i){var r,n,s,o,h,u="function"==typeof t&&t,c=!i&&L(t=u.selector||t);if(a=a||[],1===c.length){if(n=c[0]=c[0].slice(0),n.length>2&&"ID"===(s=n[0]).type&&9===e.nodeType&&O&&M.relative[n[1].type]){if(!(e=(M.find.ID(s.matches[0].replace(St,Tt),e)||[])[0]))return a;u&&(e=e.parentNode),t=t.slice(n.shift().value.length)}for(r=ct.needsContext.test(t)?0:n.length;r--&&(s=n[r],!M.relative[o=s.type]);)if((h=M.find[o])&&(i=h(s.matches[0].replace(St,Tt),vt.test(n[0].type)&&l(e.parentNode)||e))){if(n.splice(r,1),!(t=i.length&&d(n)))return Z.apply(a,i),a;break}}return(u||g(t,c))(i,e,!O,a,!e||vt.test(t)&&l(e.parentNode)||e),a},T.sortStable=B.split("").sort(K).join("")===B,T.detectDuplicates=!!E,x(),T.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||n("type|href|height|width",function(t,e,a){if(!a)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||n("value",function(t,e,a){if(!a&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||n(tt,function(t,e,a){var i;if(!a)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(a);At.find=Et,At.expr=Et.selectors,At.expr[":"]=At.expr.pseudos,At.uniqueSort=At.unique=Et.uniqueSort,At.text=Et.getText,At.isXMLDoc=Et.isXML,At.contains=Et.contains,At.escapeSelector=Et.escape;var xt=function(t,e,a){for(var i=[],r=void 0!==a;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&At(t).is(a))break;i.push(t)}return i},Nt=function(t,e){for(var a=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&a.push(t);return a},wt=At.expr.match.needsContext,Ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;At.filter=function(t,e,a){var i=e[0];return a&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?At.find.matchesSelector(i,t)?[i]:[]:At.find.matches(t,At.grep(e,function(t){return 1===t.nodeType}))},At.fn.extend({find:function(t){var e,a,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(At(t).filter(function(){for(e=0;e<i;e++)if(At.contains(r[e],this))return!0}));for(a=this.pushStack([]),e=0;e<i;e++)At.find(t,r[e],a);return i>1?At.uniqueSort(a):a},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&wt.test(t)?At(t):t||[],!1).length}});var Pt,Rt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(At.fn.init=function(t,e,a){var i,r;if(!t)return this;if(a=a||Pt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Rt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||a).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof At?e[0]:e,At.merge(this,At.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ct,!0)),Ot.test(i[1])&&At.isPlainObject(e))for(i in e)Lt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=ct.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):Lt(t)?void 0!==a.ready?a.ready(t):t(At):At.makeArray(t,this)}).prototype=At.fn,Pt=At(ct);var bt=/^(?:parents|prev(?:Until|All))/,Yt={children:!0,contents:!0,next:!0,prev:!0};At.fn.extend({has:function(t){var e=At(t,this),a=e.length;return this.filter(function(){for(var t=0;t<a;t++)if(At.contains(this,e[t]))return!0})},closest:function(t,e){var a,i=0,r=this.length,n=[],s="string"!=typeof t&&At(t);if(!wt.test(t))for(;i<r;i++)for(a=this[i];a&&a!==e;a=a.parentNode)if(a.nodeType<11&&(s?s.index(a)>-1:1===a.nodeType&&At.find.matchesSelector(a,t))){n.push(a);break}return this.pushStack(n.length>1?At.uniqueSort(n):n)},index:function(t){return t?"string"==typeof t?pt.call(At(t),this[0]):pt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(At.uniqueSort(At.merge(this.get(),At(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),At.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,a){return xt(t,"parentNode",a)},next:function(t){return d(t,"nextSibling")},prev:function(t){return d(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,a){return xt(t,"nextSibling",a)},prevUntil:function(t,e,a){return xt(t,"previousSibling",a)},siblings:function(t){return Nt((t.parentNode||{}).firstChild,t)},children:function(t){return Nt(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(l(t,"template")&&(t=t.content||t),At.merge([],t.childNodes))}},function(t,e){At.fn[t]=function(a,i){var r=At.map(this,e,a);return"Until"!==t.slice(-5)&&(i=a),i&&"string"==typeof i&&(r=At.filter(i,r)),this.length>1&&(Yt[t]||At.uniqueSort(r),bt.test(t)&&r.reverse()),this.pushStack(r)}});var Bt=/[^\x20\t\r\n\f]+/g;At.Callbacks=function(t){t="string"==typeof t?c(t):At.extend({},t);var e,a,i,r,n=[],s=[],h=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;h=-1)for(a=s.shift();++h<n.length;)!1===n[h].apply(a[0],a[1])&&t.stopOnFalse&&(h=n.length,a=!1);t.memory||(a=!1),e=!1,r&&(n=a?[]:"")},u={add:function(){return n&&(a&&!e&&(h=n.length-1,s.push(a)),function e(a){At.each(a,function(a,i){Lt(i)?t.unique&&u.has(i)||n.push(i):i&&i.length&&"string"!==o(i)&&e(i)})}(arguments),a&&!e&&l()),this},remove:function(){return At.each(arguments,function(t,e){for(var a;(a=At.inArray(e,n,a))>-1;)n.splice(a,1),a<=h&&h--}),this},has:function(t){return t?At.inArray(t,n)>-1:n.length>0},empty:function(){return n&&(n=[]),this},disable:function(){return r=s=[],n=a="",this},disabled:function(){return!n},lock:function(){return r=s=[],a||e||(n=a=""),this},locked:function(){return!!r},fireWith:function(t,a){return r||(a=a||[],a=[t,a.slice?a.slice():a],s.push(a),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},At.extend({Deferred:function(t){var e=[["notify","progress",At.Callbacks("memory"),At.Callbacks("memory"),2],["resolve","done",At.Callbacks("once memory"),At.Callbacks("once memory"),0,"resolved"],["reject","fail",At.Callbacks("once memory"),At.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return At.Deferred(function(a){At.each(e,function(e,i){var r=Lt(t[i[4]])&&t[i[4]];n[i[1]](function(){var t=r&&r.apply(this,arguments);t&&Lt(t.promise)?t.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){function n(t,e,i,r){return function(){var o=this,h=arguments,l=function(){var a,l;if(!(t<s)){if((a=i.apply(o,h))===e.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,Lt(l)?r?l.call(a,n(s,e,D,r),n(s,e,m,r)):(s++,l.call(a,n(s,e,D,r),n(s,e,m,r),n(s,e,D,e.notifyWith))):(i!==D&&(o=void 0,h=[a]),(r||e.resolveWith)(o,h))}},u=r?l:function(){try{l()}catch(a){At.Deferred.exceptionHook&&At.Deferred.exceptionHook(a,u.stackTrace),t+1>=s&&(i!==m&&(o=void 0,h=[a]),e.rejectWith(o,h))}};t?u():(At.Deferred.getStackHook&&(u.stackTrace=At.Deferred.getStackHook()),a.setTimeout(u))}}var s=0;return At.Deferred(function(a){e[0][3].add(n(0,a,Lt(r)?r:D,a.notifyWith)),e[1][3].add(n(0,a,Lt(t)?t:D)),e[2][3].add(n(0,a,Lt(i)?i:m))}).promise()},promise:function(t){return null!=t?At.extend(t,r):r}},n={};return At.each(e,function(t,a){var s=a[2],o=a[5];r[a[1]]=s.add,o&&s.add(function(){i=o},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(a[3].fire),n[a[0]]=function(){return n[a[0]+"With"](this===n?void 0:this,arguments),this},n[a[0]+"With"]=s.fireWith}),r.promise(n),t&&t.call(n,n),n},when:function(t){var e=arguments.length,a=e,i=Array(a),r=mt.call(arguments),n=At.Deferred(),s=function(t){return function(a){i[t]=this,r[t]=arguments.length>1?mt.call(arguments):a,--e||n.resolveWith(i,r)}};if(e<=1&&(C(t,n.done(s(a)).resolve,n.reject,!e),"pending"===n.state()||Lt(r[a]&&r[a].then)))return n.then();for(;a--;)C(r[a],s(a),n.reject);return n.promise()}});var Ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;At.Deferred.exceptionHook=function(t,e){a.console&&a.console.warn&&t&&Ht.test(t.name)&&a.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},At.readyException=function(t){a.setTimeout(function(){throw t})};var kt=At.Deferred();At.fn.ready=function(t){return kt.then(t).catch(function(t){At.readyException(t)}),this},At.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--At.readyWait:At.isReady)||(At.isReady=!0,!0!==t&&--At.readyWait>0||kt.resolveWith(ct,[At]))}}),At.ready.then=kt.then,"complete"===ct.readyState||"loading"!==ct.readyState&&!ct.documentElement.doScroll?a.setTimeout(At.ready):(ct.addEventListener("DOMContentLoaded",f),a.addEventListener("load",f));var Vt=function(t,e,a,i,r,n,s){var h=0,l=t.length,u=null==a;if("object"===o(a)){r=!0;for(h in a)Vt(t,e,h,a[h],!0,n,s)}else if(void 0!==i&&(r=!0,Lt(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,a){return u.call(At(t),a)})),e))for(;h<l;h++)e(t[h],a,s?i:i.call(t[h],h,e(t[h],a)));return r?t:u?e.call(t):l?e(t[0],a):n},Gt=/^-ms-/,Wt=/-([a-z])/g,Ut=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};S.uid=1,S.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ut(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,a){var i,r=this.cache(t);if("string"==typeof e)r[v(e)]=a;else for(i in e)r[v(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][v(e)]},access:function(t,e,a){return void 0===e||e&&"string"==typeof e&&void 0===a?this.get(t,e):(this.set(t,e,a),void 0!==a?a:e)},remove:function(t,e){var a,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(v):(e=v(e),e=e in i?[e]:e.match(Bt)||[]),a=e.length;for(;a--;)delete i[e[a]]}(void 0===e||At.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!At.isEmptyObject(e)}};var Xt=new S,Kt=new S,Jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;At.extend({hasData:function(t){return Kt.hasData(t)||Xt.hasData(t)},data:function(t,e,a){return Kt.access(t,e,a)},removeData:function(t,e){Kt.remove(t,e)},_data:function(t,e,a){return Xt.access(t,e,a)},_removeData:function(t,e){Xt.remove(t,e)}}),At.fn.extend({data:function(t,e){var a,i,r,n=this[0],s=n&&n.attributes;if(void 0===t){if(this.length&&(r=Kt.get(n),1===n.nodeType&&!Xt.get(n,"hasDataAttrs"))){for(a=s.length;a--;)s[a]&&(i=s[a].name,0===i.indexOf("data-")&&(i=v(i.slice(5)),M(n,i,r[i])));Xt.set(n,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Kt.set(this,t)}):Vt(this,function(e){var a;if(n&&void 0===e){if(void 0!==(a=Kt.get(n,t)))return a;if(void 0!==(a=M(n,t)))return a}else this.each(function(){Kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Kt.remove(this,t)})}}),At.extend({queue:function(t,e,a){var i;if(t)return e=(e||"fx")+"queue",i=Xt.get(t,e),a&&(!i||Array.isArray(a)?i=Xt.access(t,e,At.makeArray(a)):i.push(a)),i||[]},dequeue:function(t,e){e=e||"fx";var a=At.queue(t,e),i=a.length,r=a.shift(),n=At._queueHooks(t,e),s=function(){At.dequeue(t,e)};"inprogress"===r&&(r=a.shift(),i--),r&&("fx"===e&&a.unshift("inprogress"),delete n.stop,r.call(t,s,n)),!i&&n&&n.empty.fire()},_queueHooks:function(t,e){var a=e+"queueHooks";return Xt.get(t,a)||Xt.access(t,a,{empty:At.Callbacks("once memory").add(function(){Xt.remove(t,[e+"queue",a])})})}}),At.fn.extend({queue:function(t,e){var a=2;return"string"!=typeof t&&(e=t,t="fx",a--),arguments.length<a?At.queue(this[0],t):void 0===e?this:this.each(function(){var a=At.queue(this,t,e);At._queueHooks(this,t),"fx"===t&&"inprogress"!==a[0]&&At.dequeue(this,t)})},dequeue:function(t){return this.each(function(){At.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var a,i=1,r=At.Deferred(),n=this,s=this.length,o=function(){--i||r.resolveWith(n,[n])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(a=Xt.get(n[s],t+"queueHooks"))&&a.empty&&(i++,a.empty.add(o));return o(),r.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Zt=["Top","Right","Bottom","Left"],Qt=ct.documentElement,$t=function(t){return At.contains(t.ownerDocument,t)},te={composed:!0};Qt.getRootNode&&($t=function(t){return At.contains(t.ownerDocument,t)||t.getRootNode(te)===t.ownerDocument});var ee=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&$t(t)&&"none"===At.css(t,"display")},ae=function(t,e,a,i){var r,n,s={};for(n in e)s[n]=t.style[n],t.style[n]=e[n];r=a.apply(t,i||[]);for(n in e)t.style[n]=s[n];return r},ie={};At.fn.extend({show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ee(this)?At(this).show():At(this).hide()})}});var re=/^(?:checkbox|radio)$/i,ne=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,se=/^$|^module$|\/(?:java|ecma)script/i,oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var he=/<|&#?\w+;/;!function(){var t=ct.createDocumentFragment(),e=t.appendChild(ct.createElement("div")),a=ct.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),e.appendChild(a),It.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",It.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var le=/^key/,ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,de=/^([^.]*)(?:\.(.+)|)/;At.event={global:{},add:function(t,e,a,i,r){var n,s,o,h,l,u,d,c,D,m,C,f=Xt.get(t);if(f)for(a.handler&&(n=a,a=n.handler,r=n.selector),r&&At.find.matchesSelector(Qt,r),a.guid||(a.guid=At.guid++),(h=f.events)||(h=f.events={}),(s=f.handle)||(s=f.handle=function(e){return void 0!==At&&At.event.triggered!==e.type?At.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Bt)||[""],l=e.length;l--;)o=de.exec(e[l])||[],D=C=o[1],m=(o[2]||"").split(".").sort(),D&&(d=At.event.special[D]||{},D=(r?d.delegateType:d.bindType)||D,d=At.event.special[D]||{},u=At.extend({type:D,origType:C,data:i,handler:a,guid:a.guid,selector:r,needsContext:r&&At.expr.match.needsContext.test(r),namespace:m.join(".")},n),(c=h[D])||(c=h[D]=[],c.delegateCount=0,d.setup&&!1!==d.setup.call(t,i,m,s)||t.addEventListener&&t.addEventListener(D,s)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=a.guid)),r?c.splice(c.delegateCount++,0,u):c.push(u),At.event.global[D]=!0)},remove:function(t,e,a,i,r){var n,s,o,h,l,u,d,c,D,m,C,f=Xt.hasData(t)&&Xt.get(t);if(f&&(h=f.events)){for(e=(e||"").match(Bt)||[""],l=e.length;l--;)if(o=de.exec(e[l])||[],D=C=o[1],m=(o[2]||"").split(".").sort(),D){for(d=At.event.special[D]||{},D=(i?d.delegateType:d.bindType)||D,c=h[D]||[],o=o[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=n=c.length;n--;)u=c[n],!r&&C!==u.origType||a&&a.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(c.splice(n,1),u.selector&&c.delegateCount--,d.remove&&d.remove.call(t,u));s&&!c.length&&(d.teardown&&!1!==d.teardown.call(t,m,f.handle)||At.removeEvent(t,D,f.handle),delete h[D])}else for(D in h)At.event.remove(t,D+e[l],a,i,!0);At.isEmptyObject(h)&&Xt.remove(t,"handle events")}},dispatch:function(t){var e,a,i,r,n,s,o=At.event.fix(t),h=new Array(arguments.length),l=(Xt.get(this,"events")||{})[o.type]||[],u=At.event.special[o.type]||{};for(h[0]=o,e=1;e<arguments.length;e++)h[e]=arguments[e];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(s=At.event.handlers.call(this,o,l),e=0;(r=s[e++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,a=0;(n=r.handlers[a++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!1!==n.namespace&&!o.rnamespace.test(n.namespace)||(o.handleObj=n,o.data=n.data,void 0!==(i=((At.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,h))&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(t,e){var a,i,r,n,s,o=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(n=[],s={},a=0;a<h;a++)i=e[a],r=i.selector+" ",void 0===s[r]&&(s[r]=i.needsContext?At(r,this).index(l)>-1:At.find(r,this,null,[l]).length),s[r]&&n.push(i);n.length&&o.push({elem:l,handlers:n})}return l=this,h<e.length&&o.push({elem:l,handlers:e.slice(h)}),o},addProp:function(t,e){Object.defineProperty(At.Event.prototype,t,{enumerable:!0,configurable:!0,get:Lt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[At.expando]?t:new At.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return re.test(e.type)&&e.click&&l(e,"input")&&O(e,"click",F),!1},trigger:function(t){var e=this||t;return re.test(e.type)&&e.click&&l(e,"input")&&O(e,"click"),!0},_default:function(t){var e=t.target;return re.test(e.type)&&e.click&&l(e,"input")&&Xt.get(e,"click")||l(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},At.removeEvent=function(t,e,a){t.removeEventListener&&t.removeEventListener(e,a)},At.Event=function(t,e){if(!(this instanceof At.Event))return new At.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?F:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&At.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[At.expando]=!0},At.Event.prototype={constructor:At.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=F,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=F,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=F,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},At.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&le.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ue.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},At.event.addProp),At.each({focus:"focusin",blur:"focusout"},function(t,e){At.event.special[t]={setup:function(){return O(this,t,x),!1},trigger:function(){return O(this,t),!0},delegateType:e}}),At.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){At.event.special[t]={delegateType:e,bindType:e,handle:function(t){var a,i=this,r=t.relatedTarget,n=t.handleObj;return r&&(r===i||At.contains(i,r))||(t.type=n.origType,a=n.handler.apply(this,arguments),t.type=e),a}}}),At.fn.extend({on:function(t,e,a,i){return w(this,t,e,a,i)},one:function(t,e,a,i){return w(this,t,e,a,i,1)},off:function(t,e,a){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,At(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(a=e,e=void 0),!1===a&&(a=E),this.each(function(){At.event.remove(this,t,a,e)})}});var ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;At.extend({htmlPrefilter:function(t){return t.replace(ce,"<$1></$2>")},clone:function(t,e,a){var i,r,n,s,o=t.cloneNode(!0),h=$t(t);if(!(It.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||At.isXMLDoc(t)))for(s=g(o),n=g(t),i=0,r=n.length;i<r;i++)B(n[i],s[i]);if(e)if(a)for(n=n||g(t),s=s||g(o),i=0,r=n.length;i<r;i++)Y(n[i],s[i]);else Y(t,o);return s=g(o,"script"),s.length>0&&y(s,!h&&g(t,"script")),o},cleanData:function(t){for(var e,a,i,r=At.event.special,n=0;void 0!==(a=t[n]);n++)if(Ut(a)){if(e=a[Xt.expando]){if(e.events)for(i in e.events)r[i]?At.event.remove(a,i):At.removeEvent(a,i,e.handle);a[Xt.expando]=void 0}a[Kt.expando]&&(a[Kt.expando]=void 0)}}}),At.fn.extend({detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return Vt(this,function(t){return void 0===t?At.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return H(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,t).appendChild(t)}})},prepend:function(){return H(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=P(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return H(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return H(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(At.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return At.clone(this,t,e)})},html:function(t){return Vt(this,function(t){var e=this[0]||{},a=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!De.test(t)&&!oe[(ne.exec(t)||["",""])[1].toLowerCase()]){t=At.htmlPrefilter(t);try{for(;a<i;a++)e=this[a]||{},1===e.nodeType&&(At.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return H(this,arguments,function(e){var a=this.parentNode;At.inArray(this,t)<0&&(At.cleanData(g(this)),a&&a.replaceChild(e,this))},t)}}),At.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){At.fn[t]=function(t){for(var a,i=[],r=At(t),n=r.length-1,s=0;s<=n;s++)a=s===n?this:this.clone(!0),At(r[s])[e](a),ft.apply(i,a.get());return this.pushStack(i)}});var fe=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),pe=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=a),e.getComputedStyle(t)},ve=new RegExp(Zt.join("|"),"i");!function(){function t(){if(l){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qt.appendChild(h).appendChild(l);var t=a.getComputedStyle(l);i="1%"!==t.top,o=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),r=36===e(t.width),l.style.position="absolute",n=12===e(l.offsetWidth/3),Qt.removeChild(h),l=null}}function e(t){return Math.round(parseFloat(t))}var i,r,n,s,o,h=ct.createElement("div"),l=ct.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",It.clearCloneStyle="content-box"===l.style.backgroundClip,At.extend(It,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),o},scrollboxSize:function(){return t(),n}}))}();var Se=["Webkit","Moz","ms"],Te=ct.createElement("div").style,Me={},_e=/^(none|table(?!-c[ea]).+)/,Ie=/^--/,Le={position:"absolute",visibility:"hidden",display:"block"},ge={letterSpacing:"0",fontWeight:"400"};At.extend({cssHooks:{opacity:{get:function(t,e){if(e){var a=V(t,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,a,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,n,s,o=v(e),h=Ie.test(e),l=t.style;if(h||(e=U(o)),s=At.cssHooks[e]||At.cssHooks[o],void 0===a)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];n=typeof a,"string"===n&&(r=qt.exec(a))&&r[1]&&(a=_(t,e,r),n="number"),null!=a&&a===a&&("number"!==n||h||(a+=r&&r[3]||(At.cssNumber[o]?"":"px")),It.clearCloneStyle||""!==a||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(a=s.set(t,a,i))||(h?l.setProperty(e,a):l[e]=a))}},css:function(t,e,a,i){var r,n,s,o=v(e);return Ie.test(e)||(e=U(o)),s=At.cssHooks[e]||At.cssHooks[o],s&&"get"in s&&(r=s.get(t,!0,a)),void 0===r&&(r=V(t,e,i)),"normal"===r&&e in ge&&(r=ge[e]),""===a||a?(n=parseFloat(r),!0===a||isFinite(n)?n||0:r):r}}),At.each(["height","width"],function(t,e){At.cssHooks[e]={get:function(t,a,i){if(a)return!_e.test(At.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?J(t,e,i):ae(t,Le,function(){return J(t,e,i)})},set:function(t,a,i){var r,n=pe(t),s=!It.scrollboxSize()&&"absolute"===n.position,o=s||i,h=o&&"border-box"===At.css(t,"boxSizing",!1,n),l=i?K(t,e,i,h,n):0;return h&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(n[e])-K(t,e,"border",!1,n)-.5)),l&&(r=qt.exec(a))&&"px"!==(r[3]||"px")&&(t.style[e]=a,a=At.css(t,e)),X(t,a,l)}}}),At.cssHooks.marginLeft=G(It.reliableMarginLeft,function(t,e){if(e)return(parseFloat(V(t,"marginLeft"))||t.getBoundingClientRect().left-ae(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),At.each({margin:"",padding:"",border:"Width"},function(t,e){At.cssHooks[t+e]={expand:function(a){for(var i=0,r={},n="string"==typeof a?a.split(" "):[a];i<4;i++)r[t+Zt[i]+e]=n[i]||n[i-2]||n[0];return r}},"margin"!==t&&(At.cssHooks[t+e].set=X)}),At.fn.extend({css:function(t,e){return Vt(this,function(t,e,a){var i,r,n={},s=0;if(Array.isArray(e)){for(i=pe(t),r=e.length;s<r;s++)n[e[s]]=At.css(t,e[s],!1,i);return n}return void 0!==a?At.style(t,e,a):At.css(t,e)},t,e,arguments.length>1)}}),At.Tween=j,j.prototype={constructor:j,init:function(t,e,a,i,r,n){this.elem=t,this.prop=a,this.easing=r||At.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=n||(At.cssNumber[a]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,a=j.propHooks[this.prop];return this.options.duration?this.pos=e=At.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=At.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){At.fx.step[t.prop]?At.fx.step[t.prop](t):1!==t.elem.nodeType||!At.cssHooks[t.prop]&&null==t.elem.style[U(t.prop)]?t.elem[t.prop]=t.now:At.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},At.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},At.fx=j.prototype.init,At.fx.step={};var ye,Ae,Fe=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;At.Animation=At.extend(et,{tweeners:{"*":[function(t,e){var a=this.createTween(t,e);return _(a.elem,t,qt.exec(e),a),a}]},tweener:function(t,e){Lt(t)?(e=t,t=["*"]):t=t.match(Bt);for(var a,i=0,r=t.length;i<r;i++)a=t[i],et.tweeners[a]=et.tweeners[a]||[],et.tweeners[a].unshift(e)},prefilters:[$],prefilter:function(t,e){e?et.prefilters.unshift(t):et.prefilters.push(t)}}),At.speed=function(t,e,a){var i=t&&"object"==typeof t?At.extend({},t):{complete:a||!a&&e||Lt(t)&&t,duration:t,easing:a&&e||e&&!Lt(e)&&e};return At.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in At.fx.speeds?i.duration=At.fx.speeds[i.duration]:i.duration=At.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Lt(i.old)&&i.old.call(this),i.queue&&At.dequeue(this,i.queue)},i},At.fn.extend({fadeTo:function(t,e,a,i){return this.filter(ee).css("opacity",0).show().end().animate({opacity:e},t,a,i)},animate:function(t,e,a,i){var r=At.isEmptyObject(t),n=At.speed(e,a,i),s=function(){var e=et(this,At.extend({},t),n);(r||Xt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===n.queue?this.each(s):this.queue(n.queue,s)},stop:function(t,e,a){var i=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof t&&(a=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",n=At.timers,s=Xt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Ee.test(r)&&i(s[r]);for(r=n.length;r--;)n[r].elem!==this||null!=t&&n[r].queue!==t||(n[r].anim.stop(a),e=!1,n.splice(r,1));!e&&a||At.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,a=Xt.get(this),i=a[t+"queue"],r=a[t+"queueHooks"],n=At.timers,s=i?i.length:0;for(a.finish=!0,At.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===t&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete a.finish})}}),At.each(["toggle","show","hide"],function(t,e){var a=At.fn[e];At.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?a.apply(this,arguments):this.animate(Z(e,!0),t,i,r)}}),At.each({slideDown:Z("show"),slideUp:Z("hide"),slideToggle:Z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){At.fn[t]=function(t,a,i){return this.animate(e,t,a,i)}}),At.timers=[],At.fx.tick=function(){var t,e=0,a=At.timers;for(ye=Date.now();e<a.length;e++)(t=a[e])()||a[e]!==t||a.splice(e--,1);a.length||At.fx.stop(),ye=void 0},At.fx.timer=function(t){At.timers.push(t),At.fx.start()},At.fx.interval=13,At.fx.start=function(){Ae||(Ae=!0,z())},At.fx.stop=function(){Ae=null},At.fx.speeds={slow:600,fast:200,_default:400},At.fn.delay=function(t,e){return t=At.fx?At.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=a.setTimeout(e,t);i.stop=function(){a.clearTimeout(r)}})},function(){var t=ct.createElement("input"),e=ct.createElement("select"),a=e.appendChild(ct.createElement("option"));t.type="checkbox",It.checkOn=""!==t.value,It.optSelected=a.selected,t=ct.createElement("input"),t.value="t",t.type="radio",It.radioValue="t"===t.value}();var xe,Ne=At.expr.attrHandle;At.fn.extend({attr:function(t,e){return Vt(this,At.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){At.removeAttr(this,t)})}}),At.extend({attr:function(t,e,a){var i,r,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return void 0===t.getAttribute?At.prop(t,e,a):(1===n&&At.isXMLDoc(t)||(r=At.attrHooks[e.toLowerCase()]||(At.expr.match.bool.test(e)?xe:void 0)),void 0!==a?null===a?void At.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,a,e))?i:(t.setAttribute(e,a+""),a):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=At.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!It.radioValue&&"radio"===e&&l(t,"input")){var a=t.value;return t.setAttribute("type",e),a&&(t.value=a),e}}}},removeAttr:function(t,e){var a,i=0,r=e&&e.match(Bt);if(r&&1===t.nodeType)for(;a=r[i++];)t.removeAttribute(a)}}),xe={set:function(t,e,a){return!1===e?At.removeAttr(t,a):t.setAttribute(a,a),a}},At.each(At.expr.match.bool.source.match(/\w+/g),function(t,e){var a=Ne[e]||At.find.attr;Ne[e]=function(t,e,i){var r,n,s=e.toLowerCase();return i||(n=Ne[s],Ne[s]=r,r=null!=a(t,e,i)?s:null,Ne[s]=n),r}});var we=/^(?:input|select|textarea|button)$/i,Oe=/^(?:a|area)$/i;At.fn.extend({prop:function(t,e){return Vt(this,At.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[At.propFix[t]||t]})}}),At.extend({prop:function(t,e,a){var i,r,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&At.isXMLDoc(t)||(e=At.propFix[e]||e,r=At.propHooks[e]),void 0!==a?r&&"set"in r&&void 0!==(i=r.set(t,a,e))?i:t[e]=a:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=At.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),It.optSelected||(At.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),At.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){At.propFix[this.toLowerCase()]=this}),At.fn.extend({addClass:function(t){var e,a,i,r,n,s,o,h=0;if(Lt(t))return this.each(function(e){At(this).addClass(t.call(this,e,it(this)))});if(e=rt(t),e.length)for(;a=this[h++];)if(r=it(a),i=1===a.nodeType&&" "+at(r)+" "){for(s=0;n=e[s++];)i.indexOf(" "+n+" ")<0&&(i+=n+" ");o=at(i),r!==o&&a.setAttribute("class",o)}return this},removeClass:function(t){var e,a,i,r,n,s,o,h=0;if(Lt(t))return this.each(function(e){At(this).removeClass(t.call(this,e,it(this)))});if(!arguments.length)return this.attr("class","");if(e=rt(t),e.length)for(;a=this[h++];)if(r=it(a),i=1===a.nodeType&&" "+at(r)+" "){for(s=0;n=e[s++];)for(;i.indexOf(" "+n+" ")>-1;)i=i.replace(" "+n+" "," ");o=at(i),r!==o&&a.setAttribute("class",o)}return this},toggleClass:function(t,e){var a=typeof t,i="string"===a||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):Lt(t)?this.each(function(a){At(this).toggleClass(t.call(this,a,it(this),e),e)}):this.each(function(){var e,r,n,s;if(i)for(r=0,n=At(this),s=rt(t);e=s[r++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==t&&"boolean"!==a||(e=it(this),e&&Xt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Xt.get(this,"__className__")||""))})},hasClass:function(t){var e,a,i=0;for(e=" "+t+" ";a=this[i++];)if(1===a.nodeType&&(" "+at(it(a))+" ").indexOf(e)>-1)return!0;return!1}});var Pe=/\r/g;At.fn.extend({val:function(t){var e,a,i,r=this[0];{if(arguments.length)return i=Lt(t),this.each(function(a){var r;1===this.nodeType&&(r=i?t.call(this,a,At(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=At.map(r,function(t){return null==t?"":t+""})),(e=At.valHooks[this.type]||At.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=At.valHooks[r.type]||At.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(a=e.get(r,"value"))?a:(a=r.value,"string"==typeof a?a.replace(Pe,""):null==a?"":a)}}}),At.extend({valHooks:{option:{get:function(t){var e=At.find.attr(t,"value");return null!=e?e:at(At.text(t))}},select:{get:function(t){var e,a,i,r=t.options,n=t.selectedIndex,s="select-one"===t.type,o=s?null:[],h=s?n+1:r.length;for(i=n<0?h:s?n:0;i<h;i++)if(a=r[i],(a.selected||i===n)&&!a.disabled&&(!a.parentNode.disabled||!l(a.parentNode,"optgroup"))){if(e=At(a).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var a,i,r=t.options,n=At.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=At.inArray(At.valHooks.option.get(i),n)>-1)&&(a=!0);return a||(t.selectedIndex=-1),n}}}}),At.each(["radio","checkbox"],function(){At.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=At.inArray(At(t).val(),e)>-1}},It.checkOn||(At.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),It.focusin="onfocusin"in a;var Re=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};At.extend(At.event,{trigger:function(t,e,i,r){var n,s,o,h,l,u,d,c,D=[i||ct],m=Tt.call(t,"type")?t.type:t,C=Tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=o=i=i||ct,3!==i.nodeType&&8!==i.nodeType&&!Re.test(m+At.event.triggered)&&(m.indexOf(".")>-1&&(C=m.split("."),m=C.shift(),C.sort()),l=m.indexOf(":")<0&&"on"+m,t=t[At.expando]?t:new At.Event(m,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=C.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:At.makeArray(e,[t]),d=At.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!gt(i)){for(h=d.delegateType||m,Re.test(h+m)||(s=s.parentNode);s;s=s.parentNode)D.push(s),o=s;o===(i.ownerDocument||ct)&&D.push(o.defaultView||o.parentWindow||a)}for(n=0;(s=D[n++])&&!t.isPropagationStopped();)c=s,t.type=n>1?h:d.bindType||m,u=(Xt.get(s,"events")||{})[t.type]&&Xt.get(s,"handle"),u&&u.apply(s,e),(u=l&&s[l])&&u.apply&&Ut(s)&&(t.result=u.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(D.pop(),e)||!Ut(i)||l&&Lt(i[m])&&!gt(i)&&(o=i[l],o&&(i[l]=null),At.event.triggered=m,t.isPropagationStopped()&&c.addEventListener(m,be),i[m](),t.isPropagationStopped()&&c.removeEventListener(m,be),At.event.triggered=void 0,o&&(i[l]=o)),t.result}},simulate:function(t,e,a){var i=At.extend(new At.Event,a,{type:t,isSimulated:!0});At.event.trigger(i,null,e)}}),At.fn.extend({trigger:function(t,e){return this.each(function(){At.event.trigger(t,e,this)})},triggerHandler:function(t,e){var a=this[0];if(a)return At.event.trigger(t,e,a,!0)}}),It.focusin||At.each({focus:"focusin",blur:"focusout"},function(t,e){var a=function(t){At.event.simulate(e,t.target,At.event.fix(t))};At.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Xt.access(i,e);r||i.addEventListener(t,a,!0),Xt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Xt.access(i,e)-1;r?Xt.access(i,e,r):(i.removeEventListener(t,a,!0),Xt.remove(i,e))}}});var Ye=a.location,Be=Date.now(),He=/\?/;At.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new a.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||At.error("Invalid XML: "+t),e};var ke=/\[\]$/,Ve=/\r?\n/g,Ge=/^(?:submit|button|image|reset|file)$/i,We=/^(?:input|select|textarea|keygen)/i;At.param=function(t,e){var a,i=[],r=function(t,e){var a=Lt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==a?"":a)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!At.isPlainObject(t))At.each(t,function(){r(this.name,this.value)});else for(a in t)nt(a,t[a],e,r);return i.join("&")},At.fn.extend({serialize:function(){return At.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=At.prop(this,"elements");return t?At.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!At(this).is(":disabled")&&We.test(this.nodeName)&&!Ge.test(t)&&(this.checked||!re.test(t))}).map(function(t,e){var a=At(this).val();return null==a?null:Array.isArray(a)?At.map(a,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:a.replace(Ve,"\r\n")}}).get()}});var Ue=/%20/g,Xe=/#.*$/,Ke=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,qe=/^\/\//,Ze={},Qe={},$e="*/".concat("*"),ta=ct.createElement("a");ta.href=Ye.href,At.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ye.href,type:"GET",isLocal:je.test(Ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":At.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ht(ht(t,At.ajaxSettings),e):ht(At.ajaxSettings,t)},ajaxPrefilter:st(Ze),ajaxTransport:st(Qe),ajax:function(t,e){function i(t,e,i,o){var l,c,D,T,M,_=e;u||(u=!0,h&&a.clearTimeout(h),r=void 0,s=o||"",I.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(T=lt(m,I,i)),T=ut(m,T,I,l),l?(m.ifModified&&(M=I.getResponseHeader("Last-Modified"),M&&(At.lastModified[n]=M),(M=I.getResponseHeader("etag"))&&(At.etag[n]=M)),204===t||"HEAD"===m.type?_="nocontent":304===t?_="notmodified":(_=T.state,c=T.data,D=T.error,l=!D)):(D=_,!t&&_||(_="error",t<0&&(t=0))),I.status=t,I.statusText=(e||_)+"",l?p.resolveWith(C,[c,_,I]):p.rejectWith(C,[I,_,D]),I.statusCode(S),S=void 0,d&&f.trigger(l?"ajaxSuccess":"ajaxError",[I,m,l?c:D]),v.fireWith(C,[I,_]),d&&(f.trigger("ajaxComplete",[I,m]),--At.active||At.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,n,s,o,h,l,u,d,c,D,m=At.ajaxSetup({},e),C=m.context||m,f=m.context&&(C.nodeType||C.jquery)?At(C):At.event,p=At.Deferred(),v=At.Callbacks("once memory"),S=m.statusCode||{},T={},M={},_="canceled",I={readyState:0,getResponseHeader:function(t){var e;if(u){if(!o)for(o={};e=Je.exec(s);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=M[t.toLowerCase()]=M[t.toLowerCase()]||t,T[t]=e),this},overrideMimeType:function(t){return null==u&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)I.always(t[I.status]);else for(e in t)S[e]=[S[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),i(0,e),this}};if(p.promise(I),m.url=((t||m.url||Ye.href)+"").replace(qe,Ye.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Bt)||[""],null==m.crossDomain){l=ct.createElement("a");try{l.href=m.url,l.href=l.href,m.crossDomain=ta.protocol+"//"+ta.host!=l.protocol+"//"+l.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=At.param(m.data,m.traditional)),ot(Ze,m,e,I),u)return I;d=At.event&&m.global,d&&0==At.active++&&At.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!ze.test(m.type),n=m.url.replace(Xe,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ue,"+")):(D=m.url.slice(n.length),m.data&&(m.processData||"string"==typeof m.data)&&(n+=(He.test(n)?"&":"?")+m.data,delete m.data),!1===m.cache&&(n=n.replace(Ke,"$1"),D=(He.test(n)?"&":"?")+"_="+Be+++D),m.url=n+D),m.ifModified&&(At.lastModified[n]&&I.setRequestHeader("If-Modified-Since",At.lastModified[n]),At.etag[n]&&I.setRequestHeader("If-None-Match",At.etag[n])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&I.setRequestHeader("Content-Type",m.contentType),I.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+$e+"; q=0.01":""):m.accepts["*"]);for(c in m.headers)I.setRequestHeader(c,m.headers[c]);if(m.beforeSend&&(!1===m.beforeSend.call(C,I,m)||u))return I.abort();if(_="abort",v.add(m.complete),I.done(m.success),I.fail(m.error),r=ot(Qe,m,e,I)){if(I.readyState=1,d&&f.trigger("ajaxSend",[I,m]),u)return I;m.async&&m.timeout>0&&(h=a.setTimeout(function(){I.abort("timeout")},m.timeout));try{u=!1,r.send(T,i)}catch(t){if(u)throw t;i(-1,t)}}else i(-1,"No Transport");return I},getJSON:function(t,e,a){return At.get(t,e,a,"json")},getScript:function(t,e){return At.get(t,void 0,e,"script")}}),At.each(["get","post"],function(t,e){At[e]=function(t,a,i,r){return Lt(a)&&(r=r||i,i=a,a=void 0),At.ajax(At.extend({url:t,type:e,dataType:r,data:a,success:i},At.isPlainObject(t)&&t))}}),At._evalUrl=function(t,e){return At.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){At.globalEval(t,e)}})},At.fn.extend({wrapAll:function(t){var e;return this[0]&&(Lt(t)&&(t=t.call(this[0])),e=At(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return Lt(t)?this.each(function(e){At(this).wrapInner(t.call(this,e))}):this.each(function(){var e=At(this),a=e.contents();a.length?a.wrapAll(t):e.append(t)})},wrap:function(t){var e=Lt(t);return this.each(function(a){At(this).wrapAll(e?t.call(this,a):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){At(this).replaceWith(this.childNodes)}),this}}),At.expr.pseudos.hidden=function(t){return!At.expr.pseudos.visible(t)},At.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},At.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(t){}};var ea={0:200,1223:204},aa=At.ajaxSettings.xhr();It.cors=!!aa&&"withCredentials"in aa,It.ajax=aa=!!aa,At.ajaxTransport(function(t){var e,i;if(It.cors||aa&&!t.crossDomain)return{send:function(r,n){var s,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)o.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===t?o.abort():"error"===t?"number"!=typeof o.status?n(0,"error"):n(o.status,o.statusText):n(ea[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=e(),i=o.onerror=o.ontimeout=e("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&a.setTimeout(function(){e&&i()})},e=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),At.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),At.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return At.globalEval(t),t}}}),At.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),At.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,a;return{send:function(i,r){e=At("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",a=function(t){e.remove(),a=null,t&&r("error"===t.type?404:200,t.type)}),ct.head.appendChild(e[0])},abort:function(){a&&a()}}}});var ia=[],ra=/(=)\?(?=&|$)|\?\?/;At.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ia.pop()||At.expando+"_"+Be++;return this[t]=!0,t}}),At.ajaxPrefilter("json jsonp",function(t,e,i){var r,n,s,o=!1!==t.jsonp&&(ra.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ra.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=Lt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ra,"$1"+r):!1!==t.jsonp&&(t.url+=(He.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||At.error(r+" was not called"),s[0]},t.dataTypes[0]="json",n=a[r],a[r]=function(){s=arguments},i.always(function(){void 0===n?At(a).removeProp(r):a[r]=n,t[r]&&(t.jsonpCallback=e.jsonpCallback,ia.push(r)),s&&Lt(n)&&n(s[0]),s=n=void 0}),"script"}),It.createHTMLDocument=function(){var t=ct.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),At.parseHTML=function(t,e,a){if("string"!=typeof t)return[];"boolean"==typeof e&&(a=e,e=!1);var i,r,n;return e||(It.createHTMLDocument?(e=ct.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ct.location.href,e.head.appendChild(i)):e=ct),r=Ot.exec(t),n=!a&&[],r?[e.createElement(r[1])]:(r=A([t],e,n),n&&n.length&&At(n).remove(),At.merge([],r.childNodes))},At.fn.load=function(t,e,a){var i,r,n,s=this,o=t.indexOf(" ");return o>-1&&(i=at(t.slice(o)),t=t.slice(0,o)),Lt(e)?(a=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&At.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){n=arguments,s.html(i?At("<div>").append(At.parseHTML(t)).find(i):t)}).always(a&&function(t,e){s.each(function(){a.apply(this,n||[t.responseText,e,t])})}),this},At.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){At.fn[e]=function(t){return this.on(e,t)}}),At.expr.pseudos.animated=function(t){return At.grep(At.timers,function(e){return t===e.elem}).length},At.offset={setOffset:function(t,e,a){var i,r,n,s,o,h,l,u=At.css(t,"position"),d=At(t),c={};"static"===u&&(t.style.position="relative"),o=d.offset(),n=At.css(t,"top"),h=At.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(n+h).indexOf("auto")>-1,l?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(n)||0,r=parseFloat(h)||0),Lt(e)&&(e=e.call(t,a,At.extend({},o))),null!=e.top&&(c.top=e.top-o.top+s),null!=e.left&&(c.left=e.left-o.left+r),"using"in e?e.using.call(t,c):d.css(c)}},At.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){At.offset.setOffset(this,t,e)});var e,a,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),a=i.ownerDocument.defaultView,{top:e.top+a.pageYOffset,left:e.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,a,i=this[0],r={top:0,left:0};if("fixed"===At.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),a=i.ownerDocument,t=i.offsetParent||a.documentElement;t&&(t===a.body||t===a.documentElement)&&"static"===At.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=At(t).offset(),r.top+=At.css(t,"borderTopWidth",!0),r.left+=At.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-At.css(i,"marginTop",!0),left:e.left-r.left-At.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===At.css(t,"position");)t=t.offsetParent;return t||Qt})}}),At.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var a="pageYOffset"===e;At.fn[t]=function(i){return Vt(this,function(t,i,r){var n;if(gt(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===r)return n?n[e]:t[i];n?n.scrollTo(a?n.pageXOffset:r,a?r:n.pageYOffset):t[i]=r},t,i,arguments.length)}}),At.each(["top","left"],function(t,e){At.cssHooks[e]=G(It.pixelPosition,function(t,a){if(a)return a=V(t,e),fe.test(a)?At(t).position()[e]+"px":a})}),At.each({Height:"height",Width:"width"},function(t,e){At.each({padding:"inner"+t,content:e,"":"outer"+t},function(a,i){At.fn[i]=function(r,n){var s=arguments.length&&(a||"boolean"!=typeof r),o=a||(!0===r||!0===n?"margin":"border");return Vt(this,function(e,a,r){var n;return gt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+t],n["scroll"+t],e.body["offset"+t],n["offset"+t],n["client"+t])):void 0===r?At.css(e,a,o):At.style(e,a,r,o)},e,s?r:void 0,s)}})}),At.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){At.fn[e]=function(t,a){return arguments.length>0?this.on(e,null,t,a):this.trigger(e)}}),At.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),At.fn.extend({bind:function(t,e,a){return this.on(t,null,e,a)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,a,i){return this.on(e,t,a,i)},undelegate:function(t,e,a){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",a)}}),At.proxy=function(t,e){var a,i,r;if("string"==typeof e&&(a=t[e],e=t,t=a),Lt(t))return i=mt.call(arguments,2),r=function(){return t.apply(e||this,i.concat(mt.call(arguments)))},r.guid=t.guid=t.guid||At.guid++,r},At.holdReady=function(t){t?At.readyWait++:At.ready(!0)},At.isArray=Array.isArray,At.parseJSON=JSON.parse,At.nodeName=l,At.isFunction=Lt,At.isWindow=gt,At.camelCase=v,At.type=o,At.now=Date.now,At.isNumeric=function(t){var e=At.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},i=[],void 0!==(r=function(){return At}.apply(e,i))&&(t.exports=r);var na=a.jQuery,sa=a.$;return At.noConflict=function(t){return a.$===At&&(a.$=sa),t&&a.jQuery===At&&(a.jQuery=na),At},n||(a.jQuery=a.$=At),At})},,function(t,e,a){t.exports={default:a(231),__esModule:!0}},function(t,e){t.exports=function(t,e,a,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(a+": incorrect invocation!");return t}},function(t,e,a){var i=a(15),r=a(4)("toStringTag"),n="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,a,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=s(e=Object(t),r))?a:n?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,a){var i=a(6),r=a(2).document,n=i(r)&&i(r.createElement);t.exports=function(t){return n?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,a){"use strict";var i=a(19),r=a(3),n=a(72),s=a(9),o=a(18),h=a(250),l=a(20),u=a(255),d=a(4)("iterator"),c=!([].keys&&"next"in[].keys()),D=function(){return this};t.exports=function(t,e,a,m,C,f,p){h(a,e,m);var v,S,T,M=function(t){if(!c&&t in g)return g[t];switch(t){case"keys":case"values":return function(){return new a(this,t)}}return function(){return new a(this,t)}},_=e+" Iterator",I="values"==C,L=!1,g=t.prototype,y=g[d]||g["@@iterator"]||C&&g[C],A=y||M(C),F=C?I?M("entries"):A:void 0,E="Array"==e?g.entries||y:y;if(E&&(T=u(E.call(new t)))!==Object.prototype&&T.next&&(l(T,_,!0),i||"function"==typeof T[d]||s(T,d,D)),I&&y&&"values"!==y.name&&(L=!0,A=function(){return y.call(this)}),i&&!p||!c&&!L&&g[d]||s(g,d,A),o[e]=A,o[_]=D,C)if(v={values:I?A:M("values"),keys:f?A:M("keys"),entries:F},p)for(S in v)S in g||n(g,S,v[S]);else r(r.P+r.F*(c||L),e,v);return v}},function(t,e,a){var i=a(28)("meta"),r=a(6),n=a(12),s=a(7).f,o=0,h=Object.isExtensible||function(){return!0},l=!a(16)(function(){return h(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++o,w:{}}})},d=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,i)){if(!h(t))return"F";if(!e)return"E";u(t)}return t[i].i},c=function(t,e){if(!n(t,i)){if(!h(t))return!0;if(!e)return!1;u(t)}return t[i].w},D=function(t){return l&&m.NEED&&h(t)&&!n(t,i)&&u(t),t},m=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:c,onFreeze:D}},function(t,e,a){"use strict";function i(t){var e,a;this.promise=new t(function(t,i){if(void 0!==e||void 0!==a)throw TypeError("Bad Promise constructor");e=t,a=i}),this.resolve=r(e),this.reject=r(a)}var r=a(14);t.exports.f=function(t){return new i(t)}},function(t,e,a){var i=a(69),r=a(37);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,a){var i=a(9);t.exports=function(t,e,a){for(var r in e)a&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,a){var i=a(45)("keys"),r=a(28);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,a){var i=a(1),r=a(2),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:a(19)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var a=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:a)(t)}},function(t,e,a){var i=a(46),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,a){var i=a(35);t.exports=function(t){return Object(i(t))}},function(t,e,a){var i=a(6);t.exports=function(t,e){if(!i(t))return t;var a,r;if(e&&"function"==typeof(a=t.toString)&&!i(r=a.call(t)))return r;if("function"==typeof(a=t.valueOf)&&!i(r=a.call(t)))return r;if(!e&&"function"==typeof(a=t.toString)&&!i(r=a.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,a){var i=a(6);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,a){var i=a(2),r=a(1),n=a(19),s=a(52),o=a(7).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=n?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},function(t,e,a){e.f=a(4)},function(t,e){t.exports=function(t,e,a,i){var r,n=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,n=t.default);var o="function"==typeof n?n.options:n;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var h=Object.create(o.computed||null);Object.keys(i).forEach(function(t){var e=i[t];h[t]=function(){return e}}),o.computed=h}return{esModule:r,exports:n,options:o}}},function(t,e,a){function i(t){for(var e=0;e<t.length;e++){var a=t[e],i=u[a.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](a.parts[r]);for(;r<a.parts.length;r++)i.parts.push(n(a.parts[r]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{for(var s=[],r=0;r<a.parts.length;r++)s.push(n(a.parts[r]));u[a.id]={id:a.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function n(t){var e,a,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(m)return C;i.parentNode.removeChild(i)}if(f){var n=D++;i=c||(c=r()),e=s.bind(null,i,n,!1),a=s.bind(null,i,n,!0)}else i=r(),e=o.bind(null,i),a=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else a()}}function s(t,e,a,i){var r=a?"":i.css;if(t.styleSheet)t.styleSheet.cssText=p(e,r);else{var n=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(n,s[e]):t.appendChild(n)}}function o(t,e){var a=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var h="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!h)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=a(303),u={},d=h&&(document.head||document.getElementsByTagName("head")[0]),c=null,D=0,m=!1,C=function(){},f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,a){m=a;var r=l(t,e);return i(r),function(e){for(var a=[],n=0;n<r.length;n++){var s=r[n],o=u[s.id];o.refs--,a.push(o)}e?(r=l(t,e),i(r)):r=[];for(var n=0;n<a.length;n++){var o=a[n];if(0===o.refs){for(var h=0;h<o.parts.length;h++)o.parts[h]();delete u[o.id]}}}};var p=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}()},function(t,e,a){t.exports={default:a(229),__esModule:!0}},function(t,e,a){t.exports={default:a(237),__esModule:!0}},function(t,e,a){"use strict";e.__esModule=!0;var i=a(222),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,a){return e in t?(0,r.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},function(t,e,a){"use strict";var i=a(7).f,r=a(26),n=a(43),s=a(11),o=a(33),h=a(17),l=a(38),u=a(65),d=a(75),c=a(5),D=a(39).fastKey,m=a(50),C=c?"_s":"size",f=function(t,e){var a,i=D(e);if("F"!==i)return t._i[i];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,l){var u=t(function(t,i){o(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[C]=0,void 0!=i&&h(i,a,t[l],t)});return n(u.prototype,{clear:function(){for(var t=m(this,e),a=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];t._f=t._l=void 0,t[C]=0},delete:function(t){var a=m(this,e),i=f(a,t);if(i){var r=i.n,n=i.p;delete a._i[i.i],i.r=!0,n&&(n.n=r),r&&(r.p=n),a._f==i&&(a._f=r),a._l==i&&(a._l=n),a[C]--}return!!i},forEach:function(t){m(this,e);for(var a,i=s(t,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(t){return!!f(m(this,e),t)}}),c&&i(u.prototype,"size",{get:function(){return m(this,e)[C]}}),u},def:function(t,e,a){var i,r,n=f(t,e);return n?n.v=a:(t._l=n={i:r=D(e,!0),k:e,v:a,p:i=t._l,n:void 0,r:!1},t._f||(t._f=n),i&&(i.n=n),t[C]++,"F"!==r&&(t._i[r]=n)),t},getEntry:f,setStrong:function(t,e,a){l(t,e,function(t,a){this._t=m(t,e),this._k=a,this._l=void 0},function(){for(var t=this,e=t._k,a=t._l;a&&a.r;)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?"keys"==e?u(0,a.k):"values"==e?u(0,a.v):u(0,[a.k,a.v]):(t._t=void 0,u(1))},a?"entries":"values",!a,!0),d(e)}}},function(t,e,a){var i=a(34),r=a(241);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,a){"use strict";var i=a(2),r=a(3),n=a(39),s=a(16),o=a(9),h=a(43),l=a(17),u=a(33),d=a(6),c=a(20),D=a(7).f,m=a(243)(0),C=a(5);t.exports=function(t,e,a,f,p,v){var S=i[t],T=S,M=p?"set":"add",_=T&&T.prototype,I={};return C&&"function"==typeof T&&(v||_.forEach&&!s(function(){(new T).entries().next()}))?(T=e(function(e,a){u(e,T,t,"_c"),e._c=new S,void 0!=a&&l(a,p,e[M],e)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!v||"clear"!=t)&&o(T.prototype,t,function(a,i){if(u(this,T,t),!e&&v&&!d(a))return"get"==t&&void 0;var r=this._c[t](0===a?0:a,i);return e?this:r})}),v||D(T.prototype,"size",{get:function(){return this._c.size}})):(T=f.getConstructor(e,t,p,M),h(T.prototype,a),n.NEED=!0),c(T,t),I[t]=T,r(r.G+r.W+r.F,I),v||f.setStrong(T,t,p),T}},function(t,e,a){var i=a(2).document;t.exports=i&&i.documentElement},function(t,e,a){t.exports=!a(5)&&!a(16)(function(){return 7!=Object.defineProperty(a(36)("div"),"a",{get:function(){return 7}}).a})},function(t,e,a){var i=a(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,a){var i=a(15);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,a){var i=a(7),r=a(8),n=a(41);t.exports=a(5)?Object.defineProperties:function(t,e){r(t);for(var a,s=n(e),o=s.length,h=0;o>h;)i.f(t,a=s[h++],e[a]);return t}},function(t,e,a){var i=a(69),r=a(37).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,a){var i=a(12),r=a(13),n=a(242)(!1),s=a(44)("IE_PROTO");t.exports=function(t,e){var a,o=r(t),h=0,l=[];for(a in o)a!=s&&i(o,a)&&l.push(a);for(;e.length>h;)i(o,a=e[h++])&&(~n(l,a)||l.push(a));return l}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,a){var i=a(8),r=a(6),n=a(40);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var a=n.f(t);return(0,a.resolve)(e),a.promise}},function(t,e,a){t.exports=a(9)},function(t,e,a){"use strict";var i=a(3),r=a(14),n=a(11),s=a(17);t.exports=function(t){i(i.S,t,{from:function(t){var e,a,i,o,h=arguments[1];return r(this),e=void 0!==h,e&&r(h),void 0==t?new this:(a=[],e?(i=0,o=n(h,arguments[2],2),s(t,!1,function(t){a.push(o(t,i++))})):s(t,!1,a.push,a),new this(a))}})}},function(t,e,a){"use strict";var i=a(3);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,a){"use strict";var i=a(2),r=a(1),n=a(7),s=a(5),o=a(4)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[o]&&n.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,a){var i=a(8),r=a(14),n=a(4)("species");t.exports=function(t,e){var a,s=i(t).constructor;return void 0===s||void 0==(a=i(s)[n])?e:r(a)}},function(t,e,a){var i,r,n,s=a(11),o=a(247),h=a(61),l=a(36),u=a(2),d=u.process,c=u.setImmediate,D=u.clearImmediate,m=u.MessageChannel,C=u.Dispatch,f=0,p={},v=function(){var t=+this;if(p.hasOwnProperty(t)){var e=p[t];delete p[t],e()}},S=function(t){v.call(t.data)};c&&D||(c=function(t){for(var e=[],a=1;arguments.length>a;)e.push(arguments[a++]);return p[++f]=function(){o("function"==typeof t?t:Function(t),e)},i(f),f},D=function(t){delete p[t]},"process"==a(15)(d)?i=function(t){d.nextTick(s(v,t,1))}:C&&C.now?i=function(t){C.now(s(v,t,1))}:m?(r=new m,n=r.port2,r.port1.onmessage=S,i=s(n.postMessage,n,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",S,!1)):i="onreadystatechange"in l("script")?function(t){h.appendChild(l("script")).onreadystatechange=function(){h.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),t.exports={set:c,clear:D}},function(t,e,a){var i=a(34),r=a(4)("iterator"),n=a(18);t.exports=a(1).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||n[i(t)]}},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,a){return t<12?a?"vm":"VM":a?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},a=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(t){return function(e,r,n,s){var o=a(e),h=i[t][a(e)];return 2===o&&(h=h[r?0:1]),h.replace(/%d/i,e)}},n=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return t.defineLocale("ar-ly",{months:n,monthsShort:n,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(t){return"م"===t},meridiem:function(t,e,a){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};return t.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(t){return"م"===t},meridiem:function(t,e,a){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(t){return t.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(t){return a[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},n=function(t){return function(e,a,n,s){var o=i(e),h=r[t][i(e)];return 2===o&&(h=h[a?0:1]),h.replace(/%d/i,e)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return t.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(t){return"م"===t},meridiem:function(t,e,a){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function(t){return t.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(t){return a[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};return t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(t){return/^(gündüz|axşam)$/.test(t)},meridiem:function(t,e,a){return t<4?"gecə":t<12?"səhər":t<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(t){if(0===t)return t+"-ıncı";var a=t%10,i=t%100-a,r=t>=100?100:null;return t+(e[a]||e[i]||e[r])},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e){var a=t.split("_");return e%10==1&&e%100!=11?a[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?a[1]:a[2]}function a(t,a,i){var r={ss:a?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:a?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:a?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===i?a?"хвіліна":"хвіліну":"h"===i?a?"гадзіна":"гадзіну":t+" "+e(r[i],+t)}return t.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:a,mm:a,h:a,hh:a,d:"дзень",dd:a,M:"месяц",MM:a,y:"год",yy:a},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(t){return/^(дня|вечара)$/.test(t)},meridiem:function(t,e,a){return t<4?"ночы":t<12?"раніцы":t<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-ы":t+"-і";case"D":return t+"-га";default:return t}},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(t){var e=t%10,a=t%100;return 0===t?t+"-ев":0===a?t+"-ен":a>10&&a<20?t+"-ти":1===e?t+"-ви":2===e?t+"-ри":7===e||8===e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},a={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};return t.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(t){return t.replace(/[১২৩৪৫৬৭৮৯০]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(t,e){return 12===t&&(t=0),"রাত"===e&&t>=4||"দুপুর"===e&&t<5||"বিকাল"===e?t+12:t},meridiem:function(t,e,a){return t<4?"রাত":t<10?"সকাল":t<17?"দুপুর":t<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},a={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};return t.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(t){return t.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(t,e){return 12===t&&(t=0),"མཚན་མོ"===e&&t>=4||"ཉིན་གུང"===e&&t<5||"དགོང་དག"===e?t+12:t},meridiem:function(t,e,a){return t<4?"མཚན་མོ":t<10?"ཞོགས་ཀས":t<17?"ཉིན་གུང":t<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a){return t+" "+r({mm:"munutenn",MM:"miz",dd:"devezh"}[a],t)}function a(t){switch(i(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}function i(t){return t>9?i(t%10):t}function r(t,e){return 2===e?n(t):t}function n(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:a},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(t){return t+(1===t?"añ":"vet")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a){var i=t+" ";switch(a){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(t,e){var a=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"è";return"w"!==e&&"W"!==e||(a="a"),t+a},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,a,i,r){var n=t+" ";switch(i){case"s":return a||r?"pár sekund":"pár sekundami";case"ss":return a||r?n+(e(t)?"sekundy":"sekund"):n+"sekundami";case"m":return a?"minuta":r?"minutu":"minutou";case"mm":return a||r?n+(e(t)?"minuty":"minut"):n+"minutami";case"h":return a?"hodina":r?"hodinu":"hodinou";case"hh":return a||r?n+(e(t)?"hodiny":"hodin"):n+"hodinami";case"d":return a||r?"den":"dnem";case"dd":return a||r?n+(e(t)?"dny":"dní"):n+"dny";case"M":return a||r?"měsíc":"měsícem";case"MM":return a||r?n+(e(t)?"měsíce":"měsíců"):n+"měsíci";case"y":return a||r?"rok":"rokem";case"yy":return a||r?n+(e(t)?"roky":"let"):n+"lety"}}var i="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),r="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),n=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],s=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;return t.defineLocale("cs",{months:i,monthsShort:r,monthsRegex:s,monthsShortRegex:s,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(t){return t+(/сехет$/i.exec(t)?"рен":/ҫул$/i.exec(t)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e=t,a="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return e>20?a=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(a=i[e]),t+a},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[a][0]:r[a][1]}return t.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[a][0]:r[a][1]}return t.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[a][0]:r[a][1]}return t.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],a=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];return t.defineLocale("dv",{months:e,monthsShort:e,weekdays:a,weekdaysShort:a,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(t){return"މފ"===t},meridiem:function(t,e,a){return t<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(t){return t.replace(/،/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:7,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}return t.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(t,e,a){return t>11?a?"μμ":"ΜΜ":a?"πμ":"ΠΜ"},isPM:function(t){return"μ"===(t+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,a){var i=this._calendarEl[t],r=a&&a.hours();return e(i)&&(i=i.apply(a)),i.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,a){return t>11?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["ühe minuti","üks minut"],mm:[t+" minuti",t+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[t+" tunni",t+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[t+" kuu",t+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[a][2]?r[a][2]:r[a][1]:i?r[a][0]:r[a][1]}return t.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d päeva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},a={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return t.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(t){return/بعد از ظهر/.test(t)},meridiem:function(t,e,a){return t<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"ثانیه d%",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(t){return t.replace(/[۰-۹]/g,function(t){return a[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,i,r){var n="";switch(i){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":n=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":n=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":n=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":n=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":n=r?"vuoden":"vuotta"}return n=a(t,r)+" "+n}function a(t,e){return t<10?e?r[t]:i[t]:t}var i="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),r=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",i[7],i[8],i[9]];return t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),a="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e=["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Méitheamh","Iúil","Lúnasa","Meán Fómhair","Deaireadh Fómhair","Samhain","Nollaig"],a=["Eaná","Feab","Márt","Aibr","Beal","Méit","Iúil","Lúna","Meán","Deai","Samh","Noll"],i=["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Satharn"],r=["Dom","Lua","Mái","Céa","Déa","hAo","Sat"],n=["Do","Lu","Má","Ce","Dé","hA","Sa"];return t.defineLocale("ga",{months:e,monthsShort:a,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d mí",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],a=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],i=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],n=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];return t.defineLocale("gd",{months:e,monthsShort:a,monthsParseExact:!0,weekdays:i,weekdaysShort:r,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voranim",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?r[a][0]:r[a][1]}return t.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},a={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};return t.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(t){return t.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(t,e){return 12===t&&(t=0),"રાત"===e?t<4?t:t+12:"સવાર"===e?t:"બપોર"===e?t>=10?t:t+12:"સાંજ"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"રાત":t<10?"સવાર":t<17?"બપોર":t<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(t){return 2===t?"שעתיים":t+" שעות"},d:"יום",dd:function(t){return 2===t?"יומיים":t+" ימים"},M:"חודש",MM:function(t){return 2===t?"חודשיים":t+" חודשים"},y:"שנה",yy:function(t){return 2===t?"שנתיים":t%10==0&&10!==t?t+" שנה":t+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(t){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(t)},meridiem:function(t,e,a){return t<5?"לפנות בוקר":t<10?"בבוקר":t<12?a?'לפנה"צ':"לפני הצהריים":t<18?a?'אחה"צ':"אחרי הצהריים":"בערב"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(t,e){return 12===t&&(t=0),"रात"===e?t<4?t:t+12:"सुबह"===e?t:"दोपहर"===e?t>=10?t:t+12:"शाम"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"रात":t<10?"सुबह":t<17?"दोपहर":t<20?"शाम":"रात"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a){var i=t+" ";switch(a){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r=t;switch(a){case"s":return i||e?"néhány másodperc":"néhány másodperce";case"ss":return r+(i||e)?" másodperc":" másodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" óra":" órája");case"hh":return r+(i||e?" óra":" órája");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hónap":" hónapja");case"MM":return r+(i||e?" hónap":" hónapja");case"y":return"egy"+(i||e?" év":" éve");case"yy":return r+(i||e?" év":" éve")}return""}function a(t){return(t?"":"[múlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return t.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,a){return t<12?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(t){return/^(ցերեկվա|երեկոյան)$/.test(t)},meridiem:function(t){return t<4?"գիշերվա":t<12?"առավոտվա":t<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-ին":t+"-րդ";default:return t}},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,a){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){return t%100==11||t%10!=1}function a(t,a,i,r){var n=t+" ";switch(i){case"s":return a||r?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return e(t)?n+(a||r?"sekúndur":"sekúndum"):n+"sekúnda";case"m":return a?"mínúta":"mínútu";case"mm":return e(t)?n+(a||r?"mínútur":"mínútum"):a?n+"mínúta":n+"mínútu";case"hh":return e(t)?n+(a||r?"klukkustundir":"klukkustundum"):n+"klukkustund";case"d":return a?"dagur":r?"dag":"degi";case"dd":return e(t)?a?n+"dagar":n+(r?"daga":"dögum"):a?n+"dagur":n+(r?"dag":"degi");case"M":return a?"mánuður":r?"mánuð":"mánuði";case"MM":return e(t)?a?n+"mánuðir":n+(r?"mánuði":"mánuðum"):a?n+"mánuður":n+(r?"mánuð":"mánuði");case"y":return a||r?"ár":"ári";case"yy":return e(t)?n+(a||r?"ár":"árum"):n+(a||r?"ár":"ári")}}return t.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:a,ss:a,m:a,mm:a,h:"klukkustund",hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ja",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(t){return"午後"===t},meridiem:function(t,e,a){return t<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(t){return t.week()<this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(t){return this.week()<t.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";default:return t}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,a){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(t){return/(წამი|წუთი|საათი|წელი)/.test(t)?t.replace(/ი$/,"ში"):t+"ში"},past:function(t){return/(წამი|წუთი|საათი|დღე|თვე)/.test(t)?t.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(t)?t.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(t){return 0===t?t:1===t?t+"-ლი":t<20||t<=100&&t%20==0||t%100==0?"მე-"+t:t+"-ე"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};return t.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(t){var a=t%10,i=t>=100?100:null;return t+(e[t]||e[a]||e[i])},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},a={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};return t.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(t){return"ល្ងាច"===t},meridiem:function(t,e,a){return t<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(t){return t.replace(/[១២៣៤៥៦៧៨៩០]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},a={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};return t.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(t){return t.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(t,e){return 12===t&&(t=0),"ರಾತ್ರಿ"===e?t<4?t:t+12:"ಬೆಳಿಗ್ಗೆ"===e?t:"ಮಧ್ಯಾಹ್ನ"===e?t>=10?t:t+12:"ಸಂಜೆ"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"ರಾತ್ರಿ":t<10?"ಬೆಳಿಗ್ಗೆ":t<17?"ಮಧ್ಯಾಹ್ನ":t<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(t){return t+"ನೇ"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"일";case"M":return t+"월";case"w":case"W":return t+"주";default:return t}},meridiemParse:/오전|오후/,isPM:function(t){return"오후"===t},meridiem:function(t,e,a){return t<12?"오전":"오후"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];return t.defineLocale("ku",{months:i,monthsShort:i,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(t){return/ئێواره‌/.test(t)},meridiem:function(t,e,a){return t<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(t){return t.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(t){return a[t]}).replace(/،/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"،")},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};return t.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(t){var a=t%10,i=t>=100?100:null;return t+(e[t]||e[a]||e[i])},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[a][0]:r[a][1]}function a(t){return r(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t}function i(t){return r(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t}function r(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10,a=t/10;return r(0===e?a:e)}if(t<1e4){for(;t>=10;)t/=10;return r(t)}return t/=1e3,r(t)}return t.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:a,past:i,s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Méint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(t){return"ຕອນແລງ"===t},meridiem:function(t,e,a){return t<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(t){return"ທີ່"+t}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){return e?"kelios sekundės":i?"kelių sekundžių":"kelias sekundes"}function a(t,e,a,i){return e?r(a)[0]:i?r(a)[1]:r(a)[2]}function i(t){return t%10==0||t>10&&t<20}function r(t){return s[t].split("_")}function n(t,e,n,s){var o=t+" ";return 1===t?o+a(t,e,n[0],s):e?o+(i(t)?r(n)[1]:r(n)[0]):s?o+r(n)[1]:o+(i(t)?r(n)[1]:r(n)[2])}var s={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};return t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:e,ss:n,m:a,mm:n,h:a,hh:n,d:a,dd:n,M:a,MM:n,y:a,yy:n},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a){return a?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function a(t,a,i){return t+" "+e(n[i],t,a)}function i(t,a,i){return e(n[i],t,a)}function r(t,e){return e?"dažas sekundes":"dažām sekundēm"}var n={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};return t.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:r,ss:a,m:i,mm:a,h:i,hh:a,d:i,dd:a,M:i,MM:a,y:i,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,a,i){var r=e.words[i];return 1===i.length?a?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(t){var e=t%10,a=t%100;return 0===t?t+"-ев":0===a?t+"-ен":a>10&&a<20?t+"-ти":1===e?t+"-ви":2===e?t+"-ри":7===e||8===e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(t,e){return 12===t&&(t=0),"രാത്രി"===e&&t>=4||"ഉച്ച കഴിഞ്ഞ്"===e||"വൈകുന്നേരം"===e?t+12:t},meridiem:function(t,e,a){return t<4?"രാത്രി":t<12?"രാവിലെ":t<17?"ഉച്ച കഴിഞ്ഞ്":t<20?"വൈകുന്നേരം":"രാത്രി"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){switch(a){case"s":return e?"хэдхэн секунд":"хэдхэн секундын";case"ss":return t+(e?" секунд":" секундын");case"m":case"mm":return t+(e?" минут":" минутын");case"h":case"hh":return t+(e?" цаг":" цагийн");case"d":case"dd":return t+(e?" өдөр":" өдрийн");case"M":case"MM":return t+(e?" сар":" сарын");case"y":case"yy":return t+(e?" жил":" жилийн");default:return t}}return t.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(t){return"ҮХ"===t},meridiem:function(t,e,a){return t<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" өдөр";default:return t}}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r="";if(e)switch(a){case"s":r="काही सेकंद";break;case"ss":r="%d सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे"}else switch(a){case"s":r="काही सेकंदां";break;case"ss":r="%d सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां"}return r.replace(/%d/i,t)}var a={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},i={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return i[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return a[t]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(t,e){return 12===t&&(t=0),"रात्री"===e?t<4?t:t+12:"सकाळी"===e?t:"दुपारी"===e?t>=10?t:t+12:"सायंकाळी"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"रात्री":t<10?"सकाळी":t<17?"दुपारी":t<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,a){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,a){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},a={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};return t.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(t){return t.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return t.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(t){return t.replace(/[१२३४५६७८९०]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(t,e){return 12===t&&(t=0),"राति"===e?t<4?t:t+12:"बिहान"===e?t:"दिउँसो"===e?t>=10?t:t+12:"साँझ"===e?t+12:void 0},meridiem:function(t,e,a){return t<3?"राति":t<12?"बिहान":t<16?"दिउँसो":t<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),a="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),a="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?a[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},a={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};return t.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(t){return t.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(t,e){return 12===t&&(t=0),"ਰਾਤ"===e?t<4?t:t+12:"ਸਵੇਰ"===e?t:"ਦੁਪਹਿਰ"===e?t>=10?t:t+12:"ਸ਼ਾਮ"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"ਰਾਤ":t<10?"ਸਵੇਰ":t<17?"ਦੁਪਹਿਰ":t<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function a(t,a,i){var r=t+" ";switch(i){case"ss":return r+(e(t)?"sekundy":"sekund");case"m":return a?"minuta":"minutę";case"mm":return r+(e(t)?"minuty":"minut");case"h":return a?"godzina":"godzinę";case"hh":return r+(e(t)?"godziny":"godzin");case"MM":return r+(e(t)?"miesiące":"miesięcy");case"yy":return r+(e(t)?"lata":"lat")}}var i="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return t.defineLocale("pl",{months:function(t,e){return t?""===e?"("+r[t.month()]+"|"+i[t.month()]+")":/D MMMM/.test(e)?r[t.month()]:i[t.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a){var i={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+i[a]}return t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:e,m:"un minut",mm:e,h:"o oră",hh:e,d:"o zi",dd:e,M:"o lună",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e){var a=t.split("_");return e%10==1&&e%100!=11?a[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?a[1]:a[2]}function a(t,a,i){var r={ss:a?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:a?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?a?"минута":"минуту":t+" "+e(r[i],+t)}var i=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];return t.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:a,m:a,mm:a,h:"час",hh:a,d:"день",dd:a,M:"месяц",MM:a,y:"год",yy:a},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,a){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],a=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];return t.defineLocale("sd",{months:e,monthsShort:e,weekdays:a,weekdaysShort:a,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(t){return"شام"===t},meridiem:function(t,e,a){return t<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(t){return t.replace(/،/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(t){return t+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(t){return"ප.ව."===t||"පස් වරු"===t},meridiem:function(t,e,a){return t>11?a?"ප.ව.":"පස් වරු":a?"පෙ.ව.":"පෙර වරු"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){return t>1&&t<5}function a(t,a,i,r){var n=t+" ";switch(i){case"s":return a||r?"pár sekúnd":"pár sekundami";case"ss":return a||r?n+(e(t)?"sekundy":"sekúnd"):n+"sekundami";case"m":return a?"minúta":r?"minútu":"minútou";case"mm":return a||r?n+(e(t)?"minúty":"minút"):n+"minútami";case"h":return a?"hodina":r?"hodinu":"hodinou";case"hh":return a||r?n+(e(t)?"hodiny":"hodín"):n+"hodinami";case"d":return a||r?"deň":"dňom";case"dd":return a||r?n+(e(t)?"dni":"dní"):n+"dňami";case"M":return a||r?"mesiac":"mesiacom";case"MM":return a||r?n+(e(t)?"mesiace":"mesiacov"):n+"mesiacmi";case"y":return a||r?"rok":"rokom";case"yy":return a||r?n+(e(t)?"roky":"rokov"):n+"rokmi"}}var i="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),r="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return t.defineLocale("sk",{months:i,monthsShort:r,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r=t+" ";switch(a){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami";case"d":return e||i?"en dan":"enim dnem";case"dd":return r+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi";case"M":return e||i?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci";case"y":return e||i?"eno leto":"enim letom";case"yy":return r+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti"}}return t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,a){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,a,i){var r=e.words[i];return 1===i.length?a?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"дан",dd:e.translate,M:"месец",MM:e.translate,y:"годину",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,a,i){var r=e.words[i];return 1===i.length?a?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};return t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,a){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},a={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};return t.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(t){return t+"வது"},preparse:function(t){return t.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(t){return a[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(t,e,a){return t<2?" யாமம்":t<6?" வைகறை":t<10?" காலை":t<14?" நண்பகல்":t<18?" எற்பாடு":t<22?" மாலை":" யாமம்"},meridiemHour:function(t,e){return 12===t&&(t=0),"யாமம்"===e?t<2?t:t+12:"வைகறை"===e||"காலை"===e?t:"நண்பகல்"===e&&t>=10?t:t+12},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(t,e){return 12===t&&(t=0),"రాత్రి"===e?t<4?t:t+12:"ఉదయం"===e?t:"మధ్యాహ్నం"===e?t>=10?t:t+12:"సాయంత్రం"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"రాత్రి":t<10?"ఉదయం":t<17?"మధ్యాహ్నం":t<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};return t.defineLocale("tg",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Пагоҳ соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(t,e){return 12===t&&(t=0),"шаб"===e?t<4?t:t+12:"субҳ"===e?t:"рӯз"===e?t>=11?t:t+12:"бегоҳ"===e?t+12:void 0},meridiem:function(t,e,a){return t<4?"шаб":t<11?"субҳ":t<16?"рӯз":t<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(t){var a=t%10,i=t>=100?100:null;return t+(e[t]||e[a]||e[i])},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(t){return"หลังเที่ยง"===t},meridiem:function(t,e,a){return t<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"}function a(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu’":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"}function i(t,e,a,i){var n=r(t);switch(a){case"ss":return n+" lup";case"mm":return n+" tup";case"hh":return n+" rep";case"dd":return n+" jaj";case"MM":return n+" jar";case"yy":return n+" DIS"}}function r(t){var e=Math.floor(t%1e3/100),a=Math.floor(t%100/10),i=t%10,r="";return e>0&&(r+=n[e]+"vatlh"),a>0&&(r+=(""!==r?" ":"")+n[a]+"maH"),i>0&&(r+=(""!==r?" ":"")+n[i]),""===r?"pagh":r}var n="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");return t.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:e,past:a,s:"puS lup",ss:i,m:"wa’ tup",mm:i,h:"wa’ rep",hh:i,d:"wa’ jaj",dd:i,M:"wa’ jar",MM:i,y:"wa’ DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return t.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(t,a){switch(a){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'ıncı";var i=t%10,r=t%100-i,n=t>=100?100:null;return t+(e[i]||e[r]||e[n])}},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e,a,i){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n míut","'iens míut"],mm:[t+" míuts",t+" míuts"],h:["'n þora","'iensa þora"],hh:[t+" þoras",t+" þoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i?r[a][0]:e?r[a][0]:r[a][1]}return t.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,a){return t>11?a?"d'o":"D'O":a?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(t,e){return 12===t&&(t=0),"يېرىم كېچە"===e||"سەھەر"===e||"چۈشتىن بۇرۇن"===e?t:"چۈشتىن كېيىن"===e||"كەچ"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,a){var i=100*t+e;return i<600?"يېرىم كېچە":i<900?"سەھەر":i<1130?"چۈشتىن بۇرۇن":i<1230?"چۈش":i<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-كۈنى";case"w":case"W":return t+"-ھەپتە";default:return t}},preparse:function(t){return t.replace(/،/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";function e(t,e){var a=t.split("_");return e%10==1&&e%100!=11?a[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?a[1]:a[2]}function a(t,a,i){var r={ss:a?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:a?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:a?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===i?a?"хвилина":"хвилину":"h"===i?a?"година":"годину":t+" "+e(r[i],+t)}function i(t,e){var a={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===t?a.nominative.slice(1,7).concat(a.nominative.slice(0,1)):t?a[/(\[[ВвУу]\]) ?dddd/.test(e)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:a.nominative}function r(t){return function(){return t+"о"+(11===this.hours()?"б":"")+"] LT"}}return t.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:i,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:r("[Сьогодні "),nextDay:r("[Завтра "),lastDay:r("[Вчора "),nextWeek:r("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[Минулої] dddd [").call(this);case 1:case 2:case 4:return r("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:a,m:a,mm:a,h:"годину",hh:a,d:"день",dd:a,M:"місяць",MM:a,y:"рік",yy:a},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(t){return/^(дня|вечора)$/.test(t)},meridiem:function(t,e,a){return t<4?"ночі":t<12?"ранку":t<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-й";case"D":return t+"-го";default:return t}},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";var e=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],a=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];return t.defineLocale("ur",{months:e,monthsShort:e,weekdays:a,weekdaysShort:a,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(t){return"شام"===t},meridiem:function(t,e,a){return t<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(t){return t.replace(/،/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,a){return t<12?a?"sa":"SA":a?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,a){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"中午"===e?t>=11?t:t+12:"下午"===e||"晚上"===e?t+12:void 0},meridiem:function(t,e,a){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})})},function(t,e,a){!function(t,e){e(a(0))}(0,function(t){"use strict";return t.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"中午"===e?t>=11?t:t+12:"下午"===e||"晚上"===e?t+12:void 0},meridiem:function(t,e,a){var i=100*t+e;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})})},,,,function(t,e,a){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"}}}},function(t,e,a){(function(e){!function(a){function i(){}function r(t,e){return function(){t.apply(e,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,n._immediateFn(function(){var a=1===t._state?e.onFulfilled:e.onRejected;if(null===a)return void(1===t._state?o:h)(e.promise,t._value);var i;try{i=a(t._value)}catch(t){return void h(e.promise,t)}o(e.promise,i)})}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if(e instanceof n)return t._state=3,t._value=e,void l(t);if("function"==typeof a)return void d(r(a,e),t)}t._state=1,t._value=e,l(t)}catch(e){h(t,e)}}function h(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,a=t._deferreds.length;e<a;e++)s(t,t._deferreds[e]);t._deferreds=null}function u(t,e,a){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=a}function d(t,e){var a=!1;try{t(function(t){a||(a=!0,o(e,t))},function(t){a||(a=!0,h(e,t))})}catch(t){if(a)return;a=!0,h(e,t)}}var c=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var a=new this.constructor(i);return s(this,new u(t,e,a)),a},n.all=function(t){return new n(function(e,a){function i(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,function(e){i(t,e)},a)}r[t]=s,0==--n&&e(r)}catch(t){a(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var n=r.length,s=0;s<r.length;s++)i(s,r[s])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,a){a(t)})},n.race=function(t){return new n(function(e,a){for(var i=0,r=t.length;i<r;i++)t[i].then(e,a)})},n._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){c(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=n:a.Promise||(a.Promise=n)}(this)}).call(e,a(208).setImmediate)},,function(t,e,a){a(302);var i=a(53)(a(213),a(299),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(296),r=a.n(i),n=a(295),s=a.n(n);e.default={name:"BitDemo",data:function(){return{}},components:{stockHq:r.a,coinList:s.a},mounted:function(){this.OnSize()},methods:{ChangeSymbol:function(t,e,a){this.$refs.klinechart.ChangeSymbol(t,e,a)},OnSize:function(){var t=this.$refs.klinechart;t.$refs.divklinechart.style.height="450px",this.$nextTick(function(){t.OnSize()})}}}},function(t,e,a){"use strict";function i(t){var e=parseFloat(t);return isNaN(e)?t:e=Math.round(100*t)/100}function r(t){var e,a,r=["","万","亿","万亿"];return t<1e4?a=i(t,2):(e=Math.floor(Math.log(t)/Math.log(1e4)),a=(t/Math.pow(1e4,e)).toFixed(2)+r[e]),a}function n(){}Object.defineProperty(e,"__esModule",{value:!0});var s=a(30),o=a.n(s);n.BitList=function(){return[{Name:"以太币",Symbol:"ETH/BTC",FloatPrecision:8,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}},{Name:"莱特币",Symbol:"LTC/BTC",FloatPrecision:8,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}},{Name:"比特币",Symbol:"BTC/USDT",FloatPrecision:0,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}},{Name:"瑞波币",Symbol:"XRP/USDT",FloatPrecision:0,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}},{Name:"TMTG",Symbol:"TMTG/USDT",FloatPrecision:2,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}},{Name:"LBXC",Symbol:"LBXC/USDT",FloatPrecision:2,Vol:{Text:"",Value:null},Price:{Text:"",Value:null}}]},e.default={name:"BitList",data:function(){return{BitList:n.BitList()}},created:function(){this.LoadMarketData()},methods:{ClickSymbol:function(t){this.$emit("ChangeSymbol",t.Symbol,t.Name,t.FloatPrecision)},LoadMarketData:function(){var t=this;o.a.ajax({url:"https://bit.zealink.com/ticker/publicSignV2",type:"post",success:function(e){t.RecvMarketData(e)}})},RecvMarketData:function(t){var e=t.data;for(var a in this.BitList){var i=this.BitList[a];i.Vol.Text="",i.Vol.Value=null,i.Price.Text="",i.Price.Value=null;var n=e[i.Symbol];if(n){i.Price.Value=parseFloat(n.nowPrice),i.Price.Text=n.nowPrice,i.Vol.Value=parseFloat(n.tradingValue24);var s="BTC"===i.Symbol.split("/")[1]?"BTC":"USDT";i.Vol.Text=r(n.tradingValue24)+s}}}}}},function(t,e,a){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0});var r=a(284),n=a.n(r),s=a(290),o=a.n(s),h=a(0),l=a.n(h),u=a(30),d=a.n(u),c=n.a.Chart,D="cdd08f367a7d6f5d231ccf476f87f75d",m="099a304283d7d0dae08b31754f2ae1e7",C=[{ID:"61c8915d-c456-6ea8-2260-85sd3s6fg5sd",Name:"顶部背离",Description:"顶部背离",Args:null,IsMainIndex:!0,Script:"A:=MA(C,17)+ABS(MA(C,17)-REF(MA(C,17),1));\n        B:=MA(C,17)+MA(C,17)-REF(MA(C,17),1);\n        分水岭:=IF(MA(C,17)<B,B,MA(C,17)),COLORFF00FF,LINETHICK1;\n        PMA:=分水岭;\n        DD:=分水岭<REF(分水岭,1);\n        操作线:=分水岭-(EMA(C,3)-分水岭),COLOR00FFFF,LINETHICK1;\n        S:=(PMA>操作线);\n        PM:MA(C,5),COLORYELLOW,LINETHICK2;\n        IF(PM>REF(PM,1),PM,DRAWNULL),COLORRED,LINETHICK3;\n        IF(PM=REF(PM,1),PM,DRAWNULL),COLORRED,LINETHICK3;\n        IF(PM<REF(PM,1),PM,DRAWNULL),COLORFF9900,LINETHICK3;\n        DRAWTEXT(CROSS(操作线,分水岭),操作线*1.05,'背离预警!'),COLORRED;\n        DRAWICON(CROSS(操作线,分水岭),操作线*1.045,8);\n        LC:=REF(C,1);\n        RSI1:=SMA(MAX(C-LC,0),6,1)/SMA(ABS(C-LC),6,1)*100;\n        RSI2:=SMA(MAX(C-LC,0),12,1)/SMA(ABS(C-LC),12,1)*100;\n        C0:=BARSLAST(REF(CROSS(RSI2,RSI1),1));\n        D0:=REF(C,C0+1)<C AND REF(RSI1,C0+1)>RSI1 AND CROSS(RSI2,RSI1);\n        DRAWTEXT(D0>0,H*1.006,'R顶背离'),COLOR00FF00;\n        DIF:=EMA(CLOSE,12)-EMA(CLOSE,26);\n        DEA:=EMA(DIF,9);\n        MACD:=(DIF-DEA)*2;\n        C1:=BARSLAST(REF(CROSS(DEA,DIF),1));\n        D1:=REF(C,C1+1)<C AND REF(DIF,C1+1)>DIF AND CROSS(DEA,DIF);\n        DRAWTEXT(D1>0,H*1.006,'M顶背离'),COLORFFD700;\n        RSV:=(C-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100;\n        K:=SMA(RSV,3,1);\n        D:=SMA(K,3,1);\n        J:=3*K-2*D;\n        C2:=BARSLAST(REF(CROSS(D,K),1));\n        D2:=REF(C,C2+1)<C AND REF(K,C2+1)>K AND CROSS(D,K);\n        DRAWTEXT(D2>0,H*1.006,'K顶背离'),COLORFF00FF;"},{ID:"61c8915d-c456-6ea8-2260-5sd22df5a3s1",Name:"高低区间",Description:"高低区间",Args:null,Script:"STICKLINE(C>0,0,20,5,0),COLOR000080;\n        STICKLINE(C>0,20,50,5,0),COLOR143CDC;\n        STICKLINE(C>0,50,80,5,0),COLOR228B22;\n        STICKLINE(C>0,80,100,5,0),COLOR006400;\n        VAR2:=(H+L+C*2)/4;\n        VAR3:=EMA(VAR2,7);\n        VAR4:=STD(VAR2,7);\n        VAR5:=(VAR2-VAR3)*100/VAR4;\n        VAR6:=EMA(VAR5,3);\n        快线:(EMA(VAR6,5)+100)/2-3,COLORYELLOW,LINETHICK2 ;\n        慢线:HHV(快线,3),COLORBLUE,LINETHICK2;\n        STICKLINE(快线>=100,100,快线,1,0),COLOR00FFFF;\n        STICKLINE(慢线<0,0,慢线,1,0),COLORFF00FF;\n        0,COLORRED,LINETHICK1;\n        100,COLOR00FFFF,LINETHICK1;\n        STICKLINE(C>0,20,20,2,0),COLOR00FF00;\n        STICKLINE(C>0,80,80,2,0),COLORFFFF00;\n        STICKLINE(C>0,50,50,2,0),COLORFFFF00;\n        A:=BARSCOUNT(C);\n        B:=REFX(A,11);\n        DRAWTEXT(B-A=10,84,'警示区'),COLORFFFFFF;\n        DRAWTEXT(B-A=10,59,'强势区'),COLORFFFFFF;\n        DRAWTEXT(B-A=6,46,'强弱分界线'),COLOR00FFFF;\n        DRAWTEXT(B-A=10,4,'关注区'),COLORFFFFFF;\n        DRAWTEXT(B-A=10,29,'弱势区'),COLORFFFFFF;\n        DRAWTEXT(B-A=10,103,'分叉卖'),COLORGREEN;\n        DRAWTEXT(B-A=10,-12,'合并买'),COLORRED;\n        130,COLORGRAY,POINTDOT;\n        -30,COLORGRAY,POINTDOT;\n        50,COLORYELLOW,POINTDOT;"}];c.JSIndexScript.AddIndex(C),i.GetKlineOption=function(){return{Type:"历史K线图",Windows:[{Index:"均线",Modify:!1,Change:!1},{Index:"VOL",Modify:!1,Change:!1},{Index:"SAR",Modify:!1,Change:!1}],IsAutoUpdate:!0,AutoUpdateFrequency:1e4,IsShowRightMenu:!1,IsApiPeriod:!0,IsClickShowCorssCursor:!0,IsCorssOnlyDrawKLine:!0,CorssCursorTouchEnd:!0,EnableScrollUpDown:!0,CorssCursorInfo:{Left:0,Right:2,Bottom:1,IsShowCorss:!0},KLine:{DragMode:1,Right:1,Period:0,MaxReqeustDataCount:1e3,MaxRequestMinuteDayCount:15,PageSize:30,IsShowTooltip:!1},KLineTitle:{IsShowName:!1,IsShowSettingInfo:!1},Border:{Left:0,Right:1,Top:20,Bottom:20},Frame:[{SplitCount:3,IsShowLeftText:!1,Custom:[{Type:0}],SplitType:1},{SplitCount:3,IsShowLeftText:!1},{SplitCount:3,IsShowLeftText:!1}],ExtendChart:[{Name:"KLineTooltip"}]}},i.GetKMinuteOption=function(){return{Type:"历史K线图",Windows:[{Index:"EMPTY",Modify:!1,Change:!1,TitleHeight:0},{Index:"VOL",Modify:!1,Change:!1}],IsAutoUpdate:!0,AutoUpdateFrequency:1e4,IsShowRightMenu:!1,IsApiPeriod:!0,IsClickShowCorssCursor:!0,IsCorssOnlyDrawKLine:!0,CorssCursorTouchEnd:!0,EnableScrollUpDown:!0,CorssCursorInfo:{Left:0,Right:2,Bottom:1,IsShowCorss:!0},KLine:{DragMode:1,Right:1,Period:4,MaxReqeustDataCount:1e3,MaxRequestMinuteDayCount:15,PageSize:30,IsShowTooltip:!1,DrawType:4},KLineTitle:{IsShowName:!1,IsShowSettingInfo:!1},Border:{Left:0,Right:1,Top:1,Bottom:20},Frame:[{SplitCount:3,IsShowLeftText:!1,Custom:[{Type:0}],SplitType:1},{SplitCount:3,IsShowLeftText:!1},{SplitCount:3,IsShowLeftText:!1}],ExtendChart:[{Name:"KLineTooltip"}]}},i.GetPeriod=function(){return[{Name:"分时",Period:4,Type:0,Min:1},{Name:"1",Period:4,Type:0,Min:1},{Name:"5",Period:5,Type:0,Min:5},{Name:"15",Period:6,Type:0,Min:15},{Name:"30",Period:7,Type:0,Min:30},{Name:"1H",Period:8,Type:0,Min:60},{Name:"4H",Period:12,Type:0,Min:240},{Name:"D",Period:0,Type:1,Min:0},{Name:"W",Period:1,Type:2,Min:0},{Name:"M",Period:2,Type:3,Min:0}]},i.GetIndexMenu=function(){return[{Name:"顶部背离",ID:"61c8915d-c456-6ea8-2260-85sd3s6fg5sd",WindowIndex:0},{Name:"高低区间",ID:"61c8915d-c456-6ea8-2260-5sd22df5a3s1",WindowIndex:1},{Name:"KDJ",ID:"KDJ",WindowIndex:1},{Name:"MACD",ID:"MACD",WindowIndex:1},{Name:"RSI",ID:"RSI",WindowIndex:1},{Name:"BOLL",ID:"BOLL",WindowIndex:0},{Name:"VOL",ID:"VOL",WindowIndex:1},{Name:"均线",ID:"均线",WindowIndex:0}]},e.default={name:"BitKLine",props:["DefaultPairName","DefaultName","DefaultfloatPrecision","DefaultPeriod"],data:function(){return{Symbol:"ETH/BTC.bit",Name:"",PairName:"ETH/BTC",FloatPrecision:2,KLine:{JSChart:null,Option:i.GetKlineOption(),IsShow:!0},Minute:{JSChart:null,Option:i.GetKMinuteOption(),IsShow:!1},Period:{Menu:i.GetPeriod(),SelItem:i.GetPeriod()[6]},Index:{Menu:i.GetIndexMenu(),SelItem:i.GetIndexMenu()[0],IsShow:!0}}},created:function(){if(this.DefaultPairName&&(this.PairName=this.DefaultPairName),this.DefaultName&&(this.Name=this.DefaultName),this.DefaultfloatPrecision&&(this.FloatPrecision=parseInt(this.DefaultfloatPrecision)),this.DefaultPeriod){var t=this.GetPeriodInfo(this.DefaultPeriod);t&&(this.Period.SelItem=t)}this.Symbol=this.PairName+".BIT"},mounted:function(){this.OnSize(),this.CreateKLine()},methods:{OnSize:function(){var t=this.$refs.divklinechart,e=t.offsetHeight,a=t.offsetWidth,i=this.$refs.divperiod,r=this.$refs.divsymbol,n=this.$refs.divindex,s=e-i.offsetHeight-r.offsetHeight-n.offsetHeight-4,o=this.$refs.divkline;o.style.width=a+"px",o.style.height=s+"px",this.KLine.JSChart&&this.KLine.JSChart.OnSize();var h=this.$refs.divkminute,l=e-i.offsetHeight-r.offsetHeight-4;h.style.width=a+"px",h.style.height=l+"px",this.Minute.JSChart&&this.Minute.JSChart.OnSize()},ChangeSymbol:function(t,e,a){this.PairName!=t&&(this.PairName=t,this.Symbol=t+".BIT",this.Name=e,this.FloatPrecision=a,this.KLine.JSChart&&this.KLine.JSChart.ChangeSymbol(this.Symbol),this.Minute.JSChart&&this.Minute.JSChart.ChangeSymbol(this.Symbol))},ChangeIndex:function(t){this.KLine.JSChart&&this.KLine.JSChart.ChangeIndex(t.WindowIndex,t.ID)},ChangePeriod:function(t){this.Period.SelItem=t,"分时"==t.Name?(this.Minute.JSChart||this.CreateMinute(),this.Index.IsShow=!1,this.KLine.IsShow=!1,this.Minute.IsShow=!0):(this.KLine.JSChart?this.KLine.JSChart.ChangePeriod(t.Period):this.CreateKLine(),this.Index.IsShow=!0,this.KLine.IsShow=!0,this.Minute.IsShow=!1)},CreateKLine:function(){var t=this;if(!this.KLine.JSChart){c.MARKET_SUFFIX_NAME.GetBITDecimal=function(e){return t.FloatPrecision};var e=this.$refs.divkline;this.KLine.JSChart=c.JSChart.Init(e),this.KLine.Option.KLine.Period=this.Period.SelItem.Period,this.KLine.Option.Symbol=this.Symbol,this.KLine.Option.NetworkFilter=function(e,a){t.NetworkFilter(e,a)},this.KLine.JSChart.SetOption(this.KLine.Option)}},CreateMinute:function(){var t=this;if(!this.Minute.JSChart){c.MARKET_SUFFIX_NAME.GetBITDecimal=function(e){return t.FloatPrecision};var e=this.$refs.divkminute;this.Minute.JSChart=c.JSChart.Init(e),this.Minute.Option.Symbol=this.Symbol,this.Minute.Option.NetworkFilter=function(e,a){t.MinuteNetworkFilter(e,a)},this.Minute.JSChart.SetOption(this.Minute.Option)}},GetPeriodInfo:function(t){for(var e in this.Period.Menu){var a=this.Period.Menu[e];if(a.Period==t)return a}return null},MinuteNetworkFilter:function(t,e){switch(console.log("[BitKLine::NetworkFilter] data",t),t.Name){case"KLineChartContainer::ReqeustHistoryMinuteData":this.ReqeustHistoryMinuteData(t,e,{PageSize:100});break;case"KLineChartContainer::RequestMinuteRealtimeData":this.RequestMinuteRealtimeData(t,e)}},NetworkFilter:function(t,e){switch(console.log("[BitKLine::NetworkFilter] data",t),t.Name){case"KLineChartContainer::ReqeustHistoryMinuteData":this.ReqeustHistoryMinuteData(t,e,{PageSize:50});break;case"KLineChartContainer::RequestHistoryData":this.RequestHistoryData(t,e);break;case"KLineChartContainer::RequestMinuteRealtimeData":this.RequestMinuteRealtimeData(t,e);break;case"KLineChartContainer::RequestRealtimeData":this.RequestRealtimeData(t,e)}},ReqeustHistoryMinuteData:function(t,e,a){var i=this;t.PreventDefault=!0;var r=t.Self.Period,n=this.Symbol,s=this.Name,h=this.GetPeriodInfo(r),u=h.Type,c=h.Min,C=l()().format("YYYYMMDDHHmmss"),f=o.a.create();f.update(D+this.PairName+u+c+C+500+m);var p=f.hex();d.a.ajax({url:"https://bit.zealink.com/api/selectchart",type:"post",data:{pairname:this.PairName,apikey:D,type:u,min:c,startdatetime:C,count:500,secrethash:p},success:function(r){i.RecvMinuteHistoryData(r,e,{Name:s,Symbol:n,Chart:t.Self},a)}})},RecvMinuteHistoryData:function(t,e,a,i){console.log("[BitKLine::RecvMinuteHistoryData]",t);var r=this.JsonToHQChartMinuteHistoryData(t),n={code:0,data:r};n.symbol=a.Symbol,n.name=a.Name,a.Chart.PageSize=i.PageSize,console.log("[BitKLine::RecvMinuteHistoryData] hqchartdata",n),e(n)},RequestHistoryData:function(t,e){var a=this;t.PreventDefault=!0;var i=t.Self.Period,r=this.Symbol,n=this.Name,s=this.GetPeriodInfo(i),h=s.Type,u=s.Min,c=l()().format("YYYYMMDDHHmmss"),C=o.a.create();C.update(D+this.PairName+h+u+c+500+m);var f=C.hex();d.a.ajax({url:"https://bit.zealink.com/api/selectchart",type:"post",data:{pairname:this.PairName,apikey:D,type:h,min:u,startdatetime:c,count:500,secrethash:f},success:function(i){a.RecvHistoryData(i,e,{Name:n,Symbol:r,Chart:t.Self})}})},RecvHistoryData:function(t,e,a){console.log("[BitKLine::RecvHistoryData]",t);var i=this.JsonToHQChartHistoryData(t),r={code:0,data:i};r.symbol=a.Symbol,r.name=a.Name,a.Chart.PageSize=15,console.log("[BitKLine::RecvHistoryData] hqchartdata",r),e(r)},RequestMinuteRealtimeData:function(t,e){var a=this;t.PreventDefault=!0;var i=t.Self.Period,r=this.Symbol,n=this.Name,s=this.GetPeriodInfo(i),h=s.Type,u=s.Min,c=l()().format("YYYYMMDDHHmmss"),C=o.a.create();C.update(D+this.PairName+h+u+c+2+m);var f=C.hex();d.a.ajax({url:"https://bit.zealink.com/api/selectchart",type:"post",data:{pairname:this.PairName,apikey:D,type:h,min:u,startdatetime:c,count:2,secrethash:f},success:function(t){a.RecvMinuteRealtimeData(t,e,{Name:n,Symbol:r})}})},RecvMinuteRealtimeData:function(t,e,a){console.log("[BitKLine::RecvMinuteRealtimeData]",t);var i=this.JsonToHQChartMinuteHistoryData(t),r={code:0,data:i,ver:2};r.symbol=a.Symbol,r.name=a.Name,console.log("[BitKLine::RecvMinuteRealtimeData] hqchartdata",r),e(r)},RequestRealtimeData:function(t,e){var a=this;t.PreventDefault=!0;var i=t.Self.Period,r=this.Symbol,n=this.Name,s=this.GetPeriodInfo(i),h=s.Type,u=s.Min,c=l()().format("YYYYMMDDHHmmss"),C=o.a.create();C.update(D+this.PairName+h+u+c+2+m);var f=C.hex();d.a.ajax({url:"https://bit.zealink.com/api/selectchart",type:"post",data:{pairname:this.PairName,apikey:D,type:h,min:u,startdatetime:c,count:2,secrethash:f},success:function(t){a.RecvRealtimeData(t,e,{Name:n,Symbol:r})}})},RecvRealtimeData:function(t,e,a){console.log("[BitKLine::RecvRealtimeData]",t);var i=this.JsonToHQChartRealtimeData(t);i.symbol=a.Symbol,i.name=a.Name;var r={code:0,stock:[i]};console.log("[BitKLine::RecvRealtimeData] hqchartdata",r),e(r)},JsonToHQChartMinuteHistoryData:function(t){var e=t.data.series,a=null,i=[];for(var r in e){var n=e[r],s=n.split("|"),o=parseInt(s[0]/1e6),h=parseInt(s[0]%1e6/100),l=parseFloat(s[1]),u=parseFloat(s[2]),d=parseFloat(s[3]),c=parseFloat(s[4]),D=parseFloat(s[5]);i.push([o,a,l,u,d,c,D,null,h]),a=c}return i},JsonToHQChartHistoryData:function(t){var e=t.data.series,a=null,i=[];for(var r in e){var n=e[r],s=n.split("|"),o=parseInt(s[0]/1e6),h=parseFloat(s[1]),l=parseFloat(s[2]),u=parseFloat(s[3]),d=parseFloat(s[4]),c=parseFloat(s[5]);i.push([o,a,h,l,u,d,c,null]),a=d}return i},JsonToHQChartRealtimeData:function(t){var e={},a=t.data.series,i=null;for(var r in a){var n=a[r],s=n.split("|");e.date=parseInt(s[0]/1e6),e.open=parseFloat(s[1]),e.high=parseFloat(s[2]),e.low=parseFloat(s[3]),e.price=parseFloat(s[4]),e.vol=parseFloat(s[5]),e.yclose=i,e.amount=null,i=e.price}return e}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(10),r=(a.n(i),a(31)),n=a.n(r),s=a(210),o=a.n(s),h=a(25),l=a(209),u=a.n(l),d=a(212),c=a.n(d);window.Promise||(window.Promise=o.a),h.default.use(n.a,{locale:u.a}),new h.default({el:"#app",render:function(t){return t(c.a)}})},,function(t,e,a){t.exports={default:a(230),__esModule:!0}},function(t,e,a){t.exports={default:a(232),__esModule:!0}},function(t,e,a){t.exports={default:a(233),__esModule:!0}},function(t,e,a){t.exports={default:a(234),__esModule:!0}},function(t,e,a){t.exports={default:a(235),__esModule:!0}},function(t,e,a){t.exports={default:a(236),__esModule:!0}},function(t,e,a){t.exports={default:a(238),__esModule:!0}},function(t,e,a){t.exports={default:a(239),__esModule:!0}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=a(225),n=i(r),s=a(224),o=i(s),h="function"==typeof o.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===h(n.default)?function(t){return void 0===t?"undefined":h(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":h(t)}},,,function(t,e,a){a(22),a(21),t.exports=a(259)},function(t,e,a){var i=a(1),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,a){a(29),a(21),a(22),a(261),a(271),a(270),a(269),t.exports=a(1).Map},function(t,e,a){a(262),t.exports=a(1).Math.log10},function(t,e,a){a(263);var i=a(1).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,a){a(264);var i=a(1).Object;t.exports=function(t,e){return i.defineProperties(t,e)}},function(t,e,a){a(265);var i=a(1).Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},function(t,e,a){a(29),a(21),a(22),a(266),a(272),a(273),t.exports=a(1).Promise},function(t,e,a){a(29),a(21),a(22),a(267),a(276),a(275),a(274),t.exports=a(1).Set},function(t,e,a){a(268),a(29),a(277),a(278),t.exports=a(1).Symbol},function(t,e,a){a(21),a(22),t.exports=a(52).f("iterator")},function(t,e){t.exports=function(){}},function(t,e,a){var i=a(17);t.exports=function(t,e){var a=[];return i(t,!1,a.push,a,e),a}},function(t,e,a){var i=a(13),r=a(47),n=a(257);t.exports=function(t){return function(e,a,s){var o,h=i(e),l=r(h.length),u=n(s,l);if(t&&a!=a){for(;l>u;)if((o=h[u++])!=o)return!0}else for(;l>u;u++)if((t||u in h)&&h[u]===a)return t||u||0;return!t&&-1}}},function(t,e,a){var i=a(11),r=a(63),n=a(48),s=a(47),o=a(245);t.exports=function(t,e){var a=1==t,h=2==t,l=3==t,u=4==t,d=6==t,c=5==t||d,D=e||o;return function(e,o,m){for(var C,f,p=n(e),v=r(p),S=i(o,m,3),T=s(v.length),M=0,_=a?D(e,T):h?D(e,0):void 0;T>M;M++)if((c||M in v)&&(C=v[M],f=S(C,M,p),t))if(a)_[M]=f;else if(f)switch(t){case 3:return!0;case 5:return C;case 6:return M;case 2:_.push(C)}else if(u)return!1;return d?-1:l||u?u:_}}},function(t,e,a){var i=a(6),r=a(64),n=a(4)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[n])&&(e=void 0)),void 0===e?Array:e}},function(t,e,a){var i=a(244);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,a){var i=a(41),r=a(68),n=a(42);t.exports=function(t){var e=i(t),a=r.f;if(a)for(var s,o=a(t),h=n.f,l=0;o.length>l;)h.call(t,s=o[l++])&&e.push(s);return e}},function(t,e){t.exports=function(t,e,a){var i=void 0===a;switch(e.length){case 0:return i?t():t.call(a);case 1:return i?t(e[0]):t.call(a,e[0]);case 2:return i?t(e[0],e[1]):t.call(a,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(a,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(a,e[0],e[1],e[2],e[3])}return t.apply(a,e)}},function(t,e,a){var i=a(18),r=a(4)("iterator"),n=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||n[r]===t)}},function(t,e,a){var i=a(8);t.exports=function(t,e,a,r){try{return r?e(i(a)[0],a[1]):e(a)}catch(e){var n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,a){"use strict";var i=a(26),r=a(27),n=a(20),s={};a(9)(s,a(4)("iterator"),function(){return this}),t.exports=function(t,e,a){t.prototype=i(s,{next:r(1,a)}),n(t,e+" Iterator")}},function(t,e,a){var i=a(4)("iterator"),r=!1;try{var n=[7][i]();n.return=function(){r=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var a=!1;try{var n=[7],s=n[i]();s.next=function(){return{done:a=!0}},n[i]=function(){return s},t(n)}catch(t){}return a}},function(t,e,a){var i=a(2),r=a(77).set,n=i.MutationObserver||i.WebKitMutationObserver,s=i.process,o=i.Promise,h="process"==a(15)(s);t.exports=function(){var t,e,a,l=function(){var i,r;for(h&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?a():e=void 0,i}}e=void 0,i&&i.enter()};if(h)a=function(){s.nextTick(l)};else if(!n||i.navigator&&i.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);a=function(){u.then(l)}}else a=function(){r.call(i,l)};else{var d=!0,c=document.createTextNode("");new n(l).observe(c,{characterData:!0}),a=function(){c.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,a()),e=r}}},function(t,e,a){var i=a(42),r=a(27),n=a(13),s=a(49),o=a(12),h=a(62),l=Object.getOwnPropertyDescriptor;e.f=a(5)?l:function(t,e){if(t=n(t),e=s(e,!0),h)try{return l(t,e)}catch(t){}if(o(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,a){var i=a(13),r=a(67).f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==n.call(t)?o(t):r(i(t))}},function(t,e,a){var i=a(12),r=a(48),n=a(44)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,a){var i=a(46),r=a(35);t.exports=function(t){return function(e,a){var n,s,o=String(r(e)),h=i(a),l=o.length;return h<0||h>=l?t?"":void 0:(n=o.charCodeAt(h),n<55296||n>56319||h+1===l||(s=o.charCodeAt(h+1))<56320||s>57343?t?o.charAt(h):n:t?o.slice(h,h+2):s-56320+(n-55296<<10)+65536)}}},function(t,e,a){var i=a(46),r=Math.max,n=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):n(t,e)}},function(t,e,a){var i=a(2),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,a){var i=a(8),r=a(78);t.exports=a(1).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,a){"use strict";var i=a(240),r=a(65),n=a(18),s=a(13);t.exports=a(38)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,a=this._i++;return!t||a>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,a):"values"==e?r(0,t[a]):r(0,[a,t[a]])},"values"),n.Arguments=n.Array,i("keys"),i("values"),i("entries")},function(t,e,a){"use strict";var i=a(58),r=a(50);t.exports=a(60)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,a){var i=a(3);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,a){var i=a(3);i(i.S,"Object",{create:a(26)})},function(t,e,a){var i=a(3);i(i.S+i.F*!a(5),"Object",{defineProperties:a(66)})},function(t,e,a){var i=a(3);i(i.S+i.F*!a(5),"Object",{defineProperty:a(7).f})},function(t,e,a){"use strict";var i,r,n,s,o=a(19),h=a(2),l=a(11),u=a(34),d=a(3),c=a(6),D=a(14),m=a(33),C=a(17),f=a(76),p=a(77).set,v=a(252)(),S=a(40),T=a(70),M=a(258),_=a(71),I=h.TypeError,L=h.process,g=L&&L.versions,y=g&&g.v8||"",A=h.Promise,F="process"==u(L),E=function(){},x=r=S.f,N=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[a(4)("species")]=function(t){t(E,E)};return(F||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==y.indexOf("6.6")&&-1===M.indexOf("Chrome/66")}catch(t){}}(),w=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var a=t._c;v(function(){for(var i=t._v,r=1==t._s,n=0;a.length>n;)!function(e){var a,n,s,o=r?e.ok:e.fail,h=e.resolve,l=e.reject,u=e.domain;try{o?(r||(2==t._h&&b(t),t._h=1),!0===o?a=i:(u&&u.enter(),a=o(i),u&&(u.exit(),s=!0)),a===e.promise?l(I("Promise-chain cycle")):(n=w(a))?n.call(a,h,l):h(a)):l(i)}catch(t){u&&!s&&u.exit(),l(t)}}(a[n++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){p.call(h,function(){var e,a,i,r=t._v,n=R(t);if(n&&(e=T(function(){F?L.emit("unhandledRejection",r,t):(a=h.onunhandledrejection)?a({promise:t,reason:r}):(i=h.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=F||R(t)?2:1),t._a=void 0,n&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},b=function(t){p.call(h,function(){var e;F?L.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})})},Y=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},B=function(t){var e,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw I("Promise can't be resolved itself");(e=w(t))?v(function(){var i={_w:a,_d:!1};try{e.call(t,l(B,i,1),l(Y,i,1))}catch(t){Y.call(i,t)}}):(a._v=t,a._s=1,O(a,!1))}catch(t){Y.call({_w:a,_d:!1},t)}}};N||(A=function(t){m(this,A,"Promise","_h"),D(t),i.call(this);try{t(l(B,this,1),l(Y,this,1))}catch(t){Y.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=a(43)(A.prototype,{then:function(t,e){var a=x(f(this,A));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=F?L.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&O(this,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new i;this.promise=t,this.resolve=l(B,t,1),this.reject=l(Y,t,1)},S.f=x=function(t){return t===A||t===s?new n(t):r(t)}),d(d.G+d.W+d.F*!N,{Promise:A}),a(20)(A,"Promise"),a(75)("Promise"),s=a(1).Promise,d(d.S+d.F*!N,"Promise",{reject:function(t){var e=x(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(o||!N),"Promise",{resolve:function(t){return _(o&&this===s?A:this,t)}}),d(d.S+d.F*!(N&&a(251)(function(t){A.all(t).catch(E)})),"Promise",{all:function(t){var e=this,a=x(e),i=a.resolve,r=a.reject,n=T(function(){var a=[],n=0,s=1;C(t,!1,function(t){var o=n++,h=!1;a.push(void 0),s++,e.resolve(t).then(function(t){h||(h=!0,a[o]=t,--s||i(a))},r)}),--s||i(a)});return n.e&&r(n.v),a.promise},race:function(t){var e=this,a=x(e),i=a.reject,r=T(function(){C(t,!1,function(t){e.resolve(t).then(a.resolve,i)})});return r.e&&i(r.v),a.promise}})},function(t,e,a){"use strict";var i=a(58),r=a(50);t.exports=a(60)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,a){"use strict";var i=a(2),r=a(12),n=a(5),s=a(3),o=a(72),h=a(39).KEY,l=a(16),u=a(45),d=a(20),c=a(28),D=a(4),m=a(52),C=a(51),f=a(246),p=a(64),v=a(8),S=a(6),T=a(48),M=a(13),_=a(49),I=a(27),L=a(26),g=a(254),y=a(253),A=a(68),F=a(7),E=a(41),x=y.f,N=F.f,w=g.f,O=i.Symbol,P=i.JSON,R=P&&P.stringify,b=D("_hidden"),Y=D("toPrimitive"),B={}.propertyIsEnumerable,H=u("symbol-registry"),k=u("symbols"),V=u("op-symbols"),G=Object.prototype,W="function"==typeof O&&!!A.f,U=i.QObject,X=!U||!U.prototype||!U.prototype.findChild,K=n&&l(function(){return 7!=L(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,a){var i=x(G,e);i&&delete G[e],N(t,e,a),i&&t!==G&&N(G,e,i)}:N,J=function(t){var e=k[t]=L(O.prototype);return e._k=t,e},j=W&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},z=function(t,e,a){return t===G&&z(V,e,a),v(t),e=_(e,!0),v(a),r(k,e)?(a.enumerable?(r(t,b)&&t[b][e]&&(t[b][e]=!1),a=L(a,{enumerable:I(0,!1)})):(r(t,b)||N(t,b,I(1,{})),t[b][e]=!0),K(t,e,a)):N(t,e,a)},q=function(t,e){v(t);for(var a,i=f(e=M(e)),r=0,n=i.length;n>r;)z(t,a=i[r++],e[a]);return t},Z=function(t,e){return void 0===e?L(t):q(L(t),e)},Q=function(t){var e=B.call(this,t=_(t,!0));return!(this===G&&r(k,t)&&!r(V,t))&&(!(e||!r(this,t)||!r(k,t)||r(this,b)&&this[b][t])||e)},$=function(t,e){if(t=M(t),e=_(e,!0),t!==G||!r(k,e)||r(V,e)){var a=x(t,e);return!a||!r(k,e)||r(t,b)&&t[b][e]||(a.enumerable=!0),a}},tt=function(t){for(var e,a=w(M(t)),i=[],n=0;a.length>n;)r(k,e=a[n++])||e==b||e==h||i.push(e);return i},et=function(t){for(var e,a=t===G,i=w(a?V:M(t)),n=[],s=0;i.length>s;)!r(k,e=i[s++])||a&&!r(G,e)||n.push(k[e]);return n};W||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(a){this===G&&e.call(V,a),r(this,b)&&r(this[b],t)&&(this[b][t]=!1),K(this,t,I(1,a))};return n&&X&&K(G,t,{configurable:!0,set:e}),J(t)},o(O.prototype,"toString",function(){return this._k}),y.f=$,F.f=z,a(67).f=g.f=tt,a(42).f=Q,A.f=et,n&&!a(19)&&o(G,"propertyIsEnumerable",Q,!0),m.f=function(t){return J(D(t))}),s(s.G+s.W+s.F*!W,{Symbol:O});for(var at="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;at.length>it;)D(at[it++]);for(var rt=E(D.store),nt=0;rt.length>nt;)C(rt[nt++]);s(s.S+s.F*!W,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=O(t)},keyFor:function(t){if(!j(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!W,"Object",{create:Z,defineProperty:z,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=l(function(){A.f(1)});s(s.S+s.F*st,"Object",{getOwnPropertySymbols:function(t){return A.f(T(t))}}),P&&s(s.S+s.F*(!W||l(function(){var t=O();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,a,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(a=e=i[1],(S(e)||void 0!==t)&&!j(t))return p(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!j(e))return e}),i[1]=e,R.apply(P,i)}}),O.prototype[Y]||a(9)(O.prototype,Y,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,a){a(73)("Map")},function(t,e,a){a(74)("Map")},function(t,e,a){var i=a(3);i(i.P+i.R,"Map",{toJSON:a(59)("Map")})},function(t,e,a){"use strict";var i=a(3),r=a(1),n=a(2),s=a(76),o=a(71);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||n.Promise),a="function"==typeof t;return this.then(a?function(a){return o(e,t()).then(function(){return a})}:t,a?function(a){return o(e,t()).then(function(){throw a})}:t)}})},function(t,e,a){"use strict";var i=a(3),r=a(40),n=a(70);i(i.S,"Promise",{try:function(t){var e=r.f(this),a=n(t);return(a.e?e.reject:e.resolve)(a.v),e.promise}})},function(t,e,a){a(73)("Set")},function(t,e,a){a(74)("Set")},function(t,e,a){var i=a(3);i(i.P+i.R,"Set",{toJSON:a(59)("Set")})},function(t,e,a){a(51)("asyncIterator")},function(t,e,a){a(51)("observable")},,,function(t,e,a){e=t.exports=a(23)(void 0),e.push([t.i,".name-box{-ms-flex:1;flex:1;text-align:center;position:relative}.headTitle{display:-ms-flexbox;display:flex;box-sizing:border-box;padding-top:4px}.nameWrap{text-align:center;line-height:21px;font-family:PingFangSC-Light}.stockName{margin-right:1.2%}.exchangeInfo{font-size:12px;color:#666;height:15px;line-height:15px;font-weight:700;text-align:center;font-family:PingFangSC-Light}.blockBg{background:#fff;margin-top:5px}.tabsTitle{height:28px;line-height:28px;border-bottom:1px solid #ececec;border-top:1px solid #ececec;padding:0 4%;font-size:1.3rem;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.tabsTitle span{width:15%;height:27px;line-height:27px;border-bottom:2px solid transparent;display:inline-block;text-align:center;vertical-align:top}.tabsTitle span.active{border-bottom-color:#217cd9;color:#217cd9}.klineWrap{float:left;position:relative;overflow:hidden}.kLineTabs .tabsTitle{padding-left:2%}.kLineTabs .tabsTitle span{font-size:1.3rem;width:16%}.kLineTabs .tabsTitle span:last-child{width:18%}.indexWrap{width:100%;height:30px;background-color:#f6fbfe;font-size:12px;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.indexWrap .indexItem{display:block;line-height:30px;-ms-flex-positive:1;flex-grow:1;text-align:center}.indexWrap .indexItem.active{color:#333;background-color:#e1ecf2}",""])},function(t,e,a){e=t.exports=a(23)(void 0),e.push([t.i,".tab_cont{border-top:1px solid #ddd;font-size:14px}.tab_cont .head{font-weight:700;padding:4px 0}.tab_cont .c_list:nth-child(2n){background:#fff}.tab_cont .c_list dd:first-child{color:initial}.tab_cont .c_list .short-name{display:block;color:#c4c4c4;font-size:14px}.tab_cont dl{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.tab_cont dl dd:first-child{width:40%;text-align:center}.tab_cont dl dd:nth-child(2){width:32%}.tab_cont dl dd:nth-child(3){width:28%}",""])},function(t,e,a){e=t.exports=a(23)(void 0),e.push([t.i,'*{margin:0;padding:0}body,html{color:#333}body{background-color:#f7f7f7;min-height:100%;height:auto!important}a,body,div,html,img,table{-webkit-tap-highlight-color:transparent}div:active{background:transparent}a{text-decoration:none}ol,ul{list-style:none}.clear:after{content:" ";height:0;display:block;overflow:hidden;clear:both}',""])},function(t,e,a){"use strict";t.exports.Chart=a(287).default,t.exports.Stock=a(286).default,t.exports.RegressionTest=a(285).default},function(t,e,a){"use strict";function i(){this.HistoryData,this.BuyData,this.SellData,this.IndexClose,this.NetCalculateModel=0,this.InitialCapital=1e4,this.Data=new n.default,this.SetPolicyData=function(t){this.HistoryData=t.KLineData,this.BuyData=t.BuyData,this.SellData=t.SellData,t.IndexClose&&(this.IndexClose=t.IndexClose)},this.ClearData=function(){this.Data=new n.default},this.GetBSData=function(t){for(var e=null,a=0;a<this.HistoryData.length;++a){if(this.HistoryData[a].Date>=t){e=a;break}}if(null===e)return null;console.log("[RegressionTest::GetBSData] startDate="+t+" index="+e);for(var i=[],r=null,a=e;a<this.HistoryData.length;++a){var n=this.BuyData[a],s=this.SellData[a],o=this.HistoryData[a];if(null===r){if(n>0){var h={Data:o,Count:0};a+1<this.HistoryData.length&&(h.NextOpen=this.HistoryData[a+1].Open),r={B:[h],S:null}}}else{for(var l in r.B)++r.B[l].Count;if(n>0){var h={Data:o,Count:0};a+1<this.HistoryData.length&&(h.NextOpen=this.HistoryData[a+1].Open),r.B.push(h)}else s>0&&(r.S={Data:o},i.push(r),r=null)}}var u={StartDate:this.HistoryData[e].Date,StartIndex:e,Count:this.HistoryData.length-e,BSData:i};return console.log("[RegressionTest::GetBSData] data",u),u},this.Calculate=function(t){var e={Count:t.Count,Max:null,Min:null,Average:null},a={Count:0,Days:0,Success:0,Fail:0,SuccessRate:0};for(var i in t.BSData){var r=t.BSData[i];for(var n in r.B){var s=r.B[n];null===e.Max?e.Max=s.Count:e.Max<s.Count&&(e.Max=s.Count),null===e.Min?e.Min=s.Count:e.Min>s.Count&&(e.Min=s.Count),++a.Count,a.Days+=s.Count,r.S.Data.Close>s.Data.Open?++a.Success:++a.Fail}}a.Count>0&&(e.Average=a.Days/a.Count,a.SuccessRate=a.Success/a.Count);var o,h=1;for(var i in t.BSData){var r=t.BSData[i];o=1===this.NetCalculateModel&&r.B[0].NextOpen>0?r.B[0].NextOpen:r.B[0].Data.Open;h*=(r.S.Data.Close-o)/o+1}h-=1;var l=this.HistoryData[t.StartIndex].Close,u=this.HistoryData[this.HistoryData.length-1].Close,d=(u-l)/l;console.log("[RegressionTest::Calculate] stock profit first["+this.HistoryData[t.StartIndex].Date+", YClose="+this.HistoryData[t.StartIndex].YClose+"] end["+this.HistoryData[this.HistoryData.length-1].Date+", Close="+this.HistoryData[this.HistoryData.length-1].Close+"]");var c=this.CaclulateNetValue(t),D=null,m=null;c&&c.length>0&&(D=this.CaclulateMaxDropdown(c),this.IndexClose&&(m=this.CaclulateBeta(c)));var C={Day:e,Trade:a,Profit:h,StockProfit:d,Excess:h-d,NetValue:c,MaxDropdown:D,Beta:m,BSDataPair:t.BSData};return console.log("[RegressionTest::Calculate] NetCalculateModel, result ",this.NetCalculateModel,C),C},this.CaclulateNetValue=function(t){for(var e,a=t.StartIndex,i=[],r={Position:0,Cache:this.InitialCapital},n=null,s=a;s<this.HistoryData.length;++s){var o=this.BuyData[s],h=this.SellData[s],l=this.HistoryData[s],u={Date:l.Date,Position:r.Position,Cache:r.Cache,Open:l.Open,Close:l.Close};if(u.MarketValue=u.Position*u.Close+u.Cache,null===n){if(o>0){n={B:{Data:l},S:null},e=1===this.NetCalculateModel&&s+1<this.HistoryData.length&&this.HistoryData[s+1].Open>0?this.HistoryData[s+1].Open:u.Open;var d=parseInt(u.Cache/e),c=u.Cache-e*d;u.Position=d,u.Cache=c,u.MarketValue=u.Position*u.Close+u.Cache}}else if(h>0){n.S={Data:l},n=null;var D=u.Position*u.Close;u.Position=0,u.Cache+=D,u.MarketValue=u.Position*u.Close+u.Cache}r.Position=u.Position,r.Cache=u.Cache,u.Net=u.MarketValue/this.InitialCapital,this.IndexClose&&(u.IndexClose=this.IndexClose[s]),i.push(u)}if(i.length<=0)return[];for(var m=[],s=0;s<i.length;++s){var C=i[s],f={Net:C.Net,Date:C.Date,Close:C.Close};C.IndexClose&&(f.IndexClose=C.IndexClose),m.push(f)}return m},this.CaclulateMaxDropdown=function(t){for(var e,a=t[0].Net,i=0,r=1;r<t.length;++r){var n=t[r],s=1-n.Net/a;i<s&&(i=s,e=n),a<n.Net&&(a=n.Net)}return console.log("[RegressionTest::CaclulateMaxDropdown] maxDay",e),i},this.CaclulateBeta=function(t){for(var e=t[0],a=[],i=[],r=0,n=0,s=1;s<t.length;++s){a[s-1]=0,i[s-1]=0;var o=t[s];o.IndexClose>0&&e.IndexClose>0&&(a[s-1]=(o.IndexClose-e.IndexClose)/e.IndexClose),o.Net>0&&e.Net>0&&(i[s-1]=(o.Net-e.Net)/e.Net),r+=a[s-1],n+=i[s-1],e=o}for(var h=r/a.length,l=n/i.length,u=0,s=0;s<a.length;++s)u+=(i[s]-l)*(a[s]-h);for(var d=0,s=0;s<a.length;++s)d+=(a[s]-h)*(a[s]-h);return u/d},this.Execute=function(t){for(var e in t){var a=t[e];if(this.Data.has(a.Name))console.log("[RegressionTest::Execute] id="+e+" Name="+a.Name+" Date:"+a.Date+" is exsit.");else{console.log("[RegressionTest::Execute] id="+e+" Name="+a.Name+" Date:"+a.Date);var i=this.GetBSData(a.Date),r=this.Calculate(i);this.Data.set(a.Name,r)}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(32),n=function(t){return t&&t.__esModule?t:{default:t}}(r);i.CaclulateOverlayData=function(t){if(!t.Main||!t.Sub)return null;var e=t.Main.length;for(var a in t.Sub){if(t.Sub[a].length!=e)return console.log("[RegressionTest::OverlayData] id="+a+" data count not match. MainData count="+e),null}var i=[],r={Sub:[]};r.Main=t.Main[0],i.push([]);for(var a=0;a<t.Sub.length;++a){var n=t.Sub[a];r.Sub[a]=n[0],i.push([])}for(var a=0;a<t.Main.length;++a){var s=t.Main[a],o=(s-r.Main)/r.Main;i[0][a]=o;for(var h=0;h<t.Sub.length;++h){var n=t.Sub[h],l=n[a],u=(l-r.Sub[h])/r.Sub[h];i[h+1][a]=u}}return i},i.GetPolicyData=function(t){var e={KLineData:null,IndexClose:null,BuyData:null,SellData:null};e.KLineData=t.HistoryData.Data;for(var a in t.OutVar){var i=t.OutVar[a];"INDEXCLOSE"==i.Name?e.IndexClose=i.Data:"DRAWICON"==i.Name&&i.Draw&&i.Draw.Icon&&(13===i.Draw.Icon.ID?e.BuyData=i.Draw.DrawData:14===i.Draw.Icon.ID&&(e.SellData=i.Draw.DrawData))}return e.KLineData&&e.BuyData&&e.SellData?e:null},e.default={RegressionTest:i}},function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com"}function n(){this.Stop,this.Down,this.Up,this.Unchanged,this.UpStock={Symbol:null,Name:null},this.DownStock={Symbol:null,Name:null}}function s(){this.Good,this.GoodIncrease={Day1:null,Week1:null,Week4:null}}function o(t,e,a){this.arySymbol=new Array,this.SortField=t,this.Order=e,this.TagID=new k.default([a])}function h(){this.ROE,this.Date,this.PerSEarning,this.EPS,this.PerNetAsset,this.NProfit,this.NProfitIncrease,this.NnetProfit,this.NnProfitIncrease,this.NnProfitSpeed,this.Benford,this.SetData=function(t){isNaN(t.roe)||(this.ROE=t.roe),isNaN(t.finance.date)||(this.Date=t.finance.date),isNaN(t.finance.persearning)||(this.PerSEarning=t.finance.persearning),isNaN(t.finance.eps)||(this.EPS=t.finance.eps),isNaN(t.finance.pernetasset)||(this.PerNetAsset=t.finance.pernetasset),isNaN(t.finance.nprofit)||(this.NProfit=t.finance.nprofit),isNaN(t.finance.nprofitincrease)||(this.NProfitIncrease=t.finance.nprofitincrease),isNaN(t.finance.nnetprofit)||(this.NnetProfit=t.finance.nnetprofit),isNaN(t.finance.nnprofitincrease)||(this.NnProfitIncrease=t.finance.nnprofitincrease),isNaN(t.finance.nnprofitspeed)||(this.NnProfitSpeed=t.finance.nnprofitspeed),isNaN(t.finance.benford)||(this.Benford=t.finance.benford)}}function l(){this.Date,this.A,this.Total,this.ARate,this.SetData=function(t){isNaN(t.capital.date)||(this.Date=t.capital.date),isNaN(t.capital.a)||(this.A=t.capital.a),isNaN(t.capital.total)||(this.Total=t.capital.total),isNaN(t.capital.arate)||(this.ARate=t.capital.arate)}}function u(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin}}function d(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.MainNetInRatio,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin,this.MainNetInRatio=t.mainnetinratio}}function c(){this.DDX,this.DDY,this.DDZ,this.SetData=function(t){this.DDX=t.ddx,this.DDY=t.ddy,this.DDZ=t.ddz}}function D(){this.Name,this.Business,this.Vol,this.Price,this.ReleaseDate,this.Competence,this.SetData=function(t){t.company&&(this.Name=t.company.name,this.Business=t.company.business,this.Vol=t.company.vol,this.Price=t.company.price,this.ReleaseDate=t.company.releasedate,this.Competence=t.company.corecompetence)}}function m(){this.Industry,this.Region,this.Concept,this.SetData=function(t){this.SetIndustryData(t),this.SetRegionData(t),this.SetConceptData(t)},this.SetIndustryData=function(t){if(t.industry){this.Industry=[];for(var e in t.industry){var a=t.industry[e];this.Industry.push({Name:a.name,Symbol:a.symbol})}}},this.SetRegionData=function(t){if(t.region){this.Region=[];for(var e in t.region){var a=t.region[e];this.Region.push({Name:a.name,Symbol:a.symbol})}}},this.SetConceptData=function(t){if(t.concept){this.Concept=[];for(var e in t.concept){var a=t.concept[e];this.Concept.push({Name:a.name,Symbol:a.symbol})}}}}function C(){this.IsMargin=!1,this.IsHK=!1,this.IsSHHK=!1,this.IsSZHK=!1,this.STType=0,this.HK,this.SetData=function(t){t.events&&(isNaN(t.events.margin)||(this.IsMargin=1==t.events.margin),isNaN(t.events.hk)||(this.IsHK=1==t.events.hk),isNaN(t.events.shhk)||(this.IsSHHK=1==t.events.shhk),isNaN(t.events.szhk)||(this.IsSZHK=1==t.events.szhk),isNaN(t.events.st)||(this.STType=t.events.st),this.IsHK&&t.events.hksymbol&&t.events.hkname&&(this.HK={Symbol:t.events.hksymbol,Name:t.events.hkname}))}}function f(t){var e=t.toUpperCase();if(e.indexOf(".SH")>0){if(e=e.replace(".SH",""),"0"==e.charAt(0)&&parseInt(e)<=3e3)return!0}else if(e.indexOf(".SZ")>0){if(e=e.replace(".SZ",""),"3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1}function p(t){this.Symbol=t,this.Name,this.Open,this.Price,this.High,this.Low,this.YClose,this.Vol,this.Amount,this.Date,this.Time,this.ExchangeRate,this.Amplitude,this.VolRatio,this.Increase,this.MaxPrice,this.MinPrice,this.RFPrice,this.IndexTop,this.Week,this.MinuteAmplitude={},this.RiseFallSpeed={},this.MAmount={},this.GetBaseData=function(t,e){switch(this.BaseDataTagID.add(t),e){case U.SYMBOL:return this.Symbol;case U.NAME:return this.Name;case U.OPEN:return this.Open;case U.PRICE:return this.Price;case U.YCLOSE:return this.YClose;case U.HIGH:return this.High;case U.LOW:return this.Low;case U.VOL:return this.Vol;case U.AMOUNT:return this.Amount;case U.DATE:return this.Date;case U.TIME:return this.Time;case U.INCREASE:return this.Increase;case U.EXCHANGE_RATE:return this.ExchangeRate;case U.AMPLITUDE:return this.Amplitude;case U.MAX_PRICE:return this.MaxPrice;case U.MIN_PRICE:return this.MinPrice;case U.RISE_FALL_PRICE:return this.RFPrice;case U.VOLRATIO:return this.VolRatio;case U.INDEXTOP:return this.IndexTop;case U.WEEK:return this.Week}},this.Heat,this.GetHeatData=function(t){return this.HeatTagID.add(t),this.Heat},this.Sort=new B.default,this.GetSortData=function(t,e,a){var i=e.toString()+"-"+a.toString();if(!this.Sort.has(i)){var r=new o(e,a,t);return this.Sort.set(i,r),r}var r=this.Sort.get(i);return r.TagID.add(t),r},this.Buy5,this.GetBuy5=function(t){return this.BuySellTagID.add(t),this.Buy5},this.Sell5,this.GetSell5=function(t){return this.BuySellTagID.add(t),this.Sell5},this.Deal,this.GetDeal=function(t){return this.DealTagID.add(t),this.Deal},this.MarketValue,this.FlowMarketValue,this.Bookrate,this.Bookdiffer,this.PE,this.PE2,this.PE3,this.PB,this.GetDerivative=function(t,e){switch(this.DerivativeTagID.add(t),e){case U.MARKET_VALUE:return this.MarketValue;case U.FLOW_MARKET_VALUE:return this.FlowMarketValue;case U.BOOK_RATE:return this.Bookrate;case U.BOOK_DIFFER:return this.Bookdiffer;case U.PE:return this.PE;case U.PE2:return this.PE2;case U.PE3:return this.PE3;case U.PB:return this.PB}},this.Finance,this.GetFinance=function(t,e){if(!this.Finance)return this.FinanceTagID.add(t),null;switch(e){case U.ROE:return this.Finance.ROE;case U.FINANCE_DATE:return this.Finance.Date;case U.FINANCE_PERSEARNING:return this.Finance.PerSEarning;case U.FINANCE_PERNETASSET:return this.Finance.PerNetAsset;case U.FINANCE_NPROFIT:return this.Finance.NProfit;case U.FINANCE_NPROFITINCREASE:return this.Finance.NProfitIncrease;case U.FINANCE_NNETPROFIT:return this.Finance.NnetProfit;case U.FINANCE_NNPROFITINCREASE:return this.Finance.NnProfitIncrease;case U.FINANCE_NNPROFITSPEED:return this.Finance.NnProfitSpeed;case U.FINANCE_EPS:return this.Finance.EPS;case U.FINANCE_BENFORD:return this.Finance.Benford}},this.Capital,this.GetCapital=function(t,e){if(!this.Capital)return this.CapitalTagID.add(t),null;switch(e){case U.CAPITAL_TOTAL:return this.Capital.Total;case U.CAPITAL_A:return this.Capital.A;case U.CAPTIAL_ARATE:return this.Capital.ARate}},this.CapitalFlowDay,this.CapitalFlowDay3,this.CapitalFlowDay5,this.CapitalFlowDay10,this.GetCapitalFlowDay=function(t,e){var a=null;switch(e){case U.CAPITAL_FLOW_DAY:this.CapitalFlowDayID.add(t),this.CapitalFlowDay&&(a=this.CapitalFlowDay);break;case U.CAPITAL_FLOW_DAY3:this.CapitalFlowDay3ID.add(t),this.CapitalFlowDay3&&(a=this.CapitalFlowDay3);break;case U.CAPITAL_FLOW_DAY5:this.CapitalFlowDay5ID.add(t),this.CapitalFlowDay5&&(a=this.CapitalFlowDay5);break;case U.CAPITAL_FLOW_DAY10:this.CapitalFlowDay10ID.add(t),this.CapitalFlowDay10&&(a=this.CapitalFlowDay10)}return a},this.DDE,this.DDE3,this.DDE5,this.DDE10,this.GetDDE=function(t,e){var a=null;switch(e){case U.DDE:this.DDEID.add(t),this.DDE&&(a=this.DDE);break;case U.DDE3:this.DDE3ID.add(t),this.DDE3&&(a=this.DDE3);break;case U.DDE5:this.DDE5ID.add(t),this.DDE5&&(a=this.DDE5);break;case U.DDE10:this.DDE10ID.add(t),this.DDE10&&(a=this.DDE10)}return a},this.Event,this.GetEvent=function(t,e){return this.Event?this.Event:(this.EventTagID.add(t),null)},this.Company,this.GetCompany=function(t,e){if(!this.Company)return this.CompanyTagID.add(t),null;switch(e){case U.COMPANY_NAME:return this.Company.Name;case U.COMPANY_BUSINESS:return this.Company.Business;case U.COMPANY_VOL:return this.Company.Vol;case U.COMPANY_PRICE:return this.Company.Price;case U.COMPANY_RELEASEDATE:return this.Company.ReleaseDate;case U.COMPANY_COMPETENCE:return this.Company.Competence}},this.Plate,this.GetPlate=function(t,e){if(!this.Plate)return this.PlateTagID.add(t),null;switch(e){case U.PLATE_INDUSTRY:return this.Plate.Industry;case U.PLATE_CONCEPT:return this.Plate.Concept;case U.PLATE_REGION:return this.Plate.Region}},this.TagID=new k.default,this.BaseDataTagID=new k.default,this.HeatTagID=new k.default,this.BuySellTagID=new k.default,this.DealTagID=new k.default,this.DerivativeTagID=new k.default,this.FinanceTagID=new k.default,this.CapitalTagID=new k.default,this.CapitalFlowDayID=new k.default,this.CapitalFlowDay3ID=new k.default,this.CapitalFlowDay5ID=new k.default,this.CapitalFlowDay10ID=new k.default,this.DDEID=new k.default,this.DDE3ID=new k.default,this.DDE5ID=new k.default,this.DDE10ID=new k.default,this.EventTagID=new k.default,this.CompanyTagID=new k.default,this.PlateTagID=new k.default,this.AttachTagID=function(t){this.TagID.add(t)},this.ClearTagID=function(){this.TagID.clear(),this.BaseDataTagID.clear(),this.HeatTagID.clear(),this.BuySellTagID.clear(),this.DealTagID.clear(),this.DerivativeTagID.clear(),this.FinanceTagID.clear(),this.CapitalTagID.clear(),this.CapitalFlowDayID.clear(),this.CapitalFlowDay3ID.clear(),this.CapitalFlowDay5ID.clear(),this.CapitalFlowDay10ID.clear(),this.DDEID.clear(),this.DDE3ID.clear(),this.DDE5ID.clear(),this.DDE10ID.clear(),this.EventTagID.clear(),this.CompanyTagID.clear();var t=!0,e=!1,a=void 0;try{for(var i,r=(0,b.default)(this.Sort);!(t=(i=r.next()).done);t=!0){i.value[1].TagID.clear()}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}},this.RemoveTagID=function(t){this.TagID.delete(t),this.BaseDataTagID.delete(t),this.HeatTagID.delete(t),this.BuySellTagID.delete(t),this.DealTagID.delete(t),this.DerivativeTagID.delete(t),this.FinanceTagID.delete(t),this.CapitalTagID.delete(t),this.CapitalFlowDayID.delete(t),this.CapitalFlowDay3ID.delete(t),this.CapitalFlowDay5ID.delete(t),this.CapitalFlowDay10ID.delete(t),this.DDEID.delete(t),this.DDE3ID.delete(t),this.DDE5ID.delete(t),this.DDE10ID.delete(t),this.EventTagID.delete(t),this.CompanyTagID.delete(t);var e=!0,a=!1,i=void 0;try{for(var r,n=(0,b.default)(this.Sort);!(e=(r=n.next()).done);e=!0){r.value[1].TagID.delete(t)}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}},this.SetBaseData=function(t){this.Name=t.name,this.YClose=t.yclose,this.Price=t.price,this.High=t.high,this.Low=t.low,this.Open=t.open,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,isNaN(t.exchangerate)||(this.ExchangeRate=t.exchangerate),isNaN(t.amplitude)||(this.Amplitude=t.amplitude),isNaN(t.volratio)||(this.VolRatio=t.volratio),this.Name.indexOf("ST")>=0?(this.MaxPrice=1.05*this.Open,this.MinPrice=.95*this.Open):(this.MaxPrice=1.1*this.Open,this.MinPrice=.9*this.Open),this.Price&&this.YClose&&(this.RFPrice=this.Price-this.YClose),t.week&&(this.Week={},this.Week.Week1=t.week.week1,this.Week.Week4=t.week.week4,this.Week.Week13=t.week.week13,this.Week.Week26=t.week.week26,this.Week.Week52=t.week.week52)},this.SetDerivativeData=function(t){this.MarketValue=t.marketvalue,this.FlowMarketValue=t.flowmarketvalue,this.Bookrate=t.bookrate,this.Bookdiffer=t.bookdiffer,this.PE=t.pe,this.PE2=t.pe2,this.PE3=t.pe3,this.PB=t.pb},this.SetFinanceData=function(t){console.log(t),t.finance&&(this.Finance=new h,this.Finance.SetData(t))},this.SetCapitalData=function(t){t.capital&&(this.Capital=new l,this.Capital.SetData(t))},this.SetIndexBaseData=function(t){this.SetBaseData(t);var e=new n;t.indextop&&(e.Up=t.indextop.up,e.Down=t.indextop.down,e.Unchanged=t.indextop.unchanged,e.Stop=t.indextop.stop,e.UpStock.Symbol=t.indextop.upstock.symbol,e.UpStock.Name=t.indextop.upstock.name,e.DownStock.Symbol=t.indextop.downstock.symbol,e.DownStock.Name=t.indextop.downstock.name),this.IndexTop=e},this.SetBuySellData=function(t){this.SetBaseData(t),this.Buy5=new Array,this.Sell5=new Array;for(var e in t.buy){var a=t.buy[e];this.Buy5.push({Price:a.price,Vol:a.vol})}for(var e in t.sell){var a=t.sell[e];this.Sell5.push({Price:a.price,Vol:a.vol})}},this.SetDealData=function(t){this.Price=t.price,this.High=t.high,this.Low=t.low,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,this.Deal=new Array;for(var e in t.deal){var a=t.deal[e];if(!isNaN(a.price)&&!isNaN(a.time)){var i="";0===a.bs?i="B":1===a.bs&&(i="S"),this.Deal.push({Price:a.price,Amount:a.amount,Vol:a.vol,Time:a.time,BS:i})}}},this.SetHeatData=function(t){var e=new s;e.Good=t.quadrant.good,e.GoodIncrease.Day1=t.quadrant.gincrease.day1,e.GoodIncrease.Week1=t.quadrant.gincrease.week1,e.GoodIncrease.Week4=t.quadrant.gincrease.week4,this.Heat=e},this.SetCapitalFlowDayData=function(t,e){if(t)switch(e){case K.CAPITAL_FLOW_DAY_DATA:this.CapitalFlowDay=new u,this.CapitalFlowDay.SetData(t);break;case K.CAPITAL_FLOW_DAY3_DATA:this.CapitalFlowDay3=new d,this.CapitalFlowDay3.SetData(t);break;case K.CAPITAL_FLOW_DAY5_DATA:this.CapitalFlowDay5=new d,this.CapitalFlowDay5.SetData(t);break;case K.CAPITAL_FLOW_DAY10_DATA:this.CapitalFlowDay10=new d,this.CapitalFlowDay10.SetData(t)}},this.SetDDE=function(t,e){if(t){switch(e){case K.DDE_DAY_DATA:this.DDE=new c,this.DDE.SetData(t);break;case K.DDE_DAY3_DATA:this.DDE3=new c,this.DDE3.SetData(t);break;case K.DDE_DAY5_DATA:this.DDE5=new c,this.DDE5.SetData(t);break;case K.DDE_DAY10_DATA:this.DDE10=new c,this.DDE10.SetData(t)}return t}},this.SetEventData=function(t){t.events&&(this.Event=new C,this.Event.SetData(t))},this.SetCompanyData=function(t){t.company&&(this.Company=new D,this.Company.SetData(t))},this.SetPlateData=function(t){(t.industry||t.region||t.concept)&&(this.Plate=new m,this.Plate.SetData(t))},this.SetData=function(t){t.name&&(this.Name=t.name),isNaN(t.yclose)||(this.YClose=t.yclose),isNaN(t.price)||(this.Price=t.price),isNaN(t.high)||(this.High=t.high),isNaN(t.low)||(this.Low=t.low),isNaN(t.vol)||(this.Vol=t.vol),isNaN(t.amount)||(this.Amount=t.amount),isNaN(t.date)||(this.Date=t.date),isNaN(t.time)||(this.Time=t.time),isNaN(t.increase)||(this.Increase=t.increase),isNaN(t.marketvalue)||(this.MarketValue=t.marketvalue),isNaN(t.flowmarketvalue)||(this.FlowMarketValue=t.flowmarketvalue),isNaN(t.bookrate)||(this.Bookrate=t.bookrate),isNaN(t.bookdiffer)||(this.Bookdiffer=t.bookdiffer),isNaN(t.pe)||(this.PE=t.pe),isNaN(t.pb)||(this.PB=t.pb),t.finance&&this.SetFinanceData(t),t.finance&&this.SetFinanceDetailData(t),t.capital&&this.SetCapitalData(t),t.mamplitude&&(isNaN(t.mamplitude[1])||(this.MinuteAmplitude.M1=t.mamplitude[1]),isNaN(t.mamplitude[3])||(this.MinuteAmplitude.M3=t.mamplitude[3]),isNaN(t.mamplitude[5])||(this.MinuteAmplitude.M5=t.mamplitude[5]),isNaN(t.mamplitude[10])||(this.MinuteAmplitude.M10=t.mamplitude[10]),isNaN(t.mamplitude[15])||(this.MinuteAmplitude.M15=t.mamplitude[15])),t.risefallspeed&&(isNaN(t.risefallspeed[1])||(this.RiseFallSpeed.M1=t.risefallspeed[1]),isNaN(t.risefallspeed[3])||(this.RiseFallSpeed.M3=t.risefallspeed[3]),isNaN(t.risefallspeed[5])||(this.RiseFallSpeed.M5=t.risefallspeed[5]),isNaN(t.risefallspeed[10])||(this.RiseFallSpeed.M10=t.risefallspeed[10]),isNaN(t.risefallspeed[15])||(this.RiseFallSpeed.M15=t.risefallspeed[15])),t.mamount&&(isNaN(t.mamount[1])||(this.MAmount.M1=t.mamount[1]),isNaN(t.mamount[3])||(this.MAmount.M5=t.mamount[3]),isNaN(t.mamount[5])||(this.MAmount.M5=t.mamount[5]),isNaN(t.mamount[10])||(this.MAmount.M10=t.mamount[10]),isNaN(t.mamount[15])||(this.MAmount.M15=t.mamount[15]))}}function v(t,e){this.JSStock=t,this.TagID=e,this.Get=function(e,a){var i=t.Get(e,this.TagID);if(!i)return null;switch(a){case U.SYMBOL:case U.NAME:case U.OPEN:case U.PRICE:case U.YCLOSE:case U.HIGH:case U.LOW:case U.VOL:case U.AMOUNT:case U.DATE:case U.TIME:case U.INCREASE:case U.EXCHANGE_RATE:case U.AMPLITUDE:case U.MAX_PRICE:case U.MIN_PRICE:case U.RISE_FALL_PRICE:case U.INDEXTOP:case U.WEEK:case U.VOLRATIO:return i.GetBaseData(this.TagID,a);case U.HEAT:return i.GetHeatData(this.TagID);case U.BUY5:return i.GetBuy5(this.TagID);case U.SELL5:return i.GetSell5(this.TagID);case U.DEAL:return i.GetDeal(this.TagID);case U.MARKET_VALUE:case U.FLOW_MARKET_VALUE:case U.BOOK_RATE:case U.BOOK_DIFFER:case U.PE:case U.PE2:case U.PE3:case U.PB:return i.GetDerivative(this.TagID,a);case U.ROE:case U.FINANCE_DATE:case U.FINANCE_PERSEARNING:case U.FINANCE_PERNETASSET:case U.FINANCE_NPROFIT:case U.FINANCE_NPROFITINCREASE:case U.FINANCE_NNETPROFIT:case U.FINANCE_NNPROFITINCREASE:case U.FINANCE_NNPROFITSPEED:case U.FINANCE_EPS:case U.FINANCE_BENFORD:return i.GetFinance(this.TagID,a);case U.PLATE_INDUSTRY:case U.PLATE_CONCEPT:case U.PLATE_REGION:return i.GetPlate(this.TagID,a);case U.CAPITAL_FLOW_DAY:case U.CAPITAL_FLOW_DAY3:case U.CAPITAL_FLOW_DAY5:case U.CAPITAL_FLOW_DAY10:return i.GetCapitalFlowDay(this.TagID,a);case U.DDE:case U.DDE3:case U.DDE5:case U.DDE10:return i.GetDDE(this.TagID,a);case U.EVENTS:return i.GetEvent(this.TagID,a);case U.COMPANY_NAME:case U.COMPANY_BUSINESS:case U.COMPANY_VOL:case U.COMPANY_PRICE:case U.COMPANY_RELEASEDATE:case U.COMPANY_COMPETENCE:return i.GetCompany(this.TagID,a);case U.CAPITAL_A:case U.CAPTIAL_ARATE:case U.CAPITAL_TOTAL:return i.GetCapital(this.TagID,a);default:return null}},this.GetSort=function(e,a,i){var r=t.Get(e,this.TagID);return null==r?r:r.GetSortData(this.TagID,a,i)},this.EndRead=function(t){1==t&&this.JSStock.ReqeustData()},this.SetQueryField=function(t,e){for(var a in e)this.Get(t,e[a])}}function S(){this.Symbol,this.Callback,this.Order=-1,this.SortField,this.Field,this.Plate,this.Data=new B.default,this.ApiUrl=W.Domain+"/API/StockHistoryDay",this.PageSize=20,this.PageIndex=1,this.Count,this.currentData=null,this.RequsetData=function(t,e){var a=this,i="string"==typeof a.Symbol?[this.Symbol]:this.Symbol,r=i?i.length:0;this.Plate?this.currentData={plate:this.Plate,symbol:i,start:0,end:this.PageSize,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]}:this.currentData={symbol:i,start:0,end:r,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]},G.default.ajax({url:this.ApiUrl,data:a.currentData,method:"POST",dataType:"json",success:function(e){a.Count=e.data.count,a.RecvData(e,t)},fail:function(e){a.RecvError(e,t)}})},this.GetNextPage=function(){var t=this;this.PageSize*this.PageIndex<this.Count?(this.currentData.start=this.PageSize*this.PageIndex,this.PageIndex++,this.currentData.end=this.PageSize*this.PageIndex,G.default.ajax({url:this.ApiUrl,data:t.currentData,method:"POST",dataType:"json",success:function(e){t.RecvData(e)},fail:function(e){t.RecvError(e)}})):alert("数据已全部加载")},this.RecvData=function(t,e){var a=t.data;for(var i in a.stock){var r=a.stock[i],n=r.symbol,s={};this.Data.has(n)?s=this.Data.get(n):(s={Symbol:r.symbol,Name:r.name,Data:new B.default},this.Data.set(n,s)),this.SetStockData(r,s)}this.Callback&&this.Callback(this,e)},this.SetStockData=function(t,e){for(var a in t.stockday){var i=t.stockday[a],r=i.date,n=new B.default;this.SetFinanceData(i,n),this.SetBlocktradingData(i,n),this.SetChangesData(i,n),this.SetLiftingData(i,n),this.SetPforecastData(i,n),this.SetShortIndicatorsData(i,n),e.Data.set(r,n)}return e},this.SetFinanceData=function(t,e){var a=t.finance1;a&&(isNaN(a.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NPROFITINCREASE,a.nprofitincrease),isNaN(a.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITINCREASE,a.nnprofitincrease),isNaN(a.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITSPEED,a.nnprofitspeed),isNaN(a.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_BENFORD,a.benford));var i=t.announcement1;i&&(isNaN(i.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_YEAR,i.year),isNaN(i.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_QUARTER,i.quarter));var a=t.finance2;a&&(isNaN(a.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NPROFITINCREASE,a.nprofitincrease),isNaN(a.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITINCREASE,a.nnprofitincrease),isNaN(a.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITSPEED,a.nnprofitspeed),isNaN(a.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_BENFORD,a.benford));var i=t.announcement2;i&&(isNaN(i.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_YEAR,i.year),isNaN(i.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_QUARTER,i.quarter));var a=t.finance3;a&&(isNaN(a.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NPROFITINCREASE,a.nprofitincrease),isNaN(a.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITINCREASE,a.nnprofitincrease),isNaN(a.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITSPEED,a.nnprofitspeed),isNaN(a.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_BENFORD,a.benford));var i=t.announcement3;i&&(isNaN(i.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_YEAR,i.year),isNaN(i.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_QUARTER,i.quarter));var a=t.finance4;a&&(isNaN(a.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NPROFITINCREASE,a.nprofitincrease),isNaN(a.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITINCREASE,a.nnprofitincrease),isNaN(a.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITSPEED,a.nnprofitspeed),isNaN(a.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_BENFORD,a.benford));var i=t.announcement4;i&&(isNaN(i.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_YEAR,i.year),isNaN(i.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_QUARTER,i.quarter))},this.SetBlocktradingData=function(t,e){var a=t.blocktrading;a&&e.set(STOCK_HISTORY_FIELD_NAME.BLOCK_TRADING,{Premium:a.premium,Price:a.price,Vol:a.vol,Amount:a.amount})},this.SetChangesData=function(t,e){var a=t.changes;a&&e.set(STOCK_HISTORY_FIELD_NAME.HOLDERS_CHANGES,{List:a.list})},this.SetLiftingData=function(t,e){var a=t.lifting;a&&e.set(STOCK_HISTORY_FIELD_NAME.LIFTING,{Lifting:a})},this.SetPforecastData=function(t,e){var a=t.pforecast;a&&e.set(STOCK_HISTORY_FIELD_NAME.PFORECAST,{Lowprofit:a[0].lowprofit,Highprofit:a[0].highprofit,Lowchange:a[0].lowchange,Highchange:a[0].highchange,Reportdate:a[0].reportdate})},this.SetShortIndicatorsData=function(t,e){var a=t.policy;if(a){var i=["三只乌鸦","乌云盖顶","黄昏之星","巨量阴线","头肩顶","射击之星","倾盆大雨","断头铡刀","淡友反攻","空方炮","连续1周空头排列"],r=0,n=[],s=0,o="";a.forEach(function(t){i.some(function(e){return e===t.name})&&(r++,n.push(t.time))}),r?(s=Math.max.apply(n,n),o=a.find(function(t){return t.time===s}).name):o="",console.log(o,r,"latestName-targetedCount"),e.set(STOCK_HISTORY_FIELD_NAME.SHORTIND_ICATORS,{latestIndicatorName:o,indicatorCount:r})}},this.RecvError=function(t,e){},this.CreateCondition=function(t){return new QueryCondition(t)}}function T(){this.MapStock=new B.default,this.MapTagCallback=new B.default,this.RequestVersion=new Array([100,100,100]),this.RealtimeApiUrl=W.Domain+"/API/Stock",this.PlateQuadrantApiUrl=W.Domain+"/API/StockPlateQuadrant",this.IsAutoUpdate=!0,this.AutoUpateTimeout=15e3,this.Timeout,this.NetworkFilter,this.GetStockRead=function(t,e){var a=!0,i=!1,r=void 0;try{for(var n,s=(0,b.default)(this.MapStock);!(a=(n=s.next()).done);a=!0){n.value[1].RemoveTagID(t)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return this.MapTagCallback.set(t,e),new v(this,t)},this.Unsubscribe=function(t){var e=!0,a=!1,i=void 0;try{for(var r,n=(0,b.default)(this.MapStock);!(e=(r=n.next()).done);e=!0){r.value[1].RemoveTagID(t)}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}},this.UnsubscribeStock=function(t,e){var a=!0,i=!1,r=void 0;try{for(var n,s=(0,b.default)(this.MapStock);!(a=(n=s.next()).done);a=!0){var o=n.value;if(o[0]===t){e?o[1].RemoveTagID(e):o[1].ClearTagID(),console.log("[JSStock::UnsubscribeStock] symbol="+t+", tagID="+e);break}}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}},this.Get=function(t,e){this.MapStock.has(t)||this.MapStock.set(t,new p(t));var a=this.MapStock.get(t);return e&&a.AttachTagID(e),a},this.RequestData=function(){this.ClearTimer();var t=new Array,e=new Array,a=new Array,i=new Array,r=new Array,n=new Array,s=new Array,o=[],h=[],l=[],u=[],d=[],c=[],D=[],m=[],C=new Array,p=new Array,v=new Array,S=new Array,T=!0,M=!1,_=void 0;try{for(var I,L=(0,b.default)(this.MapStock);!(T=(I=L.next()).done);T=!0){var g=I.value,y=g[1],A=g[0];y.BaseDataTagID.size>0&&(f(A)?e.push(A):t.push(A)),y.BuySellTagID.size>0&&i.push(A),y.CapitalFlowDayID.size>0&&o.push(A),y.CapitalFlowDay3ID.size>0&&h.push(A),y.CapitalFlowDay5ID.size>0&&l.push(A),y.CapitalFlowDay10ID.size>0&&u.push(A),y.DDEID.size>0&&d.push(A),y.DDE3ID.size>0&&c.push(A),y.DDE5ID.size>0&&D.push(A),y.DDE10ID.size>0&&m.push(A),y.HeatTagID.size>0&&a.push(A),y.DealTagID.size>0&&r.push(A),y.DerivativeTagID.size>0&&n.push(A),y.FinanceTagID.size>0&&s.push(A),y.CapitalTagID.size>0&&S.push(A),null==y.Event&&y.EventTagID.size>0&&C.push(A),null==y.Company&&y.CompanyTagID.size>0&&p.push(A),null==g[1].Plate&&g[1].PlateTagID.size>0&&v.push(g[0])}}catch(t){M=!0,_=t}finally{try{!T&&L.return&&L.return()}finally{if(M)throw _}}i.length>0&&this.RequestBuySellData(i),t.length>0&&this.RequestBaseData(t),e.length>0&&this.RequestIndexBaseData(e),a.length>0&&this.RequestIndexHeatData(a),r.length>0&&this.RequestDealData(r),n.length>0&&this.RequestDerivativeData(n),s.length>0&&this.RequestFinanceData(s),S.length>0&&this.RequestCapitalData(S),o.length>0&&this.RequestSubDocumentData(o,"flowday"),h.length>0&&this.RequestSubDocumentData(h,"flowday3"),l.length>0&&this.RequestSubDocumentData(l,"flowday5"),u.length>0&&this.RequestSubDocumentData(u,"flowday10"),d.length>0&&this.RequestSubDocumentData(d,"dde"),c.length>0&&this.RequestSubDocumentData(c,"dde3"),D.length>0&&this.RequestSubDocumentData(D,"dde5"),m.length>0&&this.RequestSubDocumentData(m,"dde10"),C.length>0&&this.RequestEventData(C),p.length>0&&this.RequestCompanyData(p),v.length>0&&this.RequestPlateData(v),this.ReqeustAllSortData()},this.ReqeustData=this.RequestData,this.RequestBaseData=function(t){var e=this,a=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate","amplitude","volratio"];if(this.NetworkFilter){var i={Name:"JSStock::RequestBaseData",Explain:"股票基础数据",ID:K.BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.BASE_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.BASE_DATA)},error:function(t){e.RecvError(t,K.BASE_DATA)}})},this.RequestDerivativeData=function(t){var e=this,a=["name","symbol","marketvalue","flowmarketvalue","pe","pe2","pe3","pb","bookrate","bookdiffer"];if(this.NetworkFilter){var i={Name:"JSStock::RequestDerivativeData",Explain:"实时衍生数据",ID:K.DERIVATIVE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.DERIVATIVE_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.DERIVATIVE_DATA)},error:function(t){e.RecvError(t,K.DERIVATIVE_DATA)}})},this.RequestFinanceData=function(t){var e=this,a=["name","symbol","roe","finance"];if(this.NetworkFilter){var i={Name:"JSStock::RequestFinanceData",Explain:"财务数据",ID:K.FINANCE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.FINANCE_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.FINANCE_DATA)},error:function(t){e.RecvError(t,K.FINANCE_DATA)}})},this.RequestCapitalData=function(t){var e=this,a=["name","symbol","capital"];if(this.NetworkFilter){var i={Name:"JSStock::RequestCapitalData",Explain:"股本数据",ID:K.CAPITAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.CAPITAL_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.CAPITAL_DATA)},error:function(t){e.RecvError(t,K.CAPITAL_DATA)}})},this.RequestBuySellData=function(t){var e=this,a=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","buy","sell","exchangerate","amplitude"];if(this.NetworkFilter){var i={Name:"JSStock::RequestBuySellData",Explain:"买卖盘数据",ID:K.BUY_SELL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.BUY_SELL_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.BUY_SELL_DATA)},error:function(t){e.RecvError(t,K.BUY_SELL_DATA)}})},this.RequestDealData=function(t){var e=this,a=["name","symbol","price","high","low","vol","amount","date","time","increase","deal"];if(this.NetworkFilter){var i={Name:"JSStock::RequestDealData",Explain:"分笔数据",ID:K.DEAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.DEAL_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.DEAL_DATA)},error:function(t){e.RecvError(t,K.DEAL_DATA)}})},this.RequestIndexBaseData=function(t){var e=this,a=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","indextop","increase"];if(this.NetworkFilter){var i={Name:"JSStock::RequestIndexBaseData",Explain:"指数基础数据(包含上涨下跌家数)",ID:K.INDEX_BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:a,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvData(t,K.INDEX_BASE_DATA)}),1==i.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:a,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){console.log(t),e.RecvData(t,K.INDEX_BASE_DATA)},error:function(t){e.RecvError(t,K.INDEX_BASE_DATA)}})},this.RequestIndexHeatData=function(t){var e=this;G.default.ajax({url:this.PlateQuadrantApiUrl,data:{plate:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.HEAT_DATA)},error:function(t){e.RecvError(t,K.HEAT_DATA)}})},this.ReqeustAllSortData=function(){var t=new Array,e=!0,a=!1,i=void 0;try{for(var r,n=(0,b.default)(this.MapStock);!(e=(r=n.next()).done);e=!0){var s=r.value;if(f(s[0])&&!(null==s[1].Sort||s[1].Sort.size<=0)){var o=!0,h=!1,l=void 0;try{for(var u,d=(0,b.default)(s[1].Sort);!(o=(u=d.next()).done);o=!0){var c=u.value,D=c[1],m={Plate:s[0],SortField:D.SortField,Order:D.Order,TagID:D.TagID};t.push(m)}}catch(t){h=!0,l=t}finally{try{!o&&d.return&&d.return()}finally{if(h)throw l}}}}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}for(var C in t){var c=t[C];this.ReqeustSortData(c)}},this.ReqeustSortData=function(t){var e=this,a=t,i="";switch(a.SortField){case U.INCREASE:i="increase";break;case U.PRICE:i="price";break;default:return}var r=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate"];if(this.NetworkFilter){var n={Name:"JSStock::ReqeustSortData",Explain:"板块排序数据",ID:K.SORT_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:r,plate:[t.Plate],orderfield:i,order:t.Order,ordernull:1,filterstop:1},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){e.RecvData(t,K.SORT_DATA,a)}),1==n.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:r,plate:[t.Plate],orderfield:i,order:t.Order,ordernull:1,filterstop:1},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,K.SORT_DATA,a)},error:function(t){e.RecvError(t,K.SORT_DATA,a)}})},this.RequestSubDocumentData=function(t,e){var a=this,i=new B.default([["flowday",{Field:"flowday",RecvID:K.CAPITAL_FLOW_DAY_DATA}],["flowday3",{Field:"flowday3",RecvID:K.CAPITAL_FLOW_DAY3_DATA}],["flowday5",{Field:"flowday5",RecvID:K.CAPITAL_FLOW_DAY5_DATA}],["flowday10",{Field:"flowday10",RecvID:K.CAPITAL_FLOW_DAY10_DATA}],["dde",{Field:"dde",RecvID:K.DDE_DAY_DATA}],["dde3",{Field:"dde3",RecvID:K.DDE_DAY3_DATA}],["dde5",{Field:"dde5",RecvID:K.DDE_DAY5_DATA}],["dde10",{Field:"dde10",RecvID:K.DDE_DAY10_DATA}]]);if(i.has(e)){var r=i.get(e);if(this.NetworkFilter){var n={Name:"JSStock::RequestSubDocumentData",Explain:"子文档数据",ID:r.RecvID,Request:{Url:a.RealtimeApiUrl,Data:{field:["symbol",r.Field],symbol:t,start:0,end:50},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){a.RecvData(t,r.RecvID)}),1==n.PreventDefault)return}G.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol",r.Field],symbol:t,start:0,end:50},type:"post",dataType:"json",success:function(t){a.RecvData(t,r.RecvID)},error:function(t){a.RecvError(t,r.RecvID)}})}},this.RequestEventData=function(t){var e=this;G.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol","events.margin","events.shhk","events.hk","events.st","events.hksymbol","events.hkname","events.szhk"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,K.EVENT_DATA)},error:function(t){e.RecvError(t,K.EVENT_DATA)}})},this.RequestCompanyData=function(t){var e=this;G.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","company"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,K.COMPANY_DATA)},error:function(t){e.RecvError(t,K.COMPANY_DATA)}})},this.RequestPlateData=function(t){var e=this;G.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","industry","region","concept"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,K.PLATE_DATA)},error:function(t){e.RecvError(t,K.PLATE_DATA)}})},this.RecvError=function(t,e,a){console.log("RecvError: datatype="+e.toString()),console.log(t);var i=this;this.Timeout&&clearTimeout(this.Timeout),this.Timeout=setTimeout(function(){i.ReqeustData()},2*this.AutoUpateTimeout)},this.RecvData=function(t,e,a){var i;switch(e){case K.BASE_DATA:case K.INDEX_BASE_DATA:i=this.RecvBaseData(t,e);break;case K.HEAT_DATA:i=this.RecvHeatData(t,e);break;case K.SORT_DATA:i=this.RecvSortData(t,e,a);break;case K.BUY_SELL_DATA:i=this.RecvBuySellData(t,e);break;case K.DEAL_DATA:i=this.RecvDealData(t,e);break;case K.DERIVATIVE_DATA:i=this.RecvDerivativeData(t,e);break;case K.FINANCE_DATA:i=this.RecvFinanceData(t,e);break;case K.CAPITAL_DATA:i=this.RecvCapitalData(t,e);break;case K.CAPITAL_FLOW_DAY_DATA:case K.CAPITAL_FLOW_DAY3_DATA:case K.CAPITAL_FLOW_DAY5_DATA:case K.CAPITAL_FLOW_DAY10_DATA:case K.DDE_DAY_DATA:case K.DDE_DAY3_DATA:case K.DDE_DAY5_DATA:case K.DDE_DAY10_DATA:i=this.RecvSubDocumentData(t,e);break;case K.EVENT_DATA:i=this.RecvEventData(t,e);break;case K.COMPANY_DATA:i=this.RecvCompanyData(t,e);break;case K.PLATE_DATA:i=this.RecvPlateData(t,e)}var r=!0,n=!1,s=void 0;try{for(var o,h=(0,b.default)(i);!(r=(o=h.next()).done);r=!0){var l=o.value;this.MapTagCallback.has(l[0])&&this.MapTagCallback.get(l[0])(l[0],l[1],e,this)}}catch(t){n=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(n)throw s}}this.AutoUpdate()},this.ClearTimer=function(){this.Timeout&&(clearTimeout(this.Timeout),this.Timeout=null)},this.AutoUpdate=function(){if(this.ClearTimer(),this.IsAutoUpdate){var t=this,e=!1,a=!0,i=!1,r=void 0;try{for(var n,s=(0,b.default)(this.MapStock);!(a=(n=s.next()).done);a=!0){var o=n.value,h=J.GetMarketStatus(o[0]);if(2==h)return void(this.Timeout=setTimeout(function(){t.ReqeustData()},this.AutoUpateTimeout));1==h&&(e=!0)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}},this.RecvBaseData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n){switch(e){case K.BASE_DATA:n.SetBaseData(r);break;case K.INDEX_BASE_DATA:n.SetIndexBaseData(r);break;default:continue}if(n.TagID.size>0){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.TagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}}return a},this.RecvBuySellData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n){if(n.SetBuySellData(r),n.TagID.size>0){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.TagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}if(n.BuySellTagID.size>0){var c=!0,D=!1,m=void 0;try{for(var C,f=(0,b.default)(n.BuySellTagID);!(c=(C=f.next()).done);c=!0){var d=C.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){D=!0,m=t}finally{try{!c&&f.return&&f.return()}finally{if(D)throw m}}}}}return a},this.RecvDerivativeData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetDerivativeData(r),n.DerivativeTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.DerivativeTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvFinanceData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetFinanceData(r),n.FinanceTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.FinanceTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvCapitalData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetCapitalData(r),n.CapitalTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.CapitalTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvDealData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetDealData(r),n.DealTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.DealTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvHeatData=function(t,e){var a=new B.default;for(var i in t.data){var r=t.data[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetHeatData(r),n.HeatTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.HeatTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvSortData=function(t,e,a){var i=new B.default,r=new Array,n=this.MapStock.get(a.Plate);for(var s in t.stock){var o=t.stock[s];if(r.push(o.symbol),this.MapStock.has(o.symbol)){var h=this.MapStock.get(o.symbol);h.SetBaseData(o)}else{var h=new p(o.symbol);h.SetBaseData(o),this.MapStock.set(o.symbol,h)}}var l=a.SortField.toString()+"-"+a.Order.toString();if(!n.Sort.has(l))return i;n.Sort.get(l).arySymbol=r;var u=!0,d=!1,c=void 0;try{for(var D,m=(0,b.default)(a.TagID);!(u=(D=m.next()).done);u=!0){var o=D.value;i.set(o,new Array([n.Symbol]))}}catch(t){d=!0,c=t}finally{try{!u&&m.return&&m.return()}finally{if(d)throw c}}return i},this.RecvSubDocumentData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n){var s=null;switch(e){case K.CAPITAL_FLOW_DAY_DATA:n.SetCapitalFlowDayData(r.flowday,e),s=n.CapitalFlowDayID;break;case K.CAPITAL_FLOW_DAY3_DATA:n.SetCapitalFlowDayData(r.flowday3,e),s=n.CapitalFlowDay3ID;break;case K.CAPITAL_FLOW_DAY5_DATA:n.SetCapitalFlowDayData(r.flowday5,e),s=n.CapitalFlowDay5ID;break;case K.CAPITAL_FLOW_DAY10_DATA:n.SetCapitalFlowDayData(r.flowday10,e),s=n.CapitalFlowDay10ID;break;case K.DDE_DAY_DATA:n.SetDDE(r.dde,e),s=n.DDEID;break;case K.DDE_DAY3_DATA:n.SetDDE(r.dde3,e),s=n.DDE3ID;break;case K.DDE_DAY5_DATA:n.SetDDE(r.dde5,e),s=n.DDE5ID;break;case K.DDE_DAY10_DATA:n.SetDDE(r.dde10,e),s=n.DDE10ID}if(s&&s.size>0){var o=!0,h=!1,l=void 0;try{for(var u,d=(0,b.default)(s);!(o=(u=d.next()).done);o=!0){var c=u.value;a.has(c)?a.get(c).push(n.Symbol):a.set(c,new Array(n.Symbol))}}catch(t){h=!0,l=t}finally{try{!o&&d.return&&d.return()}finally{if(h)throw l}}}}}return a},this.RecvEventData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetEventData(r),n.EventTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.EventTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvCompanyData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetCompanyData(r),n.CompanyTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.CompanyTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a},this.RecvPlateData=function(t,e){var a=new B.default;for(var i in t.stock){var r=t.stock[i],n=this.MapStock.get(r.symbol);if(n&&(n.SetPlateData(r),n.PlateTagID.size>0)){var s=!0,o=!1,h=void 0;try{for(var l,u=(0,b.default)(n.PlateTagID);!(s=(l=u.next()).done);s=!0){var d=l.value;a.has(d)?a.get(d).push(n.Symbol):a.set(d,new Array(n.Symbol))}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}}}return a}}function M(t){this.SearchStockApiUrl=W.Domain+"/API/StockSpell",this.UpdateUICallback=t,this.PageSize=50,this.Count,this.EndOffset,this.Data=new Array,this.SearchString="",this.SearchType=0,this.Search=function(t,e){if(this.SearchString==t&&this.SearchType==e)"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this);else{this.SearchString=t,this.SearchType=e,this.Count=0,this.EndOffset=0,this.Data=[];var a=this.PageSize-1;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,a)}},this.IsEndPage=function(){return this.Count<=0||this.EndOffset>this.Count-1},this.NextPage=function(){if(!(this.EndOffset+1>this.Count)){var t=this.EndOffset+this.PageSize;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,t)}},this.ReqeustSearchStock=function(t,e,a,i){var r=this;G.default.ajax({url:this.SearchStockApiUrl,data:{input:t,start:a,end:i,type:e},type:"post",dataType:"json",async:!0,success:function(t){r.RecvSearchStockData(t,K.SEARCH_STOCK_DATA)},error:function(t){r.RecvError(t,K.SEARCH_STOCK_DATA)}})},this.RecvSearchStockData=function(t){for(var e in t.stock){var a=t.stock[e];this.Data.push({Name:a.name,Symbol:a.symbol,Type:a.type})}0==t.count?(this.Count=0,this.EndOffset=0):(0==this.Count&&(this.Count=t.count),this.EndOffset=t.end,this.Count>0&&this.EndOffset>this.Count&&(this.EndOffset=this.Count-1)),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){console.log("[SearchStock::RecvError] datatype="+e.toString()),console.log(t),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this,"error")}}function _(){this.IsAutoUpdate=!0,this.AutoUpateTimeout=5e3,this.Timeout,this.ApiUrl,this.Data,this.Error,this.UpdateUICallback,this.RequestData=function(){},this.Stop=function(){this.IsAutoUpdate=!1,this.Timeout&&clearTimeout(this.Timeout)},this.AutoUpate=function(){if(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate&&(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate)){var t=this;if(this.Symbol){var e=J.GetMarketStatus(this.Symbol);2==e?this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout):1==e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}else{var t=this,a=new Date,i=100*a.getHours()+a.getMinutes();a.getDay()>0&&a.getDay()<6&&i>=930&&i<1530&&(this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout))}}},this.InvokeUpdateUICallback=function(){this.UpdateUICallback&&this.UpdateUICallback(this)}}function I(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=W.Domain+"/API/StockShortTerm",this.Count=20,this.RequestData=function(){var t=this,e={count:this.Count};this.Symbol&&(e.symbol=this.Symbol),G.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,K.SHORT_TERM_DATA)},fail:function(e){t.RecvError(e,K.SHORT_TERM_DATA)}})},this.RecvData=function(t,e){this.Data=[];for(var a in t.shortterm){var i=t.shortterm[a];this.Data.push({Date:i.date,Name:i.name,Symbol:i.symbol,Time:i.time,Content:i.content,TypeInfo:i.typeinfo,Type:i.type})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function L(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.Symbol=t,this.Date,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=W.CacheDomain+"/cache/dealday/day/"+this.Date+"/"+this.Symbol+".json";console.log("[DealDay::RequestData] cache url ",e),G.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,K.DEAL_DAY_DATA)},error:function(e){t.RecvError(e,K.DEAL_DAY_DATA)}})},this.RecvData=function(t,e){if(!t.day||!t.deal)return void this.InvokeUpdateUICallback();var a=t.deal.amount,i=t.deal.price,r=t.deal.time,n=t.deal.vol,s=t.deal.flag;if(!(s&&n&&r&&i&&a))return void this.InvokeUpdateUICallback();for(var o={Date:t.date,Open:t.day.open,Close:t.day.price,YClose:t.day.yclose,Symbol:t.symbol,Name:t.name,Deal:[],PriceList:[]},h=new B.default,l=0,u=Math.min(r.length,n.length,s.length,i.length,a.length),d=0;d<u;++d){var c={Time:r[d],Vol:n[d],Flag:"",Price:i[d],Amount:a[d]};0===s[d]?c.Flag="B":1===s[d]&&(c.Flag="S"),c.Time>15e4&&(c.Time=15e4),o.Deal.push(c);var D;h.has(c.Price)?(D=h.get(c.Price),D.Vol+=c.Vol):(D={Vol:c.Vol,Price:c.Price,BuyVol:0,SellVol:0,NoneVol:0},h.set(c.Price,D)),0===s[d]?D.BuyVol+=c.Vol:1===s[d]?D.SellVol+=c.Vol:D.NoneVol+=c.Vol,l+=c.Vol}var m=!0,C=!1,f=void 0;try{for(var p,v=(0,b.default)(h);!(m=(p=v.next()).done);m=!0){var S=p.value,T=S[1];l>0&&(T.Proportion=T.Vol/l),o.PriceList.push(T)}}catch(t){C=!0,f=t}finally{try{!m&&v.return&&v.return()}finally{if(C)throw f}}o.PriceList.sort(function(t,e){return e.Price-t.Price}),this.Data=o,this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[DealDay::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}function g(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.ApiUrl=W.Domain+"/API/StockBlockMember",this.PageSize=10,this.Start=0,this.OrderField,this.Order,this.Symbol=t,this.OrderNull=0,this.Field=new Array,this.Data=new Array,this.PageInfo,this.SetField=function(t){this.Field=new Array;for(var e in t){var a=t[e],i=X.GetFieldName(a);null!=i&&this.Field.push(i)}return this.Field.length>0},this.SetOrder=function(t,e){this.Order=null,this.OrderField=null;var a=X.GetFieldName(t);return null!=a&&(this.OrderField=a,this.Order=e,!0)},this.RequestData=function(){this.Data=[];var t=this;G.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol,field:this.Field,order:this.Order,orderfield:this.OrderField,start:this.Start,end:this.Start+this.PageSize,ordernull:this.OrderNull},type:"post",dataType:"json",success:function(e){t.RecvData(e,K.BLOCK_MEMBER_DATA)},error:function(e){t.RecvError(e,K.BLOCK_MEMBER_DATA)}})},this.RecvData=function(t,e){for(var a in t.stock){var i=t.stock[a];if(null!=i.symbol){var r=new p(i.symbol);r.SetData(i),this.Data.push(r)}}this.PageInfo={Count:t.count,Start:t.start,End:t.end},"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function y(){this.newMethod=_,this.newMethod(),delete this.newMethod,this.BlockType=1,this.Count=20,this.OrderField="increase",this.Order=-1,this.Field=["symbol","price","name","vol","increase","indextop","risefall"],this.ApiUrl=W.Domain+"/API/StockBlockTop",this.SetField=function(t){},this.ReqeustData=function(){var t=this;G.default.ajax({url:this.ApiUrl,data:{blocktype:this.BlockType,start:0,end:this.Count,field:this.Field,orderfield:this.OrderField,order:this.Order},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,K.BLOCK_TOP_DATA)},fail:function(e){t.RecvError(e,K.BLOCK_TOP_DATA)}})},this.RecvData=function(t,e){var a=t;this.Data=[],this.resCount=a.count;for(var i in a.stock){var r=a.stock[i];if(null!=r.indextop)var n={Down:r.indextop.down,Stop:r.indextop.stop,Up:r.indextop.up,Unchanged:r.indextop.unchanged,DownStock:{Name:r.indextop.downstock.name,Symbol:r.indextop.downstock.symbol},UpStock:{Name:r.indextop.upstock.name,Symbol:r.indextop.upstock.symbol}};this.Data.push({Name:r.name,Symbol:r.symbol,Increase:r.increase,Risefall:r.risefall,IndexTop:n})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function A(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.ApiUrl=W.Domain+"/API/StockMinuteImage",this.Symbol=[t],this.Data=[],this.RequestData=function(){this.Data=[];var t=this;G.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol},type:"post",dataType:"json",success:function(e){t.RecvData(e,K.IMAGE_MINUTE_DATA)},error:function(e){t.RecvError(e,K.IMAGE_MINUTE_DATA)}})},this.RecvData=function(t,e){for(var a in t.symbol){var i={Symbol:t.symbol[a],Image:t.imagerelative[a]};this.Data.push(i)}"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){}}function F(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.Symbol=t,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=W.CacheDomain+"/cache/historyday/all/"+this.Symbol+".json";console.log("[HistoryDayData::RequestData] cache url ",e),G.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,K.HISTORY_DAY_DATA)},error:function(e){t.RecvError(e,K.HISTORY_DAY_DATA)}})},this.RecvData=function(t,e){if(!t.symbol||!t.name)return void this.InvokeUpdateUICallback();var a=t.amount,i=t.close,r=t.date,n=t.high,s=t.low,o=t.open,h=t.vol,l=t.yclose;if(!(a&&i&&r&&n&&s&&o&&h&&l))return void this.InvokeUpdateUICallback();for(var u={UpdateDate:t.update,Symbol:t.symbol,Name:t.name,KLine:[]},d=0;d<r.length;++d){var c={Date:r[d],YClose:l[d],Open:o[d],High:n[d],Low:s[d],Close:i[d],Vol:h[d],Amount:a[d]};u.KLine.push(c)}this.Data=u,this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[HistoryDayData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()},this.GetWeekData=function(){return this.Data&&this.Data.KLine?this.GetDayPeriodData(1):[]},this.GetMonthData=function(){return this.Data&&this.Data.KLine?this.GetDayPeriodData(2):[]},this.GetDayPeriodData=function(t){var e=new Array,a=0,i=null;for(var r in this.Data.KLine){var n=!1,s=this.Data.KLine[r];switch(t){case 1:var o=this.GetFirday(s.Date);o!=a&&(n=!0,a=o);break;case 2:parseInt(s.Date/100)!=parseInt(a/100)&&(n=!0,a=s.Date);break;case 3:parseInt(s.Date/1e4)!=parseInt(a/1e4)&&(n=!0,a=s.Date)}if(n){if(i={},i.Date=s.Date,e.push(i),null==s.Open||null==s.Close)continue;i.Open=s.Open,i.High=s.High,i.Low=s.Low,i.YClose=s.YClose,i.Close=s.Close,i.Vol=s.Vol,i.Amount=s.Amount}else{if(null==i)continue;if(null==s.Open||null==s.Close)continue;null==i.Open||null==i.Close?(i.Open=s.Open,i.High=s.High,i.Low=s.Low,i.YClose=s.YClose,i.Close=s.Close,i.Vol=s.Vol,i.Amount=s.Amount):(i.High<s.High&&(i.High=s.High),i.Low>s.Low&&(i.Low=s.Low),i.Close=s.Close,i.Vol+=s.Vol,i.Amount+=s.Amount,i.Date=s.Date)}}return e},this.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),a=e.getDay();if(5==a)return t;var i=e.getTime();if(a<5){var r=864e5*(5-a);i+=r}else{var r=864e5*(a-5);i-=r}e.setTime(i);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n}}function E(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=W.Domain+"/API/StockPriceList",this.RequestData=function(){if(this.Symbol){var t=this,e={};Array.isArray(this.Symbol)?e.Symbol=this.Symbol:e.Symbol=[this.Symbol],G.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,K.DEAL_PRICE_LIST_DATA)},fail:function(e){t.RecvError(e,K.DEAL_PRICE_LIST_DATA)}})}},this.RecvData=function(t,e){if(this.Data=null,!(t.statistics.length<=0)){this.Data={Day:{},PriceList:[]};var a=t.data[0];this.Data.Day={Date:a.date,YClose:a.yclose,Price:a.price,Vol:a.vol,Time:a.time},this.Data.Stock={Symbol:a.symbol,Name:a.name};var i=t.statistics[0];for(var r in i.list){var n=i.list[r],s={Price:n[0],Vol:n[1],BuyVol:n[2],SellVol:n[3],NoneVol:n[4]};a.vol>0&&(s.Proportion=s.Vol/a.vol),this.Data.PriceList.push(s)}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()}},this.RecvError=function(t,e){}}function x(t){this.newMethod=_,this.newMethod(),delete this.newMethod,this.IsAutoUpdate=!1,this.Symbol=t,this.PageSize=20,this.Request=function(t,e){this.Error=null;var a=this,i=t*e,r=i+e,n=W.Domain+"/API/StockDetail";console.log("[LatestDetailData::RequestData] url="+n+", start="+i+" , end="+r),G.default.ajax({url:n,data:{symbol:this.Symbol,start:i,end:r},type:"post",dataType:"json",async:!0,success:function(t){a.RecvData(t,K.LATEST_DETAIL_DATA)},error:function(t){a.RecvError(t,K.LATEST_DETAIL_DATA)}})},this.RequestData=function(){this.Data={Deal:[],Count:0,Reqeust:{PageIndex:0},Response:{}},this.Request(0,this.PageSize)},this.RequestPage=function(t){this.Data||(this.Data={Deal:[],Count:0}),this.Data.Reqeust={PageIndex:t},this.Data.Response={};for(var e=t*this.PageSize,a=e+this.PageSize,i=!0,r=e;r<a;++r)if(!this.Data.Deal[r]){i=!1;break}i?(this.Data.Response={Start:e,End:a},this.InvokeUpdateUICallback()):this.Request(t,this.PageSize)},this.RecvData=function(t,e){if(this.Data.Count=t.count,!t.detail)return void this.InvokeUpdateUICallback();this.Data.Day={YClose:t.yclose,Open:t.open,Close:t.price,Date:t.date},this.Data.Stock={Symbol:t.symbol,Name:t.name};for(var a=t.start,i=0,r=a;i<t.detail.length;++i,++r){var n=t.detail[i],s={Time:n[0],Price:n[1],Vol:n[2],Amount:n[3],Flag:""};0===n[4]?s.Flag="B":1===n[4]&&(s.Flag="S"),this.Data.Deal[r]=s}this.Data.Response={Start:t.start,End:t.end},this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[LatestDetailData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}function N(){this.newMethod=_,this.newMethod(),delete this.newMethod,this.ApiUrl=W.Domain+"/api/StockListAnalyze",this.PolicyGuid,this.Plate="",this.SymbolList=[],this.RequestData=function(){var t=this;G.default.ajax({url:t.ApiUrl,data:{PolicyGuid:t.PolicyGuid,Plate:t.Plate,Symbol:t.SymbolList},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e)},error:function(e){t.RecvError(e)}})},this.RecvData=function(t){this.Data={};var e=t;if(0!=e.count){if(e.concept){var a=[];for(var i in e.concept.data){var r=e.concept.data[i],n={};n.Name=r[0],n.Symbol=r[1],n.Ratio=r[2],n.Count=r[3],n.Increase=r[4],n.Price=r[5],n.Week1=r[6],n.Week4=r[7],a.push(n)}this.Data.Concept=a}e.distributed&&(this.Data.Distributed=e.distributed),e.industry&&(this.Data.Industry=e.industry),e.quadrant&&(this.Data.Quadrant=e.quadrant),e.region&&(this.Data.Region=e.region),this.UpdateUICallback&&this.UpdateUICallback(this)}},this.RecvError=function(t){console.log(t)}}Object.defineProperty(e,"__esModule",{value:!0});var w,O=a(57),P=i(O),R=a(55),b=i(R),Y=a(32),B=i(Y),H=a(56),k=i(H),V=a(30),G=i(V),W=new r,U={SYMBOL:0,NAME:1,OPEN:2,PRICE:3,HIGH:4,LOW:5,YCLOSE:6,VOL:7,AMOUNT:8,DATE:9,TIME:10,INCREASE:11,BUY5:12,SELL5:13,DEAL:14,AMPLITUDE:15,MARKET_VALUE:16,FLOW_MARKET_VALUE:17,BOOK_RATE:18,BOOK_DIFFER:19,PE:20,PB:21,EXCHANGE_RATE:23,ROE:24,FINANCE_DATE:25,FINANCE_PERSEARNING:26,FINANCE_PERNETASSET:27,FINANCE_NPROFIT:28,FINANCE_NPROFITINCREASE:29,FINANCE_NNETPROFIT:30,FINANCE_NNPROFITINCREASE:31,FINANCE_NNPROFITSPEED:32,FINANCE_EPS:33,MAX_PRICE:34,MIN_PRICE:35,RISE_FALL_PRICE:36,FINANCE_BENFORD:37,RISEFALLSPEED_1:38,RISEFALLSPEED_3:39,RISEFALLSPEED_5:40,RISEFALLSPEED_10:41,RISEFALLSPEED_15:42,MINUTE_AMPLITUDE_1:43,MINUTE_AMPLITUDE_3:44,MINUTE_AMPLITUDE_5:45,MINUTE_AMPLITUDE_10:46,MINUTE_AMPLITUDE_15:47,MINUTE_AMOUNT_1:48,MINUTE_AMOUNT_3:49,MINUTE_AMOUNT_5:50,MINUTE_AMOUNT_10:51,MINUTE_AMOUNT_15:52,COMPANY_NAME:53,PLATE_INDUSTRY:54,PLATE_CONCEPT:55,PLATE_REGION:56,COMPANY_BUSINESS:57,COMPANY_VOL:58,COMPANY_PRICE:59,COMPANY_RELEASEDATE:60,COMPANY_COMPETENCE:61,CAPITAL_FLOW_DAY:67,CAPITAL_FLOW_DAY3:68,CAPITAL_FLOW_DAY5:69,CAPITAL_FLOW_DAY10:70,DDE:71,DDE3:72,DDE5:73,DDE10:74,EVENTS:75,CAPITAL_A:76,CAPITAL_TOTAL:77,CAPTIAL_ARATE:78,VOLRATIO:79,PE2:80,PE3:81,INDEXTOP:100,WEEK:101,HEAT:102},X={m_mapFiled:new B.default([[U.NAME,"name"],[U.SYMBOL,"symbol"],[U.PRICE,"price"],[U.INCREASE,"increase"],[U.PE,"pe"],[U.FINANCE_BENFORD,"finance.benford"],[U.YCLOSE,"yclose"],[U.RISEFALLSPEED_1,"risefallspeed.1"],[U.RISEFALLSPEED_3,"risefallspeed.3"],[U.RISEFALLSPEED_5,"risefallspeed.5"],[U.RISEFALLSPEED_10,"risefallspeed.10"],[U.RISEFALLSPEED_15,"risefallspeed.15"],[U.MINUTE_AMPLITUDE_1,"mamplitude.1"],[U.MINUTE_AMPLITUDE_3,"mamplitude.3"],[U.MINUTE_AMPLITUDE_5,"mamplitude.5"],[U.MINUTE_AMPLITUDE_10,"mamplitude.10"],[U.MINUTE_AMPLITUDE_15,"mamplitude.15"],[U.MINUTE_AMOUNT_1,"mamount.1"],[U.MINUTE_AMOUNT_3,"mamount.3"],[U.MINUTE_AMOUNT_5,"mamount.5"],[U.MINUTE_AMOUNT_10,"mamount.10"],[U.MINUTE_AMOUNT_15,"mamount.15"]]),GetFieldName:function(t){return this.m_mapFiled.has(t)?this.m_mapFiled.get(t):null}};T.Init=function(){return new T},T.SetDomain=function(t,e){t&&(W.Domain=t),e&&(W.CacheDomain=e)},T.GetSearchStock=function(t){return new M(t)},T.GetShortTerm=function(t){return new I(t)},T.GetDealDay=function(t){return new L(t)},T.GetBlockMember=function(t){return new g(t)},T.GetBlockTop=function(){return new y},T.GetMinuteImage=function(t){return new A(t)},T.GetHistoryDayData=function(t){return new F(t)},T.GetDealPriceListData=function(t){return new E(t)},T.GetLatestDetailData=function(t){return new x(t)},T.GetAnalylisPlate=function(){return new N},T.GetStockHistory=function(){return new S};var K={BASE_DATA:1,INDEX_BASE_DATA:2,HEAT_DATA:3,SORT_DATA:4,BUY_SELL_DATA:5,DEAL_DATA:6,DERIVATIVE_DATA:7,FINANCE_DATA:8,SEARCH_STOCK_DATA:9,SELF_STOCK_DATA:10,LOGON_DATA:11,BLOCK_MEMBER_DATA:13,SHORT_TERM_DATA:14,COMPANY_DATA:15,PLATE_DATA:16,CAPITAL_DATA:17,CAPITAL_FLOW_DAY_DATA:23,CAPITAL_FLOW_DAY3_DATA:24,CAPITAL_FLOW_DAY5_DATA:25,CAPITAL_FLOW_DAY10_DATA:26,DDE_DAY_DATA:27,DDE_DAY3_DATA:28,DDE_DAY5_DATA:29,DDE_DAY10_DATA:30,DEAL_DAY_DATA:105,EVENT_DATA:106,IMAGE_MINUTE_DATA:107,HISTORY_DAY_DATA:108,DEAL_PRICE_LIST_DATA:109,LATEST_DETAIL_DATA:110},J={SH:".SH",SZ:".SZ",HK:".HK",SHFE:".SHF",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsSHFE:function(t){return t.indexOf(this.SHFE)>0},IsCFFEX:function(t){return t.indexOf(this.CFFEX)>0},IsDCE:function(t){return t.indexOf(this.DCE)>0},IsCZCE:function(t){return t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var a=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(a)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e)&&"0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(1))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}return!1},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase();if(this.IsUSA(e)){var a=GetLocalTime(-4);return r=a.getDay(),n=100*a.getHours()+a.getMinutes(),6==r||0==r?0:n>1730?3:n<930?1:2}var i=new Date,r=i.getDay(),n=100*i.getHours()+i.getMinutes();return 6==r||0==r?0:n>1540?3:n<925?1:2}};e.default=(w={JSStockInit:T.Init,STOCK_FIELD_NAME:U,JSStock:T,StockRead:v},(0,P.default)(w,"STOCK_FIELD_NAME",U),(0,P.default)(w,"RECV_DATA_TYPE",K),w)},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){}function s(){this.DataMap=new Ai.default,this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Add=function(t){this.DataMap.set(t.ID,t)}}function o(){this.DataMap=new Ai.default([["MA",this.MA],["均线",this.MA],["MA4",this.MA4],["MA5",this.MA5],["MA6",this.MA6],["MA7",this.MA7],["MA8",this.MA8],["BOLL",this.BOLL],["BOLL副图",this.BOLL2],["BBI",this.BBI],["DKX",this.DKX],["MIKE",this.MIKE],["PBX",this.PBX],["ENE",this.ENE],["MACD",this.MACD],["KDJ",this.KDJ],["MACD2",this.MACD2],["VOL",this.VOL],["RSI",this.RSI],["BRAR",this.BRAR],["WR",this.WR],["BIAS",this.BIAS],["OBV",this.OBV],["DMI",this.DMI],["CR",this.CR],["PSY",this.PSY],["CCI",this.CCI],["DMA",this.DMA],["TRIX",this.TRIX],["VR",this.VR],["EMV",this.EMV],["ROC",this.ROC],["MTM",this.MTM],["FSL",this.FSL],["CYR",this.CYR],["MASS",this.MASS],["WAD",this.WAD],["CHO",this.CHO],["ADTM",this.ADTM],["HSL",this.HSL],["BIAS36",this.BIAS36],["BIAS_QL",this.BIAS_QL],["DPO",this.DPO],["OSC",this.OSC],["ATR",this.ATR],["NVI",this.NVI],["PVI",this.PVI],["UOS",this.UOS],["CYW",this.CYW],["LON",this.LON],["NDB",this.NDB],["SKDJ",this.SKDJ],["KD",this.KD],["FKX",this.FKX],["DKCOL",this.DKCOL],["UDL",this.UDL],["MFI",this.MFI],["LWR",this.LWR],["MARSI",this.MARSI],["CYD",this.CYD],["CYF",this.CYF],["TAPI",this.TAPI],["VMACD",this.VMACD],["QACD",this.QACD],["VPT",this.VPT],["WVAD",this.WVAD],["DBQR",this.DBQR],["JS",this.JS],["CYE",this.CYE],["QR",this.QR],["GDX",this.GDX],["JLHB",this.JLHB],["PCNT",this.PCNT],["BTX",this.BTX],["AMO",this.AMO],["VRSI",this.VRSI],["HSCOL",this.HSCOL],["DBQRV",this.DBQRV],["DBLB",this.DBLB],["ACD",this.ACD],["EXPMA",this.EXPMA],["EXPMA_S",this.EXPMA_S],["HMA",this.HMA],["LMA",this.LMA],["VMA",this.VMA],["AMV",this.AMV],["BBIBOLL",this.BBIBOLL],["ALLIGAT",this.ALLIGAT],["ZX",this.ZX],["XS",this.XS],["XS2",this.XS2],["SG-XDT",this.SG_XDT],["SG-SMX",this.SG_SMX],["SG-LB",this.SG_LB],["SG-PF",this.SG_PF],["RAD",this.RAD],["SHT",this.SHT],["ZLJC",this.ZLJC],["ZLMM",this.ZLMM],["SLZT",this.SLZT],["ADVOL",this.ADVOL],["CYC",this.CYC],["CYS",this.CYS],["CYQKL",this.CYQKL],["SCR",this.SCR],["ASR",this.ASR],["SAR",this.SAR],["TJCJL",this.TJCJL],["量比",this.VOLRate],["平均K线",this.HeikinAshi],["ADL",this.ADL],["SQJZ",this.SQJZ],["XT",this.XT],["CFJT",this.CFJT],["CYX",this.CYX],["WAVE",this.WAVE],["VOL-TDX",this.VOL_TDX],["EMPTY",this.EMPTY],["CJL2",this.CJL],["ASI",this.ASI],["DC",this.DC],["DEMA",this.DEMA],["VWAP",this.VWAP],["飞龙四式",this.Dragon4_Main],["飞龙四式-附图",this.Dragon4_Fig],["资金分析",this.FundsAnalysis],["融资占比",this.MarginProportion],["负面新闻",this.NewsNegative],["涨跌趋势",this.UpDownAnalyze],["北上资金",this.HK2SHSZ],["股东人数",this.ShareHolder],["两融余额",this.Margin2],["两融余额2",this.Margin3],["Zealink-资金吸筹",this.Zealink_Index1],["Zealink-牛熊区间",this.Zealink_Index2],["Zealink-持仓信号",this.Zealink_Index3],["Zealink-增减持",this.Zealink_Index4],["Zealink-大宗交易",this.Zealink_Index5],["Zealink-信托持股",this.Zealink_Index6],["Zealink-官网新闻",this.Zealink_Index7],["Zealink-高管要闻",this.Zealink_Index8],["Zealink-股权质押",this.Zealink_Index9],["Zealink-操盘BS点",this.Zealink_Index10],["Zealink-操盘BS点2",this.Zealink_Index11],["放心股-操盘BS点",this.FXG_BSPoint],["放心股-涨停多空线",this.FXG_INDEX],["放心股-涨停吸筹区",this.FXG_INDEX2],["放心股-量能黄金点",this.FXG_INDEX3],["五彩K线-十字星",this.COLOR_KSTAR1],["五彩K线-早晨之星",this.COLOR_KSTAR2],["五彩K线-黄昏之星",this.COLOR_KSTAR3],["五彩K线-长十字",this.COLOR_SHI1],["五彩K线-身怀六甲",this.COLOR_K220],["五彩K线-三个白武士",this.COLOR_K300],["五彩K线-三只乌鸦",this.COLOR_K310],["五彩K线-光头阳线",this.COLOR_K380],["五彩K线-光脚阴线",this.COLOR_K390],["五彩K线-垂死十字",this.COLOR_K134],["五彩K线-早晨十字星",this.COLOR_K140],["五彩K线-黄昏十字星",this.COLOR_K150],["五彩K线-射击之星",this.COLOR_K160],["五彩K线-倒转锤头",this.COLOR_K165],["五彩K线-锤头",this.COLOR_K170],["五彩K线-吊颈",this.COLOR_K180],["五彩K线-穿头破脚",this.COLOR_K190],["五彩K线-出水芙蓉",this.COLOR_CSFR],["五彩K线-乌云盖顶",this.COLOR_WYGD],["五彩K线-曙光初现",this.COLOR_SGCJ],["五彩K线-十字胎",this.COLOR_SZTAI],["五彩K线-剑",this.COLOR_SWORD],["五彩K线-平顶",this.COLOR_PINGDING],["五彩K线-平底",this.COLOR_PINGDI],["五彩K线-大阳烛",this.COLOR_DAYANZHU],["五彩K线-大阴烛",this.COLOR_DAYINGZHU],["五彩K线-好友反攻",this.COLOR_HYFG],["五彩K线-跳空缺口",this.COLOR_TKQK],["五彩K线-双飞乌鸦",this.COLOR_SFWY],["五彩K线-上升三部曲",this.COLOR_SSSBQ],["五彩K线-下跌三部曲",this.COLOR_XDSBQ],["五彩K线-长下影",this.COLOR_CHXY],["五彩K线-长上影",this.COLOR_CHSY],["五彩K线-分离",this.COLOR_FENLI],["交易系统-BIAS",this.TRADE_BIAS],["交易系统-CCI",this.TRADE_CCI],["交易系统-DMI",this.TRADE_DMI],["交易系统-KD",this.TRADE_KD],["交易系统-BOLL",this.TRADE_BOLL],["交易系统-KDJ",this.TRADE_KDJ],["交易系统-MA",this.TRADE_MA],["交易系统-MACD",this.TRADE_MACD],["交易系统-MTM",this.TRADE_MTM],["交易系统-PSY",this.TRADE_PSY],["交易系统-ROC",this.TRADE_ROC],["交易系统-RSI",this.TRADE_RSI],["交易系统-VR",this.TRADE_VR],["交易系统-DPSJ",this.TRADE_DPSJ],["TEST",this.TEST]])}function h(t,e){this.DivElement=t,this.DivToolElement=null,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jschart-drawing",this.CanvasElement.id=D(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes("canvas")||t.appendChild(this.CanvasElement),this.OffscreenCanvasElement,1==e&&(this.OffscreenCanvasElement=document.createElement("canvas")),this.ModifyIndexDialog=new La(t),this.ChangeIndexDialog=new ga(t),this.MinuteDialog=new ya(t),this.OnSize=function(t){var e=parseInt(this.DivElement.style.height.replace("px",""));this.ToolElement&&(e-=this.ToolElement.style.height.replace("px","")),this.CanvasElement.height=e,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var a=u();this.CanvasElement.height*=a,this.CanvasElement.width*=a,this.OffscreenCanvasElement&&(this.OffscreenCanvasElement.height=this.CanvasElement.height,this.OffscreenCanvasElement.width=this.CanvasElement.width),xi.Chart.Log("[JSChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&(this.JSChartContainer.OnSize&&t&&1==t.Type?this.JSChartContainer.OnSize():(this.JSChartContainer.Frame&&this.JSChartContainer.Frame.SetSizeChage(!0),this.JSChartContainer.Draw()))},this.AdjustChartBorder=function(t){var e=u();t.Frame.ChartBorder.Left*=e,t.Frame.ChartBorder.Right*=e,t.Frame.ChartBorder.Top*=e,t.Frame.ChartBorder.Bottom*=e},this.AdjustTitleHeight=function(t){var e=u();for(var a in t.Frame.SubFrame)t.Frame.SubFrame[a].Frame.ChartBorder.TitleHeight*=e;t.ChartCorssCursor.TextHeight*=e},this.CreateKLineChartContainer=function(t){var e=null;if(e="历史K线图横屏"===t.Type?new Je(this.CanvasElement):new Ge(this.CanvasElement,this.OffscreenCanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new xa(this.DivElement)),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),e.SelectRectRightMenu=new Na(this.DivElement),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.TouchMoveMinAngle&&(e.TouchMoveMinAngle=t.TouchMoveMinAngle),t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),null!=t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(e.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(e.KLineDrawType=t.KLine.DrawType),t.KLine.FirstShowDate>19910101&&(e.CustomShow={Date:t.KLine.FirstShowDate,PageSize:t.KLine.PageSize}),t.KLine.RightSpaceCount>0&&(e.RightSpaceCount=t.KLine.RightSpaceCount),t.KLine.ZoomType>0&&(e.ZoomType=t.KLine.ZoomType),t.KLine.DataWidth>=1&&(e.KLineSize={DataWidth:t.KLine.DataWidth})),t.EnableFlowCapital){var a=t.EnableFlowCapital;1==a.BIT&&(e.EnableFlowCapital.BIT=a.BIT)}if(t.Page&&(t.Page.Day&&1==t.Page.Day.Enable&&(e.Page.Day.Enable=!0),t.Page.Minute&&1==t.Page.Minute.Enable&&(e.Page.Minute.Enable=!0)),t.DragDownload&&(t.DragDownload.Day&&1==t.DragDownload.Day.Enable&&(e.DragDownload.Day.Enable=!0),t.DragDownload.Minute&&1==t.DragDownload.Minute.Enable&&(e.DragDownload.Minute.Enable=!0)),t.Language&&("CN"===t.Language?e.LanguageID=Qi.LANGUAGE_CHINESE_ID:"EN"===t.Language&&(e.LanguageID=Qi.LANGUAGE_ENGLISH_ID)),t.SourceDatatLimit&&e.SetSourceDatatLimit(t.SourceDatatLimit),t.DrawPicture&&t.DrawPicture.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawPicture.StorageKey),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),t.StepPixel>0&&(e.StepPixel=t.StepPixel),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),1==t.IsApiPeriod&&(e.IsApiPeriod=t.IsApiPeriod),!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length,t.Listener),t.Border&&(Wt.IsNumber(t.Border.Left)?e.Frame.ChartBorder.Left=t.Border.Left:t.Border.Left=e.Frame.ChartBorder.Left,Wt.IsNumber(t.Border.Right)?e.Frame.ChartBorder.Right=t.Border.Right:t.Border.Right=e.Frame.ChartBorder.Right,Wt.IsNumber(t.Border.Top)?e.Frame.ChartBorder.Top=t.Border.Top:t.Border.Top=e.Frame.ChartBorder.Top,Wt.IsNumber(t.Border.Bottom)?e.Frame.ChartBorder.Bottom=t.Border.Bottom:t.Border.Bottom=e.Frame.ChartBorder.Bottom),this.AdjustChartBorder(e),t.KLine&&t.KLine.PageSize>0){var i=e.GetMaxMinPageSize();i.Max>10&&i.Max<t.KLine.PageSize?e.PageSize=i.Max:i.Min>10&&i.Min>t.KLine.PageSize?e.PageSize=i.Min:e.PageSize=t.KLine.PageSize}if(!0===t.IsCorssOnlyDrawKLine&&(e.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(e.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(e.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(e.PressTime=t.CorssCursorInfo.PressTime),t.CorssCursorInfo.HPenType>0&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),t.CorssCursor={},t.CorssCursor.TitleHeight=e.ChartCorssCursor.TextHeight,Wt.IsObjectExist(t.SplashTitle)&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),t.Frame)for(var r in t.Frame){var a=t.Frame[r];e.Frame.SubFrame[r]&&(a.SplitCount&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitCount=a.SplitCount),a.StringFormat&&(e.Frame.SubFrame[r].Frame.YSplitOperator.StringFormat=a.StringFormat),Wt.IsNumber(a.FloatPrecision)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.FloatPrecision=a.FloatPrecision),a.Custom&&(e.Frame.SubFrame[r].Frame.YSplitOperator.Custom=a.Custom),Wt.IsNumber(a.SplitType)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitType=a.SplitType),isNaN(a.Height)||(e.Frame.SubFrame[r].Height=a.Height),!1!==a.IsShowLeftText&&!0!==a.IsShowLeftText||(e.Frame.SubFrame[r].Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),!1!==a.IsShowRightText&&!0!==a.IsShowRightText||(e.Frame.SubFrame[r].Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),a.TopSpace>=0&&(e.Frame.SubFrame[r].Frame.ChartBorder.TopSpace=a.TopSpace),a.BottomSpace>=0&&(e.Frame.SubFrame[r].Frame.ChartBorder.BottomSpace=a.BottomSpace),a.RightTextPosition>0&&(e.Frame.SubFrame[r].Frame.YTextPosition[1]=a.RightTextPosition),a.LeftTextPosition>0&&(e.Frame.SubFrame[r].Frame.YTextPosition[0]=a.LeftTextPosition),0==a.IsShowXLine&&(e.Frame.SubFrame[r].Frame.IsShowXLine=a.IsShowXLine),0==a.IsShowYLine&&(e.Frame.SubFrame[r].Frame.IsShowYLine=a.IsShowYLine),a.YCoordinateType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=a.YCoordinateType),1==a.IsYReverse&&(e.Frame.SubFrame[0].Frame.CoordinateType=1),a.DefaultYMaxMin&&(e.Frame.SubFrame[r].Frame.YSplitOperator.DefaultYMaxMin=a.DefaultYMaxMin))}if(t.KLine&&(0==t.KLine.ShowKLine&&(e.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(e.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(e.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(e.TitlePaint[0].IsShow=!1)),t.Overlay)for(var r in t.Overlay){var a=t.Overlay[r];e.OverlaySymbol(a.Symbol,a)}if(t.ExtendChart)for(var r in t.ExtendChart){var a=t.ExtendChart[r];e.CreateExtendChart(a.Name,a)}var n=new o;if(t.ColorIndex){var a=t.ColorIndex,s=n.Get(a.Index);s&&(s.ID=a.Index,e.ColorIndex=new ai(s.Name,s.Script,s.Args,s))}if(t.TradeIndex){var a=t.TradeIndex,h=n.Get(a.Index);h&&(h.ID=a.Index,e.TradeIndex=new ai(h.Name,h.Script,h.Args,h))}for(var r in t.Windows){var a=t.Windows[r];if(a.Script)e.WindowIndex[r]=new ai(a.Name,a.Script,a.Args,a);else if(a.JsonData)e.WindowIndex[r]=new ua(a.Name,a.Script,a.Args,a);else if(a.Local&&a.Local.Data)e.WindowIndex[r]=new ni(a.Local.Name,a.Local.Args,{JsonData:a.Local.Data});else if(a.API){var l=a.API;e.WindowIndex[r]=new ri(l.Name,l.Script,l.Args,a)}else{var u=ke.Get(a.Index);if(u)e.WindowIndex[r]=u.Create(),e.CreateWindowIndex(r);else{var d=n.Get(a.Index);if(!d)continue;a.Lock&&(d.Lock=a.Lock),d.ID=a.Index;var c=d.Args;a.Args&&(c=a.Args),a.IsShortTitle&&(d.IsShortTitle=a.IsShortTitle),a.TitleFont&&(d.TitleFont=a.TitleFont),e.WindowIndex[r]=new ai(d.Name,d.Script,c,d),a.StringFormat>0&&(e.WindowIndex[r].StringFormat=a.StringFormat),a.FloatPrecision>=0&&(e.WindowIndex[r].FloatPrecision=a.FloatPrecision)}}null!=a.Modify&&(e.Frame.SubFrame[r].Frame.ModifyIndex=a.Modify),null!=a.Change&&(e.Frame.SubFrame[r].Frame.ChangeIndex=a.Change),null!=a.Close&&(e.Frame.SubFrame[r].Frame.CloseIndex=a.Close),null!=a.Overlay&&(e.Frame.SubFrame[r].Frame.OverlayIndex=a.Overlay),1==a.IsDrawTitleBG&&(e.Frame.SubFrame[r].Frame.IsDrawTitleBG=a.IsDrawTitleBG),Wt.IsNumber(a.TitleHeight)?e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight=a.TitleHeight:a.TitleHeight=e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight,0==a.IsShowTitleArraw&&(e.Frame.SubFrame[r].Frame.IsShowTitleArraw=!1),0==a.IsShowIndexName&&(e.Frame.SubFrame[r].Frame.IsShowIndexName=!1),a.IndexParamSpace>=0&&(e.Frame.SubFrame[r].Frame.IndexParamSpace=a.IndexParamSpace)}t.OverlayIndexFrameWidth>40&&(e.OverlayIndexFrameWidth=t.OverlayIndexFrameWidth);for(var r in t.OverlayIndex){var a=t.OverlayIndex[r];if(!(a.Windows>=e.Frame.SubFrame.length)){var D=(0,gi.default)(a),m=JSON.parse(D);a.Index&&(m.IndexName=a.Index),a.Windows>=0&&(m.WindowIndex=a.Windows),e.CreateOverlayWindowsIndex(m)}}return this.AdjustTitleHeight(e),e},this.CreateCustomKLineChartContainer=function(t){var e=new Xe(this.CanvasElement);if(e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new xa(this.DivElement)),t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),null!=t.KLine.IndexTreeApiUrl&&(e.ChangeIndexDialog.IndexTreeApiUrl=t.KLine.IndexTreeApiUrl),t.KLine.PageSize>0&&(e.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1)),t.CustomStock&&(e.CustomStock=t.CustomStock),t.QueryDate&&(e.QueryDate=t.QueryDate),!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Frame)for(var a in t.Frame){var i=t.Frame[a];i.SplitCount&&(e.Frame.SubFrame[a].Frame.YSplitOperator.SplitCount=i.SplitCount),i.StringFormat&&(e.Frame.SubFrame[a].Frame.YSplitOperator.StringFormat=i.StringFormat)}t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1));var r=new o;for(var a in t.Windows){var i=t.Windows[a];if(i.Script)e.WindowIndex[a]=new ai(i.Name,i.Script,i.Args,i);else{var n=ke.Get(i.Index);if(n)e.WindowIndex[a]=n.Create(),e.CreateWindowIndex(a);else{var s=r.Get(i.Index);if(!s)continue;i.Lock&&(s.Lock=i.Lock),e.WindowIndex[a]=new ai(s.Name,s.Script,s.Args,s)}}null!=i.Modify&&(e.Frame.SubFrame[a].Frame.ModifyIndex=i.Modify),null!=i.Change&&(e.Frame.SubFrame[a].Frame.ChangeIndex=i.Change),isNaN(i.TitleHeight)||(e.Frame.SubFrame[a].Frame.ChartBorder.TitleHeight=i.TitleHeight)}return e},this.CreateMinuteChartContainer=function(t){var e=null;e="分钟走势图横屏"===t.Type?new je(this.CanvasElement):new We(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog;var a=2;if(t.Windows&&t.Windows.length>0&&(a+=t.Windows.length),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),t.Minute&&0==t.Minute.IsShowTooltip&&(e.IsShowTooltip=!1),t.Language&&("CN"===t.Language?e.LanguageID=Qi.LANGUAGE_CHINESE_ID:"EN"===t.Language&&(e.LanguageID=Qi.LANGUAGE_ENGLISH_ID)),t.Info&&t.Info.length>0&&e.SetMinuteInfo(t.Info,!1),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),e.Create(a,t.Listener),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),t.CorssCursorInfo.RightTextFormat>0&&(e.ChartCorssCursor.TextFormat.Right=t.CorssCursorInfo.RightTextFormat),1==t.CorssCursorInfo.IsOnlyDrawMinute&&(e.ChartCorssCursor.IsOnlyDrawMinute=t.CorssCursorInfo.IsOnlyDrawMinute)),t.MinuteInfo&&e.CreateMinuteInfo(t.MinuteInfo),1==t.IsShowRightMenu&&(e.RightMenu=new wa(this.DivElement)),t.DayCount>1&&(e.DayCount=t.DayCount),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom)),t.SplashTitle&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),this.AdjustChartBorder(e),t.Frame){for(var i in t.Frame){var r=t.Frame[i];e.Frame.SubFrame[i]&&(r.SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),0==r.IsShowLeftText&&(e.Frame.SubFrame[i].Frame.IsShowYText[0]=r.IsShowLeftText,e.Frame.SubFrame[i].Frame.YSplitOperator.IsShowLeftText=r.IsShowLeftText),0==r.IsShowRightText&&(e.Frame.SubFrame[i].Frame.IsShowYText[1]=r.IsShowRightText,e.Frame.SubFrame[i].Frame.YSplitOperator.IsShowRightText=r.IsShowRightText),r.Height>=0&&(e.Frame.SubFrame[i].Height=r.Height),r.Custom&&(e.Frame.SubFrame[i].Frame.YSplitOperator.Custom=r.Custom),r.RightTextFormat>0&&(e.Frame.SubFrame[i].Frame.YSplitOperator.RightTextFormat=r.RightTextFormat))}e.UpdateXShowText()}if(t.ExtendChart)for(var i in t.ExtendChart){var r=t.ExtendChart[i];e.CreateExtendChart(r.Name,r)}if(t.Overlay)for(var i in t.Overlay){var r=t.Overlay[i];e.OverlaySymbol(r.Symbol,r)}t.MinuteLine&&(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowLead&&(e.IsShowLead=!1),0==t.MinuteLine.IsShowAveragePrice&&(e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1),t.MinuteLine.SplitType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.SplitType=t.MinuteLine.SplitType)),t.MinuteTitle&&(0==t.MinuteTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),!1!==t.MinuteTitle.IsShowDate&&!0!==t.MinuteTitle.IsShowDate||(e.TitlePaint[0].IsShowDate=t.MinuteTitle.IsShowDate)),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),!0===t.IsShowBeforeData&&(e.IsShowBeforeData=t.IsShowBeforeData);var n=new o;for(var i in t.Windows){var s=2+parseInt(i),r=t.Windows[i];if(r.Script)e.WindowIndex[s]=new ai(r.Name,r.Script,r.Args);else if(r.API){var h=r.API;e.WindowIndex[s]=new ri(h.Name,h.Script,h.Args,r)}else{var l=ke.Get(r.Index);if(l)e.WindowIndex[s]=l.Create(),e.CreateWindowIndex(s);else{var u=n.Get(r.Index);if(!u)continue;u.ID=r.Index;var d=u.Args;r.Args&&(d=r.Args),e.WindowIndex[s]=new ai(u.Name,u.Script,d,u),r.StringFormat>0&&(e.WindowIndex[s].StringFormat=r.StringFormat),r.FloatPrecision>=0&&(e.WindowIndex[s].FloatPrecision=r.FloatPrecision)}}null!=r.Modify&&(e.Frame.SubFrame[s].Frame.ModifyIndex=r.Modify),null!=r.Change&&(e.Frame.SubFrame[s].Frame.ChangeIndex=r.Change),null!=r.Close&&(e.Frame.SubFrame[s].Frame.CloseIndex=r.Close),isNaN(r.TitleHeight)||(e.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight=r.TitleHeight)}if(this.AdjustTitleHeight(e),t.Function){var c=t.Function;c.RequestMinuteData&&(e.RequestMinuteData=c.RequestMinuteData),c.RecvMinuteData&&(e.RecvMinuteData=c.RecvMinuteData)}return e},this.CreateHistoryMinuteChartContainer=function(t){var e=new Ue(this.CanvasElement),a=2;t.Windows&&t.Windows.length>0&&(a+=t.Windows.length),e.Create(a),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom));var i=new o;for(var r in t.Windows){var n=t.Windows[r];if(n.Script)e.WindowIndex[2+parseInt(r)]=new ai(n.Name,n.Script,n.Args);else{var s=ke.Get(n.Index);if(s)e.WindowIndex[2+parseInt(r)]=s.Create(),e.CreateWindowIndex(2+parseInt(r));else{var h=i.Get(n.Index);if(!h)continue;e.WindowIndex[2+parseInt(r)]=new ai(h.Name,h.Script,h.Args)}}isNaN(n.TitleHeight)||(e.Frame.SubFrame[2+parseInt(r)].Frame.ChartBorder.TitleHeight=n.TitleHeight)}return e.TradeDate=20181009,t.HistoryMinute.TradeDate&&(e.TradeDate=t.HistoryMinute.TradeDate),null!=t.HistoryMinute.IsShowName&&(e.TitlePaint[0].IsShowName=t.HistoryMinute.IsShowName),null!=t.HistoryMinute.IsShowDate&&(e.TitlePaint[0].IsShowDate=t.HistoryMinute.IsShowDate),e},this.CreateKLineTrainChartContainer=function(t){var e="K线训练横屏"==t.Type,a=new Ke(this.CanvasElement,e);if(t.NetworkFilter&&(a.NetworkFilter=t.NetworkFilter),1==t.IsApiPeriod&&(a.IsApiPeriod=t.IsApiPeriod),a.ModifyIndexDialog=this.ModifyIndexDialog,a.ChangeIndexDialog=this.ChangeIndexDialog,t.ScriptError&&(a.ScriptErrorCallback=t.ScriptError),t.KLine&&(t.KLine.Right>=0&&(a.Right=t.KLine.Right),t.KLine.Period>=0&&(a.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(a.MaxReqeustDataCount=t.KLine.MaxReqeustDataCount),t.KLine.Info&&t.KLine.Info.length>0&&a.SetKLineInfo(t.KLine.Info,!1),t.KLine.PageSize>0&&(a.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(a.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(a.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(a.KLineDrawType=t.KLine.DrawType),t.KLine.RightSpaceCount>0&&(a.RightSpaceCount=t.KLine.RightSpaceCount)),t.Train&&(t.Train.DataCount&&(a.TrainDataCount=t.Train.DataCount),t.Train.Callback&&(a.TrainCallback=t.Train.Callback),t.Train.StartDate&&(a.TrainStartDate=t.Train.StartDate)),!t.Windows||t.Windows.length<=0)return null;if(a.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(a.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(a.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(a.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(a.Frame.ChartBorder.Bottom=t.Border.Bottom)),this.AdjustChartBorder(a),0==t.IsShowCorssCursorInfo&&(a.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),!0===t.IsCorssOnlyDrawKLine&&(a.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(a.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(a.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(a.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(a.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(a.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(a.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(a.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(a.PressTime=t.CorssCursorInfo.PressTime),t.CorssCursorInfo.HPenType>0&&(a.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(a.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),t.CorssCursor={},t.CorssCursor.TitleHeight=a.ChartCorssCursor.TextHeight,t.Frame)for(var i in t.Frame){var r=t.Frame[i];a.Frame.SubFrame[i]&&(r.SplitCount&&(a.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=r.SplitCount),r.StringFormat&&(a.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=r.StringFormat),Wt.IsNumber(r.FloatPrecision)&&(a.Frame.SubFrame[i].Frame.YSplitOperator.FloatPrecision=r.FloatPrecision),r.Custom&&(a.Frame.SubFrame[i].Frame.YSplitOperator.Custom=r.Custom),Wt.IsNumber(r.SplitType)&&(a.Frame.SubFrame[i].Frame.YSplitOperator.SplitType=r.SplitType),r.Height>0&&(a.Frame.SubFrame[i].Height=r.Height),0==r.IsShowLeftText&&(a.Frame.SubFrame[i].Frame.YSplitOperator.IsShowLeftText=r.IsShowLeftText),0==r.IsShowRightText&&(a.Frame.SubFrame[i].Frame.YSplitOperator.IsShowRightText=r.IsShowRightText))}if(t.KLine&&(0==t.KLine.ShowKLine&&(a.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(a.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(a.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(a.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(a.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(a.TitlePaint[0].IsShow=!1)),t.ExtendChart)for(var i in t.ExtendChart){var r=t.ExtendChart[i];a.CreateExtendChart(r.Name,r)}var n=new o;for(var i in t.Windows){var r=t.Windows[i];if(r.Script)a.WindowIndex[i]=new ai(r.Name,r.Script,r.Args,r);else{var s=ke.Get(r.Index);if(s)a.WindowIndex[i]=s.Create(),a.CreateWindowIndex(i);else{var h=n.Get(r.Index);if(!h)continue;r.Lock&&(h.Lock=r.Lock),a.WindowIndex[i]=new ai(h.Name,h.Script,h.Args,h)}}null!=r.Modify&&(a.Frame.SubFrame[i].Frame.ModifyIndex=r.Modify),null!=r.Change&&(a.Frame.SubFrame[i].Frame.ChangeIndex=r.Change),null!=r.Close&&(a.Frame.SubFrame[i].Frame.CloseIndex=r.Close),isNaN(r.TitleHeight)||(a.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=r.TitleHeight)}return this.AdjustTitleHeight(a),a},this.SetOption=function(t){var e=null;switch(t.Type){case"历史K线图":case"历史K线图横屏":e=this.CreateKLineChartContainer(t);break;case"自定义指数历史K线图":e=this.CreateCustomKLineChartContainer(t);break;case"分钟走势图":case"分钟走势图横屏":e=this.CreateMinuteChartContainer(t);break;case"历史分钟走势图":e=this.CreateHistoryMinuteChartContainer(t);break;case"K线训练":case"K线训练横屏":e=this.CreateKLineTrainChartContainer(t);break;case"简单图形":return this.CreateSimpleChart(t);case"饼图":case"雷达图":return this.CreatePieChart(t);case"地图":return this.CreateMapChart(t);default:return!1}if(!e)return!1;null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency);for(var a in t.EventCallback){var i=t.EventCallback[a];e.AddEventCallback(i)}t.Symbol?(e.Draw(),e.ChangeSymbol(t.Symbol),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()):(e.DrawEmpty(),this.JSChartContainer=e,this.DivElement.JSChart=this)},this.CreateSimpleChart=function(t){var e=new ze(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreatePieChart=function(t){var e=new qe(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),t.Radius&&(e.Radius=t.Radius),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),this.AdjustChartBorder(e),t.Frame&&0==t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateMapChart=function(t){var e=new Ze(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateToolbar=function(t){},this.CreateSettingDiv=function(t){},this.Focus=function(){this.CanvasElement&&this.CanvasElement.focus()},this.ChangeSymbol=function(t){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t)},this.ChangeIndex=function(t,e,a){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndex&&this.JSChartContainer.ChangeIndex(t,e,a)},this.ChangeScriptIndex=function(t,e,a){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeScriptIndex&&this.JSChartContainer.ChangeScriptIndex(t,e,a)},this.ChangePyScriptIndex=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePyScriptIndex&&this.JSChartContainer.ChangePyScriptIndex(t,e)},this.GetIndexInfo=function(){return this.JSChartContainer&&"function"==typeof this.JSChartContainer.GetIndexInfo?this.JSChartContainer.GetIndexInfo():[]},this.ChangeInstructionIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionIndex(t)},this.ChangeInstructionScriptIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionScriptIndex(t)},this.CancelInstructionIndex=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CancelInstructionIndex&&this.JSChartContainer.CancelInstructionIndex()},this.ChangePeriod=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePeriod&&this.JSChartContainer.ChangePeriod(t,e)},this.ChangeRight=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeRight&&this.JSChartContainer.ChangeRight(t)},this.OverlaySymbol=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.OverlaySymbol&&this.JSChartContainer.OverlaySymbol(t,e)},this.DeleteOverlaySymbol=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlaySymbol&&this.JSChartContainer.DeleteOverlaySymbol(t)},this.SetFirstShowDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetFirstShowDate&&this.JSChartContainer.SetFirstShowDate(t)},this.ChangeKLineDrawType=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeKLineDrawType&&this.JSChartContainer.ChangeKLineDrawType(t,e)},this.ChangeIndexWindowCount=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexWindowCount&&this.JSChartContainer.ChangeIndexWindowCount(t,e)},this.ClearOverlaySymbol=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearOverlaySymbol&&this.JSChartContainer.ClearOverlaySymbol()},this.DeleteKLineInfo=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteKLineInfo&&this.JSChartContainer.DeleteKLineInfo(t)},this.ClearKLineInfo=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearKLineInfo&&this.JSChartContainer.ClearKLineInfo()},this.AddKLineInfo=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddKLineInfo&&this.JSChartContainer.AddKLineInfo(t,e)},this.ChangMainDataControl=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetMainDataConotrl&&this.JSChartContainer.SetMainDataConotrl(t)},this.AddOverlayIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddOverlayIndex&&this.JSChartContainer.AddOverlayIndex(t)},this.DeleteOverlayWindowsIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlayWindowsIndex&&this.JSChartContainer.DeleteOverlayWindowsIndex(t)},this.StopAutoUpdate=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAutoUpdate&&this.JSChartContainer.StopAutoUpdate()},this.SetDepthMapData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetDepthMapData&&this.JSChartContainer.SetDepthMapData(t,e)},this.ForceLandscape=function(t){this.JSChartContainer&&(xi.Chart.Log("[JSChart::ForceLandscape] bForceLandscape="+t),this.JSChartContainer.IsForceLandscape=t)},this.LockIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.LockIndex&&(xi.Chart.Log("[JSChart:LockIndex] lockData",t),this.JSChartContainer.LockIndex(t))},this.ChangeTradeDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeTradeDate&&(xi.Chart.Log("[JSChart:ChangeTradeDate] date",t),this.JSChartContainer.ChangeTradeDate(t))},this.ChangeDayCount=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeDayCount&&(xi.Chart.Log("[JSChart:ChangeDayCount] count",t),this.JSChartContainer.ChangeDayCount(t))},this.StartAnimation=function(t){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StartAnimation)return xi.Chart.Log("[JSChart:StartAnimation] start."),this.JSChartContainer.StartAnimation(t)},this.StopAnimation=function(){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAnimation)return xi.Chart.Log("[JSChart:StopAnimation] start."),this.JSChartContainer.StopAnimation()},this.SaveToImage=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImage)return this.JSChartContainer.SaveToImage(t,e)},this.SaveToImageUrl=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImageUrl)return this.JSChartContainer.SaveToImageUrl(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(xi.Chart.Log("[JSChart:AddEventCallback] ",t),this.JSChartContainer.AddEventCallback(t))},this.SetLanguage=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetLanguage&&(xi.Chart.Log("[JSChart:SetLanguage] ",t),this.JSChartContainer.SetLanguage(t))},this.ChangeIndexTemplate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexTemplate&&(xi.Chart.Log("[JSChart:ChangeIndexTemplate] ",t),this.JSChartContainer.ChangeIndexTemplate(t))},this.SetChartDrawOption=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetChartDrawOption&&(xi.Chart.Log("[JSChart:SetChartDrawOption] ",t),this.JSChartContainer.SetChartDrawOption(t))},this.CreateChartDrawPicture=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CreateChartDrawPicture&&(xi.Chart.Log("[JSChart:CreateChartDrawPicture] ",t),this.JSChartContainer.CreateChartDrawPicture(t,e))},this.ClearChartDrawPicture=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearChartDrawPicture&&this.JSChartContainer.ClearChartDrawPicture(t)},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(xi.Chart.Log("[JSChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))}}function l(t,e){var a=this;this.ClassName="JSChartContainer";this.Frame,this.ChartPaint=new Array,this.ChartPaintEx=[],this.ChartInfo=new Array,this.ChartInfoPaint,this.ExtendChartPaint=new Array,this.TitlePaint=new Array,this.OverlayChartPaint=new Array,this.ChartDrawPicture=new Array,this.ChartDrawStorage,this.ChartDrawOption={IsLockScreen:!1,Zoom:5},this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null,this.ChartPictureMenu,this.ChartCorssCursor,this.IsClickShowCorssCursor=!1,this.ChartSplashPaint=null,e?(this.Canvas=e.getContext("2d"),this.OffscreenCanvasElement=e,this.ShowCanvas=t.getContext("2d")):(this.Canvas=t.getContext("2d"),this.ShowCanvas=null),this.UIElement=t,this.MouseDrag,this.DragMode=1,this.TouchStatus={CorssCursorShow:!1},this.DragTimer,this.EnableScrollUpDown=!1,this.CursorIndex=0,this.LastPoint=new p,this.IsForceLandscape=!1,this.CorssCursorTouchEnd=!1,this.StepPixel=4,this.ZoomStepPixel=5,this.TouchMoveMinAngle=70,this.EnableAnimation=!1,this.Tooltip=document.createElement("div"),this.Tooltip.className="jschart-tooltip",this.Tooltip.style.background=Zi.TooltipBGColor,this.Tooltip.style.opacity=Zi.TooltipAlpha,this.Tooltip.id=D(),t.parentNode.appendChild(this.Tooltip),this.IsShowTooltip=!0,this.SelectRect=document.createElement("div"),this.SelectRect.className="jschart-selectrect",this.SelectRect.style.background=Zi.SelectRectBGColor,this.SelectRect.id=D(),this.SelectRect.oncontextmenu=function(){return!1},t.parentNode.appendChild(this.SelectRect),this.SelectRectRightMenu,this.FrameSplitData=new Ai.default,this.FrameSplitData.set("double",new be),this.FrameSplitData.set("price",new Ye),this.mapEvent=new Ai.default,this.IsOnTouch=!1,this.TouchDrawCount=0,this.DisableMouse=!1,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.PressTime=500,this.NetworkFilter,this.LastMouseStatus={},this.ClickDownPoint,this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.GetIndexEvent=function(){return this.GetEventCallback(Oi.RECV_INDEX_DATA)},this.GetOverlayIndexEvent=function(){return this.GetEventCallback(Oi.RECV_OVERLAY_INDEX_DATA)},t.onmousemove=function(t){a.UIOnMouseMove(t)},t.oncontextmenu=function(t){return a.UIOnContextMenu(t)},t.ondblclick=function(t){a.UIOnDblClick(t)},t.onmousedown=function(t){a.UIOnMouseDown(t)},t.onmouseout=function(t){a.UIOnMounseOut(t)},this.UIOnMouseMove=function(t){var e=u(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,i=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if((!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&1!=this.DisableMouse){var r={X:a,Y:i,IsInClient:this.IsMouseOnClient(a,i)};this.LastMouseStatus.OnMouseMove=r,this.OnMouseMove(a,i,t)}},this.IsMouseOnClient=function(t,e){return this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(t,e)},this.UIOnContextMenu=function(t){var e=t.clientX-this.UIElement.getBoundingClientRect().left,a=t.clientY-this.UIElement.getBoundingClientRect().top;return"function"==typeof this.OnRightMenu&&this.OnRightMenu(e,a,t),!1},this.UIOnDblClick=function(t){var e=t.clientX-this.UIElement.getBoundingClientRect().left,a=t.clientY-this.UIElement.getBoundingClientRect().top;this.OnDoubleClick(e,a,t)},this.UIOnMouseDown=function(t){var e=this;if(this.ClickDownPoint={X:t.clientX,Y:t.clientY},0!=this.DragMode){var a=u();if(this.IsOnTouch=!0,this.TryClickLock){var i=(t.clientX-this.UIElement.getBoundingClientRect().left)*a,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*a;if(this.TryClickLock(i,r))return}this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),this.ChartPictureMenu&&this.ChartPictureMenu.Hide();var n={Click:{},LastMove:{}};if(n.Click.X=t.clientX,n.Click.Y=t.clientY,n.LastMove.X=t.clientX,n.LastMove.Y=t.clientY,this.MouseDrag=n,this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture){2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(n.Click.X,n.Click.Y):(this.SetChartDrawPictureFirstPoint(n.Click.X,n.Click.Y),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo())}else{var s={},a=u();if(s.X=(t.clientX-this.UIElement.getBoundingClientRect().left)*a,s.Y=(t.clientY-this.UIElement.getBoundingClientRect().top)*a,this.GetChartDrawPictureByPoint(s)){s.ChartDrawPicture.Status=20,s.ChartDrawPicture.ValueToPoint(),s.ChartDrawPicture.MovePointIndex=s.PointIndex,this.CurrentChartDrawPicture=s.ChartDrawPicture,this.SelectChartDrawPicture=s.ChartDrawPicture;var o=this.GetEventCallback(Oi.ON_CLICK_DRAWPICTURE);if(o&&o.Callback){var h={DrawPicture:s.ChartDrawPicture};o.Callback(o,h,this)}else this.OnSelectChartPicture(s.ChartDrawPicture)}}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}}},this.DocOnMouseMove=function(e){if(!this.ChartSplashPaint||1!=this.IsEnableSplash){var a=this.MouseDrag;if(a){var i=Math.abs(a.LastMove.X-e.clientX);if(this.CurrentChartDrawPicture){var r=this.CurrentChartDrawPicture;if(1==r.Status||2==r.Status){if(Math.abs(a.LastMove.X-e.clientX)<5&&Math.abs(a.LastMove.Y-e.clientY)<5)return;this.SetChartDrawPictureSecondPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo()}else if(3==r.Status)this.SetChartDrawPictureThirdPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo();else if(20==r.Status){if(Math.abs(a.LastMove.X-e.clientX)<5&&Math.abs(a.LastMove.Y-e.clientY)<5)return;this.MoveChartDrawPicture(e.clientX-a.LastMove.X,e.clientY-a.LastMove.Y)&&this.DrawDynamicInfo()}a.LastMove.X=e.clientX,a.LastMove.Y=e.clientY}else if(1==this.DragMode){if(i<5)return;var n=!0;a.LastMove.X<e.clientX&&(n=!1),this.UIElement.style.cursor="pointer",this.DataMove(i,n)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):this.DragDownloadData&&this.DragDownloadData(),a.LastMove.X=e.clientX,a.LastMove.Y=e.clientY}else if(2==this.DragMode){var s=Math.abs(a.LastMove.Y-e.clientY);if(i<5&&s<5)return;var o=a.Click.X-t.getBoundingClientRect().left,h=a.Click.Y-t.getBoundingClientRect().top,l=e.clientX-t.getBoundingClientRect().left,u=e.clientY-t.getBoundingClientRect().top;this.ShowSelectRect(o,h,l,u),a.LastMove.X=e.clientX,a.LastMove.Y=e.clientY}}}},this.DocOnMouseUp=function(e){document.onmousemove=null,document.onmouseup=null;var a=!0;if(this.CurrentChartDrawPicture){var i=this.CurrentChartDrawPicture;2==i.Status||1==i.Status||3==i.Status?(i.PointStatus=i.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():a=!1):20==i.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}else if(2==this.DragMode){var r=this.MouseDrag,n=new v;if(n.XStart=r.Click.X-t.getBoundingClientRect().left,n.XEnd=r.LastMove.X-t.getBoundingClientRect().left,n.JSChartContainer=this.JSChartContainer,n.Stock={Symbol:this.Symbol,Name:this.Name},this.GetSelectRectData(n)){var s=this.GetEventCallback(Oi.ON_SELECT_RECT);if(s&&s.Callback){var o={X:r.LastMove.X-t.getBoundingClientRect().left,Y:r.LastMove.Y-t.getBoundingClientRect().top,SelectData:n};s.Callback(s,o,this)}this.SelectRectRightMenu&&(e.data={Chart:this,X:r.LastMove.X-t.getBoundingClientRect().left,Y:r.LastMove.Y-t.getBoundingClientRect().top,SelectData:n},this.SelectRectRightMenu.DoModal(e))}else this.TryClickPaintEvent(e)}else this.TryClickPaintEvent(e);xi.Chart.Log("[KLineChartContainer::document.onmouseup]",e),this.UIElement.style.cursor="default",this.MouseDrag=null,this.ClickDownPoint=null,this.IsOnTouch=!1,!0===a&&(this.CurrentChartDrawPicture=null)},this.UIOnMounseOut=function(t){xi.Chart.Log("[KLineChartContainer::UIOnMounseOut]",t),this.UIOnMouseMove(t)},this.TryClickPaintEvent=function(e){var a=this.GetEventCallback(Oi.ON_CLICK_CHART_PAINT);if(a&&a.Callback&&this.ClickDownPoint.X==e.clientX&&this.ClickDownPoint.Y==e.clientY){var i=u(),r=(e.clientX-t.getBoundingClientRect().left)*i,n=(e.clientY-t.getBoundingClientRect().top)*i,s=new W,o=null;for(var h in this.ChartPaint){var l=this.ChartPaint[h];if(l.GetTooltipData(r,n,s)){o={Symbol:this.Symbol,Name:this.Name};break}}if(!s.Data)for(var h in this.OverlayChartPaint){var l=this.OverlayChartPaint[h];if(l.GetTooltipData(r,n,s)){o={Symbol:s.ChartPaint.Symbol,Name:s.ChartPaint.Title};break}}if(s.Data){var d={X:e.clientX,Y:e.clientY,Stock:o,Tooltip:s};return a.Callback(a,d,this),!0}}return!1},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,a=t.touches.length;return 1==e&&1==a},this.IsPhonePinching=function(t){var e=t.changedTouches.length,a=t.touches.length;return(1==e||2==e)&&2==a},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.GetToucheData=function(t,e){for(var a=new Array,i=u(),r=0;r<t.touches.length;++r){var n=t.touches[r];e?a.push({clientX:n.clientY*i,clientY:n.clientX*i,pageX:n.pageY*i,pageY:n.pageX*i}):a.push({clientX:n.clientX*i,clientY:n.clientY*i,pageX:n.pageX*i,pageY:n.pageY*i})}return a},this.IsSingleTouch=function(t){return 1==t.touches.length},this.StopDragTimer=function(){Wt.IsNumber(this.DragTimer)&&(clearTimeout(this.DragTimer),this.DragTimer=null)},this.GetMoveAngle=function(t,e){var a=Math.abs(t.X-e.X),i=Math.abs(t.Y-e.Y);return 180*Math.atan(a/i)/Math.PI},t.ontouchstart=function(t){a.OnTouchStart(t)},t.ontouchmove=function(t){a.OnTouchMove(t)},t.ontouchend=function(t){a.OnTouchEnd(t)},this.OnTouchStart=function(t){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer();var e=this.IsSingleTouch(t);if((0==this.EnableScrollUpDown||!e||this.DragMode==Ri.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow)&&t.cancelable&&t.preventDefault(),this.IsPhoneDragging(t)){if(this.TryClickLock||this.TryClickIndexTitle){var a=this.GetToucheData(t,this.IsForceLandscape),i=this.PointAbsoluteToRelative(a[0].clientX,a[0].clientY,!0),r=i.X,n=i.Y;if(this.TryClickLock&&this.TryClickLock(r,n))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(r,n))return}var s=!0;this.ChartDrawOption.IsLockScreen?s=!1:this.DragMode==Ri.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(s=!1):this.DragMode==Ri.DISABLE_DRAG_ID?s=!1:e||(s=!1);var o={Click:{},LastMove:{}},a=this.GetToucheData(t,this.IsForceLandscape);o.Click.X=a[0].clientX,o.Click.Y=a[0].clientY,o.LastMove.X=a[0].clientX,o.LastMove.Y=a[0].clientY,this.MouseDrag=o,this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null;if(this.CurrentChartDrawPicture){return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(o.Click.X,o.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(o.Click.X,o.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(t.cancelable&&t.preventDefault())}var i=this.PointAbsoluteToRelative(a[0].clientX,a[0].clientY,!0),h={X:i.X,Y:i.Y};u();if(this.GetChartDrawPictureByPoint(h)){h.ChartDrawPicture.Status=20,h.ChartDrawPicture.ValueToPoint(),h.ChartDrawPicture.MovePointIndex=h.PointIndex,h.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=h.ChartDrawPicture,this.SelectChartDrawPicture=h.ChartDrawPicture;var l=this.GetEventCallback(Oi.ON_CLICK_DRAWPICTURE);if(l&&l.Callback){var d={DrawPicture:h.ChartDrawPicture};l.Callback(l,d,this)}return void(t.cancelable&&t.preventDefault())}if(s){var c=this;this.DragTimer=setTimeout(function(){if(o.Click.X==o.LastMove.X&&o.Click.Y==o.LastMove.Y){c.MouseDrag;c.MouseDrag=null,c.DragMode==Ri.CLICK_TOUCH_MODE_ID&&(c.TouchStatus.CorssCursorShow=!0),c.MoveCorssCursor(o.Click,t)}},c.PressTime)}this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==Ri.CLICK_TOUCH_MODE_ID||(this.DragMode==Ri.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(o.Click,t)):this.IsClickShowCorssCursor&&this.MoveCorssCursor(o.Click,t))}else if(this.IsPhonePinching(t)){var D={Start:{},Last:{}},a=this.GetToucheData(t,this.IsForceLandscape);D.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},D.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=D,this.SelectChartDrawPicture=null}},this.OnTouchMove=function(e){var a=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var i=this.MouseDrag;if(null==i)this.IsForceLandscape&&(y=t.getBoundingClientRect().width-a[0].clientY),this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:a[0].clientX,Y:a[0].clientY},e);else{var r=this.GetMoveAngle(i.LastMove,{X:a[0].clientX,Y:a[0].clientY}),n=Math.abs(i.LastMove.X-a[0].clientX),s=Math.abs(i.LastMove.Y-a[0].clientY);n=parseInt(n);var o=this.DragMode==Ri.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.CurrentChartDrawPicture){var h=this.CurrentChartDrawPicture;if(1==h.Status||2==h.Status){if(n<5&&s<5)return;this.SetChartDrawPictureSecondPoint(a[0].clientX,a[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==h.Status)this.SetChartDrawPictureThirdPoint(a[0].clientX,a[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==h.Status){if(n<5&&s<5)return;this.MoveChartDrawPicture(a[0].clientX-i.LastMove.X,a[0].clientY-i.LastMove.Y,!0)&&this.DrawDynamicInfo()}i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY}else if(o){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(i.Click,e)}else if(1==this.DragMode||0==o){if((s>0&&n<=3||r<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();if(n<5||r<=this.TouchMoveMinAngle)return void this.PreventTouchEvent(e);var l=!0;i.LastMove.X<a[0].clientX&&(l=!1),this.DataMove(n,l)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):this.DragDownloadData&&this.DragDownloadData(),i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY}}}else if(this.IsPhonePinching(e)){if(this.DragMode==Ri.DISABLE_DRAG_ID)return;this.PreventTouchEvent(e);var u=this.PhonePinch;if(!u)return;var d=Math.abs(a[0].pageY-a[1].pageY),c=Math.abs(u.Last.Y-u.Last.Y2),D=d-c,m=Math.abs(a[0].pageX-a[1].pageX),C=Math.abs(u.Last.X-u.Last.X2),f=m-C,p=this.ZoomStepPixel;if(Math.abs(D)<p&&Math.abs(f)<p)return;var v=D;if(Math.abs(D)<p&&(v=f),v>0){var S={};if(S.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(S))return;this.CursorIndex=S.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}else{var S={};if(S.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(S))return;this.CursorIndex=S.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}u.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY}}this.PreventTouchEvent(e)},this.OnTouchEnd=function(t){xi.Chart.Log("[KLineChartContainer:OnTouchEnd]",t);var e=!0;if(this.CurrentChartDrawPicture){var a=this.CurrentChartDrawPicture;2==a.Status||1==a.Status||3==a.Status?(a.PointStatus=a.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():e=!1):20==a.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}this.IsOnTouch=!1,!0===e&&(this.CurrentChartDrawPicture=null),this.StopDragTimer(),this.OnTouchFinished(),this.TouchDrawCount=0},this.MoveCorssCursor=function(t,e){var a=u(),i=t.X-this.UIElement.getBoundingClientRect().left*a,r=t.Y-this.UIElement.getBoundingClientRect().top*a;this.DragMode==Ri.CLICK_TOUCH_MODE_ID&&(this.TouchStatus.CorssCursorShow=!0),this.OnMouseMove(i,r,e)},this.DrawEmpty=function(){this.UIElement.width<=0||this.UIElement.height<=0||(this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Frame&&(this.Frame.ScreenImageData=null,this.Frame.Draw()))},this.Draw=function(){var t=this;if(this.ChartCorssCursor&&(this.ChartCorssCursor.Status=0),!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var e=u();if(this.Canvas.lineWidth=e,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw(),void this.ChartSplashPaint.Draw();if(this.Frame.SetDrawDepthMap(function(){for(var e in t.ExtendChartPaint){var a=t.ExtendChartPaint[e];a.IsCallbackDraw&&a.Draw()}}),this.Frame.Draw(),this.Frame.DrawCustomVertical){var a=this.GetEventCallback(Oi.ON_CUSTOM_VERTICAL_DRAW);this.Frame.DrawCustomVertical(a)}this.Frame.CalculateLock();for(var i in this.ChartPaint){var r=this.ChartPaint[i];r.IsDrawFirst&&r.Draw()}for(var i in this.ChartPaint){var r=this.ChartPaint[i];r.IsDrawFirst||r.Draw()}for(var i in this.ChartPaintEx){var r=this.ChartPaintEx[i];r.Draw()}for(var i in this.OverlayChartPaint){var r=this.OverlayChartPaint[i];r.Draw()}this.Frame.DrawOveraly&&this.Frame.DrawOveraly();for(var i in this.ExtendChartPaint){var r=this.ExtendChartPaint[i];r.IsCallbackDraw||(r.IsDynamic||0!=r.IsAnimation||r.Draw())}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawCustomHorizontal&&this.Frame.DrawCustomHorizontal(),this.ChartInfoPaint&&this.ChartInfoPaint.Draw(),this.Frame.DrawLock(),this.Frame.Snapshot();for(var i in this.ExtendChartPaint){var r=this.ExtendChartPaint[i];r.IsCallbackDraw||r.IsDynamic&&!1===r.DrawAfterTitle&&r.Draw()}null==this.LastPoint.X&&null==this.LastPoint.Y||this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex,this.DragMode==Ri.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():!0===this.CorssCursorTouchEnd&&this.MouseDrag||1==this.CorssCursorTouchEnd&&0==this.IsOnTouch||this.ChartCorssCursor.Draw());var n=this.GetEventCallback(Oi.ON_TITLE_DRAW),s=this.GetEventCallback(Oi.ON_INDEXTITLE_DRAW);for(var i in this.TitlePaint){var r=this.TitlePaint[i];r.IsDynamic&&(r.CursorIndex=this.CursorIndex,"DynamicChartTitlePainting"==r.ClassName?r.OnDrawEvent=s:r.OnDrawEvent=n,r.OnDrawEvent&&(r.OnDrawEvent.FunctionName="Draw",r.OnDrawEvent.PointPosition=null),r.Draw())}for(var i in this.ExtendChartPaint){var r=this.ExtendChartPaint[i];r.IsCallbackDraw||r.IsDynamic&&!0===r.DrawAfterTitle&&0==r.IsAnimation&&r.Draw()}if(this.EnableAnimation)for(var i in this.ExtendChartPaint){var r=this.ExtendChartPaint[i];!0===r.IsAnimation&&r.Draw()}for(var i in this.ChartDrawPicture){var r=this.ChartDrawPicture[i];r.Draw()}if(this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw(),this.OffscreenToShowCanvas(),this.mapEvent.has(Oi.CHART_STATUS)){var o=this.mapEvent.get(Oi.CHART_STATUS),h={};"function"==typeof this.GetChartStatus&&(h=this.GetChartStatus()),o.Callback(o,h,this)}++this.TouchDrawCount}},this.OffscreenToShowCanvas=function(){this.ShowCanvas&&(this.ShowCanvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.ShowCanvas.drawImage(this.OffscreenCanvasElement,0,0))},this.DrawDynamicInfo=function(t){if(null!=this.Frame.ScreenImageData){var e=!1;if(this.ChartCorssCursor&&(null==this.ChartCorssCursor.PointX&&null==this.ChartCorssCursor.PointY||(e=!0)),0==(e=!0))for(var a in this.ExtendChartPaint){var i=this.ExtendChartPaint[a];if(!i.IsCallbackDraw&&(i.IsDynamic&&i.IsEraseBG)){e=!0;break}}e&&this.Canvas.putImageData(this.Frame.ScreenImageData,0,0);for(var a in this.ExtendChartPaint){var i=this.ExtendChartPaint[a];i.IsCallbackDraw||i.IsDynamic&&!1===i.DrawAfterTitle&&0==i.IsAnimation&&i.Draw()}this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex,t&&0==t.Corss||(this.DragMode==Ri.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():!1===this.IsOnTouch&&!0===this.CorssCursorTouchEnd||this.CurrentChartDrawPicture||this.ChartCorssCursor.Draw()));var r=null;t&&"OnMouseMove"==t.ParentFunction&&t.Point&&(r=this.Frame.PtInFrame(t.Point.X,t.Point.Y));for(var a in this.TitlePaint){var i=this.TitlePaint[a];i.IsDynamic&&(i.CursorIndex=this.CursorIndex,i.OnDrawEvent&&(i.OnDrawEvent.FunctionName="DrawDynamicInfo",i.OnDrawEvent.PointPosition=r),i.Draw())}for(var a in this.ExtendChartPaint){var i=this.ExtendChartPaint[a];i.IsCallbackDraw||("KLineTooltipPaint"==i.ClassName&&t&&0==t.Tooltip||i.IsDynamic&&!0===i.DrawAfterTitle&&i.Draw())}if(this.EnableAnimation)for(var a in this.ExtendChartPaint){var i=this.ExtendChartPaint[a];!0===i.IsAnimation&&i.Draw()}for(var a in this.ChartDrawPicture){var i=this.ChartDrawPicture[a];i.Draw()}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw(),this.OffscreenToShowCanvas(),++this.TouchDrawCount}},this.DrawAnimation=function(){if(this.EnableAnimation){if(this.Frame.ScreenImageData&&!this.IsOnTouch){for(var t in this.ExtendChartPaint){var e=this.ExtendChartPaint[t];!0===e.IsAnimation&&(e.IsMoveStep=!0)}this.DrawDynamicInfo()}var a=this;window.requestAnimationFrame(function(){a.DrawAnimation()})}},this.StartAnimation=function(t){var e=!1,a=null;for(var i in this.ExtendChartPaint){var r=this.ExtendChartPaint[i];if("BarragePaint"===r.ClassName){e=!0,a=r.BarrageList;break}}if(!e){var n=new Gt;n.Canvas=this.Canvas,n.ChartBorder=this.Frame.ChartBorder,n.ChartFrame=this.Frame,n.HQChart=this,n.SetOption(t),this.ExtendChartPaint.push(n),a=n.BarrageList}this.EnableAnimation=!0;var s=this;return window.requestAnimationFrame(function(){s.DrawAnimation()}),a},this.StopAnimation=function(){this.EnableAnimation=!1,this.DrawDynamicInfo()},this.OnMouseMove=function(t,e,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(t);var i=!1;if(this.CurrentChartDrawPicture)this.CurrentChartDrawPicture.SetLastPoint&&this.CurrentChartDrawPicture.SetLastPoint({X:t,Y:e}),i=!0;else{var r={};r.X=t,r.Y=e,this.GetChartDrawPictureByPoint(r)?(100===r.PointIndex?this.UIElement.style.cursor="move":this.UIElement.style.cursor="pointer",i=!0):this.MouseDrag||(this.UIElement.style.cursor="default")}var n={ParentFunction:"OnMouseMove",Point:{X:t,Y:e}};if(this.DrawDynamicInfo(n),this.IsShowTooltip&&0==i){var s=new W;for(var o in this.ChartPaint){var h=this.ChartPaint[o];if(h.GetTooltipData(t,e,s))break}if(this.ChartInfoPaint&&this.ChartInfoPaint.GetTooltipData(t,e,s),!s.Data)for(var o in this.OverlayChartPaint){var h=this.OverlayChartPaint[o];if(h.GetTooltipData(t,e,s))break}if(s.Data){var l=a.clientX-this.UIElement.getBoundingClientRect().left,u=a.clientY-this.UIElement.getBoundingClientRect().top;this.ShowTooltip(l,u,s)}else this.HideTooltip()}},this.OnKeyDown=function(t){switch(t.keyCode?t.keyCode:t.which){case 37:if(this.CursorIndex<=.99999){if(!this.DataMoveLeft()){this.DragDownloadData&&this.DragDownloadData();break}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown()}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown();break;case 39:var e=0;if(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex+1>=e){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown()}else{var a=null;if(!(a=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+a.DataOffset+1>=a.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}break;case 38:var i={ZoomType:this.ZoomType};if(i.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(i))break;this.CursorIndex=i.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown();break;case 40:var i={ZoomType:this.ZoomType};if(i.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(i))break;this.CursorIndex=i.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown();break;case 46:if(!this.SelectChartDrawPicture)break;var r=this.SelectChartDrawPicture;xi.Chart.Log(r,"drawPicturedrawPicturedrawPicture"),this.SelectChartDrawPicture=null,this.ClearChartDrawPicture(r);break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1},this.OnDoubleClick=function(t,e,a){},this.IsKLineContainer=function(){return"KLineChartContainer"==this.ClassName||"KLineChartHScreenContainer"==this.ClassName||"KLineTrainChartContainer"==this.ClassName},this.UpdatePointByCursorIndex=function(t){var e={X:null,Y:null};e.X=this.Frame.GetXFromIndex(this.CursorIndex);var a=Math.abs(this.CursorIndex-.5);this.IsKLineContainer()&&(a=this.CursorIndex);var i=this.Frame.Data;if(i.DataOffset+a<i.Data.length){var r=i.Data[i.DataOffset+a].Close;e.Y=this.Frame.GetYFromData(r)}if(1==t&&this.ChartCorssCursor)if(1==this.ChartCorssCursor.Status);else{this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var a=Math.abs(this.CursorIndex-.5);a=parseInt(a.toFixed(0)),this.IsKLineContainer()&&(a=this.CursorIndex),this.LastPoint.Y=null}else 2==t&&this.ChartCorssCursor?(this.LastPoint.Y=null,this.LastPoint.X=null):(this.LastPoint.X=e.X,this.LastPoint.Y=e.Y)},this.ShowTooltipByKeyDown=function(){var t=Math.abs(this.CursorIndex-.5);t=parseInt(t.toFixed(0)),"KLineChartContainer"!=this.ClassName&&"KLineTrainChartContainer"!=this.ClassName||(t=this.CursorIndex);var e=this.Frame.Data,a=new W;a.Data=e.Data[e.DataOffset+t],a.ChartPaint=this.ChartPaint[0];var i=u();0===i&&(i=1),this.ShowTooltip(this.LastPoint.X/i,this.LastPoint.Y/i,a)},this.ShowTooltip=function(t,e,a){if(this.IsShowTooltip){var i=u(),r=15/i;if(0===a.Type){var n=(m(),t),s=e,o=ji.Create("HistoryDataStringFormat");if(o.Value=a,o.Symbol=this.Symbol,o.LanguageID=this.LanguageID,!o.Operator())return;var h=25*o.LineCount;o.Height>0&&(h=o.Height);var l=o.Width;this.Tooltip.style.width=l+"px",this.Tooltip.style.height=h+"px",this.Tooltip.style.position="absolute",n+l>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=n-l+"px":this.Tooltip.style.left=n+"px",this.Tooltip.style.top=s+r+"px",this.Tooltip.className="jschart-tooltip",this.Tooltip.innerHTML=o.Text,this.Tooltip.style.display="block"}else if(1===a.Type){var n=(m(),t),s=e,o=ji.Create("KLineInfoDataStringFormat");if(o.Value=a,o.Symbol=this.Symbol,o.LanguageID=this.LanguageID,!o.Operator())return;var l=o.Width;this.Tooltip.className="jchart-klineinfo-tooltip",this.Tooltip.style.position="absolute",n+l>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=n-l+"px":this.Tooltip.style.left=n+"px",this.Tooltip.style.top=s+r+"px",this.Tooltip.style.width=l+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=o.Text,this.Tooltip.style.display="block"}else if(2==a.Type){var n=t,s=e,o=ji.Create("KLineTradeDataStringFormat");if(o.Value=a,o.Symbol=this.Symbol,o.LanguageID=this.LanguageID,!o.Operator())return;var l=o.Width;this.Tooltip.className="jchart-klinetrade-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=s+r+"px",this.Tooltip.style.width=l+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=o.Text,this.Tooltip.style.display="block"}else if(3==a.Type){var n=t,s=e,o=ji.Create("MinuteInfoDataStringFormat");if(o.Value=a,o.Symbol=this.Symbol,o.LanguageID=this.LanguageID,!o.Operator())return;var l=o.Width;this.Tooltip.className="jchart-minuteinfo-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=n+"px",this.Tooltip.style.top=s+r+"px",this.Tooltip.style.width=l+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=o.Text,this.Tooltip.style.display="block"}}},this.HideTooltip=function(){this.Tooltip.style.display="none"},this.ShowSelectRect=function(t,e,a,i){var r=t,n=e,s=this.Frame.ChartBorder.GetRight(),o=this.Frame.ChartBorder.GetLeft();t>s&&(t=s),a>s&&(a=s),t<o&&(t=o),a<o&&(a=o),t>a&&(r=a),e>i&&(n=i);var h=Math.abs(t-a),l=Math.abs(e-i);this.SelectRect.style.width=h+"px",this.SelectRect.style.height=l+"px",this.SelectRect.style.position="absolute",this.SelectRect.style.left=r+"px",this.SelectRect.style.top=n+"px",this.SelectRect.style.display="block"},this.UpdateSelectRect=function(t,e){if(this.ChartPaint[0].Data){var a=this.ChartPaint[0].Data,i=a.DataOffset,r=t-i,n=e-i,s=this.Frame.GetXFromIndex(r),o=this.Frame.GetXFromIndex(n);xi.Chart.Log("[JSChartContainer::UpdateSelectRect]",t,e,s,o);var h=m();this.SelectRect.style.left=s+h.Left+"px",this.SelectRect.style.width=o-s+"px"}},this.HideSelectRect=function(){this.SelectRect.style.display="none"},this.ResetFrameXYSplit=function(){"function"==typeof this.Frame.ResetXYSplit&&this.Frame.ResetXYSplit()},this.UpdateFrameMaxMin=function(){var t=new Array,e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=i.IsShow&&e.push(this.ChartPaint[a])}for(var a in this.OverlayChartPaint)e.push(this.OverlayChartPaint[a]);for(var a in e){var r=e[a],n=r.GetMaxMin();if(null!=n&&null!=n.Max&&null!=n.Min){var s=null;for(var o in t)if(t[o].Frame==r.ChartFrame){s=t[o];break}s?(s.Range.Max<n.Max&&(s.Range.Max=n.Max),s.Range.Min>n.Min&&(s.Range.Min=n.Min)):(s={},s.Frame=r.ChartFrame,s.Range=n,t.push(s))}}for(var a in t){var i=t[a];i.Frame&&i.Range&&(null!=i.Range.Max&&null!=i.Range.Min&&(i.Frame.YSpecificMaxMin?(i.Frame.HorizontalMax=i.Frame.YSpecificMaxMin.Max,i.Frame.HorizontalMin=i.Frame.YSpecificMaxMin.Min):(i.Frame.HorizontalMax=i.Range.Max,i.Frame.HorizontalMin=i.Range.Min),i.Frame.XYSplit=!0))}for(var a in this.Frame.SubFrame){var h=this.Frame.SubFrame[a];for(var o in h.OverlayIndex){h.OverlayIndex[o].UpdateFrameMaxMin()}}},this.DataMoveLeft=function(){var t=null;return!!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)&&(!(t.DataOffset<=0)&&(--t.DataOffset,!0))},this.DataMoveRight=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var e=0;return!!(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount)&&(!(e+t.DataOffset>=t.Data.length)&&(++t.DataOffset,!0))},this.UpdataDataoffset=function(){var t=null;if(t=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){for(var e in this.ChartPaint){var a=this.ChartPaint[e];a.Data&&(a.Data.DataOffset=t.DataOffset)}for(var e in this.OverlayChartPaint){var a=this.OverlayChartPaint[e];a.Data&&(a.Data.DataOffset=t.DataOffset)}for(var e in this.Frame.SubFrame){var i=this.Frame.SubFrame[e];for(var r in i.OverlayIndex){var n=i.OverlayIndex[r];for(var s in n.ChartPaint){var a=n.ChartPaint[s];a.Data&&(a.Data.DataOffset=t.DataOffset)}}}}},this.DataMove=function(t,e){var a=t;if((t=parseInt(t/this.StepPixel))<=0)return!1;var i=null;if(!(i=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var r=0;if(!(r=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&this.Frame.SubFrame[0].Frame){var n=this.Frame.SubFrame[0].Frame;(n.DataWidth<=1||n.DistanceWidth<=1)&&(t=a*this.StepPixel)}if(e){if(this.RightSpaceCount>0){if(r+i.DataOffset>=i.Data.length+this.RightSpaceCount-1)return!1;i.DataOffset+=t,i.DataOffset+r>=i.Data.length+this.RightSpaceCount&&(i.DataOffset=i.Data.length-(r-this.RightSpaceCount))}else{if(r+i.DataOffset>=i.Data.length)return!1;i.DataOffset+=t,i.DataOffset+r>=i.Data.length&&(i.DataOffset=i.Data.length-r)}return!0}return!(i.DataOffset<=0)&&(i.DataOffset-=t,i.DataOffset<0&&(i.DataOffset=0),!0)},this.GetSubFrameIndex=function(t,e){if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return-1;for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a].Frame,r=i.ChartBorder.GetLeft(),n=i.ChartBorder.GetTop(),s=i.ChartBorder.GetHeight(),o=i.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(r,n,o,s),this.Canvas.isPointInPath(t,e))return parseInt(a)}return 0},this.GetDataIndexByPoint=function(t){var e=this.Frame;this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame);var a=null;if((a=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data)&&e){var i=parseInt(e.GetXData(t));return a.DataOffset+i}},this.GetSelectRectData=function(t){if(Math.abs(t.XStart-t.XEnd)<5)return!1;var e=null;if(!(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))return!1;var a=this.GetDataIndexByPoint(t.XStart),i=this.GetDataIndexByPoint(t.XEnd);return!(Math.abs(a-i)<2)&&(t.Data=e,a>i?(t.Start=i,t.End=a):(t.Start=a,t.End=i),!0)},this.GetChartDrawPictureByPoint=function(t){for(var e in this.ChartDrawPicture){var a=this.ChartDrawPicture[e],i=a.IsPointIn(t.X,t.Y);if(!1!==i&&i>=0)return t.ChartDrawPicture=a,t.PointIndex=i,!0}return!1},this.SaveToImage=function(t,e){if(this.UIElement.width<=0||this.UIElement.height<=0)return null;if(this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return null;xi.Chart.Log("[JSChartContainer::SaveToImage]",this.UIElement);var a="rgb(255,255,255)";e&&(a=e),this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Canvas.fillStyle=a,this.Canvas.fillRect(0,0,this.UIElement.width,this.UIElement.height);var i=u();this.Canvas.lineWidth=i,this.Frame.Draw();for(var r in this.ChartPaint){var n=this.ChartPaint[r];n.IsDrawFirst&&n.Draw()}for(var r in this.ChartPaint){var n=this.ChartPaint[r];n.IsDrawFirst||n.Draw()}for(var r in this.ChartPaintEx){var n=this.ChartPaintEx[r];n.Draw()}for(var r in this.OverlayChartPaint){var n=this.OverlayChartPaint[r];n.Draw()}for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic||0!=n.IsAnimation||n.Draw()}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawLock();for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic&&!1===n.DrawAfterTitle&&n.Draw()}null==this.LastPoint.X&&null==this.LastPoint.Y||this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex);for(var r in this.TitlePaint){var n=this.TitlePaint[r];n.IsDynamic&&(n.CursorIndex=this.CursorIndex,n.Draw())}for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic&&!0===n.DrawAfterTitle&&0==n.IsAnimation&&n.Draw()}if(this.EnableAnimation)for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];!0===n.IsAnimation&&n.Draw()}for(var r in this.ChartDrawPicture){var n=this.ChartDrawPicture[r];n.Draw()}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw();var s=this.UIElement.toDataURL(t||"image/png",1);return xi.Chart.Log("[JSChartContainer::SaveToImage] data= ",s),s},this.SaveToImageUrl=function(t,e){t||(t={Format:"image/png",ColorGB:"rgb(255,255,255)"});var a=this.SaveToImage(t.Format,t.ColorGB),i={Base64:a,BucketName:"downloadcache",Path:"hqchart/hq_snapshot"},r=Zi.Domain+"/API/FileUploadForBase64";n.HttpRequest({url:r,method:"POST",dataType:"json",data:i,success:function(t){xi.Chart.Log("[JSChartContainer::SaveToImageUrl] recv data",t);var a={Path:t.relativeurl,Domain:"https://opensourcedownload.zealink.com"};a.Url=a.Domain+"/"+a.Path,e&&e(!0,a,"")},error:function(t){xi.Chart.Log("[JSChartContainer::SaveToImageUrl] error ",t),e&&e(!1,null,"upload failed")}})},this.SetLanguage=function(t){var e=null;switch(t){case"EN":e=Qi.LANGUAGE_ENGLISH_ID;break;case"CN":e=Qi.LANGUAGE_CHINESE_ID;break;default:return void console.warn("[JSChartContainer::SetLanguage] language="+t+" error")}if(this.LanguageID!=e){this.LanguageID=e,this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID);for(var a in this.TitlePaint){var i=this.TitlePaint[a];i&&(i.LanguageID=this.LanguageID)}this.Frame&&this.Frame.SetLanguage&&this.Frame.SetLanguage(this.LanguageID),this.Frame.SetSizeChage(!0),this.Draw()}},this.ReloadTiltePaintResource=function(t){for(var e in this.TitlePaint){var a=this.TitlePaint[e];a.ReloadResource&&a.ReloadResource(t)}},this.ReloadResource=function(t){this.ReloadBorder(t),this.ReloadTiltePaintResource(t.Resource),this.ReloadChartPaint(t.Resource),this.ReloadFrame(t.Resource),this.ReloadChartCorssCursor(t,t.Resource),t.Update?this.Update({UpdateCursorIndexType:2}):1==t.Draw&&this.Draw()},this.ReloadBorder=function(t){if(t){var e=u();if(t.Border){var a=t.Border;Wt.IsNumber(a.Left)&&(this.Frame.ChartBorder.Left=a.Left*e),Wt.IsNumber(a.Right)&&(this.Frame.ChartBorder.Right=a.Right*e),Wt.IsNumber(a.Top)&&(this.Frame.ChartBorder.Top=a.Top*e),Wt.IsNumber(a.Bottom)&&(this.Frame.ChartBorder.Bottom=a.Bottom*e)}for(var i in t.Windows){var a=t.Windows[i];if(!(i>=this.Frame.SubFrame.length)){var r=this.Frame.SubFrame[i],n=r.Frame.ChartBorder;Wt.IsNumber(a.TitleHeight)&&(n.TitleHeight=a.TitleHeight*e)}}for(var i in t.Frame){var a=t.Frame[i];if(!(i>=this.Frame.SubFrame.length)){var r=this.Frame.SubFrame[i],n=r.Frame.ChartBorder;a.TopSpace>=0&&(n.TopSpace=a.TopSpace*e),a.BottomSpace>=0&&(n.BottomSpace=a.BottomSpace*e)}}}},this.ReloadFrame=function(t){for(var e in this.Frame.SubFrame){var a=this.Frame.SubFrame[e],i=a.Frame;i&&i.ReloadResource&&i.ReloadResource(t)}},this.ReloadChartPaint=function(t){for(var e in this.ChartPaint){var a=this.ChartPaint[e];a&&a.ReloadResource&&a.ReloadResource(t)}},this.ReloadChartCorssCursor=function(t,e){var a=u();if(t&&t.CorssCursor){var i=t.CorssCursor;Wt.IsNumber(i.TitleHeight)&&(this.ChartCorssCursor.TextHeight=i.TitleHeight*a)}this.ChartCorssCursor.ReloadResource&&this.ChartCorssCursor.ReloadResource(e)},this.SetDepthMapData=function(t,e){for(var a in t){var i=t[a];for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];if(n.ID==i.ID){n.Data=i.Data;break}}}e&&this.Draw()},this.PointAbsoluteToRelative=function(t,e,a){var i={X:t,Y:e},r=u(),n=this.UIElement.getBoundingClientRect();return a?(i.X=t-n.left*r,i.Y=e-n.top*r):(i.X=(t-n.left)*r,i.Y=(e-n.top)*r),i},this.SetChartDrawPictureFirstPoint=function(t,e,a){var i=this.CurrentChartDrawPicture;if(!i)return!1;if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return!1;var r=this.PointAbsoluteToRelative(t,e,a),n=r.X,s=r.Y;for(var o in this.Frame.SubFrame){var h=this.Frame.SubFrame[o].Frame,l=h.ChartBorder.GetLeft(),u=h.ChartBorder.GetTopEx(),d=h.ChartBorder.GetHeight(),c=h.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(l,u,c,d),this.Canvas.isPointInPath(n,s)){i.Frame=h;break}}return!!i.Frame&&(i.Point[0]=new p,i.Point[0].X=n,i.Point[0].Y=s,i.Status=1,!0)},this.SetChartDrawPictureSecondPoint=function(t,e,a){var i=this.CurrentChartDrawPicture;if(!i)return!1;var r=this.PointAbsoluteToRelative(t,e,a);return i.Point[1]=new p,i.Point[1].X=r.X,i.Point[1].Y=r.Y,i.Status=2,!0},this.SetChartDrawPictureThirdPoint=function(t,e,a){var i=this.CurrentChartDrawPicture;if(!i)return!1;var r=this.PointAbsoluteToRelative(t,e,a);return i.Point[2]=new p,i.Point[2].X=r.X,i.Point[2].Y=r.Y,i.Status=3,!0},this.MoveChartDrawPicture=function(t,e,a){var i=this.CurrentChartDrawPicture;if(!i)return!1;var r=u();a&&(r=1);var n=t*r,s=e*r;return i.Move(n,s),!0},this.FinishChartDrawPicturePoint=function(){var t=this.CurrentChartDrawPicture;if(!t)return!1;if(t.PointCount!=t.Point.length)return!1;t.Status=10,t.PointToValue(),this.ChartDrawPicture.push(t),this.CurrentChartDrawPicture=null;var e=this.GetEventCallback(Oi.ON_FINISH_DRAWPICTURE);if(e&&e.Callback){var a={DrawPicture:t};e.Callback(e,a,this)}else t.FinishedCallback&&t.FinishedCallback(t);return this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),!0},this.OnSelectChartPicture=function(t){xi.Chart.Log("[JSChartContainer::OnSelectChartPicture",t),this.ChartPictureMenu||(this.ChartPictureMenu=new Oa(this.UIElement.parentNode));var e={data:{ChartPicture:t,HQChart:this}};this.ChartPictureMenu.DoModal(e)},this.FinishMoveChartDrawPicture=function(){var t=this.CurrentChartDrawPicture;return!!t&&(t.PointCount==t.Point.length&&(t.Status=10,t.PointToValue(),this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),this.CurrentChartDrawPicture=null,!0))},this.ClearChartDrawPicture=function(t){if(t)for(var e in this.ChartDrawPicture)this.ChartDrawPicture[e]==t&&(this.ChartDrawStorage&&this.ChartDrawStorage.DeleteDrawData(t),this.ChartDrawPicture.splice(e,1),this.Draw());else this.ChartDrawPicture=[],this.ChartDrawStorage&&this.ChartDrawStorage.Clear(),this.Draw()},this.SetChartDrawOption=function(t){Wt.IsBool(t.IsLockScreen)&&(this.ChartDrawOption.IsLockScreen=t.IsLockScreen),Wt.IsNumber(t.Zoom)&&t.Zoom>=0&&(this.ChartDrawOption.Zoom=t.Zoom)},this.EnableShowCorssCursorLine=function(t){this.ChartCorssCursor&&(this.ChartCorssCursor.IsShowCorss=t)}}function u(){return"undefined"==typeof window?1:window.devicePixelRatio||1}function d(t){this.JSChartContainer&&this.JSChartContainer.OnKeyDown&&this.JSChartContainer.OnKeyDown(t)}function c(t,e){var a=1;if(isNaN(t))return t;t<0&&(a=-1);var i=Math.pow(10,e),r=Math.round(Math.abs(t)*i)/i*a;if(/^(\d+(?:\.\d+)?)(e)([\-]?\d+)$/.test(r))var n=r.toFixed2(e);else var n=r.toString();var s=n.indexOf(".");for(s<0&&e>0&&(s=n.length,n+=".");n.length<=s+e;)n+="0";return n}function D(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"guid"+(t()+t())+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function m(){var t={},e=0,a=0;return document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):document.body&&(e=document.body.scrollTop,a=document.body.scrollLeft),t.Top=e,t.Left=a,t}function C(t){return parseInt(t)+.5}function f(t){return.5+t<<0}function p(){this.X,this.Y}function v(){this.Data,this.JSChartContainer,this.Start,this.End,this.XStart,this.XEnd}function S(){this.Value,this.Message=new Array,this.TextColor=Zi.FrameSplitTextColor,this.Font=Zi.FrameSplitTextFont,this.LineColor=Zi.FrameSplitPen,this.LineType=1}function T(){this.UIElement,this.Left=50,this.Right=80,this.Top=50,this.Bottom=50,this.TitleHeight=24,this.TopSpace=0,this.BottomSpace=0,this.GetChartWidth=function(){return this.UIElement.width},this.GetChartHeight=function(){return this.UIElement.height},this.GetLeft=function(){return this.Left},this.GetRight=function(){return this.UIElement.width-this.Right},this.GetTop=function(){return this.Top},this.GetTopEx=function(){return this.Top+this.TitleHeight+this.TopSpace},this.GetTopTitle=function(){return this.Top+this.TitleHeight},this.GetBottom=function(){return this.UIElement.height-this.Bottom},this.GetBottomEx=function(){return this.UIElement.height-this.Bottom-this.BottomSpace},this.GetWidth=function(){return this.UIElement.width-this.Left-this.Right},this.GetHeight=function(){return this.UIElement.height-this.Top-this.Bottom},this.GetHeightEx=function(){return this.UIElement.height-this.Top-this.Bottom-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetRightEx=function(){return this.UIElement.width-this.Right-this.TitleHeight-this.TopSpace},this.GetWidthEx=function(){return this.UIElement.width-this.Left-this.Right-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetLeftEx=function(){return this.Left+this.BottomSpace},this.GetRightTitle=function(){return this.UIElement.width-this.Right-this.TitleHeight},this.GetTitleHeight=function(){return this.TitleHeight}}function M(){this.HorizontalInfo=new Array,this.VerticalInfo=new Array,this.ClassName="IChartFramePainting",this.Canvas,this.Identify,this.ChartBorder,this.PenBorder=Zi.FrameBorderPen,this.TitleBGColor=Zi.FrameTitleBGColor,this.IsShow=!0,this.SizeChange=!0,this.XYSplit=!0,this.HorizontalMax,this.HorizontalMin,this.XPointCount=10,this.YSplitOperator,this.XSplitOperator,this.Data,this.IsLocked=!1,this.LockPaint=null,this.YSpecificMaxMin=null,this.IsShowBorder=!0,this.IsShowTitleArraw=!0,this.IsShowIndexName=!0,this.IndexParamSpace=2,this.Draw=function(){this.DrawFrame(),this.DrawBorder(),this.SizeChange=!1,this.XYSplit=!1},this.DrawFrame=function(){},this.DrawBorder=function(){if(this.IsShowBorder){var t=C(this.ChartBorder.GetLeft()),e=C(this.ChartBorder.GetTop()),a=C(this.ChartBorder.GetRight()),i=C(this.ChartBorder.GetBottom()),r=a-t,n=i-e;this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(t,e,r,n)}},this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=C(this.ChartBorder.GetLeft()),e=C(this.ChartBorder.GetTop()),a=C(this.ChartBorder.GetRight()),i=C(this.ChartBorder.GetTopTitle()),r=a-t,n=i-e;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(t,e,r,n)}},this.DrawLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new Ft),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!0))},this.CalculateLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new Ft),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!1))},this.SetLock=function(t){if(!t)return void(this.IsLocked=!1);this.IsLocked=!0,this.LockPaint||(this.LockPaint=new Ft),t.Callback&&(this.LockPaint.Callback=t.Callback),t.IndexName&&(this.LockPaint.IndexName=t.IndexName),t.ID&&(this.LockPaint.LockID=t.ID),t.BG&&(this.LockPaint.BGColor=t.BG),t.Text&&(this.LockPaint.Title=t.Text),t.TextColor&&(this.LockPaint.TextColor=t.TextColor),t.Font&&(this.LockPaint.Font=t.Font),t.Count&&(this.LockPaint.LockCount=t.Count),t.MinWidth>0&&(this.LockPaint.MinWidth=t.MinWidth)},this.GetLockRect=function(){return this.IsLocked&&this.LockPaint?this.LockPaint.LockRect:null},this.ReloadResource=function(t){t||(this.PenBorder=Zi.FrameBorderPen,this.TitleBGColor=Zi.FrameTitleBGColor);for(var e in this.HorizontalInfo){var a=this.HorizontalInfo[e];a.Font&&(a.Font=Zi.FrameSplitTextFont),a.TextColor&&(a.TextColor=Zi.FrameSplitTextColor),a.LineColor&&(a.LineColor=Zi.FrameSplitPen)}for(var e in this.VerticalInfo){var a=this.VerticalInfo[e];a.Font&&(a.Font=Zi.FrameSplitTextFont),a.TextColor&&(a.TextColor=Zi.FrameSplitTextColor),a.LineColor&&(a.LineColor=Zi.FrameSplitPen)}}}function _(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ClassName="NoneFrame",this.Snapshot=function(){},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function I(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ClassName="AverageWidthFrame",this.DataWidth=50*u(),this.DistanceWidth=10*u(),this.MinXDistance=30*u(),this.MinYDistance=10*u(),this.CoordinateType=0,this.IsShowYText=[!0,!0],this.XBottomOffset=Zi.Frame.XBottomOffset,this.YTextTopOffset=Zi.Frame.YTopOffset,this.YTextPosition=[0,0],this.IsShowXLine=!0,this.IsShowYLine=!0,this.DrawDepthMapCallback,this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.DrawHorizontal(),this.DrawVertical()},this.GetYFromData=function(t,e){if(this.Logarithmic&&this.GetYLogarithmicFromData)return this.GetYLogarithmicFromData(t,e);if(!1===e){if(1==this.CoordinateType){var a=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+a}var a=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-a}if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();var a=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+a}if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();var a=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-a},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right,n=this.ChartBorder.Left,s=n>10&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],o=r>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],h=null,l=this.HorizontalInfo.length-1;l>=0;--l){var u=this.HorizontalInfo[l],d=this.GetYFromData(u.Value);if(!(null!=d&&null!=h&&Math.abs(d-h)<this.MinYDistance)){d!=a&&this.IsShowYLine&&(this.Canvas.strokeStyle=u.LineColor,2==u.LineType?(this.Canvas.save(),this.Canvas.setLineDash([5,5]),this.Canvas.beginPath(),this.Canvas.moveTo(t,C(d)),this.Canvas.lineTo(e,C(d)),this.Canvas.stroke(),this.Canvas.restore()):Zi.FrameYLineDash?(this.Canvas.save(),this.Canvas.setLineDash(Zi.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(t,C(d)),this.Canvas.lineTo(e,C(d)),this.Canvas.stroke(),this.Canvas.restore()):(this.Canvas.beginPath(),this.Canvas.moveTo(t,C(d)),this.Canvas.lineTo(e,C(d)),this.Canvas.stroke()));var c=d;d>=a-2?this.Canvas.textBaseline="bottom":d<=i+2?(this.Canvas.textBaseline="top",c+=this.YTextTopOffset):this.Canvas.textBaseline="middle",null!=u.Message[0]&&s&&(null!=u.Font&&(this.Canvas.font=u.Font),this.Canvas.fillStyle=u.TextColor,this.Canvas.textAlign="right",this.Canvas.fillText(u.Message[0],t-2,c)),null!=u.Message[1]&&o&&(null!=u.Font&&(this.Canvas.font=u.Font),this.Canvas.fillStyle=u.TextColor,this.Canvas.textAlign="left",this.Canvas.fillText(u.Message[1],e+2,c)),h=d}}},this.DrawInsideHorizontal=function(){if(!0!==this.IsHScreen&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right,n=this.ChartBorder.Left,s=(this.ChartBorder.TitleHeight,(n<10||2==this.YTextPosition[0])&&!0===this.IsShowYText[0]),o=(r<10||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(s||o)for(var h=u(),l=null,d=this.HorizontalInfo.length-1;d>=0;--d){var c=this.HorizontalInfo[d],D=this.GetYFromData(c.Value);if(!(null!=D&&null!=l&&Math.abs(D-l)<this.MinYDistance)){if(null!=c.Message[0]&&s){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left";var m=D;D>=a-2?this.Canvas.textBaseline="bottom":D<=i+2?(this.Canvas.textBaseline="top",m+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var C={X:t,Y:m,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:c.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(C)||this.Canvas.fillText(c.Message[0],t+1*h,m)}if(null!=c.Message[1]&&o){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right";var m=D;D>=a-2?this.Canvas.textBaseline="bottom":D<=i+2?(this.Canvas.textBaseline="top",m+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var f=this.Canvas.measureText(c.Message[1]).width,C={X:e-f,Y:m,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:c.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(C)||this.Canvas.fillText(c.Message[1],e-1*h,m)}l=D}}}},this.GetXFromIndex=function(t){var e=this.XPointCount;return 1==e?0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight():e<=0?this.ChartBorder.GetLeft():t>=e?this.ChartBorder.GetRight():this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e},this.DrawVertical=function(){var t=this.ChartBorder.GetTopTitle(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRight(),i=(u(),null),r=null;for(var n in this.VerticalInfo){var s=this.GetXFromIndex(this.VerticalInfo[n].Value);if(s>a)break;if(!(null!=i&&Math.abs(s-i)<this.MinXDistance)){if(this.VerticalInfo[n].LineType>0&&this.IsShowXLine&&(this.Canvas.strokeStyle=this.VerticalInfo[n].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(C(s),t),this.Canvas.lineTo(C(s),e),this.Canvas.stroke()),null!=this.VerticalInfo[n].Message[0]){null!=this.VerticalInfo[n].Font&&(this.Canvas.font=this.VerticalInfo[n].Font);var o=0;this.Canvas.fillStyle=this.VerticalInfo[n].TextColor;var h=this.Canvas.measureText(this.VerticalInfo[n].Message[0]).width;s<h/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",o=s):s+h/2>=this.ChartBorder.GetChartWidth()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",o=s-h):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",o=s-h/2),(null==r||o>r)&&(this.Canvas.fillText(this.VerticalInfo[n].Message[0],s,e+this.XBottomOffset),r=o+h)}i=s}}},this.GetYData=function(t,e){return this.Logarithmic&&this.GetYLogarithmicFromData?this.GetYLogarithmicData(t):1==this.CoordinateType?0==e?(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMin:t>this.ChartBorder.GetBottomEx()?this.HorizontalMax:(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:0==e?(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMax:t>this.ChartBorder.GetBottomEx()?this.HorizontalMin:(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.DrawCustomItem=function(t){if((t.Message[1]||t.Message[0])&&!(t.Value>this.HorizontalMax||t.Value<this.HorizontalMin)){var e=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight(),i=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetTopTitle(),n=this.ChartBorder.Right,s=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.IsHScreen&&(s=this.ChartBorder.Top,n=this.ChartBorder.Bottom,r=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom());var o=u(),h=18*o,l=this.GetYFromData(t.Value);if(t.Message[0])if(s<10){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var d=this.Canvas.measureText(t.Message[0]).width+2*o,c=t.LineColor,D=this.RGBToStruct(t.LineColor);if(D&&(c="rgba("+D.R+", "+D.G+", "+D.B+", "+Zi.FrameLatestPrice.BGAlpha+")"),this.Canvas.fillStyle=c,this.IsHScreen){var m=r,C=l-h/2-1*o;this.Canvas.fillRect(C,m,h,d),this.DrawHScreenText({X:l,Y:m},{Text:t.Message[0],Color:t.TextColor,XOffset:1*o,YOffset:2*o}),this.DrawLine(m+d,i,l,t.LineColor,t.LineType)}else{var m=l-h/2-1*o,C=e+1*o;this.Canvas.fillRect(C,m,d,h),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[0],C+1*o,l),this.DrawLine(C+d,a,l,t.LineColor,t.LineType)}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var d=this.Canvas.measureText(t.Message[0]).width+2*o;if(this.Canvas.fillStyle=t.LineColor,this.IsHScreen){var m=r-d,C=l-h/2-1*o;this.Canvas.fillRect(C,m,h,d),this.DrawHScreenText({X:l,Y:m},{Text:t.Message[0],Color:t.TextColor,XOffset:1*o,YOffset:2*o}),this.DrawLine(m+d,i,l,t.LineColor,t.LineType)}else{var m=l-h/2-1*o;this.Canvas.fillRect(e-d,m,d,h),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[0],e-1*o,l),this.DrawLine(e,a,l,t.LineColor,t.LineType)}}else if(t.Message[1])if(n<10){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var d=this.Canvas.measureText(t.Message[1]).width+2*o,c=t.LineColor,D=this.RGBToStruct(t.LineColor);if(D&&(c="rgba("+D.R+", "+D.G+", "+D.B+", "+Zi.FrameLatestPrice.BGAlpha+")"),this.Canvas.fillStyle=c,this.IsHScreen){var m=i-d,C=l-h/2-1*o;this.Canvas.fillRect(C,m,h,d),this.DrawHScreenText({X:l,Y:m},{Text:t.Message[1],Color:t.TextColor,XOffset:1*o,YOffset:2*o}),this.DrawLine(r,m,l,t.LineColor,t.LineType)}else{var m=l-h/2-1*o,C=a-d;this.Canvas.fillRect(C,m,d,h),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[1],C+1*o,l),this.DrawLine(e,C,l,t.LineColor,t.LineType)}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var d=this.Canvas.measureText(t.Message[1]).width+2*o;if(this.Canvas.fillStyle=t.LineColor,this.IsHScreen){var m=i,C=l-h/2-1*o;this.Canvas.fillRect(C,m,h,d),this.DrawHScreenText({X:l,Y:m},{Text:t.Message[1],Color:t.TextColor,XOffset:1*o,YOffset:2*o}),this.DrawLine(r,m,l,t.LineColor,t.LineType)}else{var m=l-h/2-1*o;this.Canvas.fillRect(a,m,d,h),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Message[1],a+1*o,l),this.DrawLine(e,a,l,t.LineColor,t.LineType)}}}},this.DrawDotLine=function(t,e,a,i){var r=u();this.Canvas.save(),this.Canvas.strokeStyle=i,this.Canvas.setLineDash([5*r,5*r]),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(C(a),t),this.Canvas.lineTo(C(a),e)):(this.Canvas.moveTo(t,C(a)),this.Canvas.lineTo(e,C(a))),this.Canvas.stroke(),this.Canvas.restore()},this.DrawLine=function(t,e,a,i,r){-1!=r&&(0==r?(this.Canvas.strokeStyle=i,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(C(a),t),this.Canvas.lineTo(C(a),e)):(this.Canvas.moveTo(t,C(a)),this.Canvas.lineTo(e,C(a))),this.Canvas.stroke()):this.DrawDotLine(t,e,a,i))},this.DrawHScreenText=function(t,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e.Color,this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e.Text,e.XOffset,e.YOffset),this.Canvas.restore()},this.RGBToStruct=function(t){if(/^(rgb|RGB)/.test(t)){var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),a={};return 3!=e.length?null:(a.R=Number(e[0]),a.G=Number(e[1]),a.B=Number(e[2]),a)}return null}}function L(){this.newMethod=I,this.newMethod(),delete this.newMethod,this.ClassName="MinuteFrame",this.DataWidth=1*u(),this.DistanceWidth=1*u(),this.MinuteCount=243,this.IsBeforeData=!1,this.BeforeBGColor=Zi.Minute.BeforeBGColor,this.CustomHorizontalInfo=[],this.RightFrame=null,this.ToolbarID=D(),this.ModifyIndex=!0,this.ChangeIndex=!0,this.CloseIndex=!0,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.LastCalculateStatus={Width:0,XPointCount:0},this.DrawFrame=function(){this.SplitXYCoordinate(),this.IsBeforeData&&this.DrawBeforeDataBG(),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical(),1==this.SizeChange&&this.DrawToolbar()},this.DrawToolbar=function(){if(!(this.Identify<2)&&this.ChartBorder.UIElement){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange){if(t||(t=document.createElement("div"),t.className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),!this.ModifyIndex&&!this.ChangeIndex&&!this.OverlayIndex)return void("none"!=t.style.display&&(t.style.display="none"));var e=u(),a=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),i=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),r=a-this.ChartBorder.Right/e-100,n=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=r||this.ToolbarRect.Top!=n||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=i/e){this.ToolbarRect={Left:r,Top:n,Width:100,Height:i/e};var s="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span>";this.CloseIndex&&(s+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),t.style.left=r+"px",t.style.top=n+"px",t.style.width="100px",t.style.height=i/e+"px",t.innerHTML=s;this.ChartBorder.UIElement.JSChartContainer,this.Identify;this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,Ei.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,Ei.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,Ei.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,Ei.default)("#"+t.id+" .index_change").hide(),(0,Ei.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,a=t.data.Identify;e.RemoveIndexWindow(a)}),t.style.display="block"}}}},this.ClearToolbar=function(){var t=document.getElementById(this.ToolbarID);t&&this.ChartBorder.UIElement.parentNode.removeChild(t)},this.DrawBeforeDataBG=function(){var t=C(this.ChartBorder.GetLeft()),e=C(this.ChartBorder.GetTopEx()),a=this.GetXFromIndex(14),i=C(this.ChartBorder.GetBottom()),r=a-t,n=i-e;this.Canvas.fillStyle=this.BeforeBGColor,this.Canvas.fillRect(t,e,r,n)},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.GetXFromIndex=function(t){var e=this.XPointCount-1;return 1==e?0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight():e<=0?this.ChartBorder.GetLeft():t>=e?this.ChartBorder.GetRight():this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e},this.GetXData=function(t){var e=this.XPointCount-1;return e<0&&(e=0),t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?e:(t-this.ChartBorder.GetLeft())*(1*e/this.ChartBorder.GetWidth())},this.DrawCustomHorizontal=function(){for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e)}}}}function g(){this.newMethod=L,this.newMethod(),delete this.newMethod,this.ClassName="OverlayMinuteFrame",this.IsShow=!0,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow,this.SizeChange=!1,this.XYSplit=!1}}function A(){this.newMethod=L,this.newMethod(),delete this.newMethod,this.ClassName="MinuteHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=C(this.ChartBorder.GetRightEx()),e=C(this.ChartBorder.GetTop()),a=C(this.ChartBorder.GetBottom()),i=this.ChartBorder.TitleHeight,r=a-e;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(t,e,i,r)}},this.DrawToolbar=function(){},this.DrawBeforeDataBG=function(){var t=C(this.ChartBorder.GetLeft()),e=C(this.ChartBorder.GetRightEx()),a=C(this.ChartBorder.GetTop()),i=this.GetXFromIndex(14),r=e-t,n=i-a;this.Canvas.fillStyle=this.BeforeBGColor,this.Canvas.fillRect(t,a,r,n)},this.GetYData=function(t){return t<this.ChartBorder.GetLeft()?this.HorizontalMin:t>this.ChartBorder.GetRightEx()?this.HorizontalMax:(t-this.ChartBorder.GetLeft())/this.ChartBorder.GetWidthEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){var e=this.XPointCount-1;return e<0&&(e=0),t<=this.ChartBorder.GetTop()?0:t>=this.ChartBorder.GetBottom()?e:(t-this.ChartBorder.GetTop())*(1*e/this.ChartBorder.GetHeight())},this.GetXFromIndex=function(t){var e=this.XPointCount-1;return 1==e?0==t?this.ChartBorder.GetTop():this.ChartBorder.GetBottom():e<=0?this.ChartBorder.GetTop():t>=e?this.ChartBorder.GetBottom():this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*t/e},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetLeft();if(t>=this.HorizontalMax)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetLeft()+e},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,s=null,o=this.HorizontalInfo.length-1;o>=0;--o){var h=this.HorizontalInfo[o],l=this.GetYFromData(h.Value);if(!(null!=l&&Math.abs(l-s)<this.MinYDistance)){if(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(C(l),t),this.Canvas.lineTo(C(l),e),this.Canvas.stroke(),l>=i-2)this.Canvas.textBaseline="top",l=i;else if(l<=a+2){if(this.Canvas.textBaseline="bottom",null!=(l=a)&&Math.abs(l-s)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(null!=h.Message[0]&&r>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";var u=l,d=t;this.Canvas.save(),this.Canvas.translate(u,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[0],-2,0),this.Canvas.restore()}if(null!=h.Message[1]&&n>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";var u=l,d=e;this.Canvas.save(),this.Canvas.translate(u,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[1],2,0),this.Canvas.restore()}s=l}}},this.DrawVertical=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetBottom(),i=null;for(var r in this.VerticalInfo){var n=this.GetXFromIndex(this.VerticalInfo[r].Value);if(n>a)break;if(!(null!=i&&Math.abs(n-i)<this.MinXDistance)){if(this.Canvas.strokeStyle=this.VerticalInfo[r].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,C(n)),this.Canvas.lineTo(e,C(n)),this.Canvas.stroke(),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;var s=this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width;n<s/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):n+s/2>=this.ChartBorder.GetChartHeight()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var o=t,h=n;this.Canvas.save(),this.Canvas.translate(o,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],0,0),this.Canvas.restore()}i=n}}},this.DrawInsideHorizontal=function(){if(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1]){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,s=(this.ChartBorder.TitleHeight,u());if(r<10*s&&!0===this.IsShowYText[0]||n<10*s&&!0===this.IsShowYText[1])for(var s=u(),o=null,h=this.HorizontalInfo.length-1;h>=0;--h){var l=this.HorizontalInfo[h],d=this.GetYFromData(l.Value);if(!(null!=d&&null!=o&&Math.abs(d-o)<this.MinYDistance)){if(null!=l.Message[0]&&r<10*s&&!0===this.IsShowYText[0]){null!=l.Font&&(this.Canvas.font=l.Font),this.Canvas.fillStyle=l.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=d>=e-2?"top":d<=t+2?"bottom":"middle";var c=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,l.Message[0],d),D=a;this.Canvas.save(),this.Canvas.translate(c,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(l.Message[0],-2,0),this.Canvas.restore()}if(null!=l.Message[1]&&n<10*s&&!0===this.IsShowYText[1]){null!=l.Font&&(this.Canvas.font=l.Font),this.Canvas.fillStyle=l.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=d>=e-2?"top":d<=t+2?"bottom":"middle";var m=this.Canvas.measureText(l.Message[1]).width,c=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,l.Message[1],d),D=i;this.Canvas.save(),this.Canvas.translate(c,D),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(l.Message[1],2,0),this.Canvas.restore()}o=d}}}}}function F(){this.newMethod=I,this.newMethod(),delete this.newMethod,this.ClassName="KLineFrame",this.ToolbarID=D(),this.ModifyIndex=!0,this.ChangeIndex=!0,this.CloseIndex=!0,this.OverlayIndex=!1,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.LastCalculateStatus={Width:0,XPointCount:0},this.CustomHorizontalInfo=[],this.IsDrawTitleBG=!1,this.CustomVerticalInfo=[],this.DrawCustomVerticalEvent,this.RightSpaceCount=0,this.Logarithmic=null,this.DrawToolbar=function(){if(Ei.default&&this.ChartBorder.UIElement){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange){if(t||(t=document.createElement("div"),t.className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),!(this.ModifyIndex||this.ChangeIndex||this.OverlayIndex||this.CloseIndex))return void("none"!=t.style.display&&(t.style.display="none"));var e=u(),a=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),i=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),r=a-this.ChartBorder.Right/e-100,n=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=r||this.ToolbarRect.Top!=n||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=i/e){this.ToolbarRect={Left:r,Top:n,Width:100,Height:i/e};var s="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span><span class='index_overlay icon iconfont icon-overlay_index' id='overlayindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='叠加指标'></span>";0!==this.Identify&&this.CloseIndex&&(s+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),t.style.left=r+"px",t.style.top=n+"px",t.style.width="100px",t.style.height=i/e+"px",t.innerHTML=s;this.ChartBorder.UIElement.JSChartContainer,this.Identify;this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,Ei.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,Ei.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,Ei.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,Ei.default)("#"+t.id+" .index_change").hide(),this.OverlayIndex?(0,Ei.default)("#"+t.id+" .index_overlay").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!0},this.ChangeIndexEvent):(0,Ei.default)("#"+t.id+" .index_overlay").hide(),(0,Ei.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,a=t.data.Identify;e.RemoveIndexWindow(a)}),t.style.display="block"}}}},this.ClearToolbar=function(){var t=document.getElementById(this.ToolbarID);t&&this.ChartBorder.UIElement.parentNode.removeChild(t)},this.DrawFrame=function(){this.SplitXYCoordinate(),1==this.SizeChange&&(this.CalculateDataWidth(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate()),this.DrawDepthMapCallback&&this.DrawDepthMapCallback(),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical(),1==this.SizeChange&&this.DrawToolbar()},this.GetXFromIndex=function(t,e){if(!1===e)if(t>=0)for(var a=this.ChartBorder.GetLeft()+Zi.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,i=1;i<=t;++i)a+=this.DistanceWidth+this.DataWidth;else for(var a=this.ChartBorder.GetLeft()-(this.DistanceWidth/2+this.DataWidth+this.DistanceWidth),r=Math.abs(t),i=1;i<r;++i)a-=this.DistanceWidth+this.DataWidth;else{t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var a=this.ChartBorder.GetLeft()+Zi.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,i=1;i<=t;++i)a+=this.DistanceWidth+this.DataWidth}return a},this.GetXData=function(t,e){var a=this.DistanceWidth,i=this.DataWidth,r=this.ChartBorder.GetLeft()+Zi.FrameLeftMargin;if(0==e){if(t<this.ChartBorder.GetLeft()){for(var n=-1,s=this.ChartBorder.GetLeft()-(a/2+i+a);n>-1e4&&!(s<=t);)s-=i+a,--n;return n}for(var n=0,s=r+a/2+i+a;n<1e4&&!(s>=t);)s+=i+a,++n;return n}if(t<=this.ChartBorder.GetLeft())return 0;if(t>=this.ChartBorder.GetRight())return this.XPointCount-1;for(var o=this.ChartBorder.GetRight()-Zi.FrameRightMargin,n=0,s=r+a/2+i+a;s<o&&n<1e4&&n+1<this.XPointCount&&!(s>=t);)s+=i+a,++n;return n},this.CalculateDataWidth=function(){if(!(this.XPointCount<2)){var t=this.GetFrameWidth()-Zi.FrameMargin;if(this.ZoomIndex>=0&&this.LastCalculateStatus.Width==t&&this.LastCalculateStatus.XPointCount==this.XPointCount){var e=this.DistanceWidth/2+Zi.FrameLeftMargin+(this.DataWidth+this.DistanceWidth)*(this.XPointCount-1);this.DataWidth,this.DistanceWidth,this.XPointCount;if(e<=t)return}this.LastCalculateStatus.Width=t,this.LastCalculateStatus.XPointCount=this.XPointCount;for(var a=0;a<Ui.length;++a)if((Ui[a][0]+Ui[a][1])*this.XPointCount<t)return this.ZoomIndex=a,this.DataWidth=Ui[a][0],this.DistanceWidth=Ui[a][1],this.TrimKLineDataWidth(t),void xi.Chart.Log("[KLineFrame::CalculateDataWidth] ZOOM_SEED, DataWidth, DistanceWidth, XPointCount",Ui[this.ZoomIndex],this.DataWidth,this.DistanceWidth,this.XPointCount);this.ZoomIndex=Ui.length-1,this.DataWidth=t/this.XPointCount,this.DistanceWidth=0}},this.OnSize=function(t){for(var e=this.GetFrameWidth()-Zi.FrameMargin,a=0,i=this.DistanceWidth/2+Zi.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);i<e;i+=this.DataWidth+this.DistanceWidth,++a);return t.CurCount=this.XPointCount,t.CalcCount=a,t.DataWidth=this.DataWidth,t.DistanceWidth=this.DistanceWidth,t.Changed=!1,this.LastCalculateStatus.Width=e,t.CurCount==t.CalcCount?t:(this.XPointCount=a,this.LastCalculateStatus.XPointCount=this.XPointCount,this.Data&&(this.Data.DataOffset+=t.CurCount-t.CalcCount,this.Data.DataOffset<0&&(this.Data.DataOffset=0),t.Changed=!0),t)},this.SetDataWidth=function(t){var e=Ui.length-1;for(var a in Ui){if(Ui[a][0]<=t){e=parseInt(a)-1;break}}this.ZoomIndex=e,this.DataWidth=Ui[this.ZoomIndex][0],this.DistanceWidth=Ui[this.ZoomIndex][1];for(var i=this.GetFrameWidth()-Zi.FrameMargin,r=0,n=this.DistanceWidth/2+Zi.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);n<=i;n+=this.DataWidth+this.DistanceWidth,++r);return this.XPointCount=r,this.LastCalculateStatus.XPointCount=this.XPointCount,this.LastCalculateStatus.Width=i,{XPointCount:this.XPointCount,DataWidth:this.DataWidth,DistanceWidth:this.DistanceWidth}},this.TrimKLineDataWidth=function(t){var e=Ui[this.ZoomIndex][0],a=Ui[this.ZoomIndex][1];if(1==e&&0==a)return void(this.DataWidth=t/this.XPointCount);for(;;){if((this.DistanceWidth+this.DataWidth)*this.XPointCount+this.DistanceWidth>t){this.DistanceWidth-=.01;break}this.DistanceWidth+=.01}},this.IsOverlayMaxMin=function(t){if(!this.ChartKLine)return!1;if(!this.ChartKLine.Max||!this.ChartKLine.Min)return!1;var e=this.Canvas.measureText(t.Text.Value).width+4;"right"===t.Text.TextAlign&&(t.X-=e);var a=this.ChartKLine.Max,i=this.ChartKLine.Min,r=!1,n=!1;if(a.X>=t.X&&a.X<=t.X+e){var s=a.Y+20,o=a.Y-20;(s>=t.Y-20&&s<=t.Y+20||o>=t.Y-20&&o<=t.Y+20)&&(r=!0)}if(1==r)return!0;if(i.X>=t.X&&i.X<=t.X+e){var s=i.Y+20,o=i.Y-20;(s>=t.Y-20&&s<=t.Y+20||o>=t.Y-20&&o<=t.Y+20)&&(n=!0)}return r||n},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate())},this.SplitLogarithmicXYCoordinate=function(){for(var t=this.Logarithmic.Up,e=this.Logarithmic.Down,a=0,i=0,r=Math.max(t.length,e.length),n=[],s=0;s<r;++s)n[s]=2*s;for(var s=0,o=n.length-1;s<t.length;++s,--o){var h=t[s];h.LogHeight=n[o],a+=h.LogHeight,++i}for(var s=0,o=n.length-1;s<e.length;++s,--o){var h=e[s];h.LogHeight=n[o],a+=h.LogHeight,++i}var l=2*u(),d=this.ChartBorder.GetTopEx(),c=this.ChartBorder.GetBottomEx(),D=c-d,m=(D-a*l)/i;if(1==this.CoordinateType){for(var C=d,s=e.length-1;s>=0;--s){var h=e[s];h.Height=m+l*h.LogHeight,h.Top=C,h.Bottom=h.Top+h.Height,C=h.Bottom}for(var f=c,s=t.length-1;s>=0;--s){var h=t[s];h.Height=m+l*h.LogHeight,h.Bottom=f,h.Top=f-h.Height,f=h.Top}}else{for(var C=d,s=t.length-1;s>=0;--s){var h=t[s];h.Height=m+l*h.LogHeight,h.Top=C,h.Bottom=h.Top+h.Height,C=h.Bottom}for(var f=c,s=e.length-1;s>=0;--s){var h=e[s];h.Height=m+l*h.LogHeight,h.Bottom=f,h.Top=f-h.Height,f=h.Top}}xi.Chart.Log("[KLineFrame::SplitLogarithmicXYCoordinate]",this.Logarithmic)},this.GetYLogarithmicFromData=function(t,e){if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();if(t>this.Logarithmic.OpenPrice){var a=this.Logarithmic.Up;for(var i in a){var r=a[i];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,s=n*(t-r.Start)/(r.End-r.Start);return r.Top+s}}}else{var o=this.Logarithmic.Down;for(var i in o){var r=o[i];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,s=n*(t-r.Start)/(r.End-r.Start);return r.Top+s}}}}else{if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();if(t>this.Logarithmic.OpenPrice){var a=this.Logarithmic.Up;for(var i in a){var r=a[i];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,s=n*(t-r.Start)/(r.End-r.Start);return r.Bottom-s}}}else{var o=this.Logarithmic.Down;for(var i in o){var r=o[i];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,s=n*(t-r.Start)/(r.End-r.Start);return r.Bottom-s}}}}},this.GetYLogarithmicData=function(t){if(1==this.CoordinateType){if(t<this.ChartBorder.GetTopEx())return this.HorizontalMin;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMax;var e=this.Logarithmic.Up;for(var a in e){var i=e[a];if(t>=i.Top&&t<=i.Bottom)return(t-i.Top)/i.Height*(i.End-i.Start)+i.Start}var r=this.Logarithmic.Down;for(var a in r){var i=r[a];if(t>=i.Top&&t<=i.Bottom)return(t-i.Top)/i.Height*(i.End-i.Start)+i.Start}}else{if(t<this.ChartBorder.GetTopEx())return this.HorizontalMax;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMin;var e=this.Logarithmic.Up;for(var a in e){var i=e[a];if(t>=i.Top&&t<=i.Bottom)return(i.Bottom-t)/i.Height*(i.End-i.Start)+i.Start}var r=this.Logarithmic.Down;for(var a in r){var i=r[a];if(t>=i.Top&&t<=i.Bottom)return(i.Bottom-t)/i.Height*(i.End-i.Start)+i.Start}}},this.CalculateCount=function(t){var e=this.GetFrameWidth()-Zi.FrameMargin;return parseInt(e/(Ui[t][0]+Ui[t][1]))},this.ZoomUp=function(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,a=e+this.RightSpaceCount,i=0,r=this.Data.DataOffset+this.XPointCount-1,n=this.Data.DataOffset+t.Index;r>=e&&(i=r-(this.Data.Data.length-1),r=this.Data.Data.length-1,i>this.RightSpaceCount&&(i=this.RightSpaceCount));var s=this.CalculateCount(this.ZoomIndex-1);xi.Chart.Log("[KLineFrame::ZoomUp] old status. XPointCount="+s+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" rightSpaceCount="+i);var o=!1;if(--this.ZoomIndex,1==t.IsLockRight){var h=this.Data.DataOffset+this.XPointCount;if(s>h)s=h,this.XPointCount=s,this.Data.DataOffset=0;else{var l=r-(s-i)+1;this.XPointCount=s,this.Data.DataOffset=l,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(s>=a)this.Data.DataOffset=0,o=!0,xi.Chart.Log("[KLineFrame::ZoomUp] Show all data. XPointCount="+s+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e);else{var l=r-(s-i)+1;if(1==t.ZoomType)var u=this.XPointCount-s+1,d=parseInt(t.Index/this.XPointCount*u),l=this.Data.DataOffset+d;this.XPointCount=s,this.Data.DataOffset=l,this.Data.DataOffset<0&&(this.Data.DataOffset=0),xi.Chart.Log("[KLineFrame::ZoomUp] calculate. XPointCount="+s+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e+" DataOffset="+this.Data.DataOffset)}if(this.DataWidth=Ui[this.ZoomIndex][0],this.DistanceWidth=Ui[this.ZoomIndex][1],!o){var c=this.GetFrameWidth()-Zi.FrameMargin;this.TrimKLineDataWidth(c)}return this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=n-this.Data.DataOffset,!0},this.ZoomDown=function(t){if(this.ZoomIndex+1>=Ui.length)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,a=e+this.RightSpaceCount,i=0,r=this.Data.DataOffset+this.XPointCount-1;r>=this.Data.Data.length&&(i=r-(this.Data.Data.length-1),r=this.Data.Data.length-1,i>this.RightSpaceCount&&(i=this.RightSpaceCount));var n=this.CalculateCount(this.ZoomIndex+1),s=this.Data.DataOffset+t.Index;xi.Chart.Log("[KLineFrame::ZoomDown] old status. XPointCount="+n+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" lastCursorIndex="+s+" rightSpaceCount="+i);var o=!1;if(++this.ZoomIndex,1==t.IsLockRight){var h=this.Data.DataOffset+this.XPointCount;if(n>h)n=h,this.XPointCount=n,this.Data.DataOffset=0;else{var l=r-(n-i)+1;this.XPointCount=n,this.Data.DataOffset=l,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(n>=a)this.XPointCount=n,this.Data.DataOffset=0,o=!0,xi.Chart.Log("[KLineFrame::ZoomDown] Show all data. XPointCount="+n+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e);else{var l=r-(n-i)+1;if(1==t.ZoomType){var u=n-this.XPointCount+1,d=parseInt(t.Index/this.XPointCount*u),l=this.Data.DataOffset-d;l+(n-this.RightSpaceCount)>=e&&(l=this.Data.DataOffset-u)}this.XPointCount=n,this.Data.DataOffset=l,this.Data.DataOffset<0&&(this.Data.DataOffset=0),xi.Chart.Log("[KLineFrame::ZoomDown] calculate. XPointCount="+n+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e+" DataOffset="+this.Data.DataOffset)}if(this.DataWidth=Ui[this.ZoomIndex][0],this.DistanceWidth=Ui[this.ZoomIndex][1],!o){var c=this.GetFrameWidth()-Zi.FrameMargin;this.TrimKLineDataWidth(c)}return this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=s-this.Data.DataOffset,!0},this.GetFrameWidth=function(){return this.IsHScreen?this.ChartBorder.GetHeight():this.ChartBorder.GetWidth()},this.DrawCustomHorizontal=function(){for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e)}}},this.DrawCustomVerticalItem=function(t){this.Canvas.save(),1==t.Data.Line.Type&&this.Canvas.setLineDash([5,5]),this.Canvas.strokeStyle=t.Data.Line.Color,this.Canvas.beginPath(),t.IsHScreen?(this.Canvas.moveTo(t.Top,C(t.X)),this.Canvas.lineTo(t.Bottom,C(t.X))):(this.Canvas.moveTo(C(t.X),t.Top),this.Canvas.lineTo(C(t.X),t.Bottom)),this.Canvas.stroke(),this.Canvas.restore()},this.DrawCustomVertical=function(){if(this.CustomVerticalInfo&&!(this.CustomVerticalInfo.length<=0)&&this.Data){var t=this.IsHScreen,e=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),i=this.DataWidth,r=this.DistanceWidth,n=this.ChartBorder.GetLeft()+r/2+2;t&&(n=this.ChartBorder.GetTop()+r/2+2,e=this.ChartBorder.GetLeftEx(),a=this.ChartBorder.GetRightEx());for(var s=0,o=this.Data.DataOffset;o<this.Data.Data.length&&s<this.XPointCount;++o,++s,n+=i+r){var h=this.Data.Data[o];for(var l in this.CustomVerticalInfo){var u=this.CustomVerticalInfo[l];if(0==u.Type){if(Wt.IsNumber(u.Time)){if(h.Date!=u.Date||h.Time!=u.Time)continue}else if(h.Date!=u.Date)continue;var d=n,c=n+i,D=d+(c-d)/2,m={X:D,Top:e,Bottom:a,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(m),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,m,this);break}}}for(var o=1;s<this.XPointCount;++o,++s,n+=i+r)for(var l in this.CustomVerticalInfo){var u=this.CustomVerticalInfo[l];if(1==u.Type&&u.Space==o){var d=n,c=n+i,D=d+(c-d)/2,m={X:D,Top:e,Bottom:a,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(m),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,m,this);break}}}}}function E(){this.newMethod=F,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineFrame",this.MainFrame=null,this.RightOffset=50,this.PenBorder=Zi.OverlayFrame.BolderPen,this.IsShow=!0,this.Title=null,this.TitleColor=Zi.OverlayFrame.TitleColor,this.TitleFont=Zi.OverlayFrame.TitleFont,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1},this.DrawTitle=function(){if(this.Title){var t=this.ChartBorder.GetTopTitle(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRight();a+=this.RightOffset,this.Canvas.fillStyle=this.TitleColor,this.Canvas.font=this.TitleFont,this.Canvas.textAlign="center",this.Canvas.textBaseline="top";var i=a-2,r=t+(e-t)/2;this.Canvas.save(),this.Canvas.translate(i,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Title,0,0),this.Canvas.restore()}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){var t=(this.ChartBorder.GetLeft(),this.ChartBorder.GetRight()),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetTopTitle(),i=this.ChartBorder.Right;t+=this.RightOffset;for(var r=null,n=this.HorizontalInfo.length-1;n>=0;--n){var s=this.HorizontalInfo[n],o=this.GetYFromData(s.Value);null!=o&&Math.abs(o-r)<this.MinYDistance||(this.Canvas.textBaseline=o>=e-2?"bottom":o<=a+2?"top":"middle",this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(t-2,C(o)),this.Canvas.lineTo(t,C(o)),this.Canvas.stroke(),null!=s.Message[1]&&i>10&&(null!=s.Font&&(this.Canvas.font=s.Font),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="left",this.Canvas.fillText(s.Message[1],t+2,o)),r=o)}},this.DrawVertical=function(){var t=this.ChartBorder.GetTopEx(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottomEx();e+=this.RightOffset,this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(C(e),C(t)),this.Canvas.lineTo(C(e),C(a)),this.Canvas.stroke()}}function x(){this.newMethod=F,this.newMethod(),delete this.newMethod,this.ClassName="KLineHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=C(this.ChartBorder.GetRightTitle()),e=C(this.ChartBorder.GetTop()),a=C(this.ChartBorder.GetBottom()),i=this.ChartBorder.TitleHeight,r=a-e;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(t,e,i,r)}},this.DrawToolbar=function(){},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetLeftEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetLeftEx()+e},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),a=this.ChartBorder.Top,i=this.ChartBorder.Bottom,r=this.ChartBorder.GetLeft(),n=(this.ChartBorder.GetRight(),null),s=u(),o=a>10*s&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],h=i>10*s&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],l=this.HorizontalInfo.length-1;l>=0;--l){var d=this.HorizontalInfo[l],c=this.GetYFromData(d.Value);if(!(null!=c&&Math.abs(c-n)<this.MinYDistance)){if(c!=r&&(this.Canvas.strokeStyle=d.LineColor,Zi.FrameYLineDash?(this.Canvas.save(),this.Canvas.setLineDash(Zi.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(C(c),t),this.Canvas.lineTo(C(c),e),this.Canvas.stroke(),this.Canvas.restore()):(this.Canvas.beginPath(),this.Canvas.moveTo(C(c),t),this.Canvas.lineTo(C(c),e),this.Canvas.stroke())),null!=d.Message[0]&&o){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var D=c,m=t;this.Canvas.save(),this.Canvas.translate(D,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[0],-2,0),this.Canvas.restore()}if(null!=d.Message[1]&&h){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=c,m=e;this.Canvas.save(),this.Canvas.translate(D,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[1],2,0),this.Canvas.restore()}n=c}}},this.DrawInsideHorizontal=function(){if(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1]){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,s=(this.ChartBorder.TitleHeight,u()),o=(r<10*s||2==this.YTextPosition[0])&&!0===this.IsShowYText[0],h=(n<10*s||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(o||h)for(var s=u(),l=null,d=this.HorizontalInfo.length-1;d>=0;--d){var c=this.HorizontalInfo[d],D=this.GetYFromData(c.Value);if(!(null!=D&&null!=l&&Math.abs(D-l)<this.MinYDistance)){if(null!=c.Message[0]&&o){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=D>=e-2?"top":D<=t+2?"bottom":"middle";var m=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[0],D),C=a;this.Canvas.save(),this.Canvas.translate(m,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[0],-2,0),this.Canvas.restore()}if(null!=c.Message[1]&&h){null!=c.Font&&(this.Canvas.font=c.Font),this.Canvas.fillStyle=c.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=D>=e-2?"top":D<=t+2?"bottom":"middle";var f=this.Canvas.measureText(c.Message[1]).width,m=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,c.Message[1],D),C=i;this.Canvas.save(),this.Canvas.translate(m,C),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(c.Message[1],2,0),this.Canvas.restore()}l=D}}}},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetTop()+Zi.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)e+=this.DistanceWidth+this.DataWidth;return e},this.DrawVertical=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightTitle(),a=this.ChartBorder.GetBottom(),i=null;for(var r in this.VerticalInfo){var n=this.GetXFromIndex(this.VerticalInfo[r].Value);if(n>=a)break;if(!(null!=i&&Math.abs(n-i)<80)){if(this.Canvas.strokeStyle=this.VerticalInfo[r].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,C(n)),this.Canvas.lineTo(e,C(n)),this.Canvas.stroke(),null!=this.VerticalInfo[r].Message[0]){null!=this.VerticalInfo[r].Font&&(this.Canvas.font=this.VerticalInfo[r].Font),this.Canvas.fillStyle=this.VerticalInfo[r].TextColor;n<this.Canvas.measureText(this.VerticalInfo[r].Message[0]).width/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var s=t,o=n;this.Canvas.save(),this.Canvas.translate(s,o),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[r].Message[0],0,0),this.Canvas.restore()}i=n}}},this.GetYData=function(t){return t<this.ChartBorder.GetLeftEx()?this.HorizontalMin:t>this.ChartBorder.GetRightEx()?this.HorizontalMax:(t-this.ChartBorder.GetLeftEx())/this.ChartBorder.GetWidthEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){if(t<=this.ChartBorder.GetTop())return 0;if(t>=this.ChartBorder.GetBottom())return this.XPointCount-1;for(var e=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),i=this.DistanceWidth,r=this.DataWidth,n=0,s=e+i/2+r+i;s<a&&n<1e4&&n+1<this.XPointCount&&!(s>t);)s+=r+i,++n;return n}}function N(){this.newMethod=x,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineHScreenFrame",this.MainFrame=null,this.RightOffset=50,this.PenBorder=Zi.OverlayFrame.BolderPen,this.IsShow=!0,this.Title=null,this.TitleColor=Zi.OverlayFrame.TitleColor,this.TitleFont=Zi.OverlayFrame.TitleFont,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1},this.DrawTitle=function(){},this.SplitXYCoordinate=function(){0!=this.XYSplit&&null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){},this.DrawVertical=function(){}}function w(){this.Frame,this.Height,this.OverlayIndex=[],this.Interval=60}function O(){this.Frame,this.ChartPaint=[],this.Identify=D(),this.Scprit,this.UpdateFrameMaxMin=function(){var t={Max:null,Min:null};if(this.Frame.YSpecificMaxMin)t.Max=this.Frame.YSpecificMaxMin.Max,t.Min=this.Frame.YSpecificMaxMin.Min;else for(var e in this.ChartPaint){var a=this.ChartPaint[e],i=a.GetMaxMin();Wt.IsNumber(i.Max)&&(null==t.Max||t.Max<i.Max)&&(t.Max=i.Max),Wt.IsNumber(i.Min)&&(null==t.Min||t.Min>i.Min)&&(t.Min=i.Min)}null!=t.Max&&null!=t.Min&&(this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,this.Frame.XYSplit=!0)}}function P(){this.SubFrame=new Array,this.SizeChange=!0,this.ChartBorder,this.Canvas,this.ScreenImageData,this.Data,this.Position,this.SizeChange=!0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),a=0;for(var i in this.SubFrame){var r=this.SubFrame[i];a+=r.Height}for(var i in this.SubFrame){var r=this.SubFrame[i];r.Frame.ChartBorder.Top=t,r.Frame.ChartBorder.Left=this.ChartBorder.Left,r.Frame.ChartBorder.Right=this.ChartBorder.Right;var n=e*(r.Height/a)+t;r.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-n,t=n}}},this.CalculateChartBorder2=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.Top,e=this.ChartBorder.Bottom,a=this.ChartBorder.GetHeight(),i=0;for(var r in this.SubFrame){var n=this.SubFrame[r];i+=n.Height}var s=0;for(var r in this.SubFrame){var n=this.SubFrame[r];n.Frame.ChartBorder.Top=t,n.Frame.ChartBorder.Left=this.ChartBorder.Left,n.Frame.ChartBorder.Right=this.ChartBorder.Right,n.Frame.ChartBorder.X=this.ChartBorder.X,n.Frame.ChartBorder.Y=this.ChartBorder.Y,n.Frame.ChartBorder.Width=this.ChartBorder.Width,n.Frame.ChartBorder.Height=this.ChartBorder.Height;var o=a*(n.Height/i);s+=o,e=this.ChartBorder.Bottom+(a-s),n.Frame.ChartBorder.Bottom=e,t+=o}}},this.Draw=function(){!0===this.SizeChange&&this.CalculateChartBorder();for(var t in this.SubFrame){var e=this.SubFrame[t];if(!(e.Height<=0)){e.Frame.Draw();var a=e.Interval;for(var i in e.OverlayIndex){var r=e.OverlayIndex[i];r.Frame.DataWidth=e.Frame.DataWidth,r.Frame.DistanceWidth=e.Frame.DistanceWidth,r.Frame.XPointCount=e.Frame.XPointCount,r.ChartPaint.length>0&&r.Frame.IsShow&&(r.Frame.RightOffset=a,r.Frame.Draw(),a+=e.Interval)}}}this.SizeChange=!1},this.DrawOveraly=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];for(var a in e.OverlayIndex){var i=e.OverlayIndex[a];for(var r in i.ChartPaint)i.ChartPaint[r].IsShow&&i.ChartPaint[r].Draw()}}},this.DrawLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.DrawLock()}},this.CalculateLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.CalculateLock()}},this.DrawInsideHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawInsideHorizontal&&e.Frame.DrawInsideHorizontal()}},this.DrawCustomHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawCustomHorizontal&&e.Frame.DrawCustomHorizontal()}},this.DrawCustomVertical=function(t){for(var e in this.SubFrame){var a=this.SubFrame[e];a.Frame.DrawCustomVerticalEvent=t,a.Frame.DrawCustomVertical&&a.Frame.DrawCustomVertical()}},this.SetSizeChage=function(t){this.SizeChange=t;for(var e in this.SubFrame){var a=this.SubFrame[e];a.Frame.SizeChange=t;for(var i in a.OverlayIndex){var r=a.OverlayIndex[i];r.Frame&&(r.Frame.SizeChange=t)}}this.ChartBorder.UIElement&&(this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight})},this.SetDrawDepthMap=function(t){for(var e in this.SubFrame){this.SubFrame[e].Frame.DrawDepthMapCallback=t}},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.GetXData=function(t){return this.SubFrame[0].Frame.GetXData(t)},this.GetYData=function(t,e){var a;for(var i in this.SubFrame){var r=this.SubFrame[i],n=r.Frame.ChartBorder.GetLeft(),s=r.Frame.ChartBorder.GetTopEx(),o=r.Frame.ChartBorder.GetWidth(),h=r.Frame.ChartBorder.GetHeightEx();if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(n,s,o,h),r.Frame.Canvas.isPointInPath(n,t)){a=r.Frame,e&&(e.FrameID=parseInt(i));break}}if(null!=a){a.RightFrame&&(e.RightYValue=a.RightFrame.GetYData(t));var l=a.GetYData(t);if(1==a.YSplitOperator.CoordinateType){var u=a.YSplitOperator.GetFirstOpenPrice();e.RightYValue=((l-u)/u*100).toFixed(2)+"%"}return l}},this.PtInFrame=function(t,e){for(var a in this.SubFrame){var i=this.SubFrame[a],r=i.Frame.ChartBorder.GetLeft(),n=i.Frame.ChartBorder.GetTop(),s=i.Frame.ChartBorder.GetWidth(),o=i.Frame.ChartBorder.GetHeight();if(i.Frame.Canvas.beginPath(),i.Frame.Canvas.rect(r,n,s,o),i.Frame.Canvas.isPointInPath(t,e))return parseInt(a)}return-1},this.GetXFromIndex=function(t){return this.SubFrame[0].Frame.GetXFromIndex(t)},this.GetYFromData=function(t){return this.SubFrame[0].Frame.GetYFromData(t)},this.ZoomUp=function(t){var e=this.SubFrame[0].Frame.ZoomUp(t);return this.UpdateAllFrame(),e},this.ZoomDown=function(t){var e=this.SubFrame[0].Frame.ZoomDown(t);return this.UpdateAllFrame(),e},this.ResetXYSplit=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.XYSplit=!0},this.SetLanguage=function(t){for(var e in this.SubFrame){var a=this.SubFrame[e];a&&a.Frame&&(a.Frame.YSplitOperator&&(a.Frame.YSplitOperator.LanguageID=t),a.Frame.XSplitOperator&&(a.Frame.XSplitOperator.LanguageID=t))}},this.GetCurrentPageSize=function(){if(this.SubFrame.length<=0)return null;var t=this.SubFrame[0];return t&&t.Frame?t.Frame.XPointCount:null},this.OnSize=function(){var t={};return this.SubFrame[0].Frame.OnSize(t),this.UpdateAllFrame(),t},this.SetDataWidth=function(t){var e=this.SubFrame[0].Frame.SetDataWidth(t);return this.UpdateAllFrame(),e},this.UpdateAllFrame=function(){for(var t=this.SubFrame[0].Frame,e=0;e<this.SubFrame.length;++e){var a=this.SubFrame[e];e>0&&(a.Frame.XPointCount=t.XPointCount,a.Frame.ZoomIndex=t.ZoomIndex,a.Frame.DataWidth=t.DataWidth,a.Frame.DistanceWidth=t.DistanceWidth,a.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,a.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount);for(var i in a.OverlayIndex){var r=this.SubFrame[e].OverlayIndex[i];r.Frame.XPointCount=t.XPointCount,r.Frame.ZoomIndex=t.ZoomIndex,r.Frame.DataWidth=t.DataWidth,r.Frame.DistanceWidth=t.DistanceWidth,r.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,r.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount}}}}function R(){this.newMethod=P,this.newMethod(),delete this.newMethod,this.IsHScreen=!0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.Right,e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetWidth(),i=0;for(var r in this.SubFrame){var n=this.SubFrame[r];i+=n.Height}for(var r in this.SubFrame){var n=this.SubFrame[r];n.Frame.ChartBorder.Top=this.ChartBorder.Top,n.Frame.ChartBorder.Bottom=this.ChartBorder.Bottom;var s=a*(n.Height/i);n.Frame.ChartBorder.Right=t,n.Frame.ChartBorder.Left=e-s,t+=s,e-=s}}},this.GetYData=function(t,e){var a;for(var i in this.SubFrame){var r=this.SubFrame[i],n=r.Frame.ChartBorder.GetLeftEx(),s=r.Frame.ChartBorder.GetTop(),o=r.Frame.ChartBorder.GetWidthEx(),h=r.Frame.ChartBorder.GetHeight();if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(n,s,o,h),r.Frame.Canvas.isPointInPath(t,s)){a=r.Frame,e&&(e.FrameID=i);break}}if(null!=a)return a.GetYData(t)}}function b(){this.newMethod=I,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetLeft()+2+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)e+=this.DistanceWidth+this.DataWidth;return e},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function Y(){this.Date,this.YClose,this.Open,this.Close,this.High,this.Low,this.Vol,this.Amount,this.Time,this.FlowCapital=0,this.Position=null,this.YFClose=null,this.FClose=null,this.Stop,this.Up,this.Down,this.Unchanged}function B(){this.Close,this.Open,this.High,this.Low,this.Vol,this.Amount,this.DateTime,this.Increase,this.Risefall,this.AvPrice,this.Lead=null,this.Time,this.Date,this.Position=null}function H(){this.Date,this.Time,this.Value}function k(){this.ID,this.Date,this.Title,this.InfoType,this.ExtendData}function V(){this.PeriodCallback=new Ai.default,this.GetPeriodCallback=function(t){return this.PeriodCallback.has(t)?this.PeriodCallback.get(t):null},this.AddPeriodCallback=function(t){if(Wt.IsNumber(t.Period)&&t.Callback){var e={Period:t.Period,Callback:t.Callback};this.PeriodCallback.set(t.Period,e)}},this.RemovePeriodCallback=function(t){this.PeriodCallback.has(t.ID)&&this.PeriodCallback.delete(t.ID)}}function G(){this.Data=new Array,this.DataOffset=0,this.Period=0,this.Right=0,this.Symbol,this.Data2=new Array,this.GetCloseMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Close;e[a]=r/t}return e},this.GetVolMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Vol;e[a]=r/t}return e},this.GetAmountMA=function(t){for(var e=new Array,a=0,i=this.Data.length;a<i;a++)if(a<t)e[a]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[a-n].Amount;e[a]=r/t}return e},this.GetClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Close;return t},this.GetYClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].YClose;return t},this.GetHigh=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].High;return t},this.GetLow=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Low;return t},this.GetOpen=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Open;return t},this.GetVol=function(t){var e=1;Wt.IsNumber(t)>0&&(e=t);var a=new Array;for(var i in this.Data)a[i]=this.Data[i].Vol/e;return a},this.GetAmount=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Amount;return t},this.GetPosition=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Position;return t},this.GetLead=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Lead;return t},this.GetDate=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Date;return t},this.GetTime=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Time;return t},this.GetUp=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Up;return t},this.GetDown=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Down;return t},this.GetYear=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date/1e4);return t},this.GetMonth=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date%1e4/100);return t},this.GetDateRange=function(){if(!this.Data||this.Data.length<=0)return null;var t=this.Data[0],e=this.Data[this.Data.length-1],a={Start:{Date:t.Date},End:{Date:e.Date}};return Wt.IsNumber(t.Time)&&(a.Start.Time=t.Time),Wt.IsNumber(e.Time)&&(a.End.Time=e.Time),a},this.GetMinutePeriodData=function(t){if(V.GetMinutePeriodData)return V.GetMinutePeriodData(t,this.Data,this);var e=new Array,a=5;if(5==t)a=5;else if(6==t)a=15;else if(7==t)a=30;else if(8==t)a=60;else if(11==t)a=120;else{if(12!=t)return t>ki&&t<=Vi?(a=t-ki,this.GetMinuteCustomPeriodData(a)):this.Data;a=240}for(var i=!1,r=null,n=null,s=0;s<this.Data.length;){i=!0;for(var o=0;o<a&&s<this.Data.length;++s){i&&(r=new Y,e.push(r),i=!1);var h=this.Data[s];if(null!=h){if((925!=h.Time||null!=n&&924==n)&&(930!=h.Time||null!=n&&929==n)&&(1300!=h.Time||null!=n&&1259==n)&&++o,r.Date=h.Date,r.Time=h.Time,n=r.Time,null!=h.Open&&null!=h.Close&&(null==r.Open||null==r.Close?(r.Open=h.Open,r.High=h.High,r.Low=h.Low,r.YClose=h.YClose,r.Close=h.Close,r.Vol=h.Vol,r.Amount=h.Amount,r.FlowCapital=h.FlowCapital,r.Position=h.Position,r.YFClose=h.YFClose,r.FClose=h.FClose):(r.High<h.High&&(r.High=h.High),r.Low>h.Low&&(r.Low=h.Low),r.Close=h.Close,r.Vol+=h.Vol,null!=h.Amount&&(r.Amount+=h.Amount),r.Position=h.Position,r.FlowCapital=h.FlowCapital,r.FClose=h.FClose),s+1<this.Data.length)){var l=this.Data[s+1];if(l&&l.Date!=h.Date){++s;break}}}else++o}}return e},this.GetMinuteCustomPeriodData=function(t){for(var e=new Array,a=t,i=!1,r=null,n=0;n<this.Data.length;){i=!0;for(var s=0;s<a&&n<this.Data.length;++n,++s){i&&(r=new Y,e.push(r),i=!1);var o=this.Data[n];null!=o&&(r.Date=o.Date,r.Time=o.Time,null!=o.Open&&null!=o.Close&&(null==r.Open||null==r.Close?(r.Open=o.Open,r.High=o.High,r.Low=o.Low,r.YClose=o.YClose,r.Close=o.Close,r.Vol=o.Vol,r.Amount=o.Amount,r.FlowCapital=o.FlowCapital,r.Position=o.Position,r.YFClose=o.YFClose,r.FClose=o.FClose):(r.High<o.High&&(r.High=o.High),r.Low>o.Low&&(r.Low=o.Low),r.Close=o.Close,r.Vol+=o.Vol,null!=o.Amount&&(r.Amount+=o.Amount),r.Position=o.Position,r.FlowCapital=o.FlowCapital,r.FClose=o.FClose)))}}return e},this.GetDayPeriodData=function(t){if(t>Bi&&t<=Hi)return this.GetDayCustomPeriodData(t-Bi);var e=tr.IsBIT(this.Symbol),a=new Array,i=0,r=2,n=null;for(var s in this.Data){var o=!1,h=this.Data[s];switch(t){case 1:if(e)var l=G.GetSunday(h.Date);else var l=G.GetFirday(h.Date);l!=i&&(o=!0,i=l);break;case 21:if(e)var l=G.GetSunday(h.Date);else var l=G.GetFirday(h.Date);l!=i&&(++r,r>=2&&(o=!0,r=0),i=l);break;case 2:parseInt(h.Date/100)!=parseInt(i/100)&&(o=!0,i=h.Date);break;case 3:parseInt(h.Date/1e4)!=parseInt(i/1e4)&&(o=!0,i=h.Date);break;case 9:var u=G.GetQuarter(h.Date);u=10*parseInt(h.Date/1e4)+u;var d=G.GetQuarter(i);d=10*parseInt(i/1e4)+d,u!=d&&(o=!0,i=h.Date)}if(o){if(n=new Y,n.Date=h.Date,a.push(n),null==h.Open||null==h.Close)continue;n.Open=h.Open,n.High=h.High,n.Low=h.Low,n.YClose=h.YClose,n.Close=h.Close,n.Vol=h.Vol,n.Amount=h.Amount,n.FlowCapital=h.FlowCapital,n.Position=h.Position,n.YFClose=h.YFClose,n.FClose=h.FClose}else{if(null==n)continue;if(null==h.Open||null==h.Close)continue;null==n.Open||null==n.Close?(n.Open=h.Open,n.High=h.High,n.Low=h.Low,n.YClose=h.YClose,n.Close=h.Close,n.Vol=h.Vol,n.Amount=h.Amount,n.FlowCapital=h.FlowCapital,n.Position=h.Position,n.YFClose=h.YFClose,n.FClose=h.FClose):(n.High<h.High&&(n.High=h.High),n.Low>h.Low&&(n.Low=h.Low),n.Close=h.Close,n.Vol+=h.Vol,null!=h.Amount&&(n.Amount+=h.Amount),n.Position=h.Position,n.FlowCapital=h.FlowCapital,n.Date=h.Date,n.FClose=h.FClose)}}return a},this.GetDayCustomPeriodData=function(t){for(var e=[],a=t,i=!1,r=null,n=0;n<this.Data.length;){i=!0;for(var s=0;s<a&&n<this.Data.length;++n,++s){i&&(r=new Y,e.push(r),i=!1);var o=this.Data[n];null!=o&&(r.Date=o.Date,null!=o.Open&&null!=o.Close&&(null==r.Open||null==r.Close?(r.Open=o.Open,r.High=o.High,r.Low=o.Low,r.YClose=o.YClose,r.Close=o.Close,r.Vol=o.Vol,r.Amount=o.Amount,r.FlowCapital=o.FlowCapital,r.Position=o.Position,r.YFClose=o.YFClose,r.FClose=o.FClose):(r.High<o.High&&(r.High=o.High),r.Low>o.Low&&(r.Low=o.Low),r.Close=o.Close,r.Vol+=o.Vol,null!=o.Amount&&(r.Amount+=o.Amount),r.Position=o.Position,r.FlowCapital=o.FlowCapital,r.FClose=o.FClose)))}}return e},this.GetPeriodData=function(t){var e=Yi.GetPeriodCallback(t);if(e)return e.Callback(t,this.Data,this);if(tr.IsBIT(this.Symbol)&&(5==t||6==t||7==t||8==t||t>ki&&t<=Vi)){var a=5;return 5==t?a=5:6==t?a=15:7==t?a=30:8==t?a=60:11==t?a=120:12==t?a=240:t>ki&&t<=Vi&&(a=t-ki),this.GetMinuteCustomPeriodData(a)}return 1==t||2==t||3==t||9==t||21==t||t>Bi&&t<=Hi?this.GetDayPeriodData(t):5==t||6==t||7==t||8==t||11==t||12==t||t>ki&&t<=Vi?this.GetMinutePeriodData(t):void 0},this.GetRightDate=function(t){var e=[];if(this.Data.length<=0)return e;if(1==t){var a=this.Data.length-1,i=1,r=this.Data[a].YClose;for(e[a]=Y.Copy(this.Data[a]),--a;a>=0&&r==this.Data[a].Close;--a)e[a]=Y.Copy(this.Data[a]),r=this.Data[a].YClose;for(;a>=0;--a)r!=this.Data[a].Close&&(i*=r/this.Data[a].Close),e[a]=Y.CopyRight(this.Data[a],i),r=this.Data[a].YClose}else if(2==t){var a=0,i=1,n=this.Data[a].Close;for(e[a]=Y.Copy(this.Data[a]),++a;a<this.Data.length&&n==this.Data[a].YClose;++a)e[a]=Y.Copy(this.Data[a]),n=this.Data[a].Close;for(;a<this.Data.length;++a)n!=this.Data[a].YClose&&(i*=n/this.Data[a].YClose),e[a]=Y.CopyRight(this.Data[a],i),n=this.Data[a].Close}return e},this.GetRightData=this.GetRightDate,this.GetOverlayData=function(t,e){for(var a=[],i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date;if(r>=t.length)a[i]=new Y,a[i].Date=n,++i;else{var s=t[r].Date;s==n?(a[i]=new Y,a[i].Date=t[r].Date,a[i].YClose=t[r].YClose,a[i].Open=t[r].Open,a[i].High=t[r].High,a[i].Low=t[r].Low,a[i].Close=t[r].Close,a[i].Vol=t[r].Vol,a[i].Amount=t[r].Amount,a[i].Stop=t[r].Stop,a[i].Up=t[r].Up,a[i].Down=t[r].Down,a[i].Unchanged=t[r].Unchanged,++r,++i):s<n?++r:(a[i]=new Y,a[i].Date=n,++i)}}return a},this.GetOverlayMinuteData=function(t,e){for(var a=[],i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date,s=this.Data[i].Time;if(r>=t.length)a[i]=new Y,a[i].Date=n,a[i].Time=s,++i;else{var o=t[r].Date,h=t[r].Time;o==n&&h==s?(a[i]=new Y,a[i].Date=t[r].Date,a[i].Time=t[r].Time,a[i].YClose=t[r].YClose,a[i].Open=t[r].Open,a[i].High=t[r].High,a[i].Low=t[r].Low,a[i].Close=t[r].Close,a[i].Vol=t[r].Vol,a[i].Amount=t[r].Amount,a[i].Stop=t[r].Stop,a[i].Up=t[r].Up,a[i].Down=t[r].Down,a[i].Unchanged=t[r].Unchanged,++r,++i):o<n||o==n&&h<s?++r:(a[i]=new Y,a[i].Date=n,a[i].Time=s,++i)}}return a},this.GetFittingData=function(t){for(var e=new Array,a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date;if(i>=t.length)e[a]=null,++a;else{var n=t[i].Date;if(n==r){var s=new H;s.Date=t[i].Date,s.Value=t[i].Value,e[a]=s,++i,++a}else n<r?++i:(e[a]=new H,e[a].Date=r,++a)}}return e},this.GetFittingData2=function(t,e){for(var a=new Array,i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date;if(r>=t.length)a[i]=new H,a[i].Date=n,a[i].Value=e,++i;else{var s=t[r].Date;if(s==n){var o=new H;o.Date=t[r].Date,o.Value=t[r].Value,a[i]=o,++r,++i}else s<n?++r:(a[i]=new H,a[i].Date=n,a[i].Value=e,++i)}}return a},this.GetDateIndex=function(t){for(var e=0,a=0;e<this.Data.length;){var i=this.Data[e].Date;if(a>=t.length)break;var r=t[a];r.Date==i?(r.Index=e,++a):r.Date<i?++a:++e}},this.GetDateTimeIndex=function(t){for(var e=0,a=0;e<this.Data.length;){var i=this.Data[e].Date,r=this.Data[e].Time;if(a>=t.length)break;var n=t[a];n.Date==i&&n.Time==r?(n.Index=e,++a):n.Date<i||n.Date==i&&n.Time<r?++a:++e}},this.GetMinuteFittingData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date,n=this.Data[a].Time;if(i>=t.length)e[a]=null,++a;else{var s=t[i].Date,o=t[i].Time,h=t[i];if(s==r&&o==n){var l=new H;l.Date=h.Date,l.Time=h.Time,l.Value=h.Value,e[a]=l,++i,++a}else if(s<r||s==r&&o<n)++i;else{var l=new H;l.Date=r,l.Time=n,e[a]=l,++a}}}return e},this.GetFittingFinanceData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date;if(i+1<t.length&&t[i].Date<r&&t[i+1].Date<=r)++i;else{var n=new H;n.Date=r,i<t.length?(n.Value=t[i].Value,n.FinanceDate=t[i].Date):(n.Value=null,n.FinanceDate=null),e[a]=n,++a}}return e},this.GetMinuteFittingFinanceData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date,n=this.Data[a].Time;if(i+1<t.length&&t[i].Date<r&&t[i+1].Date<=r)++i;else{var s=new H;s.Date=r,s.Time=n,i<t.length?(s.Value=t[i].Value,s.FinanceDate=t[i].Date):(s.Value=null,s.FinanceDate=null),e[a]=s,++a}}return e},this.GetFittingMarketValueData=function(t){for(var e=[],a=0,i=0;a<this.Data.length;){var r=this.Data[a].Date,n=this.Data[a].Close;if(i+1<t.length&&t[i].Date<r&&t[i+1].Date<=r)++i;else{var s=new H;s.Date=r,s.Value=t[i].Value*n,s.FinanceDate=t[i].Date,e[a]=s,++a}}return e},this.GetFittingMonthData=function(t){for(var e=new Array,a=null,i=0,r=0;i<this.Data.length;){var n=this.Data[i].Date;if(r>=t.length)e[i]=null,++i;else{var s=t[r].Date;if(s==n){var o=new H;o.Date=t[r].Date,o.Value=t[r].Value,o.Text=t[r].Text,e[i]=o,++r,++i}else if(null!=a&&a<s&&n>s){var o=new H;o.Date=n,o.OverlayDate=t[r].Date,o.Value=t[r].Value,o.Text=t[r].Text,e[i]=o,++r,++i}else s<n?++r:(e[i]=new H,e[i].Date=n,++i);a=n}}return e},this.GetValue=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&null!=this.Data[e].Value){var a=this.Data[e].Value;isNaN(a)?a instanceof Array?t[e]=a:t[e]=null:t[e]=a}else t[e]=null;return t},this.GetObject=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&this.Data[e].Value){var a=this.Data[e].Value;t[e]=a}else t[e]=null;return t},this.GetPeriodSingleData=function(t){var e=new Array,a=0,i=2,r=null;for(var n in this.Data){var s=!1,o=this.Data[n];if(null!=o&&null!=o.Date){switch(t){case 1:var h=G.GetFirday(o.Date);h!=a&&(s=!0,a=h);break;case 21:var h=G.GetFirday(o.Date);h!=a&&(++i,i>=2&&(s=!0,i=0),a=h);break;case 2:parseInt(o.Date/100)!=parseInt(a/100)&&(s=!0,a=o.Date);break;case 3:parseInt(o.Date/1e4)!=parseInt(a/1e4)&&(s=!0,a=o.Date);break;case 9:var l=G.GetQuarter(o.Date);l=10*parseInt(o.Date/1e4)+l;var u=G.GetQuarter(a);u=10*parseInt(a/1e4)+u,l!=u&&(s=!0,a=o.Date)}if(s)r=new H,r.Date=o.Date,r.Value=o.Value,e.push(r);else{if(null==r)continue;if(null==o.Value||isNaN(o.Value))continue;(null==r.Value||isNaN(r.Value))&&(r.Value=o.Value)}}}return e},this.GetMinuteAvPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].AvPrice;return t},this.MergeMinuteData=function(t){for(var e=this.Data[0],a=0,i=null,r=0;r<t.length;++r){var n=t[r];if(n.Date>e.Date){a=r,i=n;break}if(n.Date==e.Date&&n.Time>=e.Time){a=r,i=n;break}}if(null==i)return!1;for(var s=null,o=!1,r=this.Data.length-1;r>=0;--r){var h=this.Data[r].Date,l=this.Data[r].Time;if(i.Date>h||i.Date==h&&i.Time>=l){s=r,i.Date==h&&i.Time==l&&(o=!0);break}}if(null==s)return!1;var u=s,r=a;if(1==o){var n=t[r];u-1>0&&!n.YClose&&(n.YClose=this.Data[u-1].Close);var d=Y.Copy(n);this.Data[u]=d,++u,++r}else++u;for(;r<t.length;){var n=t[r];if(u>=this.Data.length-1){u-1>0&&!n.YClose&&(n.YClose=this.Data[u-1].YClose);var d=Y.Copy(n);this.Data[u]=d,++u,++r}else{var c=this.Data[u];c.Date==n.Date&&c.Time==n.Time?(Y.CopyTo(c,n),++u,++r):++u}}return!0},this.ConverPeriod=function(t,e,a){for(var i=[],r=null,n=G.IsMinutePeriod(e,!0),s=G.IsMinutePeriod(a,!0),o=n&&s,h=n&&!s,l=!n&&!s,u=0,d=0;u<this.Data.length;++u){for(var c=this.Data[u];d<t.length;++d){var D=t[d];if(o){if(D.Date>c.Date||D.Date==c.Date&&D.Time>=c.Time){r=D;break}}else if((h||l)&&D.Date>=c.Date){r=D;break}}var m=null;r?(m=Y.Copy(r),m.PDate=r.Date,m.PTime=r.Time):m=new Y,m.Date=c.Date,(o||h)&&(m.Time=c.Time),i.push(m)}return xi.Chart.Log("[ChartData::ConverPeriod] result",i),i},this.GetRef=function(t){for(var e=[],a=0;a<this.Data.length;++a){e[a]=null;var i=this.Data[a];if(a-t<0){var r=new Y;r.Date=i.Date,r.Time=i.Time,e[a]=r}else{var n=this.Data[a-t],r=Y.Copy(n);r.Date=i.Date,r.Time=i.Time,e[a]=r}}return e},this.FitKLineIndex=function(t,e,a,i){for(var r=this.Data.length,n=t.length,s=[G.IsMinutePeriod(a,!0),G.IsMinutePeriod(i,!0)],o=[G.IsDayPeriod(a,!0),G.IsDayPeriod(i,!0)],h=G.GetKLineDataTime(this.Data[0]),l=[],u=n,d=0;d<n;++d){var c=G.GetKLineDataTime(t[d]);if(o[0]&&o[1]||s[0]&&o[1]){if(c.Date>=h.Date){u=d;break}}else if(s[0]&&s[1]){if(c.Date>h.Date){u=d;break}if(c.Date==h.Date&&c.Time>=h.Time){u=d;break}}}for(var d=0,D=u;d<r;){var c=G.GetKLineDataTime(this.Data[d]);if(D>=n){var m={Date:c.Date,Time:c.Time,Index:-1};l[d]=m,++d}else{var C=G.GetKLineDataTime(t[D]);if(o[0]&&o[1]||s[0]&&o[1])if(C.Date==c.Date){var m={Date:c.Date,Time:c.Time,Index:D,Data2:C.Date,Time2:C.Time};l[d]=m,++d}else if(D+1<n){var f=G.GetKLineDataTime(t[D+1]);if(C.Date<=c.Date&&f.Date>c.Date){var m={Date:c.Date,Time:c.Time,Index:D,Data2:C.Date,Time2:C.Time};l[d]=m,++d}else if(f.Date<=c.Date)++D;else{var m={Date:c.Date,Time:c.Time,Index:-1};l[d]=m,++d}}else++D;else if(s[0]&&s[1])if(C.Date==c.Date&&C.Time==c.Time){var m={Date:c.Date,Time:c.Time,Index:D,Data2:C.Date,Time2:C.Time};l[d]=m,++d}else if(D+1<n){var f=G.GetKLineDataTime(t[D+1]);if(C.Date<c.Date&&f.Date>c.Date||C.Date==c.Date&&C.Time<c.Time&&f.Date==c.Date&&f.Time>c.Time||C.Date==c.Date&&C.Time<c.Time&&f.Date>c.Date||C.Date<c.Date&&f.Date==c.Date&&f.Time>c.Time){var m={Date:c.Date,Time:c.Time,Index:D,Data2:C.Date,Time2:C.Time};l[d]=m,++d}else if(f.Date<c.Date||f.Date==c.Date&&f.Time<=c.Time)++D;else{var m={Date:c.Date,Time:c.Time,Index:-1};l[d]=m,++d}}else++D}}var p=[];for(var d in e){var c=e[d];if(Array.isArray(c.Data)){var v=[];p[d]={Data:v,Name:c.Name};for(var D=0;D<l.length;++D){var S=l[D];v[D]=null,S&&S.Index>=0&&S.Index<c.Data.length&&(v[D]=c.Data[S.Index])}}else p[d]={Data:c.Data,Name:c.Name}}return p},this.FindDataIndexByDateTime=function(t){var e=0;for(var a in t)t[a].Index=-1;for(var a in this.Data){var i=this.Data[a];for(var r in t){var n=t[r];if(!(n.Index>=0)){if(Wt.IsNumber(n.Time)){if(n.Date==i.Date&&n.Time==i.Time){n.Index=parseInt(a),++e;break}}else if(n.Date==i.Date){n.Index=parseInt(a),++e;break}if(e>=t.length)break}}}},this.CloneData=function(t){var e=[];if("HistoryData"==t)for(var a in this.Data){var i=this.Data[a],r=Y.Copy(i);e.push(r)}return e},this.GetAPIDataIndex=function(t,e){var a=[];if(t&&e){for(var i=this.Data.length,r=t.length,n=G.GetKLineDataTime(this.Data[0]),s=r,s=r,o=0;o<r;++o){var h=t[o],l=e[o];if(h>n.Date||h==n.Date&&l>=n.Time){s=o;break}}for(var o=0,u=s;o<i;){var d=this.Data[o];if(u>=r){var c={KDate:d.Date,KTime:d.Time,KIndex:o,Index:-1};a[o]=c,++o}else{var h=t[u],l=e[u];if(h==d.Date&&l==d.Time){var c={KDate:d.Date,KTime:d.Time,KIndex:o,Index:u,Data:h,Time:l};a[o]=c,++o}else if(u+1<r){var D=t[u+1],m=e[u+1];if(h<d.Date&&D>d.Date||h==d.Date&&l<d.Time&&D==d.Date&&m>d.Time||h==d.Date&&l<d.Time&&D>d.Date||h<d.Date&&D==d.Date&&m>d.Time){var c={KDate:d.Date,KTime:d.Time,KIndex:o,Index:u,Data:h,Time:l};a[o]=c,++o}else if(D<d.Date||D==d.Date&&m<=d.Time)++u;else{var c={KDate:d.Date,KTime:d.Time,KIndex:o,Index:-1};a[o]=c,++o}}else++u}}}else if(t){for(var i=this.Data.length,r=t.length,n=G.GetKLineDataTime(this.Data[0]),s=r,o=0;o<r;++o){var d=t[o];if(d>=n.Date){s=o;break}}for(var o=0,u=s;o<i;){var d=this.Data[o];if(u>=r){var c={KDate:d.Date,KIndex:o,Index:-1};a[o]=c,++o}else{var C=t[u];if(C==d.Date){var c={KDate:d.Date,KIndex:o,Index:u,Data:C};a[o]=c,++o}else if(u+1<r){var f=t[u+1];if(C<=d.Date&&f>d.Date){var c={KDate:d.Date,KIndex:o,Index:u,Data:C};a[o]=c,++o}else if(f<=d.Date)++u;else{var c={KDate:d.Date,KIndex:o,Index:-1};a[o]=c,++o}}else++u}}}return a}}function W(){this.ChartPaint,this.Data,this.Type=0}function U(t,e,a,i){this.X=t,this.Y=e,this.Width=a,this.Height=i}function X(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="IChartPainting",this.Data=new G,this.NotSupportMessage=null,this.MessageFont=Zi.Index.NotSupport.Font,this.MessageColor=Zi.Index.NotSupport.TextColor,this.IsDrawFirst=!1,this.IsShow=!0,this.Draw=function(){},this.DrawNotSupportmessage=function(){this.Canvas.font=this.MessageFont,this.Canvas.fillStyle=this.MessageColor;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetWidth(),a=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetHeightEx(),r=t+e/2,n=a+i/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,r,n)},this.GetTooltipData=function(t,e,a){return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==r||isNaN(r)||(null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r))}return e},this.GetDynamicFont=function(t,e,a,i,r,n){var s=u();if(a*=s,i*=s,a==i){var o=a.toFixed(0)+"px "+n;return o}var h=t+e;r&&(0==r.Type?r.Value>0&&(h=t*r.Value):1==r.Type?r.Value>0&&(h=(t+e)*r.Value):2==r.Type&&Wt.IsNumber(r.Value)&&(h=t+e+2*r.Value*s)),h<i?h=i:h>a&&(h=a);var o=h.toFixed(0)+"px "+n;return o},this.GetLockRect=function(){return this.ChartFrame.GetLockRect()},this.SetFillStyle=function(t,e,a,i,r){if(Array.isArray(t)){var n=this.Canvas.createLinearGradient(e,a,i,r),s=1/t.length;for(var o in t)n.addColorStop(o*s,t[o]);this.Canvas.fillStyle=n}else this.Canvas.fillStyle=t},this.GetDynamicIconSize=function(t,e,a,i,r){var n=u();if(a*=n,i*=n,a==i)return a;var s=t+e-2*n;return r&&(0==r.Type?r.Value>0&&(s=t*r.Value):1==r.Type?r.Value>0&&(s=(t+e)*r.Value):2==r.Type&&Wt.IsNumber(r.Value)&&(s=t+e+2*r.Value*n)),s<i?s=i:s>a&&(s=a),s}}function K(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartKLine",this.Symbol,this.DrawType=0,this.CloseLineColor=Zi.CloseLineColor,this.CloseLineAreaColor=Zi.CloseLineAreaColor,this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.UnchagneColor=Zi.UnchagneBarColor,this.ColorData,this.TradeData,this.TradeIcon=Zi.KLine.TradeIcon,this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.IsShowMaxMinPrice=!0,this.IsShowKTooltip=!0,this.TextFont=Zi.KLine.MaxMin.Font,this.TextColor=Zi.KLine.MaxMin.Color,this.InfoData,this.InfoPosition=0,this.PtMax,this.PtMin,this.TickSymbol="╳",this.TickFontName="arial",this.Period,this.ShowRange={},this.ReloadResource=function(t){this.TextFont=Zi.KLine.MaxMin.Font,this.TextColor=Zi.KLine.MaxMin.Color,this.CloseLineColor=Zi.CloseLineColor,this.CloseLineAreaColor=Zi.CloseLineAreaColor,this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.UnchagneColor=Zi.UnchagneBarColor},this.DrawAKLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());for(var n=this.ChartFrame.XPointCount,s=(this.UpColor,this.DownColor,this.UnchagneColor,{X:null,Y:null,Value:null,Align:"left"}),o={X:null,Y:null,Value:null,Align:"left"},h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<n;++h,++l,i+=e+a){var u=this.Data.Data[h];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){var d=i,c=i+e;if(c>r)break;var D=d+(c-d)/2,m=this.ChartFrame.GetYFromData(u.Low),f=this.ChartFrame.GetYFromData(u.High),p=this.ChartFrame.GetYFromData(u.Open),v=this.ChartFrame.GetYFromData(u.Close);if((null==s.Value||s.Value<u.High)&&(s.X=D,s.Y=f,s.Value=u.High,s.Align=l<n/2?"left":"right"),(null==o.Value||o.Value>u.Low)&&(o.X=D,o.Y=m,o.Value=u.Low,o.Align=l<n/2?"left":"right"),u.Open<u.Close?this.Canvas.strokeStyle=this.UpColor:u.Open>u.Close?this.Canvas.strokeStyle=this.DownColor:this.Canvas.strokeStyle=this.UnchagneColor,this.ColorData&&(h<this.ColorData.length&&this.ColorData[h]>0?this.UpColor:this.DownColor),this.Canvas.beginPath(),t?(this.Canvas.moveTo(f,C(D)),this.Canvas.lineTo(m,C(D))):(this.Canvas.moveTo(C(D),f),this.Canvas.lineTo(C(D),m)),this.Canvas.stroke(),e>=4&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(p),d),this.Canvas.lineTo(C(p),D)):(this.Canvas.moveTo(d,C(p)),this.Canvas.lineTo(D,C(p))),this.Canvas.stroke(),this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(v),c),this.Canvas.lineTo(C(v),D)):(this.Canvas.moveTo(c,C(v)),this.Canvas.lineTo(D,C(v))),this.Canvas.stroke()),0==this.Data.DataType){var S={Xleft:d,XRight:c,YMax:f,XCenter:D,YMin:m,DayData:u,Index:l};this.DrawInfo(S)}}}this.PtMax=s,this.PtMin=o},this.DrawCloseArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,s=!0,o=null;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor;for(var h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<n;++h,++l,i+=e+a){var u=this.Data.Data[h];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){var d=i,c=i+e;if(c>r)break;var D=d+(c-d)/2,m=this.ChartFrame.GetYFromData(u.Close);s?(t?(this.Canvas.moveTo(m,D),o={X:m,Y:D}):(this.Canvas.moveTo(D,m),o={X:D,Y:m}),s=!1):t?this.Canvas.lineTo(m,D):this.Canvas.lineTo(D,m)}}if(!s){if(this.Canvas.stroke(),t?(this.Canvas.lineTo(this.ChartBorder.GetLeft(),D),this.Canvas.lineTo(this.ChartBorder.GetLeft(),o.Y)):(this.Canvas.lineTo(D,this.ChartBorder.GetBottom()),this.Canvas.lineTo(o.X,this.ChartBorder.GetBottom())),this.Canvas.closePath(),Array.isArray(this.CloseLineAreaColor))if(t){var C=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());C.addColorStop(0,this.CloseLineAreaColor[0]),C.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=C}else{var f=this.Canvas.createLinearGradient(o.X,this.ChartBorder.GetTopEx(),o.X,this.ChartBorder.GetBottom());f.addColorStop(0,this.CloseLineAreaColor[0]),f.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=f}else this.Canvas.fillStyle=this.CloseLineAreaColor;this.Canvas.fill()}},this.DrawCloseLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,s=!0;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<n;++o,++h,i+=e+a){var l=this.Data.Data[o];if(null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close){var u=i,d=i+e;if(d>r)break;var c=u+(d-u)/2,D=this.ChartFrame.GetYFromData(l.Close);s?(t?this.Canvas.moveTo(D,c):this.Canvas.moveTo(c,D),s=!1):t?this.Canvas.lineTo(D,c):this.Canvas.lineTo(c,D)}}0==s&&this.Canvas.stroke()},this.DrawKBar=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(i=this.ChartBorder.GetTop()+a/2+2,r=this.ChartBorder.GetBottom());var s={X:null,Y:null,Value:null,Align:"left"},o={X:null,Y:null,Value:null,Align:"left"},h=this.UpColor,l=this.DownColor,u=this.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=n;for(var d=this.Data.DataOffset,c=0;d<this.Data.Data.length&&c<n;++d,++c,i+=e+a,++this.ShowRange.DataCount){var D=this.Data.Data[d];if(this.ShowRange.End=d,null!=D.Open&&null!=D.High&&null!=D.Low&&null!=D.Close){var m=i,p=i+e;if(p>r)break;var v=m+(p-m)/2,S=this.ChartFrame.GetYFromData(D.Low),T=this.ChartFrame.GetYFromData(D.High),M=this.ChartFrame.GetYFromData(D.Open),_=this.ChartFrame.GetYFromData(D.Close),I=T;if((null==s.Value||s.Value<D.High)&&(s.X=v,s.Y=T,s.Value=D.High,s.Align=c<n/2?"left":"right"),(null==o.Value||o.Value>D.Low)&&(o.X=v,o.Y=S,o.Value=D.Low,o.Align=c<n/2?"left":"right"),this.ColorData&&(h=l=u=d<this.ColorData.length&&this.ColorData[d]>0?this.UpColor:this.DownColor),D.Open<D.Close?e>=4?(this.Canvas.strokeStyle=h,D.High>D.Close?(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(I),C(v)),this.Canvas.lineTo(C(3==this.DrawType?Math.max(_,M):_),C(v))):(this.Canvas.moveTo(C(v),C(I)),this.Canvas.lineTo(C(v),C(3==this.DrawType?Math.min(_,M):_))),this.Canvas.stroke(),I=_):I=_,this.Canvas.fillStyle=h,t?Math.abs(M-I)<1?this.Canvas.fillRect(f(I),f(m),1,f(e)):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(C(I),C(m),f(M-I),f(e)),this.Canvas.stroke()):this.Canvas.fillRect(f(I),f(m),f(M-I),f(e)):Math.abs(M-I)<1?this.Canvas.fillRect(f(m),f(I),f(e),1):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(C(m),C(I),f(e),f(M-I)),this.Canvas.stroke()):this.Canvas.fillRect(f(m),f(Math.min(I,M)),f(e),f(Math.abs(M-I))),D.Open>D.Low&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(3==this.DrawType?Math.min(_,M):I),C(v)),this.Canvas.lineTo(C(S),C(v))):(this.Canvas.moveTo(C(v),C(3==this.DrawType?Math.max(_,M):I)),this.Canvas.lineTo(C(v),C(S))),this.Canvas.stroke())):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(T,C(v)),this.Canvas.lineTo(S,C(v))):(this.Canvas.moveTo(C(v),T),this.Canvas.lineTo(C(v),S)),this.Canvas.strokeStyle=h,this.Canvas.stroke()):D.Open>D.Close?e>=4?(this.Canvas.strokeStyle=l,D.High>D.Close?(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(I),C(v)),this.Canvas.lineTo(C(M),C(v))):(this.Canvas.moveTo(C(v),C(I)),this.Canvas.lineTo(C(v),C(M))),this.Canvas.stroke(),I=M):I=M,this.Canvas.fillStyle=l,t?Math.abs(_-I)<1?this.Canvas.fillRect(f(I),f(m),1,f(e)):this.Canvas.fillRect(f(I),f(m),f(_-I),f(e)):Math.abs(_-I)<1?this.Canvas.fillRect(f(m),f(I),f(e),1):this.Canvas.fillRect(f(m),f(Math.min(I,_)),f(e),f(Math.abs(_-I))),D.Open>D.Low&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C(I),C(v)),this.Canvas.lineTo(C(S),C(v))):(this.Canvas.moveTo(C(v),C(I)),this.Canvas.lineTo(C(v),C(S))),this.Canvas.stroke())):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(T,C(v)),this.Canvas.lineTo(S,C(v))):(this.Canvas.moveTo(C(v),T),this.Canvas.lineTo(C(v),S)),this.Canvas.strokeStyle=l,this.Canvas.stroke()):e>=4?(this.Canvas.strokeStyle=u,this.Canvas.beginPath(),D.High>D.Close?(t?(this.Canvas.moveTo(I,C(v)),this.Canvas.lineTo(M,C(v))):(this.Canvas.moveTo(C(v),I),this.Canvas.lineTo(C(v),M)),I=M):I=M,t?(this.Canvas.moveTo(C(I),C(m)),this.Canvas.lineTo(C(I),C(p))):(this.Canvas.moveTo(C(m),C(I)),this.Canvas.lineTo(C(p),C(I))),D.Open>D.Low&&(t?(this.Canvas.moveTo(C(I),C(v)),this.Canvas.lineTo(C(S),C(v))):(this.Canvas.moveTo(C(v),C(I)),this.Canvas.lineTo(C(v),C(S)))),this.Canvas.stroke()):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(T,C(v)),this.Canvas.lineTo(S,C(v))):(this.Canvas.moveTo(C(v),T),this.Canvas.lineTo(C(v),S)),this.Canvas.strokeStyle=u,this.Canvas.stroke()),this.IsShowKTooltip&&!t){var L=Math.min(M,_),g=Math.max(M,_);Math.abs(M-_)<5&&(L=Math.min(T,L-5),g=Math.max(S,g+5));var y=new U(m,L,e,g-L);this.TooltipRect.push([d,y])}if(0==this.Data.DataType){var A={Xleft:m,XRight:p,XCenter:v,YMax:T,YMin:S,DayData:D,Index:c};this.DrawInfo(A)}}}this.PtMax=s,this.PtMin=o},this.DrawTrade=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(i=this.ChartBorder.GetTop()+a/2+2,r=this.ChartBorder.GetBottom());var s=this.TradeData.Sell,o=this.TradeData.Buy,h=e;h>10&&(h=10);for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<n;++l,++u,i+=e+a){var d=this.Data.Data[l];if(null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){var c=!1,D=!1;if(s&&l<s.length&&(D=s[l]>0),o&&l<o.length&&(c=o[l]>0),D||c){var m=i,C=i+e;if(C>r)break;var f=m+(C-m)/2,p=this.ChartFrame.GetYFromData(d.Low),v=this.ChartFrame.GetYFromData(d.High);this.ChartFrame.GetYFromData(d.Open),this.ChartFrame.GetYFromData(d.Close);c&&(this.Canvas.fillStyle=this.UpColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(p-1,f),this.Canvas.lineTo(p-h-1,f-h/2),this.Canvas.lineTo(p-h-1,f+h/2)):(this.Canvas.moveTo(f,p+1),this.Canvas.lineTo(f-h/2,p+h+1),this.Canvas.lineTo(f+h/2,p+h+1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()),D&&(this.Canvas.fillStyle=this.DownColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(v+1,f),this.Canvas.lineTo(v+h+1,f-h/2),this.Canvas.lineTo(v+h+1,f+h/2)):(this.Canvas.moveTo(f,v-1),this.Canvas.lineTo(f-h/2,v-h-1),this.Canvas.lineTo(f+h/2,v-h-1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke())}}}}},this.DrawTick=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2;t&&(i=this.ChartBorder.GetTop()+a/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,s=parseInt(e);s<=1?s=2:s>=18&&(s=18);this.Canvas.beginPath(),this.Canvas.font=s*u()+"px "+this.TickFontName;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<n;++o,++h,i+=e+a){var l=this.Data.Data[o];if(null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close){var d=i,c=i+e;if(c>r)break;var D=d+(c-d)/2,m=this.ChartFrame.GetYFromData(l.Close);0===l.Flag?this.Canvas.fillStyle=this.UpColor:1==l.Flag?this.Canvas.fillStyle=this.DownColor:this.Canvas.fillStyle=this.UnchagneColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",t?this.Canvas.fillText(this.TickSymbol,m,D):this.Canvas.fillText(this.TickSymbol,D,m)}}},this.Draw=function(){if(this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.PtMax={X:null,Y:null,Value:null,Align:"left"},this.PtMin={X:null,Y:null,Value:null,Align:"left"},this.ChartFrame.ChartKLine={Max:null,Min:null},this.IsShow){if(G.IsTickPeriod(this.Period))return void this.DrawTick();if(1==this.DrawType)return void this.DrawCloseLine();2==this.DrawType?this.DrawAKLine():4==this.DrawType?this.DrawCloseArea():this.DrawKBar(),this.TradeIcon?this.DrawTradeIcon():this.DrawTrade(),this.IsShowMaxMinPrice&&(!0===this.ChartFrame.IsHScreen?this.HScreenDrawMaxMinPrice(this.PtMax,this.PtMin):this.DrawMaxMinPrice(this.PtMax,this.PtMin))}},this.DrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var a=Wa(this.Symbol);this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor;var i=t;1==this.ChartFrame.CoordinateType?(t.Y<e.Y&&(i=e),this.Canvas.textBaseline="top"):(t.Y>e.Y&&(i=e),this.Canvas.textBaseline="bottom"),this.Canvas.textAlign=i.Align;var r=(i.Align,i.X),n=i.Value.toFixed(a);"left"==i.Align?n="←"+n:n+="→",this.Canvas.fillText(n,r,i.Y),this.ChartFrame.ChartKLine.Max={X:r,Y:i.Y,Text:{BaseLine:"bottom"}};var s=e;1==this.ChartFrame.CoordinateType?(e.Y>t.Y&&(s=t),this.Canvas.textBaseline="bottom"):(t.Y>e.Y&&(i=e),this.Canvas.textBaseline="top"),this.Canvas.textAlign=s.Align;var r=(s.Align,s.X),n=e.Value.toFixed(a);"left"==s.Align?n="←"+n:n+="→",this.Canvas.fillText(n,r,s.Y),this.ChartFrame.ChartKLine.Min={X:r,Y:s.Y,Text:{BaseLine:"top"}}}},this.HScreenDrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var a=Wa(this.Symbol),i=t.Y,r=t.X;this.Canvas.save(),this.Canvas.translate(i,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=t.Align,this.Canvas.textBaseline="bottom";var n=t.Value.toFixed(a);"left"==t.Align?n="←"+n:n+="→",this.Canvas.fillText(n,0,0),this.Canvas.restore();var i=e.Y,r=e.X;this.Canvas.save(),this.Canvas.translate(i,r),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=e.Align,this.Canvas.textBaseline="top";var n=e.Value.toFixed(a);"left"==e.Align?n="←"+n:n+="→",this.Canvas.fillText(n,0,0),this.Canvas.restore()}},this.DrawInfo=function(t){if(this.InfoData&&!(this.InfoData.length<=0)){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetBottom(),n=this.InfoData.get(t.DayData.Date.toString());if(n&&!(n.Data.length<=0)){var s=u(),o=a+i,h=18*s,l=!0;o<=15&&(l=!1),o<h&&(o=h);var d="",c=new Ai.default,D=t.YMax+1*s,m=0;for(var C in n.Data){var f=n.Data[C],p=c.get(f.InfoType);if(p)p.Data.push(f);else{var v=ca.GetIconFont(f.InfoType);if(this.Canvas.fillStyle=v.Color,this.Canvas.font=o+"px "+v.Family,e){this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillText(v.HScreenText,D,t.XCenter,o);var S=new U(t.XCenter-o/2,D-o,o,o),T={Data:new Array(f),Rect:S,Type:f.InfoType,TextRect:{X:D,Y:t.XCenter}};c.set(f.InfoType,T),D+=o}else if(this.Canvas.textBaseline="bottom",this.Canvas.textAlign="center",1===this.InfoPosition){var M=r+m;this.Canvas.fillText(v.Text,t.XCenter,M,o);var S=new U(t.XCenter-o/2,M-o,o,o),T={Data:new Array(f),Rect:S,Type:f.InfoType,TextRect:{X:t.XCenter,Y:M}};c.set(f.InfoType,T),m-=o}else{this.Canvas.fillText(v.Text,t.XCenter,D,o);var S=new U(t.XCenter-o/2,D-o,o,o),T={Data:new Array(f),Rect:S,Type:f.InfoType,TextRect:{X:t.XCenter,Y:D}};c.set(f.InfoType,T),D-=o}}}var _;Zi.KLine.NumIcon&&(_=e?Zi.KLine.NumIcon.HScreenText:Zi.KLine.NumIcon.Text);var I=!0,L=!1,g=void 0;try{for(var y,A=(0,Ii.default)(c);!(I=(y=A.next()).done);I=!0){var t=y.value,F=t[1];if(F.Data.length>=2&&_&&l){var E=F.Data.length;E>=_.length&&(E=0),this.Canvas.fillStyle=Zi.KLine.NumIcon.Color;var d=_[E];this.Canvas.fillText(d,F.TextRect.X,F.TextRect.Y,o)}e||this.InfoTooltipRect.push(F)}}catch(t){L=!0,g=t}finally{try{!I&&A.return&&A.return()}finally{if(L)throw g}}}}},this.DrawTradeIcon=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(i=this.ChartBorder.GetTop()+a/2+2,r=this.ChartBorder.GetBottom());var s=this.TradeData.Sell,o=this.TradeData.Buy,h=e+a,l=u(),d=24*l,c=12*l;h<c?h=c:h>d&&(h=d),this.Canvas.font=h+"px "+this.TradeIcon.Family;for(var D=this.Data.DataOffset,m=0;D<this.Data.Data.length&&m<n;++D,++m,i+=e+a){var C=this.Data.Data[D];if(null!=C.Open&&null!=C.High&&null!=C.Low&&null!=C.Close){var f=!1,p=!1;if(s&&D<s.length&&(p=s[D]>0),o&&D<o.length&&(f=o[D]>0),p||f){var v=i,S=i+e;if(S>r)break;var T=v+(S-v)/2,M=this.ChartFrame.GetYFromData(C.Low),_=this.ChartFrame.GetYFromData(C.High);this.ChartFrame.GetYFromData(C.Open),this.ChartFrame.GetYFromData(C.Close);if(f)if(this.Canvas.fillStyle=this.TradeIcon.Buy.Color,t)this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Buy.HScreenText,M,T);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillText(this.TradeIcon.Buy.Text,T,M);var I=new U(T-h/2,M,h,h),L={Data:{Type:1,KData:C,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:I,TextRect:{X:T,Y:M}};this.TradeIconTooltipRect.push(L)}if(p)if(this.Canvas.fillStyle=this.TradeIcon.Sell.Color,t)this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Sell.HScreenText,_,T);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.TradeIcon.Sell.Text,T,_);var I=new U(T-h/2,_-h,h,h),L={Data:{Type:2,KData:C,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:I,TextRect:{X:T,Y:_}};this.TradeIconTooltipRect.push(L)}}}}}},this.GetTooltipData=function(t,e,a){for(var i in this.TradeIconTooltipRect){var r=this.TradeIconTooltipRect[i];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return xi.Chart.Log("[ChartKLine::GetTooltipData] trade icon ",r),a.Data=r,a.ChartPaint=this,a.Type=2,!0}}for(var i in this.InfoTooltipRect){var r=this.InfoTooltipRect[i];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return a.Data=r,a.ChartPaint=this,a.Type=1,!0}}for(var i in this.TooltipRect){var n=this.TooltipRect[i][1];if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e)){var s=this.TooltipRect[i][0];return a.Data=this.Data.Data[s],a.ChartPaint=this,a.Type=0,!0}}return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Max=null,e.Min=null,1==this.DrawType||4==this.DrawType)for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];Wt.IsNumber(r.Close)&&(null==e.Max&&(e.Max=r.Close),null==e.Min&&(e.Min=r.Close),e.Max<r.Close&&(e.Max=r.Close),e.Min>r.Close&&(e.Min=r.Close))}else for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close&&(null==e.Max&&(e.Max=r.High),null==e.Min&&(e.Min=r.Low),e.Max<r.High&&(e.Max=r.High),e.Min>r.Low&&(e.Min=r.Low))}return e},this.GetAllPrice=function(){for(var t=this.ChartFrame.XPointCount,e=new Mi.default,a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close){var n=r.Close;e.add(n)}}var s=[],o=!0,h=!1,l=void 0;try{for(var u,d=(0,Ii.default)(e);!(o=(u=d.next()).done);o=!0){var c=u.value;s.push(c)}}catch(t){h=!0,l=t}finally{try{!o&&d.return&&d.return()}finally{if(h)throw l}}return s.sort(function(t,e){return t-e}),s}}function J(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartColorKline",this.Symbol,this.Color="rgb(0,255,44)",this.DrawType=0,this.KLineColor,this.Draw=function(){this.IsShow&&this.KLineColor&&this.DrawBar()},this.DrawUpBarItem=function(t,e,a,i){var r=!0===this.ChartFrame.IsHScreen,n=e,s=e+a,o=n+(s-n)/2,h=this.ChartFrame.GetYFromData(t.Low),l=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),d=this.ChartFrame.GetYFromData(t.Close),c=l;a>=4?(t.High>t.Close?(this.Canvas.beginPath(),r?(this.Canvas.moveTo(C(c),C(o)),this.Canvas.lineTo(C(3==this.DrawType?Math.max(d,u):d),C(o))):(this.Canvas.moveTo(C(o),C(c)),this.Canvas.lineTo(C(o),C(3==this.DrawType?Math.min(d,u):d))),this.Canvas.stroke(),c=d):c=d,r?Math.abs(u-c)<1?this.Canvas.fillRect(f(c),f(n),1,f(a)):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(C(c),C(n),f(u-c),f(a)),this.Canvas.stroke()):this.Canvas.fillRect(f(c),f(n),f(u-c),f(a)):Math.abs(u-c)<1?this.Canvas.fillRect(f(n),f(c),f(a),1):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(C(n),C(c),f(a),f(u-c)),this.Canvas.stroke()):this.Canvas.fillRect(f(n),f(Math.min(c,u)),f(a),f(Math.abs(u-c))),t.Open>t.Low&&(this.Canvas.beginPath(),r?(this.Canvas.moveTo(C(3==this.DrawType?Math.min(d,u):c),C(o)),this.Canvas.lineTo(C(h),C(o))):(this.Canvas.moveTo(C(o),C(3==this.DrawType?Math.max(d,u):c)),this.Canvas.lineTo(C(o),C(h))),this.Canvas.stroke())):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(l,C(o)),this.Canvas.lineTo(h,C(o))):(this.Canvas.moveTo(C(o),l),this.Canvas.lineTo(C(o),h)),this.Canvas.stroke())},this.DrawDownBarItem=function(t,e,a,i){var r=!0===this.ChartFrame.IsHScreen,n=e,s=e+a,o=n+(s-n)/2,h=this.ChartFrame.GetYFromData(t.Low),l=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),d=this.ChartFrame.GetYFromData(t.Close),c=l;a>=4?(t.High>t.Close?(this.Canvas.beginPath(),r?(this.Canvas.moveTo(C(c),C(o)),this.Canvas.lineTo(C(u),C(o))):(this.Canvas.moveTo(C(o),C(c)),this.Canvas.lineTo(C(o),C(u))),this.Canvas.stroke(),c=u):c=u,r?Math.abs(d-c)<1?this.Canvas.fillRect(f(c),f(n),1,f(a)):this.Canvas.fillRect(f(c),f(n),f(d-c),f(a)):Math.abs(d-c)<1?this.Canvas.fillRect(f(n),f(c),f(a),1):this.Canvas.fillRect(f(n),f(Math.min(c,d)),f(a),f(Math.abs(d-c))),t.Open>t.Low&&(this.Canvas.beginPath(),r?(this.Canvas.moveTo(C(c),C(o)),this.Canvas.lineTo(C(h),C(o))):(this.Canvas.moveTo(C(o),C(c)),this.Canvas.lineTo(C(o),C(h))),this.Canvas.stroke())):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(l,C(o)),this.Canvas.lineTo(h,C(o))):(this.Canvas.moveTo(C(o),l),this.Canvas.lineTo(C(o),h)),this.Canvas.stroke())},this.DrawUnChangeBarItem=function(t,e,a,i){var r=!0===this.ChartFrame.IsHScreen,n=e,s=e+a,o=n+(s-n)/2,h=this.ChartFrame.GetYFromData(t.Low),l=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),d=(this.ChartFrame.GetYFromData(t.Close),l);a>=4?(this.Canvas.beginPath(),t.High>t.Close?(r?(this.Canvas.moveTo(d,C(o)),this.Canvas.lineTo(u,C(o))):(this.Canvas.moveTo(C(o),d),this.Canvas.lineTo(C(o),u)),d=u):d=u,r?(this.Canvas.moveTo(C(d),C(n)),this.Canvas.lineTo(C(d),C(s))):(this.Canvas.moveTo(C(n),C(d)),this.Canvas.lineTo(C(s),C(d))),t.Open>t.Low&&(r?(this.Canvas.moveTo(C(d),C(o)),this.Canvas.lineTo(C(h),C(o))):(this.Canvas.moveTo(C(o),C(d)),this.Canvas.lineTo(C(o),C(h)))),this.Canvas.stroke()):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(l,C(o)),this.Canvas.lineTo(h,C(o))):(this.Canvas.moveTo(C(o),l),this.Canvas.lineTo(C(o),h)),this.Canvas.stroke())},this.DrawBar=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+e/2+2,i=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount;this.IsHScreen&&(a=this.ChartBorder.GetTop()+e/2+2,i=this.ChartBorder.GetBottom());for(var n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<r;++n,++s,a+=t+e){var o=this.Data.Data[n];if(null!=o.Open&&null!=o.High&&null!=o.Low&&null!=o.Close&&this.KLineColor.has(n)){var h=this.KLineColor.get(n);if(a+t>i)break;h.Color?(this.Canvas.strokeStyle=h.Color,this.Canvas.fillStyle=h.Color):(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color),o.Open<o.Close?this.DrawUpBarItem(o,a,t,h):o.Open>o.Close?this.DrawDownBarItem(o,a,t,h):this.DrawUnChangeBarItem(o,a,t,h)}}},this.GetMaxMin=function(){return{Max:null,Min:null}}}function z(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartOverlayKLine",this.Color="rgb(65,105,225)",this.MainData,this.SourceData,this.Title,this.DrawType=0,this.CustomDrawType=null,this.Status=Xi.STATUS_NONE_ID,this.IsDelete=!1,this.SetOption=function(t){t&&Wt.IsNumber(t.DrawType)&&(this.CustomDrawType=t.DrawType)},this.DrawKBar=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var s=this.ChartFrame.XPointCount,o=this.DrawType;null!=this.CustomDrawType&&(o=this.CustomDrawType);for(var h=!0,l=null,u=this.Data.DataOffset,d=0;u<this.Data.Data.length&&d<s;++u,++d,r+=a+i){var c=this.Data.Data[u];if(c&&null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){null==l&&(l=c.Open),h&&(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color,this.Canvas.beginPath(),h=!1);var D=r,m=r+a;if(m>n)break;var p=D+(m-D)/2,v=this.ChartFrame.GetYFromData(c.Low/l*t),S=this.ChartFrame.GetYFromData(c.High/l*t),T=this.ChartFrame.GetYFromData(c.Open/l*t),M=this.ChartFrame.GetYFromData(c.Close/l*t),_=S;c.Open<c.Close?a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(C(_),C(p)),this.Canvas.lineTo(C(3==this.DrawType?Math.max(M,T):M),C(p))):(this.Canvas.moveTo(C(p),C(_)),this.Canvas.lineTo(C(p),C(3==this.DrawType?Math.min(M,T):M))),_=M):_=M,e?Math.abs(T-_)<1?this.Canvas.fillRect(f(_),f(D),1,f(a)):3==o?this.Canvas.rect(C(_),C(D),f(T-_),f(a)):this.Canvas.fillRect(f(_),f(D),f(T-_),f(a)):Math.abs(T-_)<1?this.Canvas.fillRect(f(D),f(_),f(a),1):3==o?this.Canvas.rect(C(D),C(_),f(a),f(T-_)):this.Canvas.fillRect(f(D),f(_),f(a),f(T-_)),c.Open>c.Low&&(e?(this.Canvas.moveTo(C(3==this.DrawType?Math.min(M,T):_),C(p)),this.Canvas.lineTo(C(v),C(p))):(this.Canvas.moveTo(C(p),C(3==this.DrawType?Math.max(M,T):_)),this.Canvas.lineTo(C(p),C(v))))):e?(this.Canvas.moveTo(S,C(p)),this.Canvas.lineTo(v,C(p))):(this.Canvas.moveTo(C(p),S),this.Canvas.lineTo(C(p),v)):c.Open>c.Close?a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(C(_),C(p)),this.Canvas.lineTo(C(T),C(p))):(this.Canvas.moveTo(C(p),C(_)),this.Canvas.lineTo(C(p),C(T))),_=T):_=T,e?Math.abs(M-_)<1?this.Canvas.fillRect(f(_),f(D),1,f(a)):this.Canvas.fillRect(f(_),f(D),f(M-_),f(a)):Math.abs(M-_)<1?this.Canvas.fillRect(f(D),f(_),f(a),1):this.Canvas.fillRect(f(D),f(_),f(a),f(M-_)),c.Open>c.Low&&(e?(this.Canvas.moveTo(C(_),C(p)),this.Canvas.lineTo(C(v),C(p))):(this.Canvas.moveTo(C(p),C(_)),this.Canvas.lineTo(C(p),C(v))))):e?(this.Canvas.moveTo(S,C(p)),this.Canvas.lineTo(v,C(p))):(this.Canvas.moveTo(C(p),S),this.Canvas.lineTo(C(p),v)):a>=4?(c.High>c.Close?(e?(this.Canvas.moveTo(_,C(p)),this.Canvas.lineTo(T,C(p))):(this.Canvas.moveTo(C(p),_),this.Canvas.lineTo(C(p),T)),_=T):_=T,e?(this.Canvas.moveTo(C(_),C(D)),this.Canvas.lineTo(C(_),C(m))):(this.Canvas.moveTo(C(D),C(_)),this.Canvas.lineTo(C(m),C(_))),c.Open>c.Low&&(e?(this.Canvas.moveTo(C(_),C(p)),this.Canvas.lineTo(C(v),C(p))):(this.Canvas.moveTo(C(p),C(_)),this.Canvas.lineTo(C(p),C(v))))):e?(this.Canvas.moveTo(S,C(p)),this.Canvas.lineTo(v,C(p))):(this.Canvas.moveTo(C(p),S),this.Canvas.lineTo(C(p),v));var I=Math.min(v,S,T,M),L=Math.max(v,S,T,M),g=new U(D,I,a,L-I);this.TooltipRect.push([u,g])}}0==h&&this.Canvas.stroke()},this.DrawAKLine=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var s=this.ChartFrame.XPointCount,o=null;this.Canvas.strokeStyle=this.Color;for(var h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<s;++h,++l,r+=a+i){var u=this.Data.Data[h];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){null==o&&(o=u.Open);var d=r,c=r+a;if(c>n)break;var D=d+(c-d)/2,m=this.ChartFrame.GetYFromData(u.Low/o*t),f=this.ChartFrame.GetYFromData(u.High/o*t),p=this.ChartFrame.GetYFromData(u.Open/o*t),v=this.ChartFrame.GetYFromData(u.Close/o*t);this.Canvas.beginPath(),e?(this.Canvas.moveTo(f,C(D)),this.Canvas.lineTo(m,C(D))):(this.Canvas.moveTo(C(D),f),this.Canvas.lineTo(C(D),m)),this.Canvas.stroke(),a>=4&&(this.Canvas.beginPath(),e?(this.Canvas.moveTo(C(p),d),this.Canvas.lineTo(C(p),D)):(this.Canvas.moveTo(d,C(p)),this.Canvas.lineTo(D,C(p))),this.Canvas.stroke(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(C(v),c),this.Canvas.lineTo(C(v),D)):(this.Canvas.moveTo(c,C(v)),this.Canvas.lineTo(D,C(v))),this.Canvas.stroke())}}},this.DrawCloseLine=function(t){var e=!0===this.ChartFrame.IsHScreen,a=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+i/2+2;e&&(r=this.ChartBorder.GetTop()+i/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var s=this.ChartFrame.XPointCount,o=null,h=!0;this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath();for(var l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<s;++l,++u,r+=a+i){var d=this.Data.Data[l];if(null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){null==o&&(o=d.Open);var c=r,D=r+a;if(D>n)break;var m=c+(D-c)/2,C=this.ChartFrame.GetYFromData(d.Close/o*t);h?(e?this.Canvas.moveTo(C,m):this.Canvas.moveTo(m,C),h=!1):e?this.Canvas.lineTo(C,m):this.Canvas.lineTo(m,C)}}0==h&&this.Canvas.stroke()},this.Draw=function(){if(this.TooltipRect=[],this.InfoTooltipRect=[],this.MainData&&this.Data){for(var t=this.ChartFrame.XPointCount,e=null,a=this.Data.DataOffset,i=0;a<this.MainData.Data.length&&i<t;++a,++i){var r=this.MainData.Data[a];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close){e=r.Open;break}}if(null!=e){var n=this.DrawType;null!=this.CustomDrawType&&(n=this.CustomDrawType),1==n?this.DrawCloseLine(e):2==n?this.DrawAKLine(e):this.DrawKBar(e)}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Max=null,e.Min=null,!this.MainData||!this.Data)return e;for(var a=null,i=this.Data.DataOffset,r=0;i<this.MainData.Data.length&&r<t;++i,++r){var n=this.MainData.Data[i];if(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close){a=n.Close;break}}if(null==a)return e;for(var s,o,h=null,i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<t;++i,++r){var n=this.Data.Data[i];n&&null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close&&(null==h&&(h=n.Open),s=n.High/h*a,o=n.Low/h*a,null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=o),e.Max<s&&(e.Max=s),e.Min>o&&(e.Min=o))}return e},this.GetTooltipData=function(t,e,a){for(var i in this.TooltipRect){var r=this.TooltipRect[i][1];if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e)){var n=this.TooltipRect[i][0];return a.Data=this.Data.Data[n],a.ChartPaint=this,!0}}return!1}}function q(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteVolumBar",this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.YClose,this.Draw=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());for(var a=this.ChartFrame.XPointCount,i=this.ChartFrame.GetYFromData(0),r=this.YClose,n=this.Data,s=n.DataOffset,o=0;s<n.Data.length&&o<a;++s,++o){var h=n.Data[s],l=null;if(h){var u=null;if(h.Before?(l=h.Before.Vol,u=h.Before.Close):(l=h.Vol,u=h.Close),l){var d=this.ChartFrame.GetYFromData(l),c=this.ChartFrame.GetXFromIndex(s);if(c>e)break;this.Canvas.strokeStyle=u>=r?this.UpColor:this.DownColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(d,C(c)),this.Canvas.lineTo(i,C(c))):(this.Canvas.moveTo(C(c),d),this.Canvas.lineTo(C(c),i)),this.Canvas.stroke(),u&&(r=u)}}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=0,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];r&&r.Vol&&(null==e.Max&&(e.Max=r.Vol),e.Max<r.Vol&&(e.Max=r.Vol))}return e}}function Z(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartErrorMessage",this.Draw=function(){this.IsShow&&this.NotSupportMessage&&this.DrawNotSupportmessage()}}function Q(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.Draw=function(){if(this.IsShow){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}}},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*u());for(var i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.GetYFromData(o);if(h>e)break;i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(l,h):this.Canvas.moveTo(h,l),i=!1):t?this.Canvas.lineTo(l,h):this.Canvas.lineTo(h,l),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()},this.DrawStraightLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,i=this.GetLockRect();i&&(e=t?i.Top:i.Left),this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*u()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash([3,5]);for(var r=!0,n=0,s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<a;++s,++o){var h=this.Data.Data[s];if(null!=h){var l=this.ChartFrame.GetXFromIndex(o),d=this.GetYFromData(h);if(l>e)break;r?(this.Canvas.beginPath(),t?this.Canvas.moveTo(d,l):this.Canvas.moveTo(l,d),r=!1):t?this.Canvas.lineTo(d,l):this.Canvas.lineTo(l,d),++n}else n>0&&this.Canvas.stroke(),r=!0,n=0}n>0&&this.Canvas.stroke(),this.Canvas.restore()},this.GetYFromData=function(t){return this.ChartFrame.GetYFromData(t)}}function $(){this.newMethod=Q,this.newMethod(),delete this.newMethod,this.ClassName="ChartSubLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.SubFrame={Max:null,Min:null},this.Draw=function(){if(this.IsShow&&this.Data&&this.Data.Data)switch(this.CalculateDataMaxMin(),this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetYFromData=function(t){if(!0===this.ChartFrame.IsHScreen){if(t<=this.SubFrame.Min)return this.ChartBorder.GetLeftEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetLeftEx()+e}if(t<=this.SubFrame.Min)return this.ChartBorder.GetBottomEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetTopEx();var a=this.ChartBorder.GetHeightEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetBottomEx()-a},this.CalculateDataMaxMin=function(){this.SubFrame={Max:null,Min:null};var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());for(var a=this.ChartFrame.XPointCount,i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<a;++i,++r){var n=this.Data.Data[i];if(null!=n){if(this.ChartFrame.GetXFromIndex(r)>e)break;(null==this.SubFrame.Min||this.SubFrame.Min>n)&&(this.SubFrame.Min=n),(null==this.SubFrame.Max||this.SubFrame.Max<n)&&(this.SubFrame.Max=n)}}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function tt(){this.newMethod=Q,this.newMethod(),delete this.newMethod,this.MainData=new G,this.Draw=function(){if(this.Data&&this.Data.Data&&this.MainData&&this.MainData.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetFirstVaildIndex=function(){for(var t=this.Data.DataOffset,e=t,a=0;e<this.MainData.Data.length&&e<this.Data.Data.length;++e,++a){var i=this.MainData.Data[e],r=this.Data.Data[e];if(Wt.IsNumber(i)&&Wt.IsNumber(r))return{Index:a,DataOffset:e,OverlayValue:r,MainValue:i}}return null},this.DrawStraightLine=function(){var t=this.GetFirstVaildIndex();if(t){var e=!0===this.ChartFrame.IsHScreen,a=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());e&&(a=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount,r=this.GetLockRect();r&&(a=e?r.Top:r.Left),this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*u()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash([3,5]);for(var n=!0,s=0,o=0,h=t.DataOffset,l=t.Index;h<this.Data.Data.length&&l<i;++h,++l){var d=this.Data.Data[h];if(null!=d){var c=this.ChartFrame.GetXFromIndex(l),D=d-t.OverlayValue;o=0!=t.OverlayValue?1+D/Math.abs(t.OverlayValue):1+D;var m=t.MainValue*o,C=this.GetYFromData(m);if(c>a)break;n?(this.Canvas.beginPath(),e?this.Canvas.moveTo(C,c):this.Canvas.moveTo(c,C),n=!1):e?this.Canvas.lineTo(C,c):this.Canvas.lineTo(c,C),++s}else s>0&&this.Canvas.stroke(),n=!0,s=0}s>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;var a=this.GetFirstVaildIndex();if(!a)return e;for(var i=a.DataOffset,r=a.Index;i<this.Data.Data.length&&r<t;++i,++r){var n=this.Data.Data[i];if(Wt.IsNumber(n)){var s=n-a.OverlayValue;0!=a.OverlayValue?rate=1+s/Math.abs(a.OverlayValue):rate=1+s;var o=a.MainValue*rate;null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=o),e.Max<o&&(e.Max=o),e.Min>o&&(e.Min=o)}}return e}}function et(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartPartLine",this.LineWidth,this.Draw=function(){if(this.IsShow)return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawLine())},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*u());for(var i,r=0,n={X:null,Y:null},s=!1,o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<a;++o,++h){var l=this.Data.Data[o];if(null!=l&&null!=l.Value){var d=l.Value,c=l.RGB,D=this.ChartFrame.GetXFromIndex(h),m=this.ChartFrame.GetYFromData(d);if(D>e)break;c!=i||1==s?(i&&r>0&&this.Canvas.stroke(),r=0,i=c,this.Canvas.strokeStyle=c,this.Canvas.beginPath(),null!=n.X&&null!=n.Y?(t?this.Canvas.moveTo(n.Y,n.X):this.Canvas.moveTo(n.X,n.Y),t?this.Canvas.lineTo(m,D):this.Canvas.lineTo(D,m),++r):t?this.Canvas.moveTo(m,D):this.Canvas.moveTo(D,m)):(t?this.Canvas.lineTo(m,D):this.Canvas.lineTo(D,m),++r),n.X=D,n.Y=m,s=!1}else n.X=null,n.Y=null,s=!0}r>0&&this.Canvas.stroke(),this.Canvas.restore()},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];r&&r.Value&&((null==e.Max||e.Max<r.Value)&&(e.Max=r.Value),(null==e.Min||e.Min>r.Value)&&(e.Min=r.Value))}return e}}function at(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartPointDot",this.Color="rgb(255,193,37)",this.Radius=1,this.Draw=function(){if(this.IsShow){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.Canvas.fillStyle=this.Color;for(var i=this.Data.DataOffset,r=0;i<this.Data.Data.length&&r<a;++i,++r){var n=this.Data.Data[i];if(null!=n){var s=this.ChartFrame.GetXFromIndex(r),o=this.ChartFrame.GetYFromData(n);if(s>e)break;this.Canvas.beginPath(),t?this.Canvas.arc(o,s,this.Radius,0,2*Math.PI,!0):this.Canvas.arc(s,o,this.Radius,0,2*Math.PI,!0),this.Canvas.closePath(),this.Canvas.fill()}}this.Canvas.restore()}}}}function it(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.LineWidth,this.ClassName="ChartStick",this.DrawLine=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*u());for(var i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.ChartFrame.GetYFromData(o);if(h>e)break;i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(l,h):this.Canvas.moveTo(h,l),i=!1):t?this.Canvas.lineTo(l,h):this.Canvas.lineTo(h,l),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.DrawStick=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetLeft();this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineWidth&&(this.Canvas.lineWidth=this.LineWidth*u());for(var n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s),l=this.ChartFrame.GetYFromData(o);if(h>e)break;if(this.Canvas.beginPath(),t)this.Canvas.moveTo(r,h),this.Canvas.lineTo(l,h),this.Canvas.stroke();else{var d=parseInt(h.toString())+.5;this.Canvas.moveTo(d,l),this.Canvas.lineTo(d,i)}this.Canvas.stroke()}}this.Canvas.restore()}},this.Draw=function(){if(this.IsShow)return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawStick())}}function rt(){this.newMethod=it,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineStick",this.Draw=function(){if(this.IsShow){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();this.DrawStick(),this.DrawLine()}}}function nt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.HistoryData,this.KLineDrawType=0,this.ClassName="ChartVolStick",this.Draw=function(){if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+e/2+2,i=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount,n=this.GetLockRect();n&&(i=n.Left);var s=this.ChartFrame.GetYFromData(0);if(t>=4){s=f(s);for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,a+=t+e){var l=this.Data.Data[o],u=this.HistoryData.Data[o];if(null!=l&&null!=u){var d=a;if(a+t>i)break;var c=this.ChartFrame.GetYFromData(l),D=!1;u.Close>=u.Open?(this.Canvas.fillStyle=this.UpColor,D=!0):this.Canvas.fillStyle=this.DownColor;var m=f(s-c);c=s-m,!D||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(f(d),c,f(t),m):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(C(d),C(c),f(t),m),this.Canvas.stroke())}}}else for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,a+=t+e){var l=this.Data.Data[o],u=this.HistoryData.Data[o];if(null!=l&&null!=u){var c=this.ChartFrame.GetYFromData(l),p=this.ChartFrame.GetXFromIndex(h);if(p>i)break;u.Close>=u.Open?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var p=this.ChartFrame.GetXFromIndex(h);this.Canvas.beginPath(),this.Canvas.moveTo(C(p),c),this.Canvas.lineTo(C(p),s),this.Canvas.stroke()}}},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetTop()+e/2+2,i=this.ChartBorder.GetBottom(),r=this.ChartFrame.XPointCount,n=this.GetLockRect();n&&(i=n.Top);var s=this.ChartFrame.GetYFromData(0);if(t>=4){s=f(s);for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,a+=t+e){var l=this.Data.Data[o],u=this.HistoryData.Data[o];if(null!=l&&null!=u){var d=a;if(a+t>i)break;var c=this.ChartFrame.GetYFromData(l),D=!1;u.Close>=u.Open?(D=!0,this.Canvas.fillStyle=this.UpColor):this.Canvas.fillStyle=this.DownColor;var m=f(c-s);!D||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(s,f(d),m,f(t)):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(C(s),C(d),m,f(t)),this.Canvas.stroke())}}}else for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<r;++o,++h,a+=t+e){var l=this.Data.Data[o],u=this.HistoryData.Data[o];if(null!=l&&null!=u){var c=this.ChartFrame.GetYFromData(l),p=this.ChartFrame.GetXFromIndex(h);if(p>i)break;u.Close>u.Open?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var p=this.ChartFrame.GetXFromIndex(h);this.Canvas.beginPath(),this.Canvas.moveTo(c,C(p)),this.Canvas.lineTo(s,C(p)),this.Canvas.stroke()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=0,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==e.Max&&(e.Max=r),e.Max<r&&(e.Max=r)}return e}}function st(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineMultiData",this.Color="rgb(255,193,37)",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());for(var a=this.ChartFrame.XPointCount,i=!0,r=0,n=this.Data.DataOffset,s=0;n<this.Data.Data.length&&s<a;++n,++s){var o=this.Data.Data[n];if(null!=o){var h=this.ChartFrame.GetXFromIndex(s);if(h>e)break;for(var l in o){var u=o[l].Value,d=this.ChartFrame.GetYFromData(u);i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(d,h):this.Canvas.moveTo(h,d),i=!1):t?this.Canvas.lineTo(d,h):this.Canvas.lineTo(h,d),++r}}}r>0&&this.Canvas.stroke()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r)for(var n in r){var s=r[n].Value;null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=s),e.Max<s&&(e.Max=s),e.Min>s&&(e.Min=s)}}return e}}function ot(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartStickLine",this.Color="rgb(255,193,37)",this.BarType=0,this.Width=0,this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight();this.ChartFrame.ZoomIndex;t&&(i=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+a/2+2;t&&(n=this.ChartBorder.GetTop()+a/2+2),this.Canvas.save();var s=!1,o=!1;if(0==this.Width)this.Canvas.lineWidth=u(),this.Canvas.strokeStyle=this.Color;else if(3==this.Width||50==this.Width)e>=4?(o=!0,this.Canvas.fillStyle=this.Color,this.Canvas.strokeStyle=this.Color):(this.Canvas.lineWidth=u(),this.Canvas.strokeStyle=this.Color);else if(101==this.Width){var h=e+a+1*u();this.Canvas.lineWidth=h,this.Canvas.strokeStyle=this.Color}else if(this.Width<=3){var l=2*u();barWidth=e*(this.Width/3),barWidth<l&&(barWidth=l),1==this.BarType?(this.Canvas.lineWidth=u(),this.Canvas.strokeStyle=this.Color):this.Canvas.fillStyle=this.Color,s=!0}else barWidth=this.Width*u()+e,1==this.BarType?(this.Canvas.lineWidth=u(),this.Canvas.strokeStyle=this.Color):this.Canvas.fillStyle=this.Color,s=!0;for(var d=this.Data.DataOffset,c=0;d<this.Data.Data.length&&c<r;++d,++c,n+=e+a){var D=this.Data.Data[d];if(null!=D){var m=D.Value,p=D.Value2;null==p&&(p=0);var v=this.ChartFrame.GetXFromIndex(c),S=this.ChartFrame.GetYFromData(m),T=this.ChartFrame.GetYFromData(p);if(v>i)break;if(s)if(t){var M=v-barWidth/2,_=barWidth;1==this.BarType?(this.Canvas.beginPath(),this.Canvas.rect(C(Math.min(S,T)),C(M),f(Math.abs(S-T)),f(_)),this.Canvas.stroke()):this.Canvas.fillRect(f(Math.min(S,T)),f(M),f(Math.abs(S-T)),f(_))}else{var M=v-barWidth/2,_=barWidth;M+_>i&&(_=i-M),1==this.BarType?(this.Canvas.beginPath(),this.Canvas.rect(C(M),C(Math.min(S,T)),f(_),f(Math.abs(S-T))),this.Canvas.stroke()):this.Canvas.fillRect(f(M),f(Math.min(S,T)),f(_),f(Math.abs(S-T)))}else if(o)1==this.BarType?t?(this.Canvas.beginPath(),this.Canvas.rect(C(Math.min(S,T)),C(n),f(Math.abs(S-T)),f(e)),this.Canvas.stroke()):(this.Canvas.beginPath(),this.Canvas.rect(C(n),C(Math.min(S,T)),f(e),f(Math.abs(S-T))),this.Canvas.stroke()):t?this.Canvas.fillRect(f(Math.min(S,T)),f(n),f(Math.abs(S-T)),f(e)):this.Canvas.fillRect(f(n),f(Math.min(S,T)),f(e),f(Math.abs(S-T)));else if(t)this.Canvas.beginPath(),this.Canvas.moveTo(S,C(v)),this.Canvas.lineTo(T,C(v)),this.Canvas.stroke();else{var I=parseInt(v.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(I,S),this.Canvas.lineTo(I,T),this.Canvas.stroke()}}}this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r){var n=r.Value2;if(null==n&&(n=0),null!=r&&!isNaN(r.Value)&&!isNaN(n)){var s=Math.max(r.Value,n),o=Math.min(r.Value,n);null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=o),e.Max<s&&(e.Max=s),e.Min>o&&(e.Min=o)}}}return e}}function ht(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartText",this.TextFont="14px 微软雅黑",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());this.ChartFrame.XPointCount;for(var e in this.Data.Data){var a=this.Data.Data[e];if(null!=a){var i=a.Value;if("Left"==a.Position){var r=this.ChartFrame.GetXFromIndex(0),n=this.ChartFrame.GetYFromData(i);if(r>t)continue;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=a.Color,this.Canvas.font=this.TextFont,this.Canvas.fillText(a.Message,r,n)}}}}},this.GetMaxMin=function(){var t=(this.ChartFrame.XPointCount,{});if(t.Min=null,t.Max=null,!this.Data||!this.Data.Data)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];if(null!=a&&!isNaN(a.Value)){var i=a.Value;null==t.Max&&(t.Max=i),null==t.Min&&(t.Min=i),t.Max<i&&(t.Max=i),t.Min>i&&(t.Min=i)}}return t}}function lt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartSingleText",this.Color="rgb(255,193,37)",this.TextFont="14px 微软雅黑",this.Text,this.TextAlign="left",this.Direction=0,this.YOffset=0,this.Position,this.IconFont,this.IconSize={Max:Zi.DRAWICON.Icon.MaxSize,Min:Zi.DRAWICON.Icon.MinSize,Zoom:{Type:Zi.DRAWICON.Icon.Zoom.Type,Value:Zi.DRAWICON.Icon.Zoom.Value}},this.TextSize={Max:Zi.DRAWICON.Text.MaxSize,Min:Zi.DRAWICON.Text.MinSize,Zoom:{Type:Zi.DRAWICON.Text.Zoom.Type,Value:Zi.DRAWICON.Text.Zoom.Value},FontName:Zi.DRAWICON.Text.FontName},this.ReloadResource=function(t){"DRAWTEXT"==this.Name&&(this.TextSize={Max:Zi.DRAWTEXT.MaxSize,Min:Zi.DRAWTEXT.MinSize,Zoom:{Type:Zi.DRAWTEXT.Zoom.Type,Value:Zi.DRAWTEXT.Zoom.Value},FontName:Zi.DRAWTEXT.FontName})},this.SuperGetMaxMin=this.GetMaxMin,this.GetMaxMin=function(){return"DRAWTEXT_FIX"==this.Name||"DRAWNUMBER_FIX"==this.Name?{Min:null,Max:null}:this.SuperGetMaxMin()},this.Draw=function(){if(this.IsShow){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Position)return void this.DrawPosition();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight(),r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx();t&&(i=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetRightEx(),n=this.ChartBorder.GetLeftEx());var s=this.ChartFrame.XPointCount,o=Array.isArray(this.Text),h=u();if(1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",this.IconFont){this.Color=this.IconFont.Color,this.Text=this.IconFont.Text;var l=this.GetDynamicIconSize(e,a,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=l+"px "+this.IconFont.Family}else this.TextFont=this.GetDynamicFont(e,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName),this.Canvas.font=this.TextFont;for(var d=this.Data.DataOffset,c=0;d<this.Data.Data.length&&c<s;++d,++c){var D=this.Data.Data[d];if(null!=D){var m=this.ChartFrame.GetXFromIndex(c),f=this.ChartFrame.GetYFromData(D);if(m>i)break;if(this.Canvas.textAlign=this.TextAlign,this.Canvas.fillStyle=this.Color,this.YOffset>0&&this.Direction>0){var p=f;this.Canvas.save(),this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?(1==this.Direction?(f=r-this.YOffset*h,p+=5*h):(f=n+this.YOffset*h,p-=5*h),this.Canvas.moveTo(C(p),C(m)),this.Canvas.lineTo(C(f),C(m))):(1==this.Direction?(f=r+this.YOffset*h,p+=5*h):(f=n-this.YOffset*h,p-=5*h),this.Canvas.moveTo(C(m),C(p)),this.Canvas.lineTo(C(m),C(f))),this.Canvas.stroke(),this.Canvas.restore()}if(o){var v=this.Text[d];if(!v)continue;"DRAWNUMBER"==this.Name&&(1==this.Direction?f-=4*h:2==this.Direction&&(f+=4*h)),this.DrawText(v,m,f,t)}else this.DrawText(this.Text,m,f,t)}}}}},this.DrawPosition=function(){if(this.Text){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetRightEx()-this.ChartBorder.GetWidthEx()*this.Position.Y,a=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*this.Position.X;else var a=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*this.Position.X,e=this.ChartBorder.GetTopEx()+this.ChartBorder.GetHeightEx()*this.Position.Y;if(this.Canvas.fillStyle=this.Color,0==this.Position.Type?this.Canvas.textAlign="left":1==this.Position.Type?this.Canvas.textAlign="right":this.Canvas.textAlign="center",1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",Array.isArray(this.Text)){if(!this.Data||!this.Data.Data)return;for(var i=this.ChartFrame.XPointCount,r=this.Data.DataOffset,n=0;r<this.Data.Data.length&&n<i;++r,++n){var s=this.Text[r];if(s){this.DrawText(s,a,e,t);break}}}else this.DrawText(this.Text,a,e,t)}},this.DrawText=function(t,e,a,i){i?(this.Canvas.save(),this.Canvas.translate(a,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()):this.Canvas.fillText(t,e,a)}}function ut(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightLine",this.Color="rgb(255,193,37)",this.Draw=function(){if(this.Data&&this.Data.Data&&1==this.Data.Data.length){var t=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartFrame.XPointCount),e=this.Data.Data[0],a=this.ChartFrame.GetYFromData(e),i=this.ChartFrame.GetXFromIndex(0),r=this.ChartFrame.GetXFromIndex(t-1),n=parseInt(a.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(i,n),this.Canvas.lineTo(r,n),this.Canvas.strokeStyle=this.Color,this.Canvas.stroke()}},this.GetMaxMin=function(){var t=(this.ChartFrame.XPointCount,{});return t.Min=null,t.Max=null,this.Data&&this.Data.Data?1!=this.Data.Data.length?t:(t.Min=this.Data.Data[0],t.Max=this.Data.Data[0],t):t}}function dt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightArea",this.Color="rgb(255,193,37)",this.Font="11px 微软雅黑",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartBorder.GetBottom(),this.ChartBorder.GetLeft()),e=this.ChartFrame.XPointCount,a=this.ChartFrame.GetXFromIndex(e-1);for(var i in this.Data.Data){var r=this.Data.Data[i];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),s=Math.min(r.Value,r.Value2),o=this.ChartFrame.GetYFromData(n),h=this.ChartFrame.GetYFromData(s);if(this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(f(t),f(o),f(a-t),f(h-o)),r.Title&&r.TitleColor){this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=r.TitleColor,this.Canvas.font=this.Font;var l=o+(h-o)/2;this.Canvas.fillText(r.Title,a,l)}}}}},this.HScreenDraw=function(){var t=this.ChartBorder.GetBottom(),e=this.ChartBorder.GetTop(),a=this.ChartBorder.GetHeight();for(var i in this.Data.Data){var r=this.Data.Data[i];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),s=Math.min(r.Value,r.Value2),o=this.ChartFrame.GetYFromData(n),h=this.ChartFrame.GetYFromData(s);if(this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(f(h),f(e),f(o-h),f(a)),r.Title&&r.TitleColor){var l=o+(h-o)/2,u=t;this.Canvas.save(),this.Canvas.translate(l,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=r.TitleColor,this.Canvas.font=this.Font,this.Canvas.fillText(r.Title,0,-2),this.Canvas.restore()}}}},this.GetMaxMin=function(){var t=(this.ChartFrame.XPointCount,{});if(t.Min=null,t.Max=null,!this.Data||!this.Data.Data)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];if(null!=a&&!isNaN(a.Value)&&!isNaN(a.Value2)){var i=Math.max(a.Value,a.Value2),r=Math.min(a.Value,a.Value2);null==t.Max&&(t.Max=i),null==t.Min&&(t.Min=r),t.Max<i&&(t.Max=i),t.Min>r&&(t.Min=r)}}return t}}function ct(){this.newMethod=Q,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinutePriceLine",this.YClose,this.IsDrawArea=!0,this.AreaColor="rgba(0,191,255,0.1)",this.SourceData,this.IsShowLead=!1,this.LeadData,this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.IsShow){var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,a=this.ChartFrame.MinuteCount,i=this.ChartBorder.GetBottomEx(),r=this.ChartBorder.GetLeftEx(),n=this.Data,s=!1;if(this.SourceData&&(n=this.SourceData,s=!0),this.IsShowLead&&this.DrawLead(),n){for(var o=!0,h={},l=0,u=n.DataOffset,d=0;u<n.Data.length&&d<e;++u,++d){var c=null;if(s){var D=n.Data[u];c=D.Before?D.Before.Close:D.Close}else c=n.Data[u];if(null!=c){var m=this.ChartFrame.GetXFromIndex(d),C=this.ChartFrame.GetYFromData(c);o?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(C,m):this.Canvas.moveTo(m,C),o=!1,h={X:m,Y:C}):t?this.Canvas.lineTo(C,m):this.Canvas.lineTo(m,C),++l,l>=a&&(o=!0,this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,m),this.Canvas.lineTo(r,h.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),i,this.ChartBorder.GetLeftEx(),i)):(this.Canvas.lineTo(m,i),this.Canvas.lineTo(h.X,i),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,i)),this.Canvas.fill()),l=0)}}l>0&&(this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,m),this.Canvas.lineTo(r,h.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),i,this.ChartBorder.GetLeftEx(),i)):(this.Canvas.lineTo(m,i),this.Canvas.lineTo(h.X,i),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,i)),this.Canvas.fill()))}}},this.DrawLead=function(){if(this.LeadData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.XPointCount,a=this.ChartFrame.MinuteCount,i=(this.ChartBorder.GetBottomEx(),this.ChartBorder.GetTopEx());if(!0===t&&(i=this.ChartBorder.GetRightEx()),!(e>a)){for(var r=[],n=null,s=null,o=this.ChartFrame.GetYFromData(this.YClose),h=(o-i)/3,l=this.LeadData,u=l.DataOffset,d=0;u<l.Data.length&&d<e;++u,++d){var c=l.Data[u];if(Wt.IsNumber(c)&&0!=c){var D=this.ChartFrame.GetXFromIndex(d);(null==n||n<c)&&(n=c),(null==s||s>c)&&(s=c),r.push({X:D,Value:c})}}if(!(r.length<=0)){var m=Math.max(Math.abs(n),Math.abs(s));for(var u in r){var f=r[u];f.Value>0?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var p=o-f.Value*h/m,D=C(f.X);this.Canvas.beginPath(),!0===t?(this.Canvas.moveTo(o,D),this.Canvas.lineTo(p,D)):(this.Canvas.moveTo(D,o),this.Canvas.lineTo(D,p)),this.Canvas.stroke()}}}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;if(!this.IsShow)return e;e.Min=this.YClose,e.Max=this.YClose;var a=this.Data,i=!1;this.SourceData&&(a=this.SourceData,i=!0);for(var r=a.DataOffset,n=0;r<a.Data.length&&n<t;++r,++n){var s=null;if(i){var o=a.Data[r];s=o.Before?o.Before.Close:o.Close}else s=a.Data[r];null!=s&&(null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=s),e.Max<s&&(e.Max=s),e.Min>s&&(e.Min=s))}if(e.Max==this.YClose&&e.Min==this.YClose)return e.Max=this.YClose+.1*this.YClose,e.Min=this.YClose-.1*this.YClose,e;var h=Math.max(Math.abs(this.YClose-e.Max),Math.abs(this.YClose-e.Min));return e.Max=this.YClose+h,e.Min=this.YClose-h,e}}function Dt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.Color="rgb(65,105,225)",this.MainData,this.MainYClose,this.SourceData,this.BeforeDataCount=0,this.IsBeforeData=!1,this.ClassName="ChartOverlayMinutePriceLine",this.Title,this.Symbol,this.YClose,this.Status=Xi.STATUS_NONE_ID,this.Draw=function(){if(this.Data){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,a=this.ChartFrame.MinuteCount,i=!0,r=0,n=0;this.IsBeforeData&&(n=1);for(var s=this.Data.DataOffset+n,o=0;s<this.Data.Data.length&&o<e;++s,++o){var h=this.Data.Data[s].Close;if(null!=h){var l=h/this.YClose*this.MainYClose,u=this.ChartFrame.GetXFromIndex(o+this.BeforeDataCount),d=this.ChartFrame.GetYFromData(l);i?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(d,u):this.Canvas.moveTo(u,d),i=!1):t?this.Canvas.lineTo(d,u):this.Canvas.lineTo(u,d),++r,r>=a&&(i=!0,this.Canvas.stroke(),r=0)}}r>0&&this.Canvas.stroke()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;e.Min=this.MainYClose,e.Max=this.MainYClose;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a].Close;if(null!=r){var r=r/this.YClose*this.MainYClose;null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r)}}if(e.Max==this.MainYClose&&e.Min==this.MainYClose)return e.Max=this.MainYClose+.1*this.MainYClose,e.Min=this.MainYClose-.1*this.MainYClose,e;var n=Math.max(Math.abs(this.MainYClose-e.Max),Math.abs(this.MainYClose-e.Min));return e.Max=this.MainYClose+n,e.Min=this.MainYClose-n,e}}function mt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteInfo",this.Data=new Ai.default,this.SourceData,this.ChartMinutePrice,this.YClose,this.HQChartBorder,this.TextColor=Zi.MinuteInfo.TextColor,this.Font=Zi.MinuteInfo.Font,this.PointColor=Zi.MinuteInfo.PointColor,this.LineColor=Zi.MinuteInfo.LineColor,this.TextBGColor=Zi.MinuteInfo.TextBGColor,this.PixelTatio=u(),this.TextHeight=20,this.TextRectCache=[],this.InfoDrawCache=[],this.FrameBottom,this.FrameTop,this.FrameLeft,this.FrameRight,this.YOffset=5,this.IsHScreen=!1,this.IsDrawFull=!1,this.TooltipRect=[],this.SetOption=function(t){t.TextColor&&(this.TextColor=t.TextColor),t.TextBGColor&&(this.TextBGColor=t.TextBGColor),t.Font&&(this.Font=t.Font),t.PointColor&&(this.PointColor=t.PointColor),t.LineColor&&(this.LineColor=t.LineColor),t.TextHeight>0&&(this.TextHeight=t.TextHeight),1==t.IsDrawFull&&(this.IsDrawFull=!0)},this.Draw=function(){if(this.TooltipRect=[],this.ChartMinutePrice&&this.Data&&!(this.Data.size<=0)){this.TextRectCache=[],this.InfoDrawCache=[],this.PixelTatio=u(),this.YOffset=5*this.PixelTatio,this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount;this.ChartFrame.MinuteCount;this.FrameBottom=this.ChartBorder.GetBottom(),this.IsDrawFull&&this.HQChartBorder&&(this.FrameBottom=this.HQChartBorder.GetBottom()),this.FrameTop=this.ChartBorder.GetTop(),this.FrameLeft=this.ChartBorder.GetLeft(),this.FrameRight=this.ChartBorder.GetRight(),this.IsHScreen&&(this.FrameRight=this.ChartBorder.GetBottom(),this.FrameLeft=this.ChartBorder.GetTop(),this.FrameBottom=this.ChartBorder.GetLeft(),this.FrameTop=this.ChartBorder.GetRight()),this.YClose=this.ChartMinutePrice.YClose;var e=this.ChartMinutePrice.Data,a=!1;this.ChartMinutePrice.SourceData&&(e=this.ChartMinutePrice.SourceData,a=!0);for(var i=e.DataOffset,r=0;i<e.Data.length&&r<t;++i,++r){var n=this.SourceData.Data[i];if((!a||!n.Before)&&n){var s=n.DateTime;this.Data.has(s)&&(this.IsHScreen?this.CalcuateInfoHScreenPosition(this.Data.get(s),r,n):this.CalcuateInfoPosition(this.Data.get(s),r,n))}}for(var i in this.InfoDrawCache){var n=this.InfoDrawCache[i];this.DrawInfoLines(n)}for(var i in this.InfoDrawCache){var n=this.InfoDrawCache[i];if(this.DrawInfoText(n),!this.IsHScreen){var o=n.Border,h=new U(o.X,o.Y,o.Width,o.Height),l={Data:{Item:n},Rect:h};this.TooltipRect.push(l)}}this.TextRectCache=[],this.InfoDrawCache=[]}},this.CalcuateInfoPosition=function(t,e,a){if(t&&t.Data&&!(t.Data.length<=0)){var i=t.Data[0];this.Canvas.font=this.Font;var r,n=this.Canvas.measureText(i.Title).width+4*this.PixelTatio,s=this.TextHeight*this.PixelTatio,o=this.ChartFrame.GetXFromIndex(e);r=Wt.IsNumber(i.Price)?this.ChartFrame.GetYFromData(i.Price):this.ChartFrame.GetYFromData(a.Close),o=C(o);var h=o<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,l=[2,4,6,8,3,5,7],u=s+l[e%l.length]*this.PixelTatio,d={Y:[{Value:r+(s+this.YOffset),Offset:u},{Value:r-(2*s+this.YOffset),Offset:-u}]};a.Close<this.YClose&&(d.Y=d.Y.reverse());var c={X:o,Y:null,Width:n,Height:s};h||(c.X-=c.Width),this.FixTextRect(c,d);var D={Border:c,Start:{X:o,Y:r},IsLeft:h,Title:i.Title,Date:i.Date,Time:i.Time};i.Content&&(D.Content=i.Content),i.Link&&(D.Link=i.Link),i.Color&&(D.Color=i.Color),i.BGColor&&(D.BGColor=i.BGColor),this.InfoDrawCache.push(D),this.TextRectCache.push(c)}},this.CalcuateInfoHScreenPosition=function(t,e,a){if(t&&t.Data&&!(t.Data.length<=0)){var i=t.Data[0];this.Canvas.font=this.Font;var r,n=this.Canvas.measureText(i.Title).width+4*this.PixelTatio,s=this.TextHeight*this.PixelTatio,o=this.ChartFrame.GetXFromIndex(e);r=Wt.IsNumber(i.Price)?this.ChartFrame.GetYFromData(i.Price):this.ChartFrame.GetYFromData(a.Close),o=C(o);var h=o<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,l=[2,4,6,8,3,5,7],u=s+l[e%l.length]*this.PixelTatio,d={X:[{Value:r+(s+this.YOffset),Offset:u},{Value:r-(2*s+this.YOffset),Offset:-u}]};a.Close>this.YClose&&(d.X=d.X.reverse());var c={X:null,Y:o,Width:s,Height:n};h||(c.Y-=c.Height),this.FixHScreenTextRect(c,d);var D={Border:c,Start:{X:r,Y:o},IsLeft:h,Title:i.Title};this.InfoDrawCache.push(D),this.TextRectCache.push(c)}},this.DrawInfoLines=function(t){var e=t.Border,a=t.IsLeft;this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(C(t.Start.X),t.Start.Y),a?this.Canvas.lineTo(C(t.Start.X),e.Y):this.IsHScreen?this.Canvas.lineTo(e.X,e.Y+e.Height):this.Canvas.lineTo(C(t.Start.X),e.Y),this.Canvas.stroke(),this.Canvas.fillStyle=this.PointColor,this.Canvas.beginPath(),this.Canvas.arc(t.Start.X,t.Start.Y,5,0,2*Math.PI),this.Canvas.closePath(),this.Canvas.fill()},this.DrawInfoText=function(t){var e=t.Border,a=e.X,i=e.Y;t.BGColor?this.Canvas.fillStyle=t.BGColor:this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(a,i,e.Width,e.Height),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.rect(a,i,e.Width,e.Height),this.Canvas.stroke(),this.IsHScreen&&(this.Canvas.save(),this.Canvas.translate(e.X,e.Y),this.Canvas.rotate(90*Math.PI/180),a=0,i=0),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",t.Color?this.Canvas.fillStyle=t.Color:this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.IsHScreen?this.Canvas.fillText(t.Title,a+2*this.PixelTatio,i-e.Width/2):this.Canvas.fillText(t.Title,a+2*this.PixelTatio,i+e.Height/2),this.IsHScreen&&this.Canvas.restore()},this.FixTextRect=function(t,e){for(var a in e.Y){var i=e.Y[a];t.Y=i.Value;for(var r,n=0;n<10;++n){var s=!1;for(var o in this.TextRectCache){var h=this.TextRectCache[o];if(this.IsOverlap(h,t)){s=!0;break}}if(0==s)return;if(r=t.Y,(r+=i.Offset)+t.Height>this.FrameBottom||r<this.FrameTop)break;t.Y=r}}},this.FixHScreenTextRect=function(t,e){for(var a in e.X){var i=e.X[a];t.X=i.Value;for(var r,n=0;n<10;++n){var s=!1;for(var o in this.TextRectCache){var h=this.TextRectCache[o];if(this.IsOverlap(h,t)){s=!0;break}}if(0==s)return;if(r=t.X,(r+=i.Offset)+t.Width<this.FrameBottom||r>this.FrameTop)break;t.X=r}}},this.IsOverlap=function(t,e){return t.X+t.Width>e.X&&e.X+e.Width>t.X&&t.Y+t.Height>e.Y&&e.Y+e.Height>t.Y},this.GetMaxMin=function(){return{Min:null,Max:null}},this.GetTooltipData=function(t,e,a){for(var i in this.TooltipRect){var r=this.TooltipRect[i];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return a.Data=r,a.ChartPaint=this,a.Type=3,!0}}return!1}}function Ct(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMACD",this.UpColor=Zi.UpBarColor,this.DownColor=Zi.DownBarColor,this.LineWidth=1,this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=this.ChartFrame.DataWidth,e=(this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight()),a=this.ChartFrame.XPointCount,i=this.GetLockRect();i&&(e=i.Left);var r=this.ChartFrame.GetYFromData(0),n=this.LineWidth*u();50==this.LineWidth?n=t:n>t&&(n=t);var s=this.Canvas.lineWidth;this.Canvas.lineWidth=n;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<a;++o,++h){var l=this.Data.Data[o];if(null!=l){var d=this.ChartFrame.GetXFromIndex(h),c=this.ChartFrame.GetYFromData(l);if(d>e)break;var D=parseInt(d.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(D,r),this.Canvas.lineTo(D,c),this.Canvas.strokeStyle=l>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=s},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=(this.ChartFrame.DistanceWidth,this.ChartBorder.GetBottom()),a=this.ChartFrame.XPointCount,i=this.GetLockRect();i&&(e=i.Top);var r=this.ChartFrame.GetYFromData(0),n=this.LineWidth*u();50==this.LineWidth?n=t:n>t&&(n=t);var s=this.Canvas.lineWidth;this.Canvas.lineWidth=n;for(var o=this.Data.DataOffset,h=0;o<this.Data.Data.length&&h<a;++o,++h){var l=this.Data.Data[o];if(null!=l){var d=this.ChartFrame.GetXFromIndex(h),c=this.ChartFrame.GetYFromData(l);if(d>e)break;this.Canvas.beginPath(),this.Canvas.moveTo(r,C(d)),this.Canvas.lineTo(c,C(d)),this.Canvas.strokeStyle=l>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=s}}function ft(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartBar",this.UpBarColor=Zi.UpBarColor,this.DownBarColor=Zi.DownBarColor,this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight(),i=this.ChartFrame.XPointCount,r=this.ChartBorder.GetLeft()+e/2+2,n=this.ChartFrame.GetYFromData(0);if(t>=4){n=f(n);for(var s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<i;++s,++o,r+=t+e){var h=this.Data.Data[s];if(null!=h&&0!=h){var l=r,u=r+t;if(u>a)break;var d=this.ChartFrame.GetXFromIndex(o),c=this.ChartFrame.GetYFromData(h);this.Canvas.fillStyle=h>0?this.UpBarColor:this.DownBarColor;var D=f(Math.abs(n-c));c=n-c>0?n-D:n+D,this.Canvas.fillRect(f(l),c,f(t),D)}}}else for(var s=this.Data.DataOffset,o=0;s<this.Data.Data.length&&o<i;++s,++o,r+=t+e){var h=this.Data.Data[s];if(null!=h&&0!=h){var l=r,u=r+t;if(u>a)break;var d=this.ChartFrame.GetXFromIndex(o),c=this.ChartFrame.GetYFromData(h);this.Canvas.strokeStyle=h>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),this.Canvas.moveTo(C(d),c),this.Canvas.lineTo(C(d),n),this.Canvas.stroke()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=0,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];null==e.Max&&(e.Max=r),e.Max<r&&(e.Max=r)}return e}}function pt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartBand",this.FirstColor=Zi.Index.LineColor[0],this.SecondColor=Zi.Index.LineColor[1],this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetLeft()+e/2+2,r=0,n=0,s=0,o=[],h=[],l=this.Data.DataOffset,u=0;l<this.Data.Data.length&&u<a;++l,++u,i+=t+e){for(o=[],h=[];l<this.Data.Data.length&&u<a;++l,++u,i+=t+e){var d=this.Data.Data[l];if(null==d||null==d.Value||null==d.Value2)break;r=this.ChartFrame.GetXFromIndex(u),n=this.ChartFrame.GetYFromData(d.Value),s=this.ChartFrame.GetYFromData(d.Value2),o.push({x:r,y:n}),h.push({x:r,y:s})}o.length>1&&h.length>1&&this.DrawBand(o,h)}},this.DrawBand=function(t,e){this.Canvas.save(),this.Canvas.beginPath();for(var a=0;a<t.length;++a)0==a?this.Canvas.moveTo(t[a].x,t[a].y):this.Canvas.lineTo(t[a].x,t[a].y);for(var a=e.length-1;a>=0;--a)this.Canvas.lineTo(e[a].x,e[a].y);this.Canvas.closePath(),this.Canvas.clip(),this.Canvas.moveTo(t[0].x,this.ChartBorder.GetBottom());for(var a=0;a<t.length;++a)this.Canvas.lineTo(t[a].x,t[a].y);this.Canvas.lineTo(t[t.length-1].x,this.ChartBorder.GetBottom()),this.Canvas.closePath(),this.Canvas.fillStyle=this.FirstColor,this.Canvas.fill(),this.Canvas.beginPath(),this.Canvas.moveTo(e[0].x,this.ChartBorder.GetBottom());for(var a=0;a<e.length;++a)this.Canvas.lineTo(e[a].x,e[a].y);this.Canvas.lineTo(e[e.length-1].x,this.ChartBorder.GetBottom()),this.Canvas.closePath(),this.Canvas.fillStyle=this.SecondColor,this.Canvas.fill(),this.Canvas.restore()},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,s=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=s:e.Min>s&&(e.Min=s)}}return e}}function vt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartLineArea",this.Color="rgb(56,67,99)",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetLeft()+e/2+Zi.FrameLeftMargin,r=0,n=0,s=0,o=[],h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<a;++h,++l,i+=t+e){var u=this.Data.Data[h];o[h]=null,null!=u&&null!=u.Value&&null!=u.Value2&&(r=this.ChartFrame.GetXFromIndex(l),n=this.ChartFrame.GetYFromData(u.Value),s=this.ChartFrame.GetYFromData(u.Value2),o[h]={Line:{X:r,Y:n},Line2:{X:r,Y:s}})}this.Canvas.fillStyle=this.Color;var d=!0,c=0,D=[];for(var h in o){var m=o[h];if(m)d?(this.Canvas.beginPath(),this.Canvas.moveTo(m.Line.X,m.Line.Y),d=!1):this.Canvas.lineTo(m.Line.X,m.Line.Y),D.push(m),++c;else{if(c>0){for(var l=D.length-1;l>=0;--l){var C=D[l];this.Canvas.lineTo(C.Line2.X,C.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}d=!0,c=0,D=[]}}if(c>0){for(var l=D.length-1;l>=0;--l){var C=D[l];this.Canvas.lineTo(C.Line2.X,C.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,s=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=s:e.Min>s&&(e.Min=s)}}return e}}function St(){this.newMethod=vt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartFillRGN",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,i=this.ChartBorder.GetLeft()+e/2+Zi.FrameLeftMargin,r=0,n=0,s=0,o=[],h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<a;++h,++l,i+=t+e){var u=this.Data.Data[h];null!=u&&null!=u.Value&&null!=u.Value2&&u.Color&&(r=this.ChartFrame.GetXFromIndex(l),n=this.ChartFrame.GetYFromData(u.Value),s=this.ChartFrame.GetYFromData(u.Value2),o.push({Line:{X:r,Y:n},Line2:{X:r,Y:s},Color:u.Color}))}var d=!0,c=0,D=[],m=null;for(var h in o){var C=o[h];if(m&&C.Color!=m){if(c>0){for(var l=D.length-1;l>=0;--l){var f=D[l];this.Canvas.lineTo(f.Line2.X,f.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=m,this.Canvas.fill()}d=!0,c=0,D=[],m=null}d?(this.Canvas.beginPath(),this.Canvas.moveTo(C.Line.X,C.Line.Y),d=!1,m=C.Color):this.Canvas.lineTo(C.Line.X,C.Line.Y),D.push(C),++c}if(c>0){for(var l=D.length-1;l>=0;--l){var f=D[l];this.Canvas.lineTo(f.Line2.X,f.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=m,this.Canvas.fill()}}}}function Tt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartChannel",this.IsHScreen=!1,this.PointCount=0,this.DataWidth=0,this.DistanceWidth=0,this.ChartRight=0,this.LineColor="RGB(255,0,0)",this.LineDotted=[3,3],this.AreaColor="RGB(255,222,173)",this.LineWidth=1,this.CalculateData=function(){for(var t=[],e=[],a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<this.PointCount;++a,++i){var r=this.Data.Data[a];if(r&&Wt.IsNumber(r.Value)&&Wt.IsNumber(r.Value2)){var n=this.ChartFrame.GetXFromIndex(i);if(n>this.ChartRight)break;var s=this.ChartFrame.GetYFromData(r.Value),o=this.ChartFrame.GetYFromData(r.Value2);e.push({X:n,Y:s,Y2:o})}else e.length>0&&(t.push(e),e=[])}return e.length>0&&t.push(e),t},this.DrawArea=function(t){if(!(t.length<=0)){this.Canvas.beginPath();var e=0,a=t[0];this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y);for(var i=1;i<t.length;++i){var r=t[i];this.IsHScreen?this.Canvas.lineTo(r.Y,r.X):this.Canvas.lineTo(r.X,r.Y),++e}for(var i=t.length-1;i>=0;--i){var r=t[i];this.IsHScreen?this.Canvas.lineTo(r.Y2,r.X):this.Canvas.lineTo(r.X,r.Y2),++e}this.Canvas.closePath(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.fill()}},this.DrawLine=function(t){this.Canvas.strokeStyle=this.LineColor;for(var e=0;e<2;++e){for(var a=!0,i=0,r=0;r<t.length;++r){var n=t[r];a?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(0===e?n.Y:n.Y2,n.X):this.Canvas.moveTo(n.X,0===e?n.Y:n.Y2),a=!1):this.IsHScreen?this.Canvas.lineTo(0===e?n.Y:n.Y2,n.X):this.Canvas.lineTo(n.X,0===e?n.Y:n.Y2),++i}i>0&&this.Canvas.stroke()}},this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.PointCount=this.ChartFrame.XPointCount,this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth,this.IsHScreen?this.ChartRight=this.ChartBorder.GetBottom():this.ChartRight=this.ChartBorder.GetRight();var t=this.CalculateData();if(t&&!(t.length<=0)){this.Canvas.save(),this.Canvas.lineWidth=this.LineWidth*u(),this.Canvas.setLineDash(this.LineDotted);for(var e=0;e<t.length;++e){var a=t[e];this.DrawArea(a),this.DrawLine(a)}this.Canvas.restore()}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},a=this.Data.DataOffset,i=0;a<this.Data.Data.length&&i<t;++a,++i){var r=this.Data.Data[a];if(null!=r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,s=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=s:e.Min>s&&(e.Min=s)}}return e}}function Mt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartBackground",this.Color=null,this.ColorAngle=0,this.Draw=function(){if(this.IsShow&&this.Color&&!(this.Color.length<=0)){if(2==this.Color.length){if(0==this.ColorAngle)var t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else var t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()};var a=this.Canvas.createLinearGradient(t.X,t.Y,e.X,e.Y);a.addColorStop(0,this.Color[0]),a.addColorStop(1,this.Color[1]),this.Canvas.fillStyle=a}else{if(1!=this.Color.length)return;this.Canvas.fillStyle=this.Color[0]}var i=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetWidth(),s=this.ChartBorder.GetHeightEx();this.Canvas.fillRect(i,r,n,s)}}}function _t(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartRectangle",this.Color=[],this.Rect,this.BorderColor=Zi.FrameBorderPen,this.Draw=function(){if(this.IsShow&&this.Color&&this.Rect&&!(this.Color.length<=0)){this.Canvas.strokeStyle=this.BorderColor;var t=!1;if(2==this.Color.length)this.Canvas.fillStyle=this.Color[0],t=!0;else{if(1!=this.Color.length)return;this.Color[0]&&(this.Canvas.fillStyle=this.Color[0],t=!0)}var e=this.ChartBorder.GetWidth(),a=this.ChartBorder.GetHeightEx(),i=this.Rect.Left/1e3*e,r=this.Rect.Top/1e3*a,n=this.Rect.Right/1e3*e,s=this.Rect.Bottom/1e3*a;i=this.ChartBorder.GetLeft()+i,r=this.ChartBorder.GetTopEx()+r,n=this.ChartBorder.GetLeft()+n,s=this.ChartBorder.GetTopEx()+s;var o=Math.abs(i-n),h=Math.abs(r-s);t&&this.Canvas.fillRect(i,r,o,h),this.Canvas.rect(C(i),C(r),f(o),f(h)),this.Canvas.stroke()}}}function It(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartTextLine",this.Text,this.Line,this.Price,this.Draw=function(){if(this.IsShow&&this.Text&&this.Line&&Wt.IsNumber(this.Price)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottomEx(),i=this.ChartBorder.GetTopEx(),r=this.ChartFrame.GetYFromData(this.Price),n=0;if(this.Text.Title){var s=t+2*u(),o=r;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var h=8*u();r-h<i?(this.Canvas.textBaseline="top",o=i):r+h>a&&(this.Canvas.textBaseline="bottom",o=a),this.Canvas.fillStyle=this.Text.Color,this.Canvas.font=this.Text.Font,this.Canvas.fillText(this.Text.Title,s,o),n=this.Canvas.measureText(this.Text.Title).width+4*u()}if(this.Line.Type>0){2==this.Line.Type&&(this.Canvas.save(),this.Canvas.setLineDash([3,5]));var s=t+n;this.Canvas.strokeStyle=this.Line.Color,this.Canvas.beginPath(),this.Canvas.moveTo(s,C(r)),this.Canvas.lineTo(e,C(r)),this.Canvas.stroke(),2==this.Line.Type&&this.Canvas.restore()}}},this.GetMaxMin=function(){var t={Min:null,Max:null};return Wt.IsNumber(this.Price)&&(t.Min=this.Price,t.Max=this.Price),t}}function Lt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiBar",this.Bars=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=this.ChartFrame.DataWidth,i=u(),r=[];for(var n in this.Bars){var s=this.Bars[n],o={Point:[],Color:s.Color,Width:a,Type:0};s.Type>0&&(o.Type=s.Type),s.Width>0?(o.Width=s.Width*i,o.Width>a&&(o.Width=a)):o.Width<4&&(o.Width=1*i);for(var h in s.Point){var l=s.Point[h];if(Wt.IsNumber(l.Index)){var d=l.Index-e;if(d>=0&&d<t){var c=this.ChartFrame.GetXFromIndex(d),D=this.ChartFrame.GetYFromData(l.Value),m=this.ChartFrame.GetYFromData(l.Value2);o.Point.push({X:c,Y:D,Y2:m})}}}o.Point.length>0&&r.push(o)}for(var n in r){var s=r[n];s.Width>=4?1==s.Type?this.DrawHollowBar(s):this.DrawFillBar(s):this.DrawLineBar(s)}}},this.DrawLineBar=function(t){this.Canvas.strokeStyle=t.Color;var e=this.Canvas.lineWidth;this.Canvas.lineWidth=t.Width;for(var a in t.Point){var i=t.Point[a];this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(C(i.Y),C(i.X)),this.Canvas.lineTo(C(i.Y2),C(i.X))):(this.Canvas.moveTo(C(i.X),C(i.Y)),this.Canvas.lineTo(C(i.X),C(i.Y2))),this.Canvas.stroke()}this.Canvas.lineWidth=e},this.DrawFillBar=function(t){this.Canvas.fillStyle=t.Color;for(var e in t.Point){var a=t.Point[e],i=a.X-t.Width/2,r=Math.min(a.Y,a.Y2),n=t.Width,s=Math.abs(a.Y-a.Y2);this.IsHScreen?this.Canvas.fillRect(f(r),f(i),f(s),f(n)):this.Canvas.fillRect(f(i),f(r),f(n),f(s))}},this.DrawHollowBar=function(t){this.Canvas.strokeStyle=t.Color;for(var e in t.Point){var a=t.Point[e],i=a.X-t.Width/2,r=Math.min(a.Y,a.Y2),n=t.Width,s=Math.abs(a.Y-a.Y2);this.Canvas.beginPath(),this.IsHScreen?this.Canvas.rect(C(r),C(i),f(s),f(n)):this.Canvas.rect(C(i),C(r),f(n),f(s)),this.Canvas.stroke()}this.Canvas.lineWidth=1},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Bars){var n=this.Bars[r];for(var s in n.Point){var o=n.Point[s];if(o.Index>=a&&o.Index<i){var h=Math.min(o.Value,o.Value2),l=Math.max(o.Value,o.Value2);null==t.Max?t.Max=l:t.Max<l&&(t.Max=l),null==t.Min?t.Min=h:t.Min>h&&(t.Min=h)}}}return t}}function gt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiLine",this.Lines=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=[];for(var i in this.Lines){var r=this.Lines[i],n={Point:[],Color:r.Color};r.BGColor&&(n.BGColor=r.BGColor);for(var s in r.Point){var o=r.Point[s];if(Wt.IsNumber(o.Index)){var h=o.Index-e;if(h>=0&&h<t){var l=this.ChartFrame.GetXFromIndex(h),u=this.ChartFrame.GetYFromData(o.Value);n.Point.push({X:l,Y:u,End:!1})}else n.Point.length>0&&(n.Point[n.Point.length-1].End=!0)}}n.Point.length>=2&&a.push(n)}for(var i in a){var d=a[i];this.DrawLine(d)}}},this.DrawLine=function(t){if(t.BGColor){this.Canvas.fillStyle=t.BGColor;for(var e in t.Point){var a=t.Point[e];0==e?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y)):this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.closePath(),this.Canvas.fill()}this.Canvas.strokeStyle=t.Color;var i=0;for(var e in t.Point){var a=t.Point[e];0==i?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y),++i):(this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y),++i),1==a.End&&(i>0&&this.Canvas.stroke(),i=0)}i>0&&this.Canvas.stroke()},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Lines){var n=this.Lines[r];for(var s in n.Point){var o=n.Point[s];o.Index>=a&&o.Index<i&&(null==t.Max?t.Max=o.Value:t.Max<o.Value&&(t.Max=o.Value),null==t.Min?t.Min=o.Value:t.Min>o.Value&&(t.Min=o.Value))}}return t}}function yt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiText",this.Texts=[],this.Font=Zi.DefaultTextFont,this.Color=Zi.DefaultTextColor,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)&&this.Texts){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight();this.IsHScreen&&(a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom());for(var r in this.Texts){var n=this.Texts[r];if(n.Text&&Wt.IsNumber(n.Index)){var s=n.Index-e;if(s>=0&&s<t){var o=this.ChartFrame.GetXFromIndex(s),h=this.ChartFrame.GetYFromData(n.Value);n.Color?this.Canvas.fillStyle=n.Color:this.Canvas.fillStyle=this.Color,n.Font?this.Canvas.font=n.Font:this.Canvas.font=this.Font;var l=this.Canvas.measureText(n.Text).width;this.Canvas.textAlign="center",o+l/2>=i?(this.Canvas.textAlign="right",o=i):o-l/2<a&&(this.Canvas.textAlign="left",o=a),1==n.Baseline?this.Canvas.textBaseline="top":2==n.Baseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(h,o),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(n.Text,0,0),this.Canvas.restore()):this.Canvas.fillText(n.Text,o,h)}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null};if(!this.Texts)return t;var e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Texts){var n=this.Texts[r];n.Index>=a&&n.Index<i&&(null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value))}return t}}function At(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiSVGIcon",this.Icon,this.IconSize={Max:Zi.DRAWICON.Icon.MaxSize,Min:Zi.DRAWICON.Icon.MinSize,Zoom:{Type:Zi.DRAWICON.Icon.Zoom.Type,Value:Zi.DRAWICON.Icon.Zoom.Value}},this.Family,this.Color=Zi.DefaultTextColor,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&this.Data&&!(this.Data.length<=0)&&this.Family&&this.Icon){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,a=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight();this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth,this.IsHScreen&&(a=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom());var r=this.GetDynamicIconSize(this.DataWidth,this.DistanceWidth,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=r+"px "+this.Family;for(var n in this.Icon){var s=this.Icon[n];if(Wt.IsNumber(s.Index)){var o=s.Index-e;if(o>=0&&o<t){var h=this.ChartFrame.GetXFromIndex(o),l=this.ChartFrame.GetYFromData(s.Value);s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.Color;var u=this.Canvas.measureText(s.Text).width;this.Canvas.textAlign="center",h+u/2>=i?(this.Canvas.textAlign="right",h+=this.DataWidth/2):h-u/2<a&&(this.Canvas.textAlign="left",h-=this.DataWidth/2),1==s.Baseline?this.Canvas.textBaseline="top":2==s.Baseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(l,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Symbol,0,0),this.Canvas.restore()):this.Canvas.fillText(s.Symbol,h,l)}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,a=this.Data.DataOffset,i=a+e;for(var r in this.Icon){var n=this.Icon[r];n.Index>=a&&n.Index<i&&(null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value))}return t}}function Ft(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ClassName="ChartLock",this.WidthDiv=.2,this.LockCount=20,this.BGColor=Zi.LockBGColor,this.TextColor=Zi.LockTextColor,this.Font=Zi.DefaultTextFont,this.Title="🔒开通权限",this.LockRect=null,this.LockID,this.Callback,this.IndexName,this.MinWidth=null,this.Draw=function(t){if(this.LockRect=null,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw(t);var e=this.ChartBorder.GetRight(),a=0;if(null!=this.ChartFrame.Data){var i=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetLeft()+r/2+2;for(var n=this.ChartBorder.GetRight(),s=this.ChartFrame.XPointCount,o=this.ChartFrame.Data.DataOffset,h=0;o<this.ChartFrame.Data.Data.length&&h<s;++o,++h,e+=i+r){var l=this.ChartFrame.Data.Data[o];if(null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close){if(e+i>n)break}}a=(i+r)*this.LockCount}0==a&&(a=(e-this.ChartBorder.GetLeft())*this.WidthDiv);var u=e-a;u<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft());var d=this.ChartBorder.GetBottom()-this.ChartBorder.GetTop(),c=this.ChartBorder.GetRight()-u;if(this.MinWidth>10&&c<this.MinWidth&&(c=this.MinWidth,(u=this.ChartBorder.GetRight()-c)<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft())),t){this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(u,this.ChartBorder.GetTop(),c,d);var D=u+c/2,m=this.ChartBorder.GetTop()+d/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,D,m)}this.LockRect={Left:u,Top:this.ChartBorder.GetTop(),Width:c,Heigh:d}},this.HScreenDraw=function(t){var e=this.ChartBorder.GetBottom(),a=0;if(null!=this.ChartFrame.Data){var i=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetTop()+r/2+2;for(var n=this.ChartBorder.GetBottom(),s=this.ChartFrame.XPointCount,o=this.ChartFrame.Data.DataOffset,h=0;o<this.ChartFrame.Data.Data.length&&h<s;++o,++h,e+=i+r){var l=this.ChartFrame.Data.Data[o];if(null!=l.Open&&null!=l.High&&null!=l.Low&&null!=l.Close){if(e+i>n)break}}a=(i+r)*this.LockCount}0==a&&(a=(e-this.ChartBorder.GetTop())*this.WidthDiv);var u=e-a;u<this.ChartBorder.GetTop()&&(u=this.ChartBorder.GetTop());var d=this.ChartBorder.GetRight()-this.ChartBorder.GetLeft(),c=this.ChartBorder.GetBottom()-u;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(this.ChartBorder.GetLeft(),u,d,c);var D=this.ChartBorder.GetLeft()+d/2,m=u+c/2;this.Canvas.save(),this.Canvas.translate(D,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore(),this.LockRect={Left:this.ChartBorder.GetLeft(),Top:u,Width:d,Heigh:c}},this.GetTooltipData=function(t,e,a){return null!=this.LockRect&&(this.Canvas.beginPath(),this.Canvas.rect(this.LockRect.Left,this.LockRect.Top,this.LockRect.Width,this.LockRect.Heigh),!!this.Canvas.isPointInPath(t,e)&&(a.Data={ID:this.LockID,Callback:this.Callback,IndexName:this.IndexName},a.ChartPaint=this,!0))}}function Et(){this.newMethod=lt,this.newMethod(),delete this.newMethod,this.ClassName="ChartBuySell",this.TextFont=Zi.KLineTrain.Font,this.LastDataIcon=Zi.KLineTrain.LastDataIcon,this.BuyIcon=Zi.KLineTrain.BuyIcon,this.SellIcon=Zi.KLineTrain.SellIcon,this.BuySellData=new Ai.default,this.IconFont=Zi.KLineTrain.IconFont,this.AddTradeItem=function(t){if(this.BuySellData.has(t.Key)){this.BuySellData.get(t.Key).Data.push(t)}else this.BuySellData.set(t.Key,{Data:[t]})},this.ClearTradeData=function(){this.BuySellData=new Ai.default},this.Draw=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight();!0===t&&(i=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount;if(this.IconFont){var n=u(),s=e+a,o=18*n;s<o&&(s=o),this.Canvas.font=s+"px "+this.IconFont.Family}else this.Canvas.font=this.TextFont;for(var h=this.Data.DataOffset,l=0;h<this.Data.Data.length&&l<r;++h,++l){var d=this.Data.Data[h];if(null!=d){var c=this.ChartFrame.GetXFromIndex(l);if(c>i)break;if(h==this.Data.Data.length-1){var c=this.ChartFrame.GetXFromIndex(l),D=this.ChartFrame.GetYFromData(d.High);this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Last.Color,this.DrawText(this.IconFont.Last.Text,c,D,t)):(this.Canvas.fillStyle=this.LastDataIcon.Color,this.Canvas.font=this.TextFont,this.DrawText(this.LastDataIcon.Text,c,D,t))}var m=h;if(this.BuySellData.has(m)){var C=this.BuySellData.get(m),D=this.ChartFrame.GetYFromData(d.High),f=this.ChartFrame.GetYFromData(d.Low),p=[!1,!1];for(var v in C.Data){if(1==p[0]&&1==p[1])break;var S=C.Data[v];0==S.Op&&0==p[0]?(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Buy.Color,this.DrawText(this.IconFont.Buy.Text,c,f,t)):(this.Canvas.fillStyle=this.BuyIcon.Color,this.DrawText(this.BuyIcon.Text,c,f,t)),p[0]=!0):1==S.Op&&0==p[1]&&(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Sell.Color,this.DrawText(this.IconFont.Sell.Text,c,D,t)):(this.Canvas.fillStyle=this.SellIcon.Color,this.DrawText(this.SellIcon.Text,c,D,t)),p[1]=!0)}}}}}}}function xt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.Radius=100,this.Distance=30,this.txtLine=20,this.paddingX=20/3,this.Draw=function(){if(!(this.Data&&this.Data.Data&&this.Data.Data.length>0))return this.DrawEmptyData();var t=(this.ChartBorder.GetLeft(),this.ChartBorder.GetRight(),this.ChartBorder.GetTop(),this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),e=this.ChartBorder.GetHeight();if(isNaN(this.Radius)){var a=this.Radius.replace("%","");a/=100,t>=e&&(this.Radius=a*e),t<e&&(this.Radius=a*t)}this.Canvas.save(),this.Canvas.translate(t/2,e/2);var i=0;for(var r in this.Data.Data)i+=this.Data.Data[r].Value;var n=0,s=0;for(var o in this.Data.Data){var h=this.Data.Data[o],l=(h.Value/i).toFixed(2);this.Canvas.beginPath(),this.Canvas.moveTo(0,0),s+=2*l*Math.PI,this.Canvas.strokeStyle="white",this.Canvas.fillStyle=h.Color,this.Canvas.arc(0,0,this.Radius,n,s),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.strokeStyle=h.Color,this.Canvas.moveTo(0,0);var u=(this.Radius+this.Distance)*Math.cos(s-(s-n)/2),d=(this.Radius+this.Distance)*Math.sin(s-(s-n)/2);this.Canvas.lineTo(u,d);var c=this.txtLine,D=this.paddingX;if(this.Canvas.textAlign="left",s-(s-n)/2<1.5*Math.PI&&s-(s-n)/2>.5*Math.PI&&(c=-this.txtLine,D=-this.paddingX,this.Canvas.textAlign="right"),this.Canvas.lineTo(u+c,d),this.Canvas.stroke(),h.Text)this.Canvas.fillText(h.Text,u+c+D,d);else{var m=h.Name+":"+h.Value;this.Canvas.fillText(m,u+c+D,d)}n+=2*l*Math.PI}this.Canvas.restore()},this.DrawEmptyData=function(){xi.Chart.Log("[ChartPie::DrawEmptyData]")}}function Nt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.StartAngle=0,this.Color="rgb(198,198,198)",this.AreaColor="rgba(242,154,118,0.4)",this.AreaLineColor="rgb(242,154,118)",this.TitleFont=24*u()+"px 微软雅黑",this.TitleColor="rgb(102,102,102)",this.BGColor=["rgb(255,255,255)","rgb(224,224,224)"],this.DrawBorder=function(){if(!(this.BorderPoint.length<=0)){this.Canvas.font=this.TitleFont,this.Canvas.strokeStyle=this.Color;var t=[1,.8,.6,.4,.2];for(var e in t){var a=t[e],i=!0;for(var r in this.BorderPoint){var n=this.BorderPoint[r];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180)*a,n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180)*a,i?(this.Canvas.beginPath(),this.Canvas.moveTo(n.X,n.Y),i=!1):this.Canvas.lineTo(n.X,n.Y)}this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.fillStyle=this.BGColor[e%2==0?0:1],this.Canvas.fill()}this.Canvas.beginPath();for(var s in this.BorderPoint){var n=this.BorderPoint[s];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180),n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180),this.Canvas.moveTo(this.CenterPoint.X,this.CenterPoint.Y),this.Canvas.lineTo(n.X,n.Y),this.DrawText(n)}this.Canvas.stroke()}},this.DrawArea=function(){if(this.DataPoint&&!(this.DataPoint.length<=0)){this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.AreaLineColor,this.Canvas.beginPath();var t=!0;for(var e in this.DataPoint){var a=this.DataPoint[e];t?(this.Canvas.beginPath(),this.Canvas.moveTo(a.X,a.Y),t=!1):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()}},this.DrawText=function(t){if(t.Text){this.Canvas.fillStyle=this.TitleColor;var e=t.X,a=t.Y;t.Angle>0&&t.Angle<45?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2):t.Angle>=0&&t.Angle<90?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",e+=2):t.Angle>=90&&t.Angle<135?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=135&&t.Angle<180?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=180&&t.Angle<225?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e-=2):t.Angle>=225&&t.Angle<=270?(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom"):t.Angle>270&&t.Angle<315?(this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",e+=2):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2),this.Canvas.fillText(t.Text,e,a)}},this.Draw=function(){this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.Data&&this.Data.Data&&this.Data.Data.length>0?this.CalculatePoints(this.Data.Data):this.CalculatePoints(null),this.DrawBorder(),this.DrawArea()},this.CalculatePoints=function(t){for(var e=this.ChartBorder.GetLeft(),a=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),r=this.ChartBorder.GetHeight(),n={X:e+i/2,Y:a+r/2},s=Math.min(i/2,r/2)-2,o=Math.max(5,t?t.length:0),h=360/o,l=0;l<o;++l){var u={Index:l,Radius:s,Angle:l*h+this.StartAngle},d=u.Angle;if(t&&l<t.length){var c=t[l],D={Index:l,Text:c.Text};if(u.Text=c.Name,c.Value){var m=c.Value;m>=1&&(m=1);var C=s*m;D.X=n.X+C*Math.cos(d*Math.PI/180),D.Y=n.Y+C*Math.sin(d*Math.PI/180)}else D.X=n.X,D.Y=n.Y;this.DataPoint.push(D)}this.BorderPoint.push(u)}this.CenterPoint=n},this.DrawEmptyData=function(){xi.Chart.Log("[ChartPie::DrawEmptyData]")}}function wt(){this.newMethod=X,this.newMethod(),delete this.newMethod,this.ImageData=null,this.Left,this.Top,this.Width,this.Height,this.ImageWidth,this.ImageHeight,this.DefaultColor=[217,222,239],this.Color=[{Name:"海南",Color:"rgb(217,222,223)"},{Name:"内蒙古",Color:"rgb(217,222,225)"},{Name:"新疆",Color:"rgb(217,222,226)"},{Name:"青海",Color:"rgb(217,222,227)"},{Name:"西藏",Color:"rgb(217,222,228)"},{Name:"云南",Color:"rgb(217,222,229)"},{Name:"黑龙江",Color:"rgb(217,222,230)"},{Name:"吉林",Color:"rgb(217,222,231)"},{Name:"辽宁",Color:"rgb(217,222,232)"},{Name:"河北",Color:"rgb(217,222,233)"},{Name:"山东",Color:"rgb(217,222,234)"},{Name:"江苏",Color:"rgb(217,222,235)"},{Name:"浙江",Color:"rgb(217,222,236)"},{Name:"福建",Color:"rgb(217,222,237)"},{Name:"广东",Color:"rgb(217,222,238)"},{Name:"广西",Color:"rgb(217,222,239)"},{Name:"贵州",Color:"rgb(217,222,240)"},{Name:"湖南",Color:"rgb(217,222,241)"},{Name:"江西",Color:"rgb(217,222,242)"},{Name:"安徽",Color:"rgb(217,222,243)"},{Name:"湖北",Color:"rgb(217,222,244)"},{Name:"重庆",Color:"rgb(217,222,245)"},{Name:"四川",Color:"rgb(217,222,246)"},{Name:"甘肃",Color:"rgb(217,222,247)"},{Name:"陕西",Color:"rgb(217,222,248)"},{Name:"山西",Color:"rgb(217,222,249)"},{Name:"河南",Color:"rgb(217,222,250)"}],this.Draw=function(){var t=this.ChartBorder.GetLeft()+1,e=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()+1),a=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()-2),i=this.ChartBorder.GetHeight()-2,r=CHINA_MAP_IMAGE.width,n=CHINA_MAP_IMAGE.height,s=r,o=n;if(i<o||a<s)return void(this.ImageData=null);if(this.Left==t&&this.Top==e&&this.Width==a&&this.Height==i&&this.ImageWidth==r&&this.ImageHeight==n||(this.ImageData=null,this.ImageWidth=r,this.ImageHeight=n,this.Left=t,this.Top=e,this.Width=a,this.Height=i,xi.Chart.Log(r,n)),null==this.ImageData){this.Canvas.drawImage(CHINA_MAP_IMAGE,0,0,r,n,t,e,s,o),this.ImageData=this.Canvas.getImageData(t,e,s,o);var h=new Mi.default,l=new Ai.default,u=new Ai.default;if(this.Data.length>0)for(var d in this.Data){var c=this.Data[d];u.set(c.Name,c.Color)}xi.Chart.Log(this.Data);for(var D in this.Color){var m=this.Color[D];u.has(m.Name)?l.set(m.Color,u.get(m.Name)):h.add(m.Color)}for(var C,f=0;f<this.ImageData.data.length;f+=4)if(C="rgb("+this.ImageData.data[f]+","+this.ImageData.data[f+1]+","+this.ImageData.data[f+2]+")",h.has(C))this.ImageData.data[f]=this.DefaultColor[0],this.ImageData.data[f+1]=this.DefaultColor[1],this.ImageData.data[f+2]=this.DefaultColor[2];else if(l.has(C)){var p=l.get(C);this.ImageData.data[f]=p[0],this.ImageData.data[f+1]=p[1],this.ImageData.data[f+2]=p[2]}this.Canvas.clearRect(t,e,s,o),this.Canvas.putImageData(this.ImageData,t,e,0,0,s,o)}else this.Canvas.putImageData(this.ImageData,t,e,0,0,s,o)}}function Ot(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.Data,this.IsDynamic=!1,this.IsAnimation=!1,this.ClassName="IExtendChartPainting",this.SizeChange=!0,this.IsEraseBG=!1,this.DrawAfterTitle=!1,this.IsCallbackDraw=!1,this.Left=5,this.Right=5,this.Top=5,this.Bottom=5,this.Draw=function(){},this.SetOption=function(t){}}function Pt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="KLineTooltipPaint",this.BorderColor=Zi.TooltipPaint.BorderColor,this.BGColor=Zi.TooltipPaint.BGColor,this.TitleColor=Zi.TooltipPaint.TitleColor,this.Left=1*u(),this.Top=5*u(),this.Width=50,this.Height=100,this.LineHeight=15*u(),this.Font=[Zi.TooltipPaint.TitleFont],this.HQChart,this.KLineTitlePaint,this.IsHScreen=!1,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.GetLeft=function(){return this.IsHScreen?this.ChartBorder.GetRightEx()-this.Height-this.Top:this.ChartBorder.GetLeft()+this.Left},this.GetTop=function(){return this.IsHScreen?this.ChartBorder.GetTop():this.ChartBorder.GetTopEx()+this.Top},this.IsEnableDraw=function(){if(!this.HQChart||!this.HQChart.TitlePaint||!this.HQChart.TitlePaint[0])return!1;if(this.HQChart.DragMode==Ri.CLICK_TOUCH_MODE_ID){if(0==this.HQChart.TouchStatus.CorssCursorShow)return!1}else if(!this.HQChart.IsOnTouch)return!1;return!this.HQChart.CurrentChartDrawPicture},this.Draw=function(){if(this.IsEnableDraw()){this.KLineTitlePaint=this.HQChart.TitlePaint[0];var t=this.KLineTitlePaint.GetCurrentKLineData();if(t){var e,a=8;this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase()),"MinuteTooltipPaint"===this.ClassName?(a=7,tr.IsFutures(e)&&++a):(Wt.IsNumber(t.Time)&&++a,tr.IsSHSZStockA(this.HQChart.Symbol)&&t.FlowCapital>0&&++a,tr.IsFutures(e)&&Wt.IsNumber(t.Position)&&++a),this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.Canvas.font=this.Font[0];var i=Wa(this.HQChart.Symbol),r=" 擎: 9999.99亿 ";if(i>=5&&(r=" 擎: "+99.99.toFixed(i)+" "),this.Width=this.Canvas.measureText(r).width,this.Height=this.LineHeight*a+2*u()*2,t&&t.High>0){r=" 擎: "+t.High.toFixed(i)+" ";var n=this.Canvas.measureText(r).width;n>this.Width&&(this.Width=n)}this.DrawBG(),this.DrawTooltipData(t),this.DrawBorder()}}},this.DrawTooltipData=function(t){var e;this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase());var a=Wa(this.HQChart.Symbol),i=this.GetLeft()+2*u(),r=this.GetTop()+3*u();if(this.IsHScreen){this.Canvas.save();var n=this.GetLeft()+this.Height,s=this.GetTop();this.Canvas.translate(n,s),this.Canvas.rotate(90*Math.PI/180),i=2*u(),r=3*u()}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var o=this.Canvas.measureText("擎: ").width,h=Wt.FormatDateString(t.Date);this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(h,i,r);var l=this.HQChart.Period;G.IsMinutePeriod(l,!0)&&t.Time?(r+=this.LineHeight,h=Wt.FormatTimeString(t.Time),this.Canvas.fillText(h,i,r)):G.IsSecondPeriod(l)&&t.Time&&(r+=this.LineHeight,h=Wt.FormatTimeString(t.Time,"HH:MM:SS"),this.Canvas.fillText(h,i,r)),r+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=$i.GetText("Tooltip-Open",this.LanguageID),this.Canvas.fillText(h,i,r);var d=this.KLineTitlePaint.GetColor(t.Open,t.YClose);h=t.Open.toFixed(a),this.Canvas.fillStyle=d,this.Canvas.fillText(h,i+o,r),r+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=$i.GetText("Tooltip-High",this.LanguageID),this.Canvas.fillText(h,i,r);var d=this.KLineTitlePaint.GetColor(t.High,t.YClose),h=t.High.toFixed(a);this.Canvas.fillStyle=d,this.Canvas.fillText(h,i+o,r),r+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=$i.GetText("Tooltip-Low",this.LanguageID),this.Canvas.fillText(h,i,r);var d=this.KLineTitlePaint.GetColor(t.Low,t.YClose),h=t.Low.toFixed(a);this.Canvas.fillStyle=d,this.Canvas.fillText(h,i+o,r),r+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=$i.GetText("Tooltip-Close",this.LanguageID),this.Canvas.fillText(h,i,r);var d=this.KLineTitlePaint.GetColor(t.Close,t.YClose),h=t.Close.toFixed(a);if(this.Canvas.fillStyle=d,this.Canvas.fillText(h,i+o,r),r+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,h=$i.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(h,i,r),t.YFClose>0&&tr.IsChinaFutures(e))var c=(t.Close-t.YFClose)/t.YFClose*100,d=this.KLineTitlePaint.GetColor(c,0),h=c.toFixed(2)+"%";else if(t.YClose>0)var c=(t.Close-t.YClose)/t.YClose*100,d=this.KLineTitlePaint.GetColor(c,0),h=c.toFixed(2)+"%";else var h="--.--",d=this.KLineTitlePaint.GetColor(0,0);this.Canvas.fillStyle=d,this.Canvas.fillText(h,i+o,r),this.Canvas.fillStyle=this.TitleColor,r+=this.LineHeight,h=$i.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillText(h,i,r);var h=Wt.FromatIntegerString(t.Vol,2,this.LanguageID);if(this.Canvas.fillText(h,i+o,r),Wt.IsNumber(t.Amount)){r+=this.LineHeight,h=$i.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillText(h,i,r);var h=Wt.FormatValueString(t.Amount,2,this.LanguageID);this.Canvas.fillText(h,i+o,r)}if(tr.IsSHSZStockA(this.HQChart.Symbol)&&t.FlowCapital>0){r+=this.LineHeight,h=$i.GetText("Tooltip-Exchange",this.LanguageID),this.Canvas.fillText(h,i,r);var c=t.Vol/t.FlowCapital*100,h=c.toFixed(2)+"%";this.Canvas.fillText(h,i+o,r)}var e=this.HQChart.Symbol.toUpperCase();if(tr.IsFutures(e)&&Wt.IsNumber(t.Position)){this.Canvas.fillStyle=this.TitleColor,r+=this.LineHeight,h=$i.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(h,i,r);var h=Wt.FromatIntegerString(t.Position,2,this.LanguageID);this.Canvas.fillText(h,i+o,r)}this.IsHScreen&&this.Canvas.restore()},this.DrawBorder=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),a=this.GetTop();this.Canvas.strokeStyle=this.BorderColor,t?this.Canvas.strokeRect(C(e),C(a),this.Height,this.Width):this.Canvas.strokeRect(C(e),C(a),this.Width,this.Height)},this.DrawBG=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),a=this.GetTop();this.Canvas.fillStyle=this.BGColor,t?this.Canvas.fillRect(e,a,this.Height,this.Width):this.Canvas.fillRect(e,a,this.Width,this.Height)},this.SetOption=function(t){t.LineHeight>0&&(this.LineHeight=t.LineHeight*u()),t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID)}}function Rt(){this.newMethod=Pt,this.newMethod(),delete this.newMethod,this.ClassName="MinuteTooltipPaint",this.Left=1*u(),this.Top=1*u(),this.YClose,this.GetTop=function(){return this.IsHScreen?this.ChartBorder.GetTop():this.ChartBorder.GetTop()+this.Top},this.DrawTooltipData=function(t){if(this.HQChart.Symbol){var e=Wa(this.HQChart.Symbol),a=this.GetLeft()+2*u(),i=this.GetTop()+3*u();this.YClose=this.KLineTitlePaint.YClose;var r=this.HQChart.Symbol.toUpperCase();if(this.IsHScreen){this.Canvas.save();var n=this.GetLeft()+this.Height,s=this.GetTop();this.Canvas.translate(n,s),this.Canvas.rotate(90*Math.PI/180),a=2*u(),i=3*u()}this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font[0];var o=this.Canvas.measureText("擎: ").width,h=t.DateTime.split(" ");if(h&&2==h.length){var l=Wt.FormatDateString(h[0]);this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(l,a,i),i+=this.LineHeight,l=Wt.FormatTimeString(h[1]),this.Canvas.fillText(l,a,i)}var d=t.Close,c=(t.Increase,t.Vol),D=t.Amount;t.Before&&(d=t.Before.Close,t.Before.Increase,c=t.Before.Vol,D=t.Before.Amount),i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,l=$i.GetText("Tooltip-Price",this.LanguageID),this.Canvas.fillText(l,a,i);var m=this.KLineTitlePaint.GetColor(d,this.YClose),l=d.toFixed(e);this.Canvas.fillStyle=m,this.Canvas.fillText(l,a+o,i);var C=!0;if(t.Before?C=!1:tr.IsForeignExchange(r)?C=!1:tr.IsET(r)&&!tr.IsETShowAvPrice(r)&&(C=!1),C&&Wt.IsNumber(t.AvPrice)){i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,l=$i.GetText("Tooltip-AvPrice",this.LanguageID),this.Canvas.fillText(l,a,i);var m=this.KLineTitlePaint.GetColor(t.AvPrice,this.YClose),l=t.AvPrice.toFixed(e);this.Canvas.fillStyle=m,this.Canvas.fillText(l,a+o,i)}i+=this.LineHeight,this.Canvas.fillStyle=this.TitleColor,l=$i.GetText("Tooltip-Increase",this.LanguageID),this.Canvas.fillText(l,a,i);var f=(d-this.YClose)/this.YClose*100,m=this.KLineTitlePaint.GetColor(f,0),l=f.toFixed(2)+"%";if(this.Canvas.fillStyle=m,this.Canvas.fillText(l,a+o,i),Wt.IsNumber(c)){this.Canvas.fillStyle=this.TitleColor,i+=this.LineHeight,l=$i.GetText("Tooltip-Vol",this.LanguageID),this.Canvas.fillText(l,a,i);var l=Wt.FromatIntegerString(c,2,this.LanguageID);this.Canvas.fillText(l,a+o,i)}if(Wt.IsNumber(D)){i+=this.LineHeight,l=$i.GetText("Tooltip-Amount",this.LanguageID),this.Canvas.fillText(l,a,i);var l=Wt.FormatValueString(D,2,this.LanguageID);this.Canvas.fillText(l,a+o,i)}if(Wt.IsNumber(t.Position)){i+=this.LineHeight,l=$i.GetText("Tooltip-Position",this.LanguageID),this.Canvas.fillText(l,a,i);var l=Wt.FormatValueString(t.Position,2,this.LanguageID);this.Canvas.fillText(l,a+o,i)}this.IsHScreen&&this.Canvas.restore()}}}function bt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.Left=80,this.Right=1,this.Top=1,this.Bottom=1,this.BorderColor=Zi.FrameBorderPen,this.Symbol,this.Name,this.TitleFont=["14px 微软雅黑"],this.Draw=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,a=this.Top+18,i=t+(e-t)/2;this.Symbol&&this.Name&&(this.Canvas.font=this.TitleFont[0],this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.Symbol,i-2,a),this.Canvas.textAlign="left",this.Canvas.fillText(this.Name,i+2,a)),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.moveTo(t,a),this.Canvas.lineTo(e,a),this.Canvas.stroke(),a+=30,this.DrawBorder()},this.DrawBorder=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,a=this.Top,i=this.ChartBorder.GetChartHeight()-this.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,a,e-t,i-a)}}function Yt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.Name="筹码分布",this.ClassName="StockChip",this.HQChart,this.PenBorder=Zi.FrameBorderPen,this.ColorProfit="rgb(255,0,0)",this.ColorNoProfit="rgb(90,141,248)",this.ColorAveragePrice="rgb(0,139,0)",this.ColorBG="rgb(190,190,190)",this.PixelRatio=u(),this.ShowType=0,this.IsDynamic=!0,this.ClientRect={},this.Font=Zi.TitleFont,this.InfoColor="rgb(0,0,0)",this.DayInfoColor="rgb(255,255,255)",this.LineHeight=16,this.Left=50*this.PixelRatio,this.IsShowX=!1,this.ShowXCount=3,this.Width=150*this.PixelRatio,this.CalculateType=0,this.PriceZoom=100,this.ButtonID=D(),this.DAY_COLOR=[["rgb(255,0,0)","rgb(255,128,128)","rgb(255,0,128)","rgb(255,100,0)","rgb(192,128,0)","rgb(255,192,0)"],["rgb(120,80,225)","rgb(160,160,225)","rgb(80,80,255)","rgb(120,120,255)","rgb(32,64,192)","rgb(0,64,128)"]],this.SetOption=function(t){t&&(t.ShowType>0&&(this.ShowType=t.ShowType),t.IsShowX&&(this.IsShowX=t.IsShowX),t.ShowXCount>0&&(this.ShowXCount=t.ShowXCount),t.Width>100&&(this.Width=t.Width*u()),t.CalculateType>0&&(this.CalculateType=t.CalculateType),Wt.IsNumber(t.PriceZoom)&&(this.PriceZoom=t.PriceZoom))},this.Draw=function(){this.PixelRatio=u();var t=C(this.ChartBorder.GetRight()+this.Left),e=C(this.ChartBorder.GetTop()),a=C(t+this.Width-1*this.PixelRatio),i=C(this.ChartBorder.GetBottom()),r=a-t,n=i-e;this.ClientRect={Left:t,Top:e,Width:r,Height:n},this.CalculateChip()?(this.DrawFrame(),this.DrawAllChip(),1!=this.ShowType&&2!=this.ShowType||this.DrawDayChip(),this.CalculateCast(),this.DrawChipInfo()):xi.Chart.Log("[StockChip::Draw] no data"),this.DrawBorder(),1==this.SizeChange&&this.DrawButton(),this.SizeChange=!1},this.DrawChipInfo=function(){var t=this.ClientRect.Top+this.ClientRect.Height-1,e=this.ClientRect.Left+2,a=this.ClientRect.Left+this.ClientRect.Width;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.InfoColor,this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left";var i=this.LineHeight*u(),r="70%成本价"+this.Data.Cast[1].MinPrice.toFixed(2)+"-"+this.Data.Cast[1].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[1].Rate.toFixed(2)+"%";this.Canvas.fillText(r,e,t),t-=i,r="90%成本价"+this.Data.Cast[0].MinPrice.toFixed(2)+"-"+this.Data.Cast[0].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[0].Rate.toFixed(2)+"%",this.Canvas.fillText(r,e,t),t-=i,r="平均成本："+this.Data.ChipInfo.AveragePrice.toFixed(2)+"元",this.Canvas.fillText(r,e,t),t-=i,r=+this.Data.YPrice.toFixed(2)+"处获利盘："+this.Data.ChipInfo.YProfitRate.toFixed(2)+"%",this.Canvas.fillText(r,e,t),t-=i,r="获利比例：",this.Canvas.fillText(r,e,t);var n=this.Canvas.measureText(r).width+2,s=e+n,o=a-5-s;if(this.Canvas.strokeStyle=this.ColorNoProfit,this.Canvas.strokeRect(s,t-i,o,i),this.Canvas.strokeStyle=this.ColorProfit,this.Canvas.strokeRect(s,t-i,o*(this.Data.ChipInfo.ProfitRate/100),i),r=this.Data.ChipInfo.ProfitRate.toFixed(2)+"%",this.Canvas.textAlign="center",this.Canvas.fillText(r,s+o/2,t),t-=i,this.Canvas.textAlign="left",r="成本分布,日期："+Wt.FormatDateString(this.Data.SelectData.Date),this.Data.SelectData.Time&&(r+=" "+Wt.FormatTimeString(this.Data.SelectData.Time)),this.Canvas.fillText(r,e,t),t-=i,1==this.ShowType||2==this.ShowType){var a=this.ClientRect.Left+this.ClientRect.Width-1;this.Canvas.textAlign="right";var n=50;this.Data.DayChip.sort(function(t,e){return e.Day-t.Day});for(var h in this.Data.DayChip){var l=this.Data.DayChip[h],d=0;this.Data.ChipInfo&&this.Data.ChipInfo.Vol>0&&(d=l.Vol/this.Data.ChipInfo.Vol*100),r=l.Day+"周期"+(1==this.ShowType?"前":"内")+"成本"+d.toFixed(2)+"%",0==h&&(n=this.Canvas.measureText(r).width+8),this.Canvas.fillStyle=l.Color,this.Canvas.fillRect(a-n,t-i,n,i),this.Canvas.fillStyle=this.DayInfoColor,this.Canvas.fillText(r,a,t),t-=i}}},this.DrawDayChip=function(){var t=this.HQChart.Frame.SubFrame[0].Frame;for(var e in this.Data.DayChip){var a=[],i=this.Data.DayChip[e].Chip;if(i){for(var r=0,n=0;n<i.length;++n){var s=i[n];if(s){r+=s;var o=(n+this.Data.MinPrice)/100,h=t.GetYFromData(o),l=s/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;a.push({X:l,Y:h})}}this.Data.DayChip[e].Vol=r,this.DrawArea(a,this.Data.DayChip[e].Color)}}},this.Clear=function(){var t=document.getElementById(this.ButtonID);t&&this.ChartBorder.UIElement.parentNode.removeChild(t)},this.DrawButton=function(){var t=document.getElementById(this.ButtonID);t||(t=document.createElement("div"),t.className="klineframe-button",t.id=this.ButtonID,this.ChartBorder.UIElement.parentNode.appendChild(t));var e=this.PixelRatio,a=(this.ClientRect.Left,this.ClientRect.Left+this.ClientRect.Width),i=this.ChartBorder.GetChartWidth(),r=this.ChartBorder.GetTitleHeight(),n=this.ChartBorder.GetTop()/e,s=[{Class:"chip_default icon iconfont icon-chip_default",ID:"chip_default",Color:["#808080","#FF0000"],Title:"默认筹码分布图"},{Class:"chip_long icon iconfont icon-chip_date",ID:"chip_long",Color:["#808080","#FF8000"],Title:"远期筹码分布图"},{Class:"chip_recent icon iconfont icon-chip_date",ID:"chip_recent",Color:["#808080","#0000CC"],Title:"近期筹码分布图"}],o="";for(var h in s){var l=s[h],u="<span class='{iconclass}' id='{iconid}' title='{icontitle}' style='cursor:pointer;display:inline-block;color:{iconcolor};font-size:{iconsize}px'></span>";u=u.replace("{iconclass}",l.Class),u=u.replace("{iconid}",l.ID),u=u.replace("{iconcolor}",l.Color[h==this.ShowType?1:0]),u=u.replace("{iconsize}",r),u=u.replace("{icontitle}",l.Title),o.length>0&&(o+="&nbsp;&nbsp;"),o+=u}t.style.right=Math.floor((i-a+2)/e)+"px",t.style.top=n+"px",t.style.height=r+"px",t.innerHTML=o;var d=this;for(var h in s){var l=s[h];(0,Ei.default)("#"+this.ButtonID+" ."+l.ID).click({IconID:l.ID,ShowType:h},function(t){var e=(t.data.IconID,t.data.ShowType);d.ShowType=e,d.HQChart&&d.HQChart.Draw();for(var a in s){var i=s[a];(0,Ei.default)("#"+d.ButtonID+" ."+i.ID)[0].style.color=i.Color[a==e?1:0]}})}},this.DrawAllChip=function(){for(var t=this.HQChart.Frame.SubFrame[0].Frame,e=this.Data.SelectData.Close,a=[],i=[],r=0,n=0,s=0,o=0,h=this.Data.YPrice,l=t.HorizontalMax,u=t.HorizontalMin,d=1,c=0;c<this.Data.AllChip.length;++c){var D=this.Data.AllChip[c];if(D){var m=(c+this.Data.MinPrice)/this.PriceZoom;r+=D,n+=m*D,m<h&&(o+=D),m<e&&(s+=D),m<=l&&m>=u&&d<D&&(d=D)}}this.Data.MaxVol=d;for(var c=0;c<this.Data.AllChip.length;++c){var D=this.Data.AllChip[c];if(D){var m=(c+this.Data.MinPrice)/this.PriceZoom;if(!(m>l||m<u)){var C=t.GetYFromData(m),f=D/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;m<e?a.push({X:f,Y:C}):i.push({X:f,Y:C})}}}if(this.Data.ChipInfo={Vol:r,AveragePrice:n/r,ProfitVol:s,ProfitRate:r>0?s/r*100:0,YProfitRate:r>0?o/r*100:0},0==this.ShowType){this.DrawLines(a,this.ColorProfit),this.DrawLines(i,this.ColorNoProfit);var p=this.Data.ChipInfo.AveragePrice;p>0&&p<=l&&p>=u&&(p=p.toFixed(2),this.DrawAveragePriceLine(a,i,t.GetYFromData(p),this.ColorAveragePrice))}else this.DrawLines(a,this.ColorBG),this.DrawLines(i,this.ColorBG)},this.CalculateCast=function(){if(this.Data.ChipInfo&&this.Data.ChipInfo.Vol){for(var t=[{Start:.05,End:.95,MaxPrice:0,MinPrice:0,Rate:0},{Start:.15,End:.85,MaxPrice:0,MinPrice:0,Rate:0}],e=(this.Data.ChipInfo.AveragePrice,this.Data.ChipInfo.ProfitVol),a=0,i=0,r=0;i<this.Data.AllChip.length&&4!=r;++i){var n=this.Data.AllChip[i];if(!(n<=0)){var s=(i+this.Data.MinPrice)/this.PriceZoom;a+=n;var o=a/e;for(var h in t){var l=t[h];l.MinPrice<=0&&o>l.Start&&(l.MinPrice=s,++r),l.MaxPrice<=0&&o>l.End&&(l.MaxPrice=s,++r)}}}for(var i in t){var u=t[i],d=u.MaxPrice+u.MinPrice;d&&(u.Rate=Math.abs(u.MaxPrice-u.MinPrice)/d*100)}this.Data.Cast=t}},this.DrawArea=function(t,e){if(!(t.length<=0)){this.Canvas.fillStyle=e,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,t[0].Y);for(var a in t){var i=t[a];this.Canvas.lineTo(i.X,i.Y)}this.Canvas.lineTo(this.ClientRect.Left,t[t.length-1].Y),this.Canvas.fill()}},this.DrawLines=function(t,e){if(!(t.length<=0)){this.Canvas.strokeStyle=e,this.Canvas.beginPath();for(var a in t){var i=t[a];this.Canvas.moveTo(this.ClientRect.Left,i.Y),this.Canvas.lineTo(i.X,i.Y)}this.Canvas.stroke()}},this.DrawAveragePriceLine=function(t,e,a,i){for(var r in t){var n=t[r];if(n.Y==a)return this.Canvas.strokeStyle=i,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,n.Y),this.Canvas.lineTo(n.X,n.Y),void this.Canvas.stroke()}for(var r in e){var n=e[r];if(n.Y==a)return this.Canvas.strokeStyle=i,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,n.Y),this.Canvas.lineTo(n.X,n.Y),void this.Canvas.stroke()}},this.DrawBorder=function(){this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(this.ClientRect.Left,this.ClientRect.Top,this.ClientRect.Width,this.ClientRect.Height)},this.EvenlyDistribute=function(t,e){var a=e.Low,i=e.High,r=e.MaxPrice,n=e.MinPrice,s=1;if(i-a!=0){for(var o=e.Vol/(i-a),h=a;h<=i&&h<=r;++h){var l=h-n;t[l]+=o,s<t[l]&&(s=t[l])}e.MaxVol=s}},this.TriangleDistribute=function(t,e){for(var a=e.Low,i=e.High,r=(e.MaxPrice,e.MinPrice),n=1,s=3.1415926535,o=(i-a)/2+a,h=0,l=[],u=a+1,d=1;u<=o;++u,++d){var c=Math.tan(45*s/180)*d;h+=c,l.push({Index:u-r,Value:c})}for(var u=i-1,d=1;u>o;--u,++d){var c=Math.tan(45*s/180)*d;h+=c,l.push({Index:u-r,Value:c})}if(h>0){for(var u=0;u<l.length;++u){var D=l[u];t[D.Index]+=D.Value*e.Vol/h,n<t[D.Index]&&(n=t[D.Index])}e.MaxVol=n}},this.CalculateDistribute=function(t,e){1==this.CalculateType?this.TriangleDistribute(t,e):this.EvenlyDistribute(t,e)},this.CalculateChip=function(){if(!this.HQChart)return!1;if(!this.HQChart.FlowCapitalReady)return!1;var t=this.HQChart.Symbol;if(!t)return!1;if(tr.IsSHSZIndex(t))return!1;var e=this.HQChart.ChartPaint[0].Data,a=e.DataOffset+parseInt(this.HQChart.CursorIndex);a>=e.Data.length&&(a=e.Data.length-1);var i=e.Data[a],r=i.Close,n=this.HQChart.LastPoint.Y;n&&(r=this.HQChart.Frame.SubFrame[0].Frame.GetYData(n));for(var s,o,h,l=[],u=1,d=a;d>=0;--d){var c=e.Data[d],D=1;c.FlowCapital>0&&(D=c.Vol/c.FlowCapital),s=d==a?c.Vol*D:c.Vol*u;var m={Vol:s,High:c.High,Low:c.Low};l.push(m),u*=1-1*D,(!o||o<c.High)&&(o=c.High),(!h||h>c.Low)&&(h=c.Low)}if(!o||!h)return!0;var C=this.PriceZoom;o=parseInt(o*C),h=parseInt(h*C);for(var f=o-h,p=new Array,v=0;v<=f;++v)p.push(0);var S,T=[];if(2==this.ShowType){var T=[{Day:100,Color:this.DAY_COLOR[1][5]},{Day:60,Color:this.DAY_COLOR[1][4]},{Day:30,Color:this.DAY_COLOR[1][3]},{Day:20,Color:this.DAY_COLOR[1][2]},{Day:10,Color:this.DAY_COLOR[1][1]},{Day:5,Color:this.DAY_COLOR[1][0]}];for(var M in l){var c=l[M],_=parseInt(c.High*C),I=parseInt(c.Low*C),L=c.Vol;if(_-I>0&&(L=c.Vol/(_-I)),!(L<=1e-9)){for(var g=0;g<T.length;++g)if(M==T[g].Day){T[g].Chip=p.slice(0);break}S={Low:I,High:_,Vol:c.Vol,MaxPrice:o,MinPrice:h},this.CalculateDistribute(p,S)}}}else if(1==this.ShowType)for(var T=[{Day:5,Color:this.DAY_COLOR[0][0]},{Day:10,Color:this.DAY_COLOR[0][1]},{Day:20,Color:this.DAY_COLOR[0][2]},{Day:30,Color:this.DAY_COLOR[0][3]},{Day:60,Color:this.DAY_COLOR[0][4]},{Day:100,Color:this.DAY_COLOR[0][5]}],y=l.length-1;y>=0;--y){var c=l[y],_=parseInt(c.High*C),I=parseInt(c.Low*C),L=c.Vol;if(_-I>0&&(L=c.Vol/(_-I)),!(L<=1e-9)){for(var g=0;g<T.length;++g)if(y==T[g].Day){T[g].Chip=p.slice(0);break}S={Low:I,High:_,Vol:c.Vol,MaxPrice:o,MinPrice:h},this.CalculateDistribute(p,S)}}else for(var A in l){var c=l[A],_=parseInt(c.High*C),I=parseInt(c.Low*C),L=c.Vol;_-I>0&&(L=c.Vol/(_-I)),L<=1e-9||(S={Low:I,High:_,Vol:c.Vol,MaxPrice:o,MinPrice:h},this.CalculateDistribute(p,S))}return this.Data={AllChip:p,MaxVol:S.MaxVol,MaxPrice:o,MinPrice:h,SelectData:i,DayChip:T,YPrice:r},!0},this.DrawFrame=function(){if(0!=this.IsShowX&&!(this.Data.MaxVol<=0)){var t=1!==this.HQChart.Frame.SubFrame.length,e=this.HQChart.Frame.SubFrame[0].Frame,a=e.ChartBorder,i=C(a.GetBottomEx()+1);t||(i=this.ClientRect.Top+this.ClientRect.Height);var r=this.ClientRect.Left,n=r+this.ClientRect.Width;this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),t&&(this.Canvas.moveTo(r,i),this.Canvas.lineTo(n,i));var s=this.ShowXCount,o=this.Data.MaxVol,h=Math.floor(o/s);this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.InfoColor;for(var l=(u(),1);l<=s;++l){var d=h*l,c=d/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;if(c=C(c),l==s){this.Canvas.textAlign="right";var D=Wt.FormatValueString(o,1);this.Canvas.fillText(D,c,i+2)}else{this.Canvas.moveTo(c,this.ClientRect.Top),this.Canvas.lineTo(c,i),this.Canvas.textAlign="center";var D=Wt.FormatValueString(d,1),m=this.Canvas.measureText(D).width;this.Canvas.fillText(D,Math.floor(c-.25*m),i+2)}}this.Canvas.stroke()}}}function Bt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.ClassName="DrawToolsButton",this.HQChart,this.ID=D(),this.ToolsDiv,this.Color="#696969",this.Top=5*u(),this.Width=45*u(),this.SetOption=function(t){var e=u();t&&t.Width>10&&(this.Width=t.Width*e)},this.Clear=function(){this.ToolsDiv&&this.ChartBorder.UIElement.parentNode.removeChild(this.ToolsDiv)},this.Draw=function(){var t=this;if(0!=this.SizeChange){var e=[[{HTML:{Title:"线段",IClass:"iconfont icon-draw_line",ID:"icon-segment"},Name:"线段"},{HTML:{Title:"射线",IClass:"iconfont icon-draw_rays",ID:"icon-beam"},Name:"射线"},{HTML:{Title:"趋势线",IClass:"iconfont icon-draw_trendline",ID:"icon-trendline"},Name:"趋势线"},{HTML:{Title:"水平线",IClass:"iconfont icon-draw_hline",ID:"icon-hline"},Name:"水平线"},{HTML:{Title:"平行线",IClass:"iconfont icon-draw_parallel_lines",ID:"icon-parallellines"},Name:"平行线"},{HTML:{Title:"平行通道",IClass:"iconfont icon-draw_parallelchannel",ID:"icon-parallelchannel"},Name:"平行通道"},{HTML:{Title:"价格通道线",IClass:"iconfont icon-draw_pricechannel",ID:"icon-pricechannel"},Name:"价格通道线"},{HTML:{Title:"M头W底",IClass:"iconfont icon-draw_wavemw",ID:"icon-wavemw"},Name:"M头W底"}],[{HTML:{Title:"圆弧",IClass:"iconfont icon-draw_arc",ID:"icon-arc"},Name:"圆弧线"},{HTML:{Title:"矩形",IClass:"iconfont icon-rectangle",ID:"icon-rect"},Name:"矩形"},{HTML:{Title:"平行四边形",IClass:"iconfont icon-draw_quadrangle",ID:"icon-quad"},Name:"平行四边形"},{HTML:{Title:"三角形",IClass:"iconfont icon-draw_triangle",ID:"icon-triangle"},Name:"三角形"},{HTML:{Title:"圆",IClass:"iconfont icon-draw_circle",ID:"icon-circle"},Name:"圆"},{HTML:{Title:"对称角度",IClass:"iconfont icon-draw_symangle",ID:"icon-symangle"},Name:"对称角度"}],[{HTML:{Title:"文本",IClass:"iconfont icon-draw_text",ID:"icon-text"},Name:"文本"},{HTML:{Title:"向上箭头",IClass:"iconfont icon-arrow_up",ID:"icon-arrowup"},Name:"icon-arrow_up"},{HTML:{Title:"向下箭头",IClass:"iconfont icon-arrow_down",ID:"icon-arrowdown"},Name:"icon-arrow_down"},{HTML:{Title:"向左箭头",IClass:"iconfont icon-arrow_left",ID:"icon-arrowleft"},Name:"icon-arrow_left"},{HTML:{Title:"向右箭头",IClass:"iconfont icon-arrow_right",ID:"icon-arrowright"},Name:"icon-arrow_right"}],[{HTML:{Title:"江恩角度线",IClass:"iconfont icon-draw_gannfan",ID:"icon-gannfan"},Name:"江恩角度线"},{HTML:{Title:"斐波那契周期线",IClass:"iconfont icon-draw_fibonacci",ID:"icon-fibonacci"},Name:"斐波那契周期线"},{HTML:{Title:"阻速线",IClass:"iconfont icon-draw_resline",ID:"icon-resline"},Name:"阻速线"},{HTML:{Title:"黄金分割",IClass:"iconfont icon-draw_goldensection",ID:"icon-goldensection"},Name:"黄金分割"},{HTML:{Title:"百分比线",IClass:"iconfont icon-draw_percentage",ID:"icon-percentage"},Name:"百分比线"},{HTML:{Title:"波段线",IClass:"iconfont icon-draw_waveband",ID:"icon-waveband"},Name:"波段线"}],[{HTML:{Title:"全部删除",IClass:"iconfont icon-recycle_bin",ID:"icon-delete"},Name:"全部删除"}]],a=this.HQChart;if(!this.ToolsDiv){var i=document.createElement("div");i.className="drawtools",i.id=this.ID;var r="",n="",s=new Array;e.forEach(function(t,e){s.push(t[0])});for(var o=0;o<e.length;o++){for(var h=s[o],l=e[o],d="",c="",D=0;D<l.length;D++){var f=l[D],p=f.Name;p.indexOf("up")>-1?p="向上箭头":p.indexOf("down")>-1?p="向下箭头":p.indexOf("left")>-1?p="向左箭头":p.indexOf("right")>-1&&(p="向右箭头"),d+='<p class="menuTwoItem '+f.HTML.ID+'">'+p+'<i class="'+f.HTML.IClass+'" title="'+f.HTML.Title+'"></i></p>'}o!==e.length-1?(n='<div class="menuTwo">'+d+"</div>",c='<i class="contentArrow iconfont icon-menu_arraw_left"></i>'):(n="",c="");r+='<div class="icon-image first-'+h.HTML.ID+'"><i class="'+h.HTML.IClass+'" title="'+h.HTML.Title+'"></i>'+n+c+"</div>"}this.ChartBorder.UIElement.parentNode.appendChild(i),i.innerHTML=r,this.ToolsDiv=i;for(var o in e){var v=e[o][0];if((0,Ei.default)("#"+this.ID+" .first-"+v.HTML.ID).hover(function(){(0,Ei.default)(".drawtools").find(".contentArrow").hide(),(0,Ei.default)(this).find(".contentArrow").removeClass("trans").show()}),(0,Ei.default)("#"+this.ID+" .first-"+v.HTML.ID+" .contentArrow").click(function(t){t.stopPropagation(),(0,Ei.default)(".drawtools").find(".menuTwo").hide(),(0,Ei.default)(this).siblings(".menuTwo").show()}),(0,Ei.default)("#"+this.ID+" .first-"+v.HTML.ID+" .trans").click(function(){event.stopPropagation(),(0,Ei.default)(this).siblings(".menuTwo").hide()}),"全部删除"==v.Name)(0,Ei.default)("#"+this.ID+" .first-icon-delete").click(function(){(0,Ei.default)(".drawtools").find(".menuTwo").hide(),(0,Ei.default)(this).siblings().removeClass("active"),(0,Ei.default)(this).addClass("active"),a.ClearChartDrawPicture(),(0,Ei.default)(".subTolls").css("display","none")});else{(0,Ei.default)("#"+this.ID+" .first-"+s[o].HTML.ID).click({CurrentIndex:o},function(t){(0,Ei.default)(".drawtools").find(".menuTwo").hide(),(0,Ei.default)(this).siblings().removeClass("active"),(0,Ei.default)(this).addClass("active"),a.CreateChartDrawPicture(s[t.data.CurrentIndex].Name)});for(var D in e[o]){var S;!function(){S=e[o][D];var i=S.HTML.IClass;(0,Ei.default)("#"+t.ID+" ."+S.HTML.ID).hover(function(t){t.stopPropagation(),(0,Ei.default)(this).closest(".icon-image").find(".contentArrow").addClass("trans")}),(0,Ei.default)("#"+t.ID+" ."+S.HTML.ID).click({DrawName:S.Name,CurrentIndex:o,CurrentData:S},function(t){t.stopPropagation(),(0,Ei.default)(this).closest(".icon-image").find(".contentArrow").hide(),(0,Ei.default)(this).siblings().removeClass("current"),(0,Ei.default)(this).addClass("current"),(0,Ei.default)(this).closest(".icon-image").children("i").eq(0).removeClass().addClass(i,"active").attr("title",t.data.CurrentData.HTML.Title),s.splice(t.data.CurrentIndex,1,t.data.CurrentData),(0,Ei.default)(this).parent().hide(),a.CreateChartDrawPicture(t.data.DrawName)})}()}}}}var T=this.ID;(0,Ei.default)(document).click(function(t){(0,Ei.default)("#"+T).is(t.target)||0!==(0,Ei.default)("#"+T).has(t.target).length||((0,Ei.default)("#"+T+" .menuTwo").hide(),(0,Ei.default)("#"+T+" .contentArrow").hide())});var M=(m(),u()),_=C(this.ChartBorder.GetRight()+this.Left),I=this.ChartBorder.GetTop();this.ToolsDiv.style.left=_/M+"px",this.ToolsDiv.style.top=I/M+"px",this.ToolsDiv.style.width=(this.Width-5)/M+"px",this.ToolsDiv.style.height="auto",this.ToolsDiv.style.position="absolute",this.ToolsDiv.style.display="block",this.SizeChange}}}function Ht(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.ClassName="DepthMapPaint",this.LineColor="rgba(0,139,0,0.6)",this.AreaColor=["rgba(0,139,0,0.5)","rgba(0,139,0,0.4)","rgba(0,139,0,0.3)","rgba(0,139,0,0.2)"],this.TextColor="rgba(0,0,0)",this.TextBGColor="rgba(0,139,0)",this.Width=200*u(),this.FrameID=0,this.ID=D(),this.IsDynamic=!1,this.IsCallbackDraw=!0,this.YRange,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),t.Width>0&&(this.Width=t.Width),Wt.IsObjectExist(t.ID)&&(this.ID=t.ID),t.IsShowCorssCursor&&(this.IsShowCorssCursor=t.IsShowCorssCursor)},this.Draw=function(){if(this.Data&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.SubFrame[this.FrameID].Frame,a=e.ChartBorder,i=a.GetHeightEx(),r=a.GetRight(),n=a.GetTopEx(),s=a.GetBottomEx(),o=this.Width;if(o>this.ChartBorder.Right&&(o=this.ChartBorder.Right),t){r=a.GetBottom(),n=a.GetRight(),s=a.GetLeft();var o=this.Width;o>this.ChartBorder.Bottom&&(o=this.ChartBorder.Bottom)}var h={Left:r,Top:n,Right:r+o,Bottom:s,Height:i,Width:o};this.YRange={Max:null,Min:0};for(var l in this.Data){var u=this.Data[l];this.CalculateYRange(u,this.YRange)}for(var l in this.Data){var u=this.Data[l];u.Height>0&&u.Height<=1?h.Height=i*u.Height:h.Height=i,1==u.Type?(h.Top=n,h.Bottom=n+h.Height,this.DrawUpArea(u,h)):2==u.Type?(h.Bottom=s,h.Top=h.Bottom-h.Height,this.DrawDownArea(u,h)):(h.Top=n,h.Bottom=s,this.DrawDefaultArea(u,h))}}},this.CalculateYRange=function(t,e){for(var a in t.Data){var i=t.Data[a];(null==e.Max||e.Max<i.Y)&&(e.Max=i.Y),(null==e.Min||e.Min>i.Y)&&(e.Min=i.Y)}},this.GetXFromData=function(t,e,a){var i=e.Width*(t-a.Min)/(a.Max-a.Min);return e.Left+i},this.GetYFromData=function(t,e,a,i){if(i){var r=e.Height*(t-a.Min)/(a.Max-a.Min);return e.Bottom-r}var r=e.Height*(t-a.Min)/(a.Max-a.Min);return e.Top+r},this.DrawDefaultArea=function(t,e){var a=this.ChartFrame.SubFrame[this.FrameID].Frame,i=t.Range&&t.Range.Y?t.Range.Y:this.YRange,r=[];for(var n in t.Data){var s=t.Data[n],o=this.GetXFromData(s.Y,e,i);if(!(s.X>a.HorizontalMax||s.X<a.HorizontalMin)){var h=a.GetYFromData(s.X);r.push({X:o,Y:h})}}var l=t.LineColor?t.LineColor:this.LineColor,u=t.AreaColor?t.AreaColor:this.AreaColor;r.length>0&&this.DrawLine(r,l,u,e)},this.DrawUpArea=function(t,e){var a=[];for(var i in t.Data){var r=t.Data[i],n=this.GetXFromData(r.Y,e,t.Range.Y),s=this.GetYFromData(r.X,e,t.Range.X,t.IsASC);a.push({X:n,Y:s})}var o=t.LineColor?t.LineColor:this.LineColor,h=t.AreaColor?t.AreaColor:this.AreaColor;a.length>0&&this.DrawLine(a,o,h,e)},this.DrawDownArea=function(t,e){var a=[];for(var i in t.Data){var r=t.Data[i],n=this.GetXFromData(r.Y,e,t.Range.Y),s=this.GetYFromData(r.X,e,t.Range.X,t.IsASC);a.push({X:n,Y:s})}var o=t.LineColor?t.LineColor:this.LineColor,h=t.AreaColor?t.AreaColor:this.AreaColor;a.length>0&&this.DrawLine(a,o,h,e)},this.DrawLine=function(t,e,a,i){var r=!0===this.ChartFrame.IsHScreen,n=!0,s=0;this.Canvas.strokeStyle=e;for(var o in t){var h=t[o];n?(this.Canvas.beginPath(),r?this.Canvas.moveTo(h.Y,h.X):this.Canvas.moveTo(h.X,h.Y),n=!1):r?this.Canvas.lineTo(h.Y,h.X):this.Canvas.lineTo(h.X,h.Y),++s}s>0&&this.Canvas.stroke();var l=t[0],u=t[t.length-1];if(r?(this.Canvas.lineTo(u.Y,i.Left),this.Canvas.lineTo(l.Y,i.Left)):(this.Canvas.lineTo(i.Left,u.Y),this.Canvas.lineTo(i.Left,l.Y)),this.Canvas.closePath(),Array.isArray(a))if(r){var d=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());d.addColorStop(0,a[0]),d.addColorStop(1,a[1]),this.Canvas.fillStyle=d}else{var c=this.Canvas.createLinearGradient(i.Right,i.Top,i.Left,i.Top),D=1/a.length;for(var o in a)c.addColorStop(o*D,a[o]);this.Canvas.fillStyle=c}else this.Canvas.fillStyle=a;this.Canvas.fill()},this.GetYValueByXValue=function(t,e){var a=[],i=Ki[e];for(var r in this.Data){var n=this.Data[r];if(0==n.Type&&n.Data&&!(n.Data.length<0)&&0!=n.IsShowCorssCursor){var s=!1;for(var o in n.Data){var h=n.Data[o];if(parseInt(h.X*i)==t){s=!0;var l={X:h.X,Y:h.Y,TextColor:n.TextColor?n.TextColor:this.TextColor,TextBGColor:n.TextBGColor?n.TextBGColor:this.TextBGColor};h.YText&&(l.YText=h.YText),a.push(l);break}}if(!s){var u=n.Data[0],d=n.Data[n.Data.length-1];t>u.X*i&&t<d.X*i&&a.push({X:null,Y:null,TextColor:n.TextColor?n.TextColor:this.TextColor,TextBGColor:n.TextBGColor?n.TextBGColor:this.TextBGColor})}}}return a}}function kt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.ClassName="BackgroundPaint",this.IsDynamic=!1,this.IsCallbackDraw=!0,this.FrameID=0,this.Data,this.ID=D(),this.ChartSubFrame,this.ChartBorder,this.KData,this.Period,this.XPointCount=0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),Wt.IsObjectExist(t.ID)&&(this.ID=t.ID)},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.HQChart.ChartPaint[0];if(t&&t.Data&&(this.ChartSubFrame=this.ChartFrame.SubFrame[this.FrameID].Frame,this.ChartBorder=this.ChartSubFrame.ChartBorder,this.KData=t.Data,this.Period=this.HQChart.Period,this.KData&&!(this.KData.Data.length<=0))){var e=!0===this.ChartSubFrame.IsHScreen;this.XPointCount=this.ChartSubFrame.XPointCount;var a=this.ChartSubFrame.XPointCount,i=this.KData.Data[this.KData.DataOffset],r=this.KData.DataOffset+a-1;r>=this.KData.Data.length&&(r=this.KData.Data.length-1);var n=this.KData.Data[r],s=this.GetShowData(i,n);if(s&&!(s.length<=0)){var o=this.BuildKLineMap(),h=this.ChartBorder.GetBottomEx(),l=this.ChartBorder.GetTopEx(),u=this.ChartBorder.GetHeightEx();e&&(l=this.ChartBorder.GetRightEx(),h=this.ChartBorder.GetLeftEx(),u=this.ChartBorder.GetWidthEx());for(var d in s){var c=s[d],D=this.GetBGCoordinate(c,o);if(D){if(Array.isArray(c.Color)){var m;m=e?this.Canvas.createLinearGradient(h,D.Left,l,D.Left):this.Canvas.createLinearGradient(D.Left,l,D.Left,h);var C=1/c.Color.length;for(var d in c.Color)m.addColorStop(d*C,c.Color[d]);this.Canvas.fillStyle=m}else this.Canvas.fillStyle=c.Color;e?this.Canvas.fillRect(f(h),f(D.Left),f(u),f(D.Width)):this.Canvas.fillRect(f(D.Left),f(l),f(D.Width),f(u))}}}}}},this.GetShowData=function(t,e){var a=[];for(var i in this.Data){var r=this.Data[i],n={};r.Start.Date>=t.Date&&r.Start.Date<=e.Date&&(n.Start=r.Start),r.End.Date>=t.Date&&r.End.Date<=e.Date&&(n.End=r.End),(n.Start||n.End)&&(n.Color=r.Color,a.push(n))}return a},this.BuildKLineMap=function(){var t=!0===this.ChartSubFrame.IsHScreen,e=this.ChartSubFrame.DataWidth,a=this.ChartSubFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+a/2+Zi.FrameLeftMargin;t&&(i=this.ChartBorder.GetTop()+a/2+Zi.FrameLeftMargin);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());for(var n={Data:new Ai.default,Start:null,End:null},s=this.KData.DataOffset,o=0;s<this.KData.Data.length&&o<this.XPointCount;++s,++o,i+=e+a){var h=this.KData.Data[s],l=i,u=i+e;if(u>r)break;var d=l+(u-l)/2;0==o&&(n.XLeft=l),n.XRight=u;var c={Index:s,ShowIndex:o,X:d,Right:u,Left:l,Date:h.Date};if(G.IsMinutePeriod(this.Period,!0)){var D="Date:"+h.Date+" Time:"+h.Time;c.Time=h.Time}else var D="Date:"+h.Date;n.Data.set(D,c),0==o&&(n.Start=c),n.End=c}return n},this.GetBGCoordinate=function(t,e){var a=null,i=null,r=G.IsMinutePeriod(this.Period,!0),n=!1;if(r?t.Start&&t.End&&t.Start.Date==t.End.Date&&t.Start.Time==t.End.Time&&(n=!0):t.Start&&t.End&&t.Start.Date==t.End.Date&&(n=!0),n){if(r)var s="Date:"+t.Start.Date+" Time:"+t.Start.Time;else var s="Date:"+t.Start.Date;if(!e.Data.has(s))return null;var o=e.Data.get(s);return a=o.Left,i=o.Right,{Left:a,Right:i,Width:i-a}}if(t.Start){if(r)var s="Date:"+t.Start.Date+" Time:"+t.Start.Time;else var s="Date:"+t.Start.Date;if(e.Data.has(s)){var o=e.Data.get(s);a=o.Left}else if(r)if(t.Start.Date<e.Start.Date||t.Start.Date==e.Start.Date&&t.Start.Time<=e.Start.Time)a=e.Start.Left;else{var h=!0,l=!1,u=void 0;try{for(var d,c=(0,Ii.default)(e.Data);!(h=(d=c.next()).done);h=!0){var D=d.value,m=D[1];if(m.Date>t.Start.Date||m.Date==t.Start.Date&&m.Time>t.Start.Time){a=m.Left;break}}}catch(t){l=!0,u=t}finally{try{!h&&c.return&&c.return()}finally{if(l)throw u}}}else if(t.Start.Date<=e.Start.Date)a=e.Start.Left;else{var C=!0,f=!1,p=void 0;try{for(var v,S=(0,Ii.default)(e.Data);!(C=(v=S.next()).done);C=!0){var D=v.value,m=D[1];if(m.Date>t.Start.Date){a=m.Left;break}}}catch(t){f=!0,p=t}finally{try{!C&&S.return&&S.return()}finally{if(f)throw p}}}}else a=e.XLeft;if(t.End){if(r)var s="Date:"+t.End.Date+" Time:"+t.End.Time;else var s="Date:"+t.End.Date;if(e.Data.has(s)){var o=e.Data.get(s);i=o.Right}else if(r)if(t.End.Date<e.End.Date||t.End.Date==e.End.Date&&t.End.Time>=e.End.Time)i=e.End.Right;else{var T=null,M=!0,_=!1,I=void 0;try{for(var L,g=(0,Ii.default)(e.Data);!(M=(L=g.next()).done);M=!0){var D=L.value,m=D[1];if(m.Date>t.End.Date||m.Date==t.End.Date&&m.Time>t.End.Time){i=T;break}T=m.Right}}catch(t){_=!0,I=t}finally{try{!M&&g.return&&g.return()}finally{if(_)throw I}}}else if(t.End.Date<=e.End.Date)i=e.End.Right;else{var T=null,y=!0,A=!1,F=void 0;try{for(var E,x=(0,Ii.default)(e.Data);!(y=(E=x.next()).done);y=!0){var D=E.value,m=D[1];if(m.Date>t.End.Date){i=T;break}T=m.Right}}catch(t){A=!0,F=t}finally{try{!y&&x.return&&x.return()}finally{if(A)throw F}}}}else i=e.XRight;return null==a||null==i?null:{Left:a,Right:i,Width:i-a}}}function Vt(){this.PlayList=[],this.Cache=[],this.MinLineHeight=40*u(),this.Height,this.Step=1,this.GetPlayList=function(t){for(var e=t.Canves,a=t.Right,i=t.Left,r=a-i,n=t.IsMoveStep,s=[],o=0,h=0;h<this.PlayList.length;++h){var l=this.PlayList[h],u=this.MinLineHeight;l.Height>this.MinLineHeight&&(u=l.Height);for(var d=!0,c=!1,D=0;D<l.Data.length;++D){var m=l.Data[D],C={X:m.X,Y:o,Text:m.Text,Color:m.Color,Height:u,Font:m.Font,Info:m.Info};s.push(C),n&&(D==l.Data.length-1&&this.Cache.length>0?(d=!1,m.TextWidth||(m.Font&&m.Font.Name?e.font=m.Font.Name:e.font=t.Font,m.TextWidth=e.measureText(C.Text+"擎擎").width),m.X>=m.TextWidth&&(d=!0)):0==D&&(c=!1,m.TextWidth||(m.Font&&m.Font.Name?e.font=m.Font.Name:e.font=t.Font,m.TextWidth=e.measureText(C.Text+"擎擎").width),m.X>r+m.TextWidth&&(c=!0)),m.X+=this.Step)}if(n&&d&&this.Cache.length>0){var f=this.Cache.shift(),p={X:0,Text:f.Text,Color:f.Color,Font:f.Font,Info:f.Info};l.Data.push(p)}if(n&&c&&l.Data.length>0){var v=l.Data.shift();this.OnItemPlayEnd(t.HQChart,v)}o+=u}return s},this.CacluatePlayLine=function(t){this.Height=t;var e=parseInt(t/this.MinLineHeight);if(this.PlayList.length<e)for(var a=e-this.PlayList.length,i=0;i<a;++i)this.PlayList.push({Data:[]});else if(this.PlayList.length>e)for(var r=this.PlayList.length-e,i=0;i<r;++i)for(var n=this.PlayList.pop(),s=0;s<n.Data.length;++s){var o=n.Data[s],h={Text:o.Text,Color:o.Color,Font:o.Font,Info:o.Info};this.Cache.unshift(h)}xi.Chart.Log("[BarrageList::CacluatePlayLine] LineCount="+this.PlayList.length+" Height="+this.Height)},this.AddBarrage=function(t){for(var e in t){var a=t[e];this.Cache.push(a)}},this.OnItemPlayEnd=function(t,e){if(t.mapEvent.has(Oi.BARRAGE_PLAY_END)){var a=t.mapEvent.get(Oi.BARRAGE_PLAY_END);a.Callback&&a.Callback(a,e,this)}},this.Count=function(){return this.Cache.length}}function Gt(){this.newMethod=Ot,this.newMethod(),delete this.newMethod,this.ClassName="BarragePaint",this.IsAnimation=!0,this.IsEraseBG=!0,this.HQChart,this.Font=Zi.Barrage.Font,this.TextColor=Zi.Barrage.Color,this.FontHeight=Zi.Barrage.Height,this.BarrageList=new Vt,this.IsMoveStep=!1,this.SetOption=function(t){t&&(t.Step>0&&(this.BarrageList.Step=t.Step),t.MinLineHeight&&(this.Barrage.MinLineHeight=t.MinLineHeight))},this.DrawHScreen=function(){var t=this.ChartBorder.GetWidth(),e=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),i=this.ChartBorder.GetRightEx();this.ChartBorder.GetChartWidth();t!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(t),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:a,Left:e,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r){this.Canvas.save(),this.Canvas.translate(this.ChartBorder.GetChartHeight(),0),this.Canvas.rotate(90*Math.PI/180);for(var n=0;n<r.length;++n){var s=r[n];s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.TextColor,s.Font?this.Canvas.font=s.Font.Name:this.Canvas.font=this.Font;var o=this.FontHeight;s.Font&&s.Font.Height>0&&(o=s.Font.Height);var h=s.Y+parseInt((s.Height-o)/2);this.Canvas.fillText(s.Text,a-s.X,i+h)}this.Canvas.restore()}},this.Draw=function(){if(this.ChartFrame.IsHScreen)return void this.DrawHScreen();var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetHeight();i!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(i),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:e,Left:t,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r)for(var n=0;n<r.length;++n){var s=r[n];s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.TextColor,s.Font?this.Canvas.font=s.Font.Name:this.Canvas.font=this.Font;var o=this.FontHeight;s.Font&&s.Font.Height>0&&(o=s.Font.Height);var h=s.Y+parseInt((s.Height-o)/2);this.Canvas.fillText(s.Text,e-s.X,a+h)}}}function Wt(){this.ChartBorder,this.Frame,this.FrameSplitData,this.SplitCount=5,this.StringFormat=0,this.IsShowLeftText=!0,this.IsShowRightText=!0,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.IntegerCoordinateSplit=function(t){var e=this.FrameSplitData.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var a=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,i=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(i=0),i<0&&t.Min>0&&(i=0);for(var r=0,n=i;n-a<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=a,t.Min=i,t.Count=r,!0},this.Filter=function(t,e){if(this.SplitCount<=0||t.length<=0||t.length<=this.SplitCount)return t;var a=parseInt(t.length/this.SplitCount);a<=1&&(a=2);for(var i=[],r=0;r<t.length;r+=a)r+a>=t.length&&r!=t.length-1?i.push(t[t.length-1]):i.push(t[r]);if(2==this.SplitCount&&i.length>2)for(var r=1;r<i.length-1;++r){var n=i[r];n.Message[0]=null,n.Message[1]=null}if(e){for(var s=!1,r=0;r<i;++r){var n=i[r];if(Math.abs(n.Value)<1e-8){s=!0;break}}if(0==s){var o=new S;o.Value=0,o.Message[0]=null,o.Message[1]=null,i.push(o)}}return i},this.RemoveZero=function(t){var e=[!0,!0];for(var a in t){var i=t[a],r=i.Message[0];this.IsDecimalZeroEnd(r)||(e[0]=!1);var r=i.Message[1];this.IsDecimalZeroEnd(r)||(e[1]=!1)}if(0!=e[0]||0!=e[1])for(var a in t){var i=t[a];if(e[0]){var r=i.Message[0];null!=r&&("number"==typeof r&&(r=r.toString()),i.Message[0]=r.replace(/[.][0]+/g,""))}if(e[1]){var r=i.Message[1];null!=r&&("number"==typeof r&&(r=r.toString()),i.Message[1]=r.replace(/[.][0]+/g,""))}}},this.IsDecimalZeroEnd=function(t){if(null==t)return!0;if("number"==typeof t&&(t=t.toString()),"0"==t)return!0;var e=t.search(/[.]/);if(e<0)return!1;for(var a=e+1;a<t.length;++a){var i=t.charAt(a);if(i>="1"&&i<="9")return!1}return!0}}function Ut(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.CoordinateType=0,this.Symbol,this.Data,this.FrameSplitData2,this.FloatPrecision=null,this.Period,this.KLineChart,this.Custom=[],this.SplitType=0,this.DefaultYMaxMin,this.Operator=function(){var t={};if(t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Count=this.SplitCount,this.DefaultYMaxMin){var e=this.DefaultYMaxMin;Wt.IsNumber(e.Max)&&(t.Min>e.Max?t.Min=e.Max:t.Max<e.Max&&(t.Max=e.Max)),Wt.IsNumber(e.Min)&&(t.Max<e.Min?t.Max=e.Min:t.Min>e.Min&&(t.Min=e.Min))}t.Interval=(t.Max-t.Min)/(t.Count-1);var a=u(),i=this.Frame.ChartBorder.GetChartWidth(),r=i<450*a,n=Wa(this.Symbol);r&&tr.IsSHSZIndex(this.Symbol)&&(n=0),null!=this.FloatPrecision&&(n=this.FloatPrecision),xi.Chart.Log("[FrameSplitKLinePriceY::Operator] Max="+t.Max+" Min="+t.Min+" Count="+t.Count+" isPhoneModel="+r+" defaultfloatPrecision="+n+" "),this.Frame.Logarithmic=null;var s=!0;if(G.IsTickPeriod(this.Period))this.SplitTickData(t,n);else switch(this.CoordinateType){case 1:this.SplitPercentage(t,n);break;case 2:this.SplitLogarithmic(t,n)?s=!1:this.SplitDefault(t,n);break;default:1==this.SplitType?(this.SplitFixed(t,n),s=!1):this.SplitDefault(t,n)}this.CustomCoordinate(n),s&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,!1)),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,xi.Chart.Log("[FrameSplitKLinePriceY::Operator] fixed . Max="+t.Max+" Min="+t.Min+" Count="+t.Count)},this.SplitTickData=function(t,e){var a=this.KLineChart.GetAllPrice();this.Frame.HorizontalInfo=[];for(var i in a){var r=a[i];this.Frame.HorizontalInfo[i]=new S,this.Frame.HorizontalInfo[i].Value=r,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=r.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=r.toFixed(e))}},this.SplitPercentage=function(t,e){var a=this.GetFirstOpenPrice();t.Max=(t.Max-a)/a,t.Min=(t.Min-a)/a,t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit2(t),this.Frame.HorizontalInfo=[];for(var i=0,r=t.Min;i<t.Count;++i,r+=t.Interval){var n=(r+1)*a;this.Frame.HorizontalInfo[i]=new S,this.Frame.HorizontalInfo[i].Value=n,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=n.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=(100*r).toFixed(2)+"%")}t.Min=(1+t.Min)*a,t.Max=(1+t.Max)*a},this.SplitLogarithmic=function(t,e){var a=Zi.FromeLogarithmic.MinInterval,i=this.GetFirstOpenPrice();if(!Wt.IsNumber(i))return!1;for(var r=this.ChartBorder.GetHeightEx(),n=[.01,.02,.04,.08,.1,.2],s=n[n.length-1],o=0;o<n.length;++o){var h=n[o];if(i*h*(r/(t.Max-t.Min))>a){s=h;break}}var l=[],u=i,o=s;do{var d={Start:u};u=i*(1+o),d.End=u,l.push(d),o+=s}while(u<t.Max);var c=u,D=[],u=i,o=s;do{var d={End:u};u=i*(1-o),d.Start=u,D.push(d),o+=s}while(u>t.Min);var m=u;t.Max=c,t.Min=m,xi.Chart.Log("[FrameSplitKLinePriceY::SplitLogarithmic] up, down",l,D),this.Frame.HorizontalInfo=[];var d=new S;d.Value=i,d.Font=Zi.FromeLogarithmic.OpenPriceFont;var C=d.Value.toFixed(e);this.IsShowLeftText&&(d.Message[0]=C),this.IsShowRightText&&(d.Message[1]=C),this.Frame.HorizontalInfo.push(d);for(var o in l){var d=new S;d.Value=l[o].End;var C=d.Value.toFixed(e);this.IsShowLeftText&&(d.Message[0]=C),this.IsShowRightText&&(d.Message[1]=C),this.Frame.HorizontalInfo.push(d)}for(var o in D){var d=new S;d.Value=D[o].End;var C=d.Value.toFixed(e);this.IsShowLeftText&&(d.Message[0]=C),this.IsShowRightText&&(d.Message[1]=C),this.Frame.HorizontalInfo.splice(0,0,d)}return this.Frame.Logarithmic={Up:l,Down:D,OpenPrice:i},!0},this.SplitDefault=function(t,e){this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=0,i=t.Min;a<t.Count;++a,i+=t.Interval)this.Frame.HorizontalInfo[a]=new S,this.Frame.HorizontalInfo[a].Value=i,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=i.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=i.toFixed(e))},this.SplitFixed=function(t,e){this.Frame.HorizontalInfo=[];for(var a=0,i=t.Min;a<t.Count;++a,i+=t.Interval)this.Frame.HorizontalInfo[a]=new S,this.Frame.HorizontalInfo[a].Value=i,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=i.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=i.toFixed(e))},this.CustomCoordinate=function(t){this.Frame.CustomHorizontalInfo=[];for(var e in this.Custom){var a=this.Custom[e];if(0==a.Type){var i=t;Wt.IsNumber(a.FloatPrecision)&&a.FloatPrecision>=0&&(i=a.FloatPrecision);var r=this.GetLatestPrice(i,a);r&&this.Frame.CustomHorizontalInfo.push(r)}else 1==a.Type&&this.CustomFixedCoordinate(a)}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var a=this.Data.Data[this.Data.Data.length-1],i=new S;return i.Type=0,i.Value=a.Close,i.TextColor=Zi.FrameLatestPrice.TextColor,i.LineType=2,"left"==e.Position?i.Message[0]=a.Close.toFixed(t):i.Message[1]=a.Close.toFixed(t),a.Close>a.Open?i.LineColor=Zi.FrameLatestPrice.UpBarColor:a.Close<a.Open?i.LineColor=Zi.FrameLatestPrice.DownBarColor:i.LineColor=Zi.FrameLatestPrice.UnchagneBarColor,Wt.IsNumber(e.LineType)&&(i.LineType=e.LineType),0==e.IsShowLine&&(i.LineType=-1),i},this.GetFirstOpenPrice=function(){if(!this.Data)return null;for(var t=this.Frame.XPointCount,e=this.Data.DataOffset,a=0;e<this.Data.Data.length&&a<t;++e,++a){var i=this.Data.Data[e];if(null!=i.Open&&null!=i.High&&null!=i.Low&&null!=i.Close)return i.Open}return null},this.CustomFixedCoordinate=function(t){var e=Wa(this.Symbol);for(var a in t.Data){var i=t.Data[a],r=new S;r.Type=1,r.TextColor=i.TextColor,r.LineColor=i.Color,r.LineType=2,Wt.IsNumber(t.LineType)&&(r.LineType=t.LineType),0==t.IsShowLine&&(r.LineType=-1),r.Value=i.Value;var n;n=i.Text?i.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=n:r.Message[1]=n,this.Frame.CustomHorizontalInfo.push(r)}},this.IntegerCoordinateSplit2=function(t){var e=this.FrameSplitData2.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var a=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,i=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(i=0),i<0&&t.Min>0&&(i=0);for(var r=0,n=i;n-a<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=a,t.Min=i,t.Count=r,!0}}function Xt(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.SplitCount=3,this.FloatPrecision=2,this.FLOATPRECISION_RANGE=[1,.1,.01,.001,1e-4],this.SplitType=0,this.Custom=[],this.DefaultYMaxMin,this.GetFloatPrecision=function(t,e){if(t>this.FLOATPRECISION_RANGE[0])return e;if(e<0)return 2;for(;e<this.FLOATPRECISION_RANGE.length&&!(t>this.FLOATPRECISION_RANGE[e]);++e);return e},this.Operator=function(){var t={};if(t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,this.DefaultYMaxMin){var e=this.DefaultYMaxMin;Wt.IsNumber(e.Max)&&(t.Min>e.Max?t.Min=e.Max:t.Max<e.Max&&(t.Max=e.Max)),Wt.IsNumber(e.Min)&&(t.Max<e.Min?t.Max=e.Min:t.Min>e.Min&&(t.Min=e.Min))}if(this.Frame.YSpecificMaxMin?(t.Count=this.Frame.YSpecificMaxMin.Count,t.Interval=(t.Max-t.Min)/(t.Count-1)):1==this.SplitType?(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1)):(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit(t)),this.Frame.HorizontalInfo=[],this.Frame.YSplitScale)for(var a in this.Frame.YSplitScale){var i=this.Frame.YSplitScale[a],r=new S;r.Value=i;var n=Math.abs(i);if(n<1e-10)r.Message[1]=0;else if(n<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])r.Message[1]=i.toExponential(2).toString();else{var s=this.GetFloatPrecision(n,this.FloatPrecision);r.Message[1]=Wt.FormatValueString(i,s,this.LanguageID)}r.Message[0]=r.Message[1],0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null),this.Frame.HorizontalInfo.push(r)}else for(var a=0,i=t.Min;a<t.Count;++a,i+=t.Interval){if(this.Frame.HorizontalInfo[a]=new S,this.Frame.HorizontalInfo[a].Value=i,1==this.StringFormat){var s=this.FloatPrecision;!isNaN(i)&&Math.abs(i)>1e3&&(s=0),this.Frame.HorizontalInfo[a].Message[1]=Wt.FormatValueString(i,s,this.LanguageID)}else{var n=Math.abs(i);if(n<1e-10)this.Frame.HorizontalInfo[a].Message[1]=0;else if(n<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])this.Frame.HorizontalInfo[a].Message[1]=i.toExponential(2).toString();else{var s=this.GetFloatPrecision(n,this.FloatPrecision);this.Frame.HorizontalInfo[a].Message[1]=Wt.FormatValueString(i,s,this.LanguageID)}}this.Frame.HorizontalInfo[a].Message[0]=this.Frame.HorizontalInfo[a].Message[1],0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null)}this.CustomCoordinate(),1!=this.SplitType&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,t.Max>0&&t.Min<0)),this.RemoveZero(this.Frame.HorizontalInfo),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,this.RightFrameSplitY()},this.RightFrameSplitY=function(){if(this.Frame.RightFrame){var t=this.Frame.RightFrame;for(var e in this.Frame.HorizontalInfo){var a=this.Frame.HorizontalInfo[e],i=this.Frame.GetYFromData(a.Value),r=t.GetYData(i);a.Message[1]=Wt.FormatValueString(r,this.FloatPrecision,this.LanguageID)}}},this.CustomCoordinate=function(){this.Frame.CustomHorizontalInfo=[];for(var t in this.Custom){var e=this.Custom[t];0==e.Type||1==e.Type&&this.CustomFixedCoordinate(e)}},this.CustomFixedCoordinate=function(t){for(var e in t.Data){var a=t.Data[e],i=new S;i.Type=1,i.TextColor=a.TextColor,i.LineColor=a.Color,i.LineType=2,Wt.IsNumber(t.LineType)&&(i.LineType=t.LineType),0==t.IsShowLine&&(i.LineType=-1),i.Value=a.Value;var r;r=a.Text?a.Text:i.Value.toFixed(2),"left"==t.Position?i.Message[0]=r:i.Message[1]=r,this.Frame.CustomHorizontalInfo.push(i)}}}function Kt(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Period,this.Symbol,this.MinTextDistance=50*u(),this.MinBarDistance=5,this.SplitDateTime=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,a=this.Frame.XPointCount,i=0,r=0,n=0,s=e;n<a&&s<this.Frame.Data.Data.length;++n,++s){i+=t,++r;var o=null;if(0==n){o={Value:s-e,Text:Wt.FormatDateString(this.Frame.Data.Data[s].Date,"MM-DD")}}else if(i>this.MinTextDistance&&r>=this.MinBarDistance){var h=Wt.FormatTimeString(this.Frame.Data.Data[s].Time);o={Value:s-e,Text:h}}if(o){var l=new S;l.Value=o.Value,this.ShowText&&(l.Message[0]=o.Text),this.Frame.VerticalInfo.push(l),i=0,r=0,0==n&&(i=-this.MinTextDistance/2)}}},this.SplitSecond=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,a=this.Frame.XPointCount,i=0,r=0,n=0,s=e;n<a&&s<this.Frame.Data.Data.length;++n,++s){i+=t,++r;var o=null;if(0==n){o={Value:s-e,Text:Wt.FormatDateString(this.Frame.Data.Data[s].Date,"MM-DD")}}else if(i>this.MinTextDistance&&r>=this.MinBarDistance){var h=Wt.FormatTimeString(this.Frame.Data.Data[s].Time,"HH:MM:SS");o={Value:s-e,Text:h}}if(o){var l=new S;l.Value=o.Value,this.ShowText&&(l.Message[0]=o.Text),this.Frame.VerticalInfo.push(l),i=0,r=0,0==n&&(i=-this.MinTextDistance/2)}}},this.SplitDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=null,i=null,r=0,n=0,s=t,o=12;n<e&&s<this.Frame.Data.Data.length;++n,++s){var h=parseInt(this.Frame.Data.Data[s].Date/1e4),l=parseInt(this.Frame.Data.Data[s].Date/100)%100;if(i!=l&&++r,o<12||null!=a&&a==h&&null!=i&&i==l)i=l,++o;else{var u=new S;u.Value=s-t;var d;null==a||a!=h?d=h.toString():null!=i&&i==l||(d=l.toString()+"月",d=$i.GetText(d,this.LanguageID)),a=h,i=l,this.ShowText&&(u.Message[0]=d),this.Frame.VerticalInfo.push(u),o=0}}0==this.Period&&r<=2&&this.SplitShortDate()},this.SplitShortDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=!0,i=0,r=t,n=12;i<e&&r<this.Frame.Data.Data.length;++i,++r){var s=parseInt(this.Frame.Data.Data[r].Date/1e4);if(n<12)++n;else{var o=new S;o.Value=r-t;var h;a?(h=s.toString(),a=!1):h=Wt.FormatDateString(this.Frame.Data.Data[r].Date,"MM-DD"),this.ShowText&&(o.Message[0]=h),this.Frame.VerticalInfo.push(o),n=0}}},this.Operator=function(){null!=this.Frame.Data&&(Kt.SplitCustom?Kt.SplitCustom(this):G.IsMinutePeriod(this.Period,!0)?this.SplitDateTime():G.IsSecondPeriod(this.Period)?this.SplitSecond():this.SplitDate())},this.CreateCoordinateInfo=function(){return new S}}function Jt(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.High=null,this.Low=null,this.YClose,this.Data,this.AverageData,this.SourceData,this.OverlayChartPaint,this.SplitCount=7,this.Symbol,this.SplitType=0,this.LimitPrice,this.Custom,this.RightTextFormat=0,this.Operator=function(){if(this.Frame.HorizontalInfo=[],this.Frame.CustomHorizontalInfo=[],this.Data){var t=this.GetMaxMin();this.Symbol&&tr.IsUSA(this.Symbol.toUpperCase())?this.USASplit(t):2==this.SplitType?this.USASplit(t):this.DefaultSplit(t),this.CustomCoordinate()}},this.CustomCoordinate=function(){if(this.Custom){var t=Wa(this.Symbol);for(var e in this.Custom){var a=this.Custom[e];if(1==a.Type)this.CustomFixedCoordinate(a);else if(0==a.Type){var i=this.GetLatestPrice(t,a);i&&this.Frame.CustomHorizontalInfo.push(i)}}}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var a=this.Data.Data[this.Data.Data.length-1];if(!Wt.IsNumber(a)||!Wt.IsNumber(this.YClose))return null;var i=new S;return i.Type=0,i.Value=a,i.TextColor=Zi.FrameLatestPrice.TextColor,i.LineType=2,"left"==e.Position?i.Message[0]=a.toFixed(t):i.Message[1]=a.toFixed(t),a>this.YClose?i.LineColor=Zi.FrameLatestPrice.UpBarColor:a<this.YClose?i.LineColor=Zi.FrameLatestPrice.DownBarColor:i.LineColor=Zi.FrameLatestPrice.UnchagneBarColor,Wt.IsNumber(e.LineType)&&(i.LineType=e.LineType),0==e.IsShowLine&&(i.LineType=-1),i},this.CustomFixedCoordinate=function(t){var e=Wa(this.Symbol);for(var a in t.Data){var i=t.Data[a],r=new S;r.Type=1,r.TextColor=i.TextColor,r.LineColor=i.Color,r.LineType=2,Wt.IsNumber(t.LineType)&&(r.LineType=t.LineType),0==t.IsShowLine&&(r.LineType=-1),Wt.IsNumber(i.Increase)?(Wt.IsNumber(this.YClose)||conintue,r.Value=this.YClose*(1+i.Increase)):r.Value=i.Value;var n;n=i.Text?i.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=n:r.Message[1]=n,this.Frame.CustomHorizontalInfo.push(r)}},this.GetMaxMin=function(){var t=this.YClose,e=this.YClose,a=this.Data,i=!1;this.SourceData&&(a=this.SourceData,i=!0);for(var r in a.Data){var n=null;if(i){var s=a.Data[r];n=s.Before?s.Before.Close:s.Close}else n=a.Data[r];null!=n&&(t<n&&(t=n),e>n&&(e=n))}if(this.AverageData)for(var r in this.AverageData.Data)null!=this.AverageData.Data[r]&&(t<this.AverageData.Data[r]&&(t=this.AverageData.Data[r]),e>this.AverageData.Data[r]&&(e=this.AverageData.Data[r]));for(var r in this.OverlayChartPaint){var s=this.OverlayChartPaint[r],o=s.GetMaxMin();o.Max&&o.Max>t&&(t=o.Max),o.Min&&o.Min<e&&(e=o.Min)}return 1==this.SplitType&&this.LimitPrice&&(t<this.LimitPrice.Max&&(t=this.LimitPrice.Max),e>this.LimitPrice.Min&&(e=this.LimitPrice.Min)),Wt.IsNumber(this.High)&&Wt.IsNumber(this.Low)&&(t<this.High&&(t=this.High),e>this.Low&&(e=this.Low)),{Max:t,Min:e}},this.USASplit=function(t){var e=t.Max,a=t.Min;if(e==a)e+=.1*e,a-=.1*a;else{var i=u(),r=this.Frame.ChartBorder.GetHeight(),n=5*i*(e-a)/r;e+=n,a-=n,a<0&&(a=t.Min)}var s=this.SplitCount,o=(e-a)/(s-1),h=[1,.1,.01,.001,1e-4],l=Wa(this.Symbol);o<h[l]&&(o=h[l],e=a+o*s);for(var d=0;d<s;++d){var c=a+o*d;if(!this.YClose||c!=this.YClose){var D=new S;D.Value=c;var m=c.toFixed(l);if(this.IsShowLeftText&&(D.Message[0]=m),this.YClose){var C=100*(c/this.YClose-1);C>0?D.TextColor=Zi.UpTextColor:C<0&&(D.TextColor=Zi.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?D.Message[1]=m:D.Message[1]=Wt.FormatValueString(C,2)+"%")}this.Frame.HorizontalInfo.push(D)}}if(this.YClose>a&&this.YClose<e){var D=new S;D.Value=this.YClose,D.LineType=2,Zi.FrameDotSplitPen&&(D.LineColor=Zi.FrameDotSplitPen);var m=this.YClose.toFixed(l);this.IsShowLeftText&&(D.Message[0]=m),this.IsShowRightText&&(1==this.RightTextFormat?D.Message[1]=m:D.Message[1]="0.00%"),this.Frame.HorizontalInfo.push(D)}this.Frame.HorizontalInfo.sort(function(t,e){return t.Value-e.Value}),this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=a},this.DefaultSplit=function(t){var e=t.Max,a=t.Min;if(this.YClose==e&&this.YClose==a)e=this.YClose+.1*this.YClose,a=this.YClose-.1*this.YClose;else{var i=Math.max(Math.abs(this.YClose-e),Math.abs(this.YClose-a));e=this.YClose+i,a=this.YClose-i,a<0&&(a=t.Min)}var r=u(),n=this.Frame.ChartBorder.GetChartWidth(),s=n<450*r;xi.Chart.Log("[FrameSplitMinutePriceY]max="+e+" min="+a+" isPhoneModel="+s);var o=this.SplitCount,h=(e-a)/(o-1),l=[1,.1,.01,.001,1e-4],d=Wa(this.Symbol);s&&tr.IsSHSZIndex(this.Symbol)&&(d=0),h<l[d]&&(h=l[d],e=this.YClose+h*(o-1)/2,a=this.YClose-h*(o-1)/2);for(var c=0;c<o;++c){var D=a+h*c,m=new S;this.Frame.HorizontalInfo[c]=m,m.Value=D;var C=D.toFixed(d);if(this.IsShowLeftText&&(m.Message[0]=C),D==this.YClose&&(m.LineType=2,Zi.FrameDotSplitPen&&(m.LineColor=Zi.FrameDotSplitPen)),this.YClose){var f=100*(D/this.YClose-1);f>0?m.TextColor=Zi.UpTextColor:f<0&&(m.TextColor=Zi.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?m.Message[1]=C:m.Message[1]=Wt.FormatValueString(f,2)+"%")}}this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=a}}function jt(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol=null,this.DayCount=1,this.ShowDateFormate=1,this.IsBeforeData=!1,this.Operator=function(){this.Frame.VerticalInfo=[];var t=(this.Frame.XPointCount,this.Frame.ChartBorder.GetWidth());!0===this.Frame.IsHScreen&&(t=this.Frame.ChartBorder.GetHeight()),t/=u();var e=ar,a=e.GetCoordinateData(this.Symbol,t),i=a.Count,r=a.MiddleCount>0?a.MiddleCount:parseInt(i/2),n=a.Data;if(this.Frame.XPointCount=i*this.DayCount,this.Frame.MinuteCount=i,this.Frame.VerticalInfo=[],this.DayCount<=1){this.IsBeforeData&&(this.Frame.XPointCount=i+14,this.Frame.MinuteCount=i+14);for(var s in n){var o=new S;o.Value=n[s][0],this.IsBeforeData&&(o.Value+=14),this.ShowText&&(o.Message[0]=n[s][3]),this.Frame.VerticalInfo[s]=o}}else for(var s=this.DayData.length-1,h=0;s>=0;--s,++h){var o=new S;o.Value=h*i+r,o.LineType=-1,this.ShowText&&(o.Message[0]=Wt.FormatDateString(this.DayData[s].Date,0==this.ShowFormate?"YYYY-MM-DD":"MM-DD")),this.Frame.VerticalInfo.push(o);var o=new S;o.Value=(h+1)*i,this.Frame.VerticalInfo.push(o)}}}function zt(){this.newMethod=Wt,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Operator=function(){if(null!=this.Frame.Data&&null!=this.Frame.XData){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,a=0,i=t;a<e&&i<this.Frame.Data.Data.length;++a,++i){var r=new S;r.Value=i-t,this.ShowText&&(r.Message[0]=this.Frame.XData[a]),this.Frame.VerticalInfo.push(r),distance=0}}}}function qt(){this.Frame,this.Canvas,this.HPenColor=Zi.CorssCursorHPenColor,this.HPenType=0,this.VPenColor=Zi.CorssCursorVPenColor,this.VPenType=0,this.Font=Zi.CorssCursorTextFont,this.TextColor=Zi.CorssCursorTextColor,this.TextBGColor=Zi.CorssCursorBGColor,this.TextHeight=20,this.LastPoint,this.CursorIndex,this.IsOnlyDrawKLine=!1,this.IsOnlyDrawMinute=!1,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.ShowTextMode={Left:1,Right:1,Bottom:1},this.TextFormat={Right:0},this.IsShowCorss=!0,this.IsShow=!0,this.IsShowClose=!1,this.Close=null,this.Status=0,this.ReloadResource=function(t){this.Font=Zi.CorssCursorTextFont,this.HPenColor=Zi.CorssCursorHPenColor,this.VPenColor=Zi.CorssCursorVPenColor,this.TextColor=Zi.CorssCursorTextColor,this.TextBGColor=Zi.CorssCursorBGColor},this.GetCloseYPoint=function(t){if(!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var a=e.DataOffset+t;if(a>=e.Data.length&&(a=e.Data.length-1),a<0)return null;var i=e.Data[a];return i?(this.Close=i.Close,this.Frame.GetYFromData(this.Close)):null},this.GetMinuteCloseYPoint=function(t){if(!Wt.IsNumber(t))return null;if(t=parseInt(t),!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var a=e.DataOffset+t;if(a>=e.Data.length&&(a=e.Data.length-1),a<0)return null;var i=e.Data[a];return Wt.IsNumber(t)?(this.Close=i,this.Frame.GetYFromData(this.Close)):null},this.Draw=function(){if(this.Status=0,this.LastPoint){this.Close=null;var t=this.LastPoint.X,e=this.LastPoint.Y,a=!1;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),a=this.Canvas.isPointInPath(t,e),this.PointY=null,this.PointY,a){if(!0===this.Frame.IsHScreen)return void this.HScreenDraw();var i=this.Frame.ChartBorder.GetLeft(),r=this.Frame.ChartBorder.GetRight(),n=this.Frame.ChartBorder.GetTopTitle(),s=this.Frame.ChartBorder.GetBottom(),o=this.Frame.ChartBorder.Right,h=this.Frame.ChartBorder.GetChartWidth();if(this.IsOnlyDrawKLine){if(t=this.Frame.GetXFromIndex(this.CursorIndex),this.IsShowClose){var l=this.GetCloseYPoint(this.CursorIndex);null!=l&&(e=l)}}else if(this.IsOnlyDrawMinute){var l=this.GetMinuteCloseYPoint(this.CursorIndex);null!=l&&(e=l)}if(this.PointY=[[i,e],[r,e]],this.PointX=[[t,n],[t,s]],this.IsShowCorss){var d=u();if(this.Canvas.save(),this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*d,2*d]),this.Canvas.beginPath(),this.Canvas.moveTo(i,C(e)),this.Canvas.lineTo(r,C(e)),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*d,2*d]);else if(2==this.VPenType){var c=this.Frame.SubFrame[0].Frame.DataWidth;c>2*d&&(this.Canvas.lineWidth=c)}if(this.Canvas.beginPath(),this.Frame.SubFrame.length>0)for(var D in this.Frame.SubFrame){var m=this.Frame.SubFrame[D].Frame;n=m.ChartBorder.GetTopTitle(),s=m.ChartBorder.GetBottom(),this.Canvas.moveTo(C(t),n),this.Canvas.lineTo(C(t),s)}else this.Canvas.moveTo(C(t),n),this.Canvas.lineTo(C(t),s);this.Canvas.stroke(),this.Canvas.restore()}var f=(this.Frame.GetXData(t),{}),p=this.Frame.GetYData(e,f);if((this.IsOnlyDrawMinute||this.IsShowClose)&&null!=this.Close&&(p=this.Close),this.StringFormatX.Value=this.CursorIndex,this.StringFormatY.Value=p,this.StringFormatY.RValue=f.RightYValue,this.StringFormatY.FrameID=f.FrameID,(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Left>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Right>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var v=this.StringFormatY.Text;this.Canvas.font=this.Font;var S=this.Canvas.measureText(v).width+4;if(this.Frame.ChartBorder.Left>=30&&1==this.ShowTextMode.Left?(this.Canvas.fillStyle=this.TextBGColor,i<S?(this.Canvas.fillRect(2,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,4,e,S)):(this.Canvas.fillRect(i-2,e-this.TextHeight/2,-S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,i-4,e,S))):2==this.ShowTextMode.Left&&(this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(i,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,i+2,e,S)),this.StringFormatY.PercentageText&&0==this.TextFormat.Right&&(v=this.StringFormatY.PercentageText+"%",S=this.Canvas.measureText(v).width+4),this.StringFormatY.RText){v=this.StringFormatY.RText;var S=this.Canvas.measureText(v).width+4}if(this.Frame.ChartBorder.Right>=30&&1==this.ShowTextMode.Right){var T=!1,M=null;if(f.FrameID>=0){var m=this.Frame.SubFrame[f.FrameID];T=m.OverlayIndex.length>0,M=m.Interval}if(this.Canvas.fillStyle=this.TextBGColor,T&&S>M){var _=r+M;_>h&&(_=h),this.Canvas.fillRect(_-2-S,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,_-4,e,S)}else o<S?(this.Canvas.fillRect(h-2-S,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,h-4,e,S)):(this.Canvas.fillRect(r+2,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,r+4,e,S));if(this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var I=0;for(var D in this.StringFormatY.RExtendText){var L=this.StringFormatY.RExtendText[D],g="--.--";L.YText?g=L.YText:Wt.IsNumber(L.Y)&&(g=L.Y.toFixed(0));var y=this.Canvas.measureText(g).width+4;this.Canvas.fillStyle=L.TextBGColor,o<y?(this.Canvas.fillRect(h-2-y,e+I+this.TextHeight/2,y,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=L.TextColor,this.Canvas.fillText(g,h-4,e+I+this.TextHeight,y)):(this.Canvas.fillRect(r+2,e+I+this.TextHeight/2,y,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=L.TextColor,this.Canvas.fillText(g,r+4,e+I+this.TextHeight,y)),I+=this.TextHeight}}}else if(2==this.ShowTextMode.Right){this.Canvas.fillStyle=this.TextBGColor;var A=r-S;this.Canvas.fillRect(A,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,A+2,e,S)}}if(1==this.ShowTextMode.Bottom&&this.StringFormatX.Operator()){var v=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;var S=this.Canvas.measureText(v).width+4,F=s+2+this.TextHeight/2;t-S/2<3?(this.Canvas.fillRect(t-1,s+2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,t+1,F,S)):t+S/2>=r?(this.Canvas.fillRect(r-S,s+2,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,r-2,F,S)):(this.Canvas.fillRect(t-S/2,s+2,S,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,t,F,S))}if(f.FrameID>=0){var m=this.Frame.SubFrame[f.FrameID],E=r;this.Canvas.font=this.Font;for(var D in m.OverlayIndex){var L=m.OverlayIndex[D];if(!1!==L.Frame.IsShow){if((E+=m.Interval)+30>h)break;for(var p=L.Frame.GetYData(e),D=2;D>=0;--D){var v=Wt.FormatValueString(p,D),S=this.Canvas.measureText(v).width+4;if(S<m.Interval)break}this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(E+2,e-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(v,E+4,e,S)}}}this.Status=1}}},this.HScreenDraw=function(){var t=this.LastPoint.X,e=this.LastPoint.Y;this.IsOnlyDrawKLine&&(e=this.Frame.GetXFromIndex(this.CursorIndex));var a=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetRightEx(),r=this.Frame.ChartBorder.GetTop(),n=this.Frame.ChartBorder.GetBottom(),s=this.Frame.ChartBorder.Bottom;if(this.PointY=[[a,e],[i,e]],this.PointX=[[t,r],[t,n]],this.IsShowCorss){var o=u();if(this.Canvas.save(),this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*o,2*o]),this.Canvas.beginPath(),this.Canvas.moveTo(C(t),r),this.Canvas.lineTo(C(t),n),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*o,2*o]);else if(2==this.VPenType){var h=this.Frame.SubFrame[0].Frame.DataWidth;h>2*o&&(this.Canvas.lineWidth=h)}if(this.Canvas.beginPath(),this.Frame.SubFrame.length>0)for(var l in this.Frame.SubFrame){var d=this.Frame.SubFrame[l].Frame;this.Canvas.moveTo(d.ChartBorder.GetLeft(),C(e)),this.Canvas.lineTo(d.ChartBorder.GetRightTitle(),C(e))}else this.Canvas.moveTo(a,C(e)),this.Canvas.lineTo(i,C(e));this.Canvas.stroke(),this.Canvas.restore()}var c=this.Frame.GetXData(e),D={},m=this.Frame.GetYData(t,D);if(this.StringFormatX.Value=c,this.StringFormatY.Value=m,this.StringFormatY.FrameID=D.FrameID,(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Top>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Bottom>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var f=this.StringFormatY.Text;this.Canvas.font=this.Font;var p=this.Canvas.measureText(f).width+4;if(this.Frame.ChartBorder.Top>=30&&1==this.ShowTextMode.Left){var v=t,S=r;this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,r>=p?(this.Canvas.fillRect(0,-this.TextHeight/2,-p,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,-2,0,p)):(this.Canvas.fillRect(p-r,-this.TextHeight/2,-p,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,p-r-2,0,p)),this.Canvas.restore()}else if(2==this.ShowTextMode.Left){var v=t,S=r;this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,p,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,2,0,p),this.Canvas.restore()}if(this.Frame.ChartBorder.Bottom>=30&&1==this.ShowTextMode.Right){var v=t,S=n;if(this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,s>p?(this.Canvas.fillRect(0,-this.TextHeight/2,p,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,2,0,p)):(this.Canvas.fillRect(s-p,-this.TextHeight/2,p,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,s-p+2,0,p)),this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var T=0;for(var l in this.StringFormatY.RExtendText){var M=this.StringFormatY.RExtendText[l],_="--.--";M.YText?_=M.YText:Wt.IsNumber(M.Y)&&(_=M.Y.toFixed(0));var I=this.Canvas.measureText(_).width+4;if(this.Canvas.fillStyle=M.TextBGColor,s>I)this.Canvas.fillRect(0,T+this.TextHeight/2,I,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=M.TextColor,this.Canvas.fillText(_,2,T+this.TextHeight,I);else{var L=s-I;this.Canvas.fillRect(L,T+this.TextHeight/2,I,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=M.TextColor,this.Canvas.fillText(_,L+2,T+this.TextHeight,I)}T+=this.TextHeight}}this.Canvas.restore()}else if(2==this.ShowTextMode.Right){var v=t,S=n;this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,-p,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,-2,0,p),this.Canvas.restore()}}if(1===this.ShowTextMode.Bottom&&this.StringFormatX.Operator()){var f=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;var p=this.Canvas.measureText(f).width+4;if(e-p/2<3){var v=a,S=e;this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(0,0,p,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,0,this.TextHeight/2,p),this.Canvas.restore()}else{var v=a,S=e;this.Canvas.save(),this.Canvas.translate(v,S),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-p/2,0,p,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(f,0,this.TextHeight/2,p),this.Canvas.restore()}}this.Status=1}}function Zt(){this.Frame,this.Canvas,this.Font=Zi.DefaultTextFont,this.TextColor=Zi.DefaultTextColor,this.IsEnableSplash=!1,this.SplashTitle="数据加载中",this.HQChart,this.EnableSplash=function(t){if(this.IsEnableSplash=t,this.HQChart){var e=this.HQChart.GetEventCallback(Oi.ON_ENABLE_SPLASH_DRAW);if(e){var a={Enable:t};e.Callback(e,a,this)}}},this.Draw=function(){if(this.IsEnableSplash){if(!0===this.Frame.IsHScreen)return void this.HScreenDraw();var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,t,e)}},this.HScreenDraw=function(){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.save(),this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,0,0),this.Canvas.restore()}}function Qt(){this.Data,this.Value,this.Text,this.Operator=function(){return!1}}function $t(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Symbol,this.FrameID,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.YClose,this.PercentageText,this.RValue,this.RText,this.ExtendChartPaint,this.RExtendText=[],this.Operator=function(){if(this.RText=null,this.RExtendText=[],Wt.IsString(this.RValue)&&(this.RText=this.RValue),!this.Value)return!1;this.PercentageText=null;var t=2;if(0==this.FrameID){var t=Wa(this.Symbol);this.Text=this.Value.toFixed(t),this.YClose>0&&(this.PercentageText=(100*(this.Value-this.YClose)/this.YClose).toFixed(2)),this.GetExtendPaintData(t)}else 1==this.FrameID?(this.Text=Wt.FormatValueString(this.Value,t,this.LanguageID),Wt.IsNumber(this.RValue)&&(this.RText=Wt.FormatValueString(this.RValue,t,this.LanguageID))):this.Text=Wt.FormatValueString(this.Value,t,this.LanguageID);return!0},this.GetExtendPaintData=function(t){var e=parseInt(this.Value*Ki[t]);for(var a in this.ExtendChartPaint){var i=this.ExtendChartPaint[a];if("DepthMapPaint"==i.ClassName&&i.FrameID==this.FrameID){var r=i.GetYValueByXValue(e,t);for(var n in r)this.RExtendText.push(r[n])}}}}function te(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Operator=function(){if(!Wt.IsNumber(this.Value))return!1;if(!this.Data)return!1;var t=this.Value;if(t=parseInt(t.toFixed(0)),this.Data.DataOffset+t>=this.Data.Data.length)return!1;var e=this.Data.Data[this.Data.DataOffset+t];if(this.Text=Wt.FormatDateString(e.Date),G.IsMinutePeriod(this.Data.Period,!0)){var a=Wt.FormatTimeString(e.Time);this.Text=this.Text+"  "+a}else if(G.IsSecondPeriod(this.Data.Period)){var a=Wt.FormatTimeString(e.Time,"HH:MM:SS");this.Text=this.Text+"  "+a}else if(G.IsTickPeriod(this.Data.Period)){var a=Wt.FormatTimeString(e.Time);this.Text=this.Text+"  "+a}return!0}}function ee(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Frame,this.Symbol,this.IsBeforeData=!1,this.Operator=function(){if(null==this.Value||isNaN(this.Value))return!1;var t=Math.abs(this.Value);t=parseInt(t.toFixed(0));var e=t;this.Frame&&this.Frame.MinuteCount&&(e=t%this.Frame.MinuteCount);var a=er,i=a.GetTimeData(this.Symbol);if(!i)return!1;if(this.IsBeforeData){var r=[915,916,917,918,919,920,921,922,923,924,925,926,927,928,929];for(var n in i)925!=i[n]&&r.push(i[n]);i=r}e<0?e=0:e>i.length&&(e=i.length-1),this.Frame&&t>=this.Frame.XPointCount&&(e=i.length-1);var s=i[e];return this.Text=Wt.FormatTimeString(s),!0}}function ae(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Symbol,this.UpColor=Zi.UpTextColor,this.DownColor=Zi.DownTextColor,this.UnchagneColor=Zi.UnchagneTextColor,this.VolColor=Zi.DefaultTextColor,this.AmountColor=Zi.DefaultTextColor,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.LineCount=0,this.Width=157,this.Height=125,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;this.Width=157,this.LanguageID==Qi.LANGUAGE_ENGLISH_ID&&(this.Width=180);var e=new Date(parseInt(t.Date/1e4),t.Date/100%100-1,t.Date%100),a=Wt.FormatDateString(t.Date),i=$i.GetText(Ji[e.getDay()],this.LanguageID);G.IsMinutePeriod(this.Value.ChartPaint.Data.Period,!0)?i=Wt.FormatTimeString(t.Time):G.IsSecondPeriod(this.Value.ChartPaint.Data.Period)&&(i=Wt.FormatTimeString(t.Time,"HH:MM:SS"));var r=this.Symbol.toUpperCase(),n=Wa(this.Symbol),s=null;t.YClose>0&&(s=(t.Close-t.YClose)/t.YClose*100);var o="<span class='tooltip-title'>"+a+"&nbsp&nbsp"+i+"</span><span class='tooltip-con'>"+$i.GetText("DivTooltip-Open",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Open,t.YClose)+";'>"+t.Open.toFixed(n)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-High",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.High,t.YClose)+";'>"+t.High.toFixed(n)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-Low",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Low,t.YClose)+";'>"+t.Low.toFixed(n)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-Close",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Close,t.YClose)+";'>"+t.Close.toFixed(n)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-Vol",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.VolColor+";'>"+Wt.FormatValueString(t.Vol,2,this.LanguageID)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-Amount",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.AmountColor+";'>"+Wt.FormatValueString(t.Amount,2,this.LanguageID)+"</span><br/><span class='tooltip-con'>"+$i.GetText("DivTooltip-Increase",this.LanguageID)+"</span>"+(null==s?"<span class='tooltip-num' style='color:"+this.GetColor(0,0)+";'>--</span><br/>":"<span class='tooltip-num' style='color:"+this.GetColor(s,0)+";'>"+s.toFixed(2)+"%</span><br/>");if(this.LineCount=8,tr.IsSHSZStockA(this.Symbol)&&t.FlowCapital>0){var h=t.Vol/t.FlowCapital*100;o+="<span class='tooltip-con'>"+$i.GetText("DivTooltip-Exchange",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.AmountColor+";'>"+h.toFixed(2)+"%</span><br/>",++this.LineCount}if(tr.IsFutures(r)&&Wt.IsNumber(t.Position)&&(o+="<span class='tooltip-con'>"+$i.GetText("DivTooltip-Position",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.VolColor+";'>"+t.Position+"</span><br/>",++this.LineCount),"Overlay-KLine"==this.Value.ChartPaint.Name){o="<span style='color:rgb(0,0,0);font:微软雅黑;font-size:12px;text-align:center;display: block;'>"+this.Value.ChartPaint.Title+"</span>"+o,++this.LineCount}return this.Text=o,this.Height=25*this.LineCount,!0},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor}}function ie(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.UpColor=Zi.UpTextColor,this.DownColor=Zi.DownTextColor,this.UnchagneColor=Zi.UnchagneTextColor,this.Width=500,this.Operator=function(){if(!this.Value)return!1;var t=this.Value.Data.Data,e=this.Value.Data.Type,a="";for(var i in t){var r=t[i],n="";switch(e){case bi.BLOCKTRADING:n=this.BlockTradingFormat(r);break;case bi.TRADEDETAIL:n=this.TradeDetailFormat(r);break;case bi.RESEARCH:n=this.ResearchFormat(r);break;case bi.PFORECAST:n=this.PerformanceForecastFormat(r);break;default:n=this.DefaultFormat(r)}a+=n}var s="<div class='title-length'>"+a+"</div>";if(t.length>8){s+="<div class='total-list'>共"+t.length+"条</div>"}return this.Text=s,!0},this.DefaultFormat=function(t){return"<span>"+Wt.FormatDateString(t.Date)+"&nbsp;&nbsp;&nbsp;"+t.Title+"</span>"},this.BlockTradingFormat=function(t){var e=t.ExtendData;return"<span><i class='date-tipbox'>"+Wt.FormatDateString(t.Date)+"</i>&nbsp;&nbsp;<i class='tipBoxTitle'>成交价:&nbsp;"+e.Price.toFixed(2)+"</i><i class='tipBoxTitle'>收盘价:&nbsp;"+e.ClosePrice.toFixed(2)+"</i><br/><i class='rate-discount tipBoxTitle'>溢折价率:&nbsp;<strong style='color:"+this.GetColor(e.Premium.toFixed(2))+"'>"+e.Premium.toFixed(2)+"%</strong></i><i class='tipBoxTitle'>成交量(万股):&nbsp;"+e.Vol.toFixed(2)+"</i></span>"},this.TradeDetailFormat=function(t){var e=t.ExtendData.Detail,a=Wt.FormatDateString(t.Date),i=[];for(var r in e)i+="<i>"+e[r].TypeExplain+"</i><br/>";return"<span><i class='trade-time'>"+a+"&nbsp;&nbsp;&nbsp;上榜原因:&nbsp;&nbsp;</i><i class='reason-list'>"+i+"</i><br/><i class='trade-detall'>一周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</strong>&nbsp;&nbsp;&nbsp;四周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+";'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</strong></i></span>"},this.ResearchFormat=function(t){var e=t.ExtendData.Level,a="";if(0==e.length)a="<i>一般调研</i>";else{for(var i in e)0==e[i]?a+="<i style='color:#00a0e9'>证券代表&nbsp;&nbsp;&nbsp;</i>":1==e[i]?a+="<i>董秘&nbsp;&nbsp;&nbsp;</i>":2==e[i]?a+="<i style='color:#00a0e9'>总经理&nbsp;&nbsp;&nbsp;</i>":3==e[i]&&(a+="<i style='color:#00a0e9'>董事长&nbsp;&nbsp;&nbsp;</i>");a="接待:&nbsp;&nbsp;&nbsp;"+a}var r="";return t.ExtendData.Type&&"其他"!=t.ExtendData.Type&&(r="&nbsp;&nbsp;&nbsp;<i>"+t.ExtendData.Type+"</i>",0==e.length&&(a="")),"<span>"+Wt.FormatDateString(t.Date)+"&nbsp;&nbsp;&nbsp;"+r+a+"</span>"},this.PerformanceForecastFormat=function(t){var e,a=t.ExtendData.ReportDate,i=parseInt(a/1e4),r=a%1e4;1231==r?e="年报":331==r?e="一季度报":630==r?e="半年度报":930==r&&(e="三季度报");var n="";return t.ExtendData.FWeek&&(null!=t.ExtendData.FWeek.Week1&&(n+="一周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</i>"),null!=t.ExtendData.FWeek.Week4&&(n+="&nbsp;四周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+"'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</i>"),n.length>0&&(n="<br/>&nbsp;&nbsp;<i class='prorecast-week'>"+n+"</i>")),"<span>"+Wt.FormatDateString(t.Date)+"&nbsp;&nbsp;"+i+e+t.Title+"&nbsp;"+n+"</span>"},this.GetColor=function(t){return t>0?this.UpColor:t<0?this.DownColor:this.UnchagneColor}}function re(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Width=100,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e,a=t.Data,i="<span class='tooltip-index-name'>"+a.Name+a.Param+":</span>";return e=1==a.Type?"<span class='tooltip-index-buy'>买入</span>":"<span class='tooltip-index-sell'>卖出</span>",this.Text=i+e,!0}}function ne(){this.newMethod=Qt,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e=t.Data.Item,a=Wt.FormatTimeString(e.Time),i="<span class='tooltip-minuteinfo-time'>"+a+" </span>",r="<span class='tooltip-minuteinfo-content'>"+e.Title+"</span>";return e.Content&&(r="<span class='tooltip-minuteinfo-content'>"+e.Content+"</span>"),this.Text=i+r,!0}}function se(){this.DataMap=new Ai.default([["KLineTradeDataStringFormat",{Create:function(){return new re}}],["MinuteInfoDataStringFormat",{Create:function(){return new ne}}],["HistoryDataStringFormat",{Create:function(){return new ae}}],["KLineInfoDataStringFormat",{Create:function(){return new ie}}],["CorssCursor_XStringFormat",{Create:function(){return new te}}],["CorssCursor_YStringFormat",{Create:function(){return new $t}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null}}function oe(){this.Frame,this.Data=new Array,this.Canvas,this.IsDynamic=!1,this.Position=0,this.CursorIndex,this.Font=Zi.TitleFont,this.Title,this.TitleColor=Zi.DefaultTextColor,this.ClassName="IChartTitlePainting",this.ReloadResource=function(){this.Font=Zi.TitleFont,this.TitleColor=Zi.DefaultTextColor}}function he(){this.newMethod=oe,this.newMethod(),delete this.newMethod,this.ClassName="DynamicKLineTitlePainting",this.IsDynamic=!0,this.IsShow=!0,this.Period,this.UpColor=Zi.UpTextColor,this.DownColor=Zi.DownTextColor,this.UnchagneColor=Zi.UnchagneTextColor,this.VolColor=Zi.DefaultTextColor,this.AmountColor=Zi.DefaultTextColor,this.DateTimeColor=Zi.DefaultTextColor,this.NameColor=Zi.DefaultTextColor,this.Symbol,this.Name,this.SpaceWidth=2*u(),this.OverlayChartPaint,this.IsShowName=!0,this.IsShowSettingInfo=!0,this.IsShowDateTime=!0,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.OnDrawEvent,this.ReloadResource=function(){this.Font=Zi.TitleFont,this.TitleColor=Zi.DefaultTextColor,this.UpColor=Zi.UpTextColor,this.DownColor=Zi.DownTextColor,this.UnchagneColor=Zi.UnchagneTextColor,this.VolColor=Zi.DefaultTextColor,this.AmountColor=Zi.DefaultTextColor,this.DateTimeColor=Zi.DefaultTextColor,this.NameColor=Zi.DefaultTextColor},this.GetCurrentKLineData=function(){if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.DrawItem=function(t){var e=!0===this.Frame.IsHScreen,a=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetTop()-this.Frame.ChartBorder.Top/2,r=(this.Frame.ChartBorder.GetRight(),Wa(this.Symbol)),n=this.Symbol.toUpperCase();if(e){if(this.Frame.ChartBorder.Right<5)return;var a=2,i=this.Frame.ChartBorder.Right/2,s=(this.Frame.ChartBorder.GetHeight(),this.Frame.ChartBorder.GetChartWidth()),o=this.Frame.ChartBorder.GetTop();this.Canvas.translate(s,o),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5*u())return;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var h={Left:a,Bottom:i,IsHScreen:e};if(!this.IsShowName||this.DrawText(this.Name,this.UnchagneColor,h)){if(this.IsShowSettingInfo){this.Canvas.fillStyle=this.NameColor;var l="";l=this.Data.Period>ki&&this.Data.Period<=Vi?this.Data.Period-ki+$i.GetText("自定义分钟",this.LanguageID):this.Data.Period>Bi&&this.Data.Period<=Hi?this.Data.Period-Bi+$i.GetText("自定义日线",this.LanguageID):this.Data.Period>Gi&&this.Data.Period<=Wi?this.Data.Period-Gi+$i.GetText("自定义秒",this.LanguageID):$i.GetText(G.GetPeriodName(this.Data.Period),this.LanguageID);var d=$i.GetText(zi[this.Data.Right],this.LanguageID),c="("+l+" "+d+")",D=tr.IsSHSZStockA(this.Symbol);if(null==t.Time&&D||(c="("+l+")"),!this.DrawText(c,this.NameColor,h))return}if(this.IsShowDateTime){this.Canvas.fillStyle=this.DateTimeColor;var c=Wt.FormatDateString(t.Date);if(!this.DrawText(c,this.DateTimeColor,h))return}if(G.IsMinutePeriod(this.Period,!0)&&t.Time){var c=Wt.FormatTimeString(t.Time);if(!this.DrawText(c,this.DateTimeColor,h))return}else if(G.IsSecondPeriod(this.Period)&&t.Time){var c=Wt.FormatTimeString(t.Time,"HH:MM:SS");if(!this.DrawText(c,this.DateTimeColor,h))return}var m=this.GetColor(t.Open,t.YClose),c=$i.GetText("KTitle-Open",this.LanguageID)+t.Open.toFixed(r);if(this.DrawText(c,m,h)){var m=this.GetColor(t.High,t.YClose),c=$i.GetText("KTitle-High",this.LanguageID)+t.High.toFixed(r);if(this.DrawText(c,m,h)){var m=this.GetColor(t.Low,t.YClose),c=$i.GetText("KTitle-Low",this.LanguageID)+t.Low.toFixed(r);if(this.DrawText(c,m,h)){var m=this.GetColor(t.Close,t.YClose),c=$i.GetText("KTitle-Close",this.LanguageID)+t.Close.toFixed(r);if(this.DrawText(c,m,h)){if(t.YFClose>0&&tr.IsChinaFutures(n)){var C=(t.Close-t.YFClose)/t.YFClose*100,m=this.GetColor(C,0),c=$i.GetText("KTitle-Increase",this.LanguageID)+C.toFixed(2)+"%";if(!this.DrawText(c,m,h))return}else if(t.YClose>0){var C=(t.Close-t.YClose)/t.YClose*100,m=this.GetColor(C,0),c=$i.GetText("KTitle-Increase",this.LanguageID)+C.toFixed(2)+"%";if(!this.DrawText(c,m,h))return}var c=$i.GetText("KTitle-Vol",this.LanguageID)+Wt.FromatIntegerString(t.Vol,2,this.LanguageID);if(this.DrawText(c,this.VolColor,h)){if(Wt.IsNumber(t.Amount)){var c=$i.GetText("KTitle-Amount",this.LanguageID)+Wt.FormatValueString(t.Amount,2,this.LanguageID);if(!this.DrawText(c,this.AmountColor,h))return}if(tr.IsSHSZStockA(this.Symbol)&&t.FlowCapital>0){var C=t.Vol/t.FlowCapital*100,c=$i.GetText("KTitle-Exchange",this.LanguageID)+Wt.FormatValueString(C,2,this.LanguageID)+"%";if(!this.DrawText(c,this.AmountColor,h))return}if(tr.IsFutures(n)&&Wt.IsNumber(t.Position)){var c=$i.GetText("KTitle-Position",this.LanguageID)+t.Position;if(!this.DrawText(c,this.AmountColor,h))return}for(var f in this.OverlayChartPaint){var t=this.OverlayChartPaint[f];if(t.Symbol&&t.Title){var p=t.Title,v=t.Color,c="["+p+"]";if(!this.DrawText(c,v,h))return}}}}}}}}},this.Draw=function(){if(this.IsShow){if(null==this.CursorIndex||!this.Data||this.Data.length<=0)return void this.OnDrawEventCallback(null);this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)return void this.OnDrawEventCallback(null);var a=this.Data.Data[e];this.OnDrawEventCallback(a),this.Canvas.save(),this.DrawItem(a),this.Canvas.restore()}},this.OnDrawEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:this.ClassName};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.DrawText=function(t,e,a){if(!t)return!0;var i=!0===this.Frame.IsHScreen,r=this.Frame.ChartBorder.GetRight();i&&(r=this.Frame.ChartBorder.GetHeight()),this.Canvas.fillStyle=e;var n=this.Canvas.measureText(t).width;return!(a.Left+n>r)&&(this.Canvas.fillText(t,a.Left,a.Bottom,n),a.Left+=n+this.SpaceWidth,!0)}}function le(){this.newMethod=he,this.newMethod(),delete this.newMethod,this.ClassName="DynamicMinuteTitlePainting",this.SpaceWidth=1*u(),this.YClose,this.IsShowDate=!1,this.IsShowName=!0,this.IsShowAveragePrice=!0,this.OverlayChartPaint,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.LastShowData,this.OnDrawEvent,this.GetCurrentKLineData=function(){if(this.LastShowData)return this.LastShowData;if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=Math.abs(this.CursorIndex);t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.DrawItem=function(t){var e=!0===this.Frame.IsHScreen,a=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetTop()-this.Frame.ChartBorder.Top/2,r=(this.Frame.ChartBorder.GetRight(),Wa(this.Symbol));if(e){if(this.Frame.ChartBorder.Right<5)return;var a=2,i=this.Frame.ChartBorder.Right/2,n=(this.Frame.ChartBorder.GetHeight(),this.Frame.ChartBorder.GetChartWidth()),s=this.Frame.ChartBorder.GetTop();this.Canvas.translate(n,s),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5)return;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var o={Left:a,Bottom:i,IsHScreen:e};if(!this.IsShowName||this.DrawText(this.Name,this.NameColor,o)){var h=Wt.FormatDateTimeString(t.DateTime,this.IsShowDate);if(this.DrawText(h,this.DateTimeColor,o)){var l=t.Close,u=t.Increase,d=t.Vol,c=t.Amount;if(t.Before&&(l=t.Before.Close,u=t.Before.Increase,d=t.Before.Vol,c=t.Before.Amount),l){var D=this.GetColor(l,this.YClose),h=$i.GetText("MTitle-Close",this.LanguageID)+l.toFixed(r);if(!this.DrawText(h,D,o))return}if(null!=u){var D=this.GetColor(u,0),h=$i.GetText("MTitle-Increase",this.LanguageID)+u.toFixed(2)+"%";if(!this.DrawText(h,D,o))return}var m=!0,C=this.Symbol.toUpperCase();if(tr.IsET(C)&&!tr.IsETShowAvPrice(C)&&(m=!1),t.AvPrice&&m&&this.IsShowAveragePrice){var D=this.GetColor(t.AvPrice,this.YClose),h=$i.GetText("MTitle-AvPrice",this.LanguageID)+t.AvPrice.toFixed(r);if(!this.DrawText(h,D,o))return}var h=$i.GetText("MTitle-Vol",this.LanguageID)+Wt.FromatIntegerString(d,2);if(this.DrawText(h,this.VolColor,o)){if(Wt.IsNumber(c)){var h=$i.GetText("MTitle-Amount",this.LanguageID)+Wt.FormatValueString(c,2);if(!this.DrawText(h,this.AmountColor,o))return}if(Wt.IsNumber(t.Position)){var h=$i.GetText("MTitle-Position",this.LanguageID)+Wt.FromatIntegerString(t.Position,2);if(!this.DrawText(h,this.VolColor,o))return}for(var f in this.OverlayChartPaint){var t=this.OverlayChartPaint[f];if(t.Symbol&&t.Title){var p=t.Title,v=t.Color,h="["+p+"]";if(!this.DrawText(h,v,o))return}}}}}},this.Draw=function(){if(this.LastShowData=null,this.IsShow){if(null==this.CursorIndex||!this.Data||!this.Data.Data||this.Data.Data.length<=0)return void this.OnDrawEventCallback(null);this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=t+this.Data.DataOffset;e>=this.Data.Data.length&&(e=this.Data.Data.length-1);var a=this.Data.Data[e];this.LastShowData=a,this.Canvas.save(),this.OnDrawEventCallback(a),this.DrawItem(a),this.Canvas.restore()}}}function ue(t,e,a){this.Data=t,this.Name=e,this.Color=a,this.DataType,this.StringFormat=qi.DEFAULT,this.FloatPrecision=2}function de(){this.newMethod=oe,this.newMethod(),delete this.newMethod,this.ClassName="DynamicChartTitlePainting",this.IsDynamic=!0,this.Data=new Array,this.Explain,this.ColorIndex,this.IsShowColorIndexTitle=!0,this.IsShowUpDownArrow=!0,this.IsShowIndexName=!0,this.TradeIndex,this.IsShowTradeIndexTitle=!0,this.OverlayIndex=new Ai.default,this.LanguageID=Qi.LANGUAGE_CHINESE_ID,this.TitleRect,this.IsDrawTitleBG=!1,this.BGColor=Zi.IndexTitleBGColor,this.OnDrawEvent,this.ParamSpace=2,this.IsKLineFrame=!1,this.OutName=null,this.SetDynamicOutName=function(t,e){this.OutName?this.OutName.clear():this.OutName=new Ai.default;var a=new Ai.default;for(var i in e){var r=e[i];a.set("{"+r.Name+"}",r)}for(var i in t){var r=t[i],n=r.DynamicName.match(/{\w*}/i);if(!n||n.length<=0)this.OutName.set(r.Name,r.DynamicName);else{for(var s=r.DynamicName,o=!0,h=0;h<n.length;++h){var l=n[h];if(!a.has(l)){o=!1;break}var u=a.get(l).Value;s=s.replace(l,u.toString())}o&&this.OutName.set(r.Name,s)}}},this.GetDynamicOutName=function(t){return!this.OutName||this.OutName.size<=0?null:this.OutName.has(t)?this.OutName.get(t):null},this.IsClickTitle=function(t,e){return!!this.TitleRect&&(t>this.TitleRect.Left&&t<this.TitleRect.Left+this.TitleRect.Width&&e>this.TitleRect.Top&&e<this.TitleRect.Top+this.TitleRect.Height)},this.FormatValue=function(t,e){return e.StringFormat==qi.DEFAULT?Wt.FormatValueString(t,e.FloatPrecision,this.LanguageID):e.StringFormat==qi.THOUSANDS?Wt.FormatValueThousandsString(t,e.FloatPrecision):e.StringFormat==qi.ORIGINAL?t.toFixed(e.FloatPrecision).toString():e.StringFormat==qi.INTEGER?Wt.FromatIntegerString(t,e.FloatPrecision,this.LanguageID):void 0},this.FormatMultiReport=function(t,e){var a="";for(var i in t){var r=t[i],n=r.Quarter,s=r.Year,o=r.Value;switch(a.length>0&&(a+=","),a+=s.toString(),n){case 1:a+="一季报 ";break;case 2:a+="半年报 ";break;case 3:a+="三季报 ";break;case 4:a+="年报 "}a+=this.FormatValue(o,e)}return a},this.Draw=function(){if(this.IsKLineFrame="KLineFrame"==this.Frame.ClassName||"KLineHScreenFrame"==this.Frame.ClassName,this.IsDrawTitleBG=this.Frame.IsDrawTitleBG,this.IsShowUpDownArrow=this.Frame.IsShowTitleArraw,this.IsShowIndexName=this.Frame.IsShowIndexName,this.ParamSpace=this.Frame.IndexParamSpace,this.TitleRect=null,null!=this.CursorIndex&&this.Data&&!(this.Frame.ChartBorder.TitleHeight<5)){if(!0===this.Frame.IsHScreen)return this.Canvas.save(),this.HScreenDraw(),void this.Canvas.restore();var t=this.Frame.ChartBorder.GetLeft()+1,e=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,a=this.Frame.ChartBorder.GetRight();if(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font,this.Title&&this.IsShowIndexName){var i=this.Canvas.measureText(this.Title).width+2;if(this.IsDrawTitleBG){var r=2*u();this.Canvas.fillStyle=this.BGColor,this.TitleRect={Left:t,Top:this.Frame.ChartBorder.GetTop()+r,Width:i,Height:this.Frame.ChartBorder.TitleHeight-2*r},this.Canvas.fillRect(this.TitleRect.Left,this.TitleRect.Top,this.TitleRect.Width,this.TitleRect.Height)}this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,t,e,i),t+=i}var n=this.Frame.GetLockRect();if(n){var s=Math.abs(this.CursorIndex-.5);this.IsKLineFrame&&(s=this.CursorIndex);if(this.Frame.GetXFromIndex(s.toFixed(0))>=n.Left)return}for(var o in this.Data){var h=this.Data[o];if(h&&h.Data&&h.Data.Data&&!(h.Data.Data.length<=0)){var l=null,d=null;if("StraightLine"==h.DataType)l=h.Data.Data[0],d=this.FormatValue(l,h);else{var s=Math.abs(this.CursorIndex-.5);s=parseInt(s.toFixed(0)),this.IsKLineFrame&&(s=this.CursorIndex);var c=h.Data.DataOffset+s;if(c>=h.Data.Data.length&&(c=h.Data.Data.length-1),c<0)continue;if(null==(l=h.Data.Data[c]))continue;if("HistoryData-Vol"==h.DataType)l=l.Vol,d=this.FormatValue(l,h);else if("MultiReport"==h.DataType)d=this.FormatMultiReport(l,h);else{var D=null;if(this.IsShowUpDownArrow){var m=null;c-1>=0&&(m=h.Data.Data[c-1]),Wt.IsNumber(m)&&(D=m>l?"↓":m<l?"↑":"→")}d=this.FormatValue(l,h),D&&(d+=D)}}this.Canvas.fillStyle=h.Color;var C=d;if(h.Name){var f=this.GetDynamicOutName(h.Name);C=f?f+":"+d:h.Name+":"+d}var p=this.ParamSpace*u(),i=this.Canvas.measureText(C).width+p;this.Canvas.fillText(C,t,e,i),t+=i}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;var C="说明:"+this.Explain,i=this.Canvas.measureText(C).width+2;t+i<a&&(this.Canvas.fillText(C,t,e,i),t+=i)}if(this.ColorIndex&&this.IsShowColorIndexTitle){this.Canvas.fillStyle=Zi.Title.ColorIndexColor;var v=this.ColorIndex.Name+this.ColorIndex.Param,i=this.Canvas.measureText(v).width+2;this.Canvas.fillText(v,t,e,i),t+=i}if(this.TradeIndex&&this.IsShowTradeIndexTitle){this.Canvas.fillStyle=Zi.Title.TradeIndexColor;var v=this.TradeIndex.Name+this.TradeIndex.Param,i=this.Canvas.measureText(v).width+2;this.Canvas.fillText(v,t,e,i),t+=i}this.DrawOverlayIndex(t+10*u())}},this.DrawOverlayIndex=function(t){var e=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,a=this.Frame.ChartBorder.GetRight();if(!0===this.Frame.IsHScreen&&(e=-this.Frame.ChartBorder.TitleHeight/2,a=this.Frame.ChartBorder.GetHeight()),!(t>a)){var i=5*u(),r=t,n=!0,s=!1,o=void 0;try{for(var h,l=(0,Ii.default)(this.OverlayIndex);!(n=(h=l.next()).done);n=!0){m=h.value,t+=i;var d=m[1];if(d.Title){this.Canvas.fillStyle=this.TitleColor;var c=this.Canvas.measureText(d.Title).width+2;if(r=t,(t+=c)>a)break;this.Canvas.fillText(d.Title,r,e,c)}for(var D in d.Data){var m=d.Data[D];if(m&&m.Data&&m.Data.Data&&m.Name&&!(m.Data.Data.length<=0)){var C=null,f=null;if("StraightLine"==m.DataType)C=m.Data.Data[0],f=this.FormatValue(C,m);else{var p=Math.abs(this.CursorIndex-.5);p=parseInt(p.toFixed(0)),this.IsKLineFrame&&(p=this.CursorIndex);var v=m.Data.DataOffset+p;if(v>=m.Data.Data.length&&(v=m.Data.Data.length-1),v<0)continue;if(null==(C=m.Data.Data[v]))continue;"HistoryData-Vol"==m.DataType?(C=C.Vol,f=this.FormatValue(C,m)):f="MultiReport"==m.DataType?this.FormatMultiReport(C,m):this.FormatValue(C,m)}this.Canvas.fillStyle=m.Color;var S=m.Name+":"+f,c=this.Canvas.measureText(S).width+2;if(r=t,(t+=c)>a)break;this.Canvas.fillText(S,r,e,c)}}if(t>a)break}}catch(t){s=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw o}}}},this.HScreenDraw=function(){var t=this.Frame.ChartBorder.GetRightTitle(),e=this.Frame.ChartBorder.GetTop();this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180);var a=1,i=-this.Frame.ChartBorder.TitleHeight/2,r=this.Frame.ChartBorder.GetHeight();if(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font,this.Title&&this.IsShowIndexName){var n=this.Canvas.measureText(this.Title).width+2;if(this.IsDrawTitleBG){var s=2*u();this.Canvas.fillStyle=this.BGColor,this.TitleRect={Left:this.Frame.ChartBorder.GetRightTitle(),Top:this.Frame.ChartBorder.GetTop(),Width:this.Frame.ChartBorder.TitleHeight,Height:n};var o={Left:a,Top:-this.Frame.ChartBorder.TitleHeight+s,Width:n,Height:this.Frame.ChartBorder.TitleHeight-2*s};this.Canvas.fillRect(o.Left,o.Top,o.Width,o.Height)}this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,a,i,n),a+=n}var h=this.Frame.GetLockRect();if(h){var l=Math.abs(this.CursorIndex-.5);this.IsKLineFrame&&(l=this.CursorIndex);if(this.Frame.GetXFromIndex(l.toFixed(0))>=h.Top)return}for(var d in this.Data){var c=this.Data[d];if(c&&c.Data&&c.Data.Data&&c.Name&&!(c.Data.Data.length<=0)){var D=null,m=null;if("StraightLine"==c.DataType)D=c.Data.Data[0],m=this.FormatValue(D,c);else{var l=Math.abs(this.CursorIndex-.5);l=parseInt(l.toFixed(0)),this.IsKLineFrame&&(l=this.CursorIndex);var C=c.Data.DataOffset+l;if(C>=c.Data.Data.length&&(C=c.Data.Data.length-1),C<0)continue;if(null==(D=c.Data.Data[C]))continue;"HistoryData-Vol"==c.DataType?(D=D.Vol,m=this.FormatValue(D,c)):m="MultiReport"==c.DataType?this.FormatMultiReport(D,c):this.FormatValue(D,c)}this.Canvas.fillStyle=c.Color;var f=c.Name+":"+m,n=this.Canvas.measureText(f).width+2;this.Canvas.fillText(f,a,i,n),a+=n}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;var f="说明:"+this.Explain,n=this.Canvas.measureText(f).width+2;a+n<r&&(this.Canvas.fillText(f,a,i,n),a+=n)}this.DrawOverlayIndex(a+5*u())},this.OnDrawEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:"DynamicChartTitlePainting"};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}}}function ce(){this.Frame,this.Canvas,this.Point=new Array,this.Value=new Array,this.LinePoint=[],this.PointCount=2,this.Status=0,this.PointStatus=0,this.MovePointIndex=null,this.ClassName="IChartDrawPicture",this.FinishedCallback,this.Guid=D(),this.Symbol,this.Period,this.IsSelected=!1,this.Option,this.LineColor="#1e90ff",this.LineWidth=2,this.BackupLineWidth=null,this.AreaColor="rgba(25,25,25,0.4)",this.PointColor=Zi.DrawPicture.PointColor[0],this.SetLastPoint=null,this.Update=null,this.Draw=function(){},this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.LineWidth>0&&(this.LineWidth=t.LineWidth),t.AreaColor&&(this.AreaColor=t.AreaColor),t.PointColor&&(this.PointColor=t.PointColor))},this.SetLineWidth=function(){this.BackupLineWidth=null,this.LineWidth>0&&(this.BackupLineWidth=this.Canvas.lineWidth,this.Canvas.lineWidth=this.LineWidth*u())},this.RestoreLineWidth=function(){null!=this.BackupLineWidth&&(this.Canvas.lineWidth=this.BackupLineWidth)},this.PointToValue=function(){return!!this.Frame&&("MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class?this.PointToValue_Minute():this.PointToValue_KLine())},this.PointToValue_KLine=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e in this.Point){var a=this.Point[e],i=parseInt(this.Frame.GetXData(a.Y))+t.DataOffset,r=this.Frame.GetYData(a.X),n={XValue:i,YValue:r},s=t.Data[i];n.DateTime={Date:s.Date},Wt.IsNumber(s.Time)&&(n.DateTime.Time=s.Time),this.Value[e]=n}else for(var e in this.Point){var a=this.Point[e],i=parseInt(this.Frame.GetXData(a.X,!1))+t.DataOffset;i<0&&(i=0);var r=this.Frame.GetYData(a.Y,!1),n={XValue:i,YValue:r},s=t.Data[i];n.DateTime={Date:s.Date},Wt.IsNumber(s.Time)&&(n.DateTime.Time=s.Time),this.Value[e]=n}return!0},this.PointToValue_Minute=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e in this.Point){var a=this.Point[e],i=parseInt(this.Frame.GetXData(a.Y)),r=this.Frame.GetYData(a.X),n={XValue:i,YValue:r},s=t.Data[i];n.DateTime={Date:s.Date,Time:s.Time},this.Value[e]=n}else for(var e in this.Point){var a=this.Point[e],i=parseInt(this.Frame.GetXData(a.X)),r=this.Frame.GetYData(a.Y),n={XValue:i,YValue:r},s=t.Data[i];n.DateTime={Date:s.Date,Time:s.Time},this.Value[e]=n}return!0},this.IsPointIn=function(t,e){return!1},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;var e=this.Frame.IsHScreen;this.Point=[];for(var a in this.Value){var i=this.Value[a],r=new p;e?(r.Y=this.Frame.GetXFromIndex(i.XValue-t.DataOffset),r.X=this.Frame.GetYFromData(i.YValue)):(r.X=this.Frame.GetXFromIndex(i.XValue-t.DataOffset,!1),r.Y=this.Frame.GetYFromData(i.YValue,!1)),this.Point[a]=r}},this.UpdateXValue=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;var e=[];for(var a in this.Value){var i=this.Value[a],r={Date:i.DateTime.Date};Wt.IsNumber(i.DateTime.Time)&&(r.Time=i.DateTime.Time),e[a]=r}t.FindDataIndexByDateTime(e);for(var a in e){var n=e[a],s=this.Value[a];n.Index>=0&&(s.XValue=n.Index)}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;if(!this.Frame.Data)return!1;if(null==this.MovePointIndex)return!1;var a=parseInt(this.MovePointIndex);if(100===a)for(var i in this.Point)this.Point[i].X+=t,this.Point[i].Y+=e;else{if(0!==a&&1!==a&&2!==a&&3!==a&&4!==a&&5!==a)return!1;a<this.Point.length&&(this.Point[a].X+=t,this.Point[a].Y+=e)}},this.ClipFrame=function(){if(this.Frame.IsHScreen)var t=this.Frame.ChartBorder.GetLeftEx(),e=this.Frame.ChartBorder.GetTop(),a=this.Frame.ChartBorder.GetWidthEx(),i=this.Frame.ChartBorder.GetHeight();else var t=this.Frame.ChartBorder.GetLeft(),e=this.Frame.ChartBorder.GetTopEx(),a=this.Frame.ChartBorder.GetWidth(),i=this.Frame.ChartBorder.GetHeightEx();this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(t,e,a,i),this.Canvas.clip()},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=new Array;if(10==this.Status){var a=this.Frame.Data;if(!a)return null;var i=this.Frame.XPointCount,r=0,n=this.Frame.IsHScreen;for(var s in this.Value){var o=this.Value[s],h=o.XValue-a.DataOffset;(h<0||h>=i)&&++r;var l=new p;n?(l.Y=this.Frame.GetXFromIndex(o.XValue-a.DataOffset,!1),l.X=this.Frame.GetYFromData(o.YValue,!1)):(l.X=this.Frame.GetXFromIndex(o.XValue-a.DataOffset,!1),l.Y=this.Frame.GetYFromData(o.YValue,!1)),e.push(l)}if(t&&!0===t.IsCheckX&&r==this.Value.length)return null}else e=this.Point;return e},this.IsYValueInFrame=function(t){return!!this.Frame&&!(t>this.Frame.HorizontalMax||t<this.Frame.HorizontalMin)},this.DrawPoint=function(t){if(t&&!(t.length<=0)){this.ClipFrame();var e=u();for(var a in t){var i=t[a];this.Canvas.beginPath(),this.Canvas.arc(i.X,i.Y,5*e,0,360,!1),this.Canvas.fillStyle=this.PointColor,this.Canvas.fill(),this.Canvas.closePath()}this.Canvas.restore()}},this.CalculateExtendLinePoint=function(t,e){var a={},i=(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetTopEx()),r=this.Frame.ChartBorder.GetBottom(),n=e.X-t.X,s=e.Y-t.Y;if(n>0){var o=r-t.Y,h=n*o/s,l=new p;l.X=t.X+h,l.Y=r,a.End=l;var o=e.Y-i,h=n*o/s,u=new p;u.Y=i,u.X=e.X-h,a.Start=u}else{var o=r-t.Y,h=Math.abs(n)*o/s,l=new p;l.X=t.X-h,l.Y=r,a.End=l;var o=e.Y-i,h=Math.abs(n)*o/s,u=new p;u.Y=i,u.X=e.X+h,a.Start=u}return a},this.IsPointInXYValue=function(t,e){if(!this.Frame)return-1;var a=this.Frame.Data;if(!a)return-1;if(!this.Value)return-1;var i=5;this.Option&&(i+=this.Option.Zoom);var r=this.Frame.IsHScreen;i*=u();for(var n=0;n<this.Value.length;++n){var s=this.Value[n],o=new p;if(r?(o.Y=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),o.X=this.Frame.GetYFromData(s.YValue)):(o.X=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),o.Y=this.Frame.GetYFromData(s.YValue)),this.Canvas.beginPath(),this.Canvas.arc(o.X,o.Y,i,0,360),this.Canvas.isPointInPath(t,e))return n}return-1},this.IsPointInLine=function(t,e){if(!this.LinePoint)return-1;var a=5;this.Option&&(a+=this.Option.Zoom),a*=u();for(var i in this.LinePoint){var r=this.LinePoint[i],n=r.Start,s=r.End;if(this.Canvas.beginPath(),n.X==s.X?(this.Canvas.moveTo(n.X-a,n.Y),this.Canvas.lineTo(n.X+a,n.Y),this.Canvas.lineTo(s.X+a,s.Y),this.Canvas.lineTo(s.X-a,s.Y)):(this.Canvas.moveTo(n.X,n.Y+a),this.Canvas.lineTo(n.X,n.Y-a),this.Canvas.lineTo(s.X,s.Y-a),this.Canvas.lineTo(s.X,s.Y+a)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return i}return-1},this.IsPointIn_XYValue_Line=function(t,e){if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e);return a>=0?a:(a=this.IsPointInLine(t,e),a>=0?100:-1)},this.DrawLine=function(t,e,a){a&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),a&&this.Canvas.setLineDash([])},this.CreateLineData=function(t,e){var a={Start:new p,End:new p};return a.Start.Y=t.Y,a.Start.X=t.X,a.End.Y=e.Y,a.End.X=e.X,a},this.ExportStorageData=function(){var t={ClassName:this.ClassName,Symbol:this.Symbol,Guid:this.Guid,Period:this.Period,Value:[],FrameID:this.Frame.Identify,LineColor:this.LineColor,AreaColor:this.AreaColor,LineWidth:this.LineWidth};for(var e in this.Value){var a=this.Value[e];t.Value.push({XValue:a.XValue,YValue:a.YValue,DateTime:a.DateTime})}return this.Text&&(t.Text=this.Text),this.FontOption&&(t.FontOption=this.FontOption),t}}function De(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],a=t[1];this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(a.X,a.Y),this.Canvas.stroke(),this.RestoreLineWidth();var i={Start:e,End:a};this.LinePoint.push(i),this.DrawPoint(t),this.Canvas.restore()}}}function me(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureHaflLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){var e=t[0],a=t[1];this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y);var i=this.CalculateEndPoint(t);this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:e,End:a};this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.restore()}},this.CalculateEndPoint=function(t){var e=this.Frame.ChartBorder.GetLeft(),a=this.Frame.ChartBorder.GetRight(),i=t[1].X-t[0].X,r=t[1].Y-t[0].Y;if(i>0){var n=a-t[0].X,s=n*r/i,o=s+t[0].Y,h=new p;return h.X=a,h.Y=o,h}var n=t[0].X-e,s=n*r/Math.abs(i),o=s+t[0].Y,h=new p;return h.X=e,h.Y=o,h}}function Ce(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.Super_SetOption=this.SetOption,this.Super_ExportStorageData=this.ExportStorageData,this.Label,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&t.Label&&(this.Label=t.Label)},this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),this.Label&&(t.Label=this.Label)),t},this.PointCount=1,this.ClassName="ChartDrawPictureHorizontalLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=16*u()+"px 微软雅黑",this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint();if(t&&1==t.length&&this.Frame&&1==this.Value.length){if(!this.IsYValueInFrame(this.Value[0].YValue))return null;var e=this.Frame.IsHScreen,a=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetRight();e&&(a=this.Frame.ChartBorder.GetTop(),i=this.Frame.ChartBorder.GetBottom()),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(t[0].X,a),this.Canvas.lineTo(t[0].X,i)):(this.Canvas.moveTo(a,t[0].Y),this.Canvas.lineTo(i,t[0].Y)),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:new p,End:new p};if(e?(r.Start.X=t[0].X,r.Start.Y=a,r.End.X=t[0].X,r.End.Y=i):(r.Start.X=a,r.Start.Y=t[0].Y,r.End.X=i,r.End.Y=t[0].Y),this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var n=t[0].X,s=a;this.Canvas.translate(n,s),this.Canvas.rotate(90*Math.PI/180);var o=this.Frame.GetYData(t[0].X),h=o.toFixed(2);this.Label&&(0==this.Label.Position?h=this.Label.Text+o.toFixed(2):1==this.Label.Position&&(h=o.toFixed(2)+this.Label.Text)),this.Canvas.fillText(h,0,0)}else{this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var o=this.Frame.GetYData(t[0].Y),h=o.toFixed(2);this.Label&&(0==this.Label.Position?h=this.Label.Text+o.toFixed(2):1==this.Label.Position&&(h=o.toFixed(2)+this.Label.Text)),this.Canvas.fillText(h,a,t[0].Y)}this.Canvas.restore()}}}function fe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTrendLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){var e=t[0],a=t[1],i=this.CalculateExtendLinePoint(e,a);this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(i.Start.X,i.Start.Y),this.Canvas.lineTo(i.End.X,i.End.Y),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:e,End:a};this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.restore()}}}function pe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureRect",this.Draw=function(){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});t&&2==t.length&&(this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.rect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.fillRect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.restore(),this.DrawPoint(t))},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;var a=this.IsPointInXYValue(t,e);if(a>=0)return a;var i=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!i||2!=i.length)return-1;var r=[{X:i[0].X,Y:i[0].Y},{X:i[1].X,Y:i[0].Y}];return this.IsPointInLine(r,t,e)?100:(r=[{X:i[1].X,Y:i[0].Y},{X:i[1].X,Y:i[1].Y}],this.IsPointInLine2(r,t,e)?100:(r=[{X:i[1].X,Y:i[1].Y},{X:i[0].X,Y:i[1].Y}],this.IsPointInLine(r,t,e)?100:(r=[{X:i[0].X,Y:i[1].Y},{X:i[0].X,Y:i[0].Y}],this.IsPointInLine2(r,t,e)?100:-1)))},this.IsPointInLine=function(t,e,a){var i=5;if(this.Option&&(i+=this.Option.Zoom),i*=u(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y+i),this.Canvas.lineTo(t[0].X,t[0].Y-i),this.Canvas.lineTo(t[1].X,t[1].Y-i),this.Canvas.lineTo(t[1].X,t[1].Y+i),this.Canvas.closePath(),this.Canvas.isPointInPath(e,a))return!0},this.IsPointInLine2=function(t,e,a){var i=5;if(this.Option&&(i+=this.Option.Zoom),i*=u(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X-i,t[0].Y),this.Canvas.lineTo(t[0].X+i,t[0].Y),this.Canvas.lineTo(t[1].X+i,t[1].Y),this.Canvas.lineTo(t[1].X-i,t[1].Y),this.Canvas.closePath(),this.Canvas.isPointInPath(e,a))return!0}}function ve(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureArc",this.Draw=function(){var t=this.CalculateDrawPoint();if(t&&2==t.length){if(this.ClipFrame(),this.SetLineWidth(),t[0].X<t[1].X&&t[0].Y>t[1].Y){var e=t[1].X-t[0].X,a=t[0].Y-t[1].Y,i=e>a?1/e:1/a,r=t[0].X,n=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var s=1.5*Math.PI;s<2*Math.PI;s+=i)this.Canvas.lineTo(r+e*Math.cos(s),n+a*Math.sin(s)*-1);for(var o=0;o<=.5*Math.PI;o+=i)this.Canvas.lineTo(r+e*Math.cos(o),n+a*Math.sin(o)*-1)}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var e=t[0].X-t[1].X,a=t[0].Y-t[1].Y,i=e>a?1/e:1/a,r=t[1].X,n=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var s=0;s<=Math.PI;s+=i)this.Canvas.lineTo(r+e*Math.cos(s),n+a*Math.sin(s)*-1)}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var e=t[0].X-t[1].X,a=t[1].Y-t[0].Y,i=e>a?1/e:1/a,r=t[0].X,n=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var s=.5*Math.PI;s<=1.5*Math.PI;s+=i)this.Canvas.lineTo(r+e*Math.cos(s),n+a*Math.sin(s)*-1)}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var e=t[1].X-t[0].X,a=t[1].Y-t[0].Y,i=e>a?1/e:1/a,r=t[1].X,n=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var s=Math.PI;s<=2*Math.PI;s+=i)this.Canvas.lineTo(r+e*Math.cos(s),n+a*Math.sin(s)*-1)}this.Canvas.strokeStyle=this.LineColor,this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;var a=this.IsPointInXYValue(t,e);if(a>=0)return a;var i=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!i||2!=i.length)return-1;var r=[{X:i[0].X,Y:i[0].Y},{X:i[1].X,Y:i[1].Y}];return this.IsPointInArc(r,t,e)?100:-1},this.IsPointInArc=function(t,e,a){if(2!=t.length)return!1;if(t[0].X<t[1].X&&t[0].Y>t[1].Y){var i=t[1].X-t[0].X,r=t[0].Y-t[1].Y,n=i>r?1/i:1/r,s=.8*i,o=.8*r,h=s>o?1/s:1/o,l=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var d=1.5*Math.PI;d<2*Math.PI;d+=n)this.Canvas.lineTo(l+i*Math.cos(d),u+r*Math.sin(d)*-1);for(var c=0;c<=.5*Math.PI;c+=n)this.Canvas.lineTo(l+i*Math.cos(c),u+r*Math.sin(c)*-1);for(var D=.5*Math.PI;D>=0;D-=h)this.Canvas.lineTo(l+s*Math.cos(D),u+o*Math.sin(c)*-1);for(var m=2*Math.PI;m>=1.5*Math.PI;m-=h)this.Canvas.lineTo(l+s*Math.cos(m),u+o*Math.sin(m)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var i=t[0].X-t[1].X,r=t[0].Y-t[1].Y,n=i>r?1/i:1/r,s=.8*i,o=.8*r,h=s>o?1/s:1/o,l=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var d=0;d<=Math.PI;d+=n)this.Canvas.lineTo(l+i*Math.cos(d),u+r*Math.sin(d)*-1);for(var c=Math.PI;c>=0;c-=h)this.Canvas.lineTo(l+s*Math.cos(c),u+o*Math.sin(c)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var i=t[0].X-t[1].X,r=t[1].Y-t[0].Y,n=i>r?1/i:1/r,s=.8*i,o=.8*r,h=s>o?1/s:1/o,l=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var d=.5*Math.PI;d<=1.5*Math.PI;d+=n)this.Canvas.lineTo(l+i*Math.cos(d),u+r*Math.sin(d)*-1);for(var c=1.5*Math.PI;c>=.5*Math.PI;c-=h)this.Canvas.lineTo(l+s*Math.cos(c),u+o*Math.sin(c)*-1);this.Canvas.closePath()}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var i=t[1].X-t[0].X,r=t[1].Y-t[0].Y,n=i>r?1/i:1/r,s=.8*i,o=.8*r,h=s>o?1/s:1/o,l=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var d=Math.PI;d<=2*Math.PI;d+=n)this.Canvas.lineTo(l+i*Math.cos(d),u+r*Math.sin(d)*-1);for(var c=2*Math.PI;c>=Math.PI;c-=h)this.Canvas.lineTo(l+s*Math.cos(c),u+o*Math.sin(c)*-1);this.Canvas.closePath()}return!!this.Canvas.isPointInPath(e,a)}}function Se(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveMW",this.PointCount=5,this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t),this.SetLineWidth();for(var e in this.LinePoint){var a=this.LinePoint[e];this.DrawLine(a.Start,a.End)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}},this.CalculateLines=function(t){if(this.Frame&&!(t.length<2))if(2==this.Status){var e={Start:new p,End:new p};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var a=t[1].X-t[0].X;e={Start:new p,End:new p},e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[0].Y,e.End.X=t[1].X+a,this.LinePoint.push(e);var i=e.End,r=new p;r.X=i.X,r.Y=i.Y,this.Point[2]=r,e={Start:new p,End:new p},e.Start.Y=i.Y,e.Start.X=i.X,e.End.Y=t[1].Y,e.End.X=i.X+a,this.LinePoint.push(e);var i=e.End,r=new p;r.X=i.X,r.Y=i.Y,this.Point[3]=r,e={Start:new p,End:new p},e.Start.Y=i.Y,e.Start.X=i.X,e.End.Y=t[0].Y,e.End.X=i.X+a,this.LinePoint.push(e);var i=e.End,r=new p;r.X=i.X,r.Y=i.Y,this.Point[4]=r,this.PointCount=this.Point.length}else if(5==t.length){var e={Start:new p,End:new p};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var e={Start:new p,End:new p};e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[2].Y,e.End.X=t[2].X,this.LinePoint.push(e);var e={Start:new p,End:new p};e.Start.Y=t[2].Y,e.Start.X=t[2].X,e.End.Y=t[3].Y,e.End.X=t[3].X,this.LinePoint.push(e);var e={Start:new p,End:new p};e.Start.Y=t[3].Y,e.Start.X=t[3].X,e.End.Y=t[4].Y,e.End.X=t[4].X,this.LinePoint.push(e)}}}function Te(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelLines",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame();for(var a in this.LinePoint){var i=this.LinePoint[a];this.DrawLine(i.Start,i.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){2==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new p;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var a=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(a)}else if(3==t.length){var a=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(a);var i=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new p,s=new p;n.X=t[0].X+i,n.Y=t[0].Y+r,s.X=t[1].X+i,s.Y=t[1].Y+r,a=this.CalculateExtendLinePoint(n,s),this.LinePoint.push(a)}}}function Me(){this.newMethod=Te,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePriceChannel",this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new p;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var a=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(a)}else if(3==t.length){var a=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(a);var i=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new p,s=new p;n.X=t[0].X+i,n.Y=t[0].Y+r,s.X=t[1].X+i,s.Y=t[1].Y+r,a=this.CalculateExtendLinePoint(n,s),this.LinePoint.push(a);var n=new p,s=new p;n.X=t[0].X-i,n.Y=t[0].Y-r,s.X=t[1].X-i,s.Y=t[1].Y-r,a=this.CalculateExtendLinePoint(n,s),this.LinePoint.push(a)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.lineTo(this.LinePoint[2].Start.X,this.LinePoint[2].Start.Y),this.Canvas.closePath(),this.Canvas.fill())}}function _e(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelChannel",this.ChannelWidth=50,this.AreaColor="rgba(25,25,25,0.4)",this.LinePoint=[],this.CalculateDrawPoint=function(){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var t=this.Frame.Data;if(!t)return null;var e=[];if(10==this.Status)for(var a=0;a<2;++a){var i=this.Value[a],r=new p;r.X=this.Frame.GetXFromIndex(i.XValue-t.DataOffset),r.Y=this.Frame.GetYFromData(i.YValue),e.push(r)}else for(var a=0;a<this.Point.length;++a){var i=this.Point[a],r=new p;r.X=i.X,r.Y=i.Y,e.push(r)}if(e.length>=2){var n={Start:new p,End:new p};if(n.Start.X=e[0].X,n.Start.Y=e[0].Y,n.End.X=e[1].X,n.End.Y=e[1].Y,this.LinePoint.push(n),3==e.length||10==this.Status){var s=n.End.X-n.Start.X,o=n.End.Y-n.Start.Y,h=Math.atan(Math.abs(s/o)),l=this.ChannelWidth/Math.sin(h);n={Start:new p,End:new p},n.Start.X=e[0].X,n.Start.Y=e[0].Y-l,n.End.X=e[1].X,n.End.Y=e[1].Y-l,this.LinePoint.push(n);var u=new p;u.X=n.Start.X+(n.End.X-n.Start.X)/2,u.Y=n.Start.Y+(n.End.Y-n.Start.Y)/2,e[3]=u,this.Point[2]=u;var d=parseInt(this.Frame.GetXData(u.X))+t.DataOffset,c=this.Frame.GetYData(u.Y);this.Value[2]={XValue:d,YValue:c},this.PointCount=this.Point.length}}return e},this.DrawLine=function(t,e){this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke()},this.DrawArea=function(t,e,a,i){this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.lineTo(a.X,a.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.closePath(),this.Canvas.fill()},this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint();if(t){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame();for(var e in this.LinePoint){var a=this.LinePoint[e];this.DrawLine(a.Start,a.End)}2==this.LinePoint.length&&this.DrawArea(this.LinePoint[0].Start,this.LinePoint[0].End,this.LinePoint[1].End,this.LinePoint[1].Start),this.Canvas.restore(),this.DrawPoint(t)}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;if(!this.Frame.Data)return!1;if(100==this.MovePointIndex)for(var a in this.Point)this.Point[a].X+=t,this.Point[a].Y+=e;else if(0==this.MovePointIndex||1==this.MovePointIndex)this.MovePointIndex<this.Point.length&&(this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e);else if(2==this.MovePointIndex){this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e;var i=this.Point[1].X-this.Point[0].X,r=this.Point[1].Y-this.Point[0].Y,n=Math.atan(Math.abs(i/r)),s=this.ChannelWidth/Math.sin(n)-e;this.ChannelWidth=Math.sin(n)*s}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;var a=this.Frame.Data;if(!a)return-1;for(var i=0;i<this.Value.length;++i){var r=this.Value[i],n=new p;if(i<2)n.X=this.Frame.GetXFromIndex(r.XValue-a.DataOffset),n.Y=this.Frame.GetYFromData(r.YValue);else{if(i>=this.Point.length)continue;n.X=this.Point[i].X,n.Y=this.Point[i].Y}if(this.Canvas.beginPath(),this.Canvas.arc(n.X,n.Y,5,0,360),this.Canvas.isPointInPath(t,e))return i}for(var i in this.LinePoint){var r=this.LinePoint[i],s=r.Start,o=r.End;if(this.Canvas.beginPath(),this.Canvas.moveTo(s.X,s.Y+5),this.Canvas.lineTo(s.X,s.Y-5),this.Canvas.lineTo(o.X,o.Y-5),this.Canvas.lineTo(o.X,o.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return 100}return-1}}function Ie(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureText",this.Text="文本",this.PointCount=1,this.FontOption={Family:"微软雅黑",Size:20,Weight:null,Style:null},this.TextRect=null,this.IsInitialized=!1,this.SettingMenu,this.HQChart,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.Text&&(this.Text=t.Text),t.FontOption&&(this.FontOption=t.FontOption))},this.Draw=function(t){this.TextRect=null;var e=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(e&&1==e.length){this.ClipFrame(),this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.font=this.GetTextFont(),this.Canvas.fillText(this.Text,e[0].X,e[0].Y);var a=this.Canvas.measureText(this.Text).width,i=this.FontOption.Size*u();this.TextRect={},this.TextRect.Left=e[0].X-a/2,this.TextRect.Top=e[0].Y-i,this.TextRect.Width=a,this.TextRect.Height=i,this.Canvas.restore(),!1===this.IsInitialized&&(this.SetTextOption(),this.IsInitialized=!0)}},this.GetTextFont=function(){var t=16*u()+"px 微软雅黑";if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return t;var e="";return this.FontOption.Color&&(e+=this.FontOption.Color+" "),this.FontOption.Style&&(e+=this.FontOption.Style+" "),this.FontOption.Weight&&(e+=this.FontOption.Weight+" "),this.FontOption.Size>=0&&(e+=this.FontOption.Size*u()+"px "),e+=this.FontOption.Family},this.SetTextOption=function(){xi.Chart.Log("[ChartDrawPictureText::SetTextOption]"),this.SettingMenu||(this.SettingMenu=new Pa(this.Frame.ChartBorder.UIElement.parentNode)),this.SettingMenu.ChartPicture=this,this.SettingMenu.HQChart=this.HQChart,this.SettingMenu.Position={Left:this.TextRect.Left+this.TextRect.Width,Top:this.TextRect.Top},this.SettingMenu.DoModal()},this.IsPointIn=function(t,e){return this.Frame&&10==this.Status&&this.Frame.Data&&this.TextRect?(this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left,this.TextRect.Top,this.TextRect.Width,this.TextRect.Height),this.Canvas.isPointInPath(t,e)?100:-1):-1}}function Le(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureIconFont",this.PointCount=1,this.Text="",this.FontOption={Family:"iconfont",Size:24},this.TextRect=null,this.SettingMenu,this.Angle=0,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.FontOption.Size>0&&(this.FontOption.Size=t.FontOption.Size),Wt.IsNumber(t.Angle)&&(this.Angle=t.Angle))},this.Draw=function(){this.TextRect=null;var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&1==t.length){var e=this.GetTextFont();if(e){this.ClipFrame();var a=this.Frame.IsHScreen,i=u();this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.font=e,a?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Text,0,0)):0!=this.Angle?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(this.Angle*(Math.PI/180)),this.Canvas.fillText(this.Text,0,0)):this.Canvas.fillText(this.Text,t[0].X,t[0].Y);var r=this.Canvas.measureText(this.Text).width;this.TextRect={},this.TextRect.Left=t[0].X-r/2,this.TextRect.Top=t[0].Y-this.FontOption.Size*i,this.TextRect.Width=r,this.TextRect.Height=this.FontOption.Size*i,this.Canvas.restore()}}},this.GetTextFont=function(){if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return null;var t="";return this.FontOption.Size>=0&&(t+=this.FontOption.Size*u()+"px "),t+=this.FontOption.Family},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;if(!this.TextRect)return-1;var a=0;return this.Option&&this.Option.Zoom>=1&&(a=this.Option.Zoom*u()),this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left-a,this.TextRect.Top-a,this.TextRect.Width+2*a,this.TextRect.Height+2*a),this.Canvas.isPointInPath(t,e)?100:-1}}function ge(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGannFan",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LinePoint=[],this.Font=16*u()+"px 微软雅黑",this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=this.GetQuadrant(t[0],t[1]);if(this.SetLineWidth(),1===e||4===e){this.CalculateLines(t[0],t[1],e),this.DrawArea();for(var a in this.LinePoint){var i=this.LinePoint[a];this.DrawLine(i.Start,i.End,i.IsDottedLine)}for(var a in this.LinePoint){var i=this.LinePoint[a];i.Text&&i.PtEnd&&this.DrawTitle(i.PtEnd,i.Text)}}else this.DrawLine(t[0],t[1],!1);this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}},this.GetQuadrant=function(t,e){return t.X<e.X&&t.Y>e.Y?1:t.X<e.X&&t.Y>e.Y?2:t.X<e.X&&t.Y<e.Y?4:3},this.DrawLine=function(t,e,a){a&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),a&&this.Canvas.setLineDash([])},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Canvas.fillText(e,t.X,t.Y)},this.DrawArea=function(){var t=null,e=null;for(var a in this.LinePoint){var i=this.LinePoint[a];"1:8"==i.Text?t=this.LinePoint[a]:"8:1"==i.Text&&(e=this.LinePoint[a])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t,e,a){if(!this.Frame)return!1;var i=(this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom(),[.5,1/3,.25,.125,2/3]),r=["1:2","1:3","1:4","1:8","2:3"],n=["2:1","3:1","4:1","8:1","3:2"],s=new p,o=new p;s.X=t.X,s.Y=t.Y,o.X=e.X,o.Y=e.Y;var h=Math.abs(t.X-e.X),l=Math.abs(t.Y-e.Y);if(1===a){var u=this.CalculateExtendLinePoint(t,e),d={Start:s,End:u.Start,IsDottedLine:!1,PtEnd:o,Text:"1:1"};this.LinePoint.push(d);for(var c in i){if(h>5){d={Start:s,End:null,IsDottedLine:!1,PtEnd:new p,Text:r[c]},d.PtEnd.Y=e.Y,d.PtEnd.X=t.X+h*i[c];var u=this.CalculateExtendLinePoint(d.Start,d.PtEnd);d.End=u.Start,this.LinePoint.push(d)}if(l>5){d={Start:s,End:null,IsDottedLine:!1,PtEnd:new p,Text:n[c]},d.PtEnd.Y=t.Y-l*i[c],d.PtEnd.X=e.X;var u=this.CalculateExtendLinePoint(d.Start,d.PtEnd);d.End=u.Start,this.LinePoint.push(d)}}}else{if(4!=a)return!1;var u=this.CalculateExtendLinePoint(t,e),d={Start:s,End:u.End,IsDottedLine:!1,PtEnd:o,Text:"1:1"};this.LinePoint.push(d);for(var c in i){if(h>5){d={Start:s,End:null,IsDottedLine:!1,PtEnd:new p,Text:r[c]},d.PtEnd.Y=e.Y,d.PtEnd.X=t.X+h*i[c];var u=this.CalculateExtendLinePoint(d.Start,d.PtEnd);d.End=u.End,this.LinePoint.push(d)}if(l>5){d={Start:s,End:null,IsDottedLine:!1,PtEnd:new p,Text:n[c]},d.PtEnd.Y=t.Y+l*i[c],d.PtEnd.X=e.X;var u=this.CalculateExtendLinePoint(d.Start,d.PtEnd);d.End=u.End,this.LinePoint.push(d)}}}return!0}}function ye(){this.newMethod=ge,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureResistanceLine",this.CalculateLines=function(t,e,a){if(!this.Frame)return!1;var i=(this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom(),[1/3,2/3]),r=["3:1","3:2"],n=new p,s=new p;n.X=t.X,n.Y=t.Y,s.X=e.X,s.Y=e.Y;var o=(Math.abs(t.X-e.X),Math.abs(t.Y-e.Y));if(1===a){var h=this.CalculateExtendLinePoint(t,e),l={Start:n,End:h.Start,IsDottedLine:!1,PtEnd:s,Text:"1:1"};this.LinePoint.push(l);for(var u in i)if(o>5){l={Start:n,End:null,IsDottedLine:!1,PtEnd:new p,Text:r[u]},l.PtEnd.Y=t.Y-o*i[u],l.PtEnd.X=e.X;var h=this.CalculateExtendLinePoint(l.Start,l.PtEnd);l.End=h.Start,this.LinePoint.push(l)}}else{if(4!=a)return!1;var h=this.CalculateExtendLinePoint(t,e),l={Start:n,End:h.End,IsDottedLine:!1,PtEnd:s,Text:"1:1"};this.LinePoint.push(l);for(var u in i)if(o>5){l={Start:n,End:null,IsDottedLine:!1,PtEnd:new p,Text:r[u]},l.PtEnd.Y=t.Y+o*i[u],l.PtEnd.X=e.X;var h=this.CalculateExtendLinePoint(l.Start,l.PtEnd);l.End=h.End,this.LinePoint.push(l)}}return!0},this.DrawArea=function(){var t=null,e=null;for(var a in this.LinePoint){var i=this.LinePoint[a];"1:1"==i.Text?t=this.LinePoint[a]:"3:1"==i.Text&&(e=this.LinePoint[a])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())}}function Ae(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGoldenSectionLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=14*u()+"px 微软雅黑",this.GetSectionData=function(){return[0,.236,.382,.5,.618,.8,1,1.236,1.382,1.5,1.618,1.8,2]},this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint();if(t&&2==t.length){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.CalculateLines(t[0],t[1]),this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var a=this.LinePoint[e];this.DrawLine(a.Start,a.End,a.IsDottedLine)}this.RestoreLineWidth();for(var e in this.LinePoint){var a=this.LinePoint[e];a.Text&&this.DrawTitle(a.Start,a.Text)}this.DrawPoint(t),this.Canvas.restore()}},this.CalculateHSCreenLines=function(t,e){for(var a=this.GetSectionData(),i=this.Frame.ChartBorder.GetTop(),r=this.Frame.ChartBorder.GetBottom(),n=t.X-e.X,s=0;s<a.length;++s){var o=n*a[s],h={Start:new p,End:new p};h.Start.X=t.X-o,h.Start.Y=i,h.End.X=t.X-o,h.End.Y=r;var l="";l=0==s?"Base ":(100*a[s]).toFixed(2)+"% ";l+=this.Frame.GetYData(h.Start.Y).toFixed(2),h.Text=l,this.LinePoint.push(h)}},this.CalculateLines=function(t,e){if(this.Frame.IsHScreen)return void this.CalculateHSCreenLines(t,e);for(var a=this.GetSectionData(),i=this.Frame.ChartBorder.GetLeft(),r=this.Frame.ChartBorder.GetRight(),n=t.Y-e.Y,s=0;s<a.length;++s){var o=n*a[s],h={Start:new p,End:new p};h.Start.Y=t.Y-o,h.Start.X=i,h.End.Y=t.Y-o,h.End.X=r;var l="";l=0==s?"Base ":(100*a[s]).toFixed(2)+"% ";l+=this.Frame.GetYData(h.Start.Y).toFixed(2),h.Text=l,this.LinePoint.push(h)}},this.DrawLine=function(t,e){this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke()},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,0,0),this.Canvas.restore()):this.Canvas.fillText(e,t.X,t.Y)}}function Fe(){this.newMethod=Ae,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePercentage",this.GetSectionData=function(){return[0,.25,.333,.5,1]}}function Ee(){this.newMethod=Ae,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveBand",this.GetSectionData=function(){return[0,.125,.25,.375,.5,.625,.75,.875,1]}}function xe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTriangle",this.PointCount=3,this.Font=16*u()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LastPoint,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){var e=t.slice(0);this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(e);for(var a in this.LinePoint){var i=this.LinePoint[a];this.DrawLine(i.Start,i.End)}this.DrawArea(e),this.DrawPoint(e),this.DrawTitle(e),this.Canvas.restore()}},this.DrawArea=function(t){3==t.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y),this.Canvas.lineTo(t[2].X,t[2].Y),this.Canvas.lineTo(t[0].X,t[0].Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new p;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2===t.length){var a={Start:new p,End:new p};a.Start.Y=t[0].Y,a.Start.X=t[0].X,a.End.Y=t[1].Y,a.End.X=t[1].X,this.LinePoint.push(a)}else if(3===t.length){var a={Start:new p,End:new p};a.Start.Y=t[0].Y,a.Start.X=t[0].X,a.End.Y=t[1].Y,a.End.X=t[1].X,this.LinePoint.push(a),a={Start:new p,End:new p},a.Start.Y=t[1].Y,a.Start.X=t[1].X,a.End.Y=t[2].Y,a.End.X=t[2].X,this.LinePoint.push(a),a={Start:new p,End:new p},a.Start.Y=t[2].Y,a.Start.X=t[2].X,a.End.Y=t[0].Y,a.End.X=t[0].X,this.LinePoint.push(a)}}}function Ne(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureSymmetryAngle",this.PointCount=2,this.Font=16*u()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t);for(var e in this.LinePoint){var a=this.LinePoint[e];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(t),this.DrawTitle(t),this.Canvas.restore()}},this.CalculateLines=function(t){if(2==t.length&&this.Frame){var e={Start:new p,End:new p};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e),e={Start:new p,End:new p},e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X,this.LinePoint.push(e);var a=t[0].X-t[1].X;e={Start:new p,End:new p},e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X+a,this.LinePoint.push(e)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status}}function we(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureCircle",this.PointCount=2,this.CircleData,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=t[0].X-t[1].X,a=t[0].Y-t[1].Y,i=Math.sqrt(e*e+a*a);this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.LineColor,this.DrawLine(t[0],t[1]),this.Canvas.beginPath(),this.Canvas.arc(t[0].X,t[0].Y,i,0,2*Math.PI),this.Canvas.stroke(),this.Canvas.fill(),this.CircleData={X:t[0].X,Y:t[0].Y,R:i},this.DrawPoint(t),this.Canvas.restore()}},this.IsPointIn=function(t,e){if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e);if(a>=0)return a;if(this.CircleData&&this.CircleData.R>8){var i=this.CircleData.X-t,r=this.CircleData.Y-e,n=Math.sqrt(i*i+r*r);if(n<this.CircleData.R&&n>this.CircleData.R-8)return 100}return-1}}function Oe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureQuadrangle",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ce.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame();for(var a in this.LinePoint){var i=this.LinePoint[a];this.DrawLine(i.Start,i.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){4==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new p;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var a=this.CreateLineData(t[0],t[1]);this.LinePoint.push(a)}else if(3==t.length){var a=this.CreateLineData(t[0],t[1]);this.LinePoint.push(a);var a=this.CreateLineData(t[1],t[2]);this.LinePoint.push(a);var i=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new p;n.X=t[0].X+i,n.Y=t[0].Y+r;var a=this.CreateLineData(t[2],n);this.LinePoint.push(a);var a=this.CreateLineData(n,t[0]);this.LinePoint.push(a)}}}function Pe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureFibonacci",this.PointCount=1,this.Font=14*u()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint();if(t&&(this.CalculateLines(),!(this.LinePoint.length<=0))){this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var a=this.LinePoint[e];this.DrawLine(a.Start,a.End),this.DrawTitle(a.Start,a.Title)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,2,10),this.Canvas.restore()):this.Canvas.fillText(e,t.X+2,t.Y+10)},this.CalculateHSCreenLines=function(){var t=this.Frame.Data;if(t){var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].Y))+t.DataOffset}for(var a=this.Frame.ChartBorder.GetRightEx(),i=this.Frame.ChartBorder.GetLeftEx(),r=this.Frame.XPointCount,n=[1,2,3,5,8,13,21,34,55,89,144,233],s=0;s<n.length;++s){var o=e+n[s],h=o-t.DataOffset;if(!(h<0||h>=r)){var l=this.Frame.GetXFromIndex(o-t.DataOffset,!1),u={Start:new p,End:new p,Title:n[s]};u.Start.X=a,u.Start.Y=l,u.End.X=i,u.End.Y=l,this.LinePoint.push(u)}}}},this.CalculateLines=function(){if(!(this.Status<2)&&this.Frame){var t=this.Frame.Data;if(t){if(this.Frame.IsHScreen)return void this.CalculateHSCreenLines();var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].X))+t.DataOffset}for(var a=this.Frame.ChartBorder.GetTopEx(),i=this.Frame.ChartBorder.GetBottom(),r=this.Frame.XPointCount,n=[1,2,3,5,8,13,21,34,55,89,144,233],s=0;s<n.length;++s){var o=e+n[s],h=o-t.DataOffset;if(!(h<0||h>=r)){var l=this.Frame.GetXFromIndex(o-t.DataOffset,!1),u={Start:new p,End:new p,Title:n[s]};u.Start.Y=a,u.Start.X=l,u.End.Y=i,u.End.X=l,this.LinePoint.push(u)}}}}}}function Re(){this.DrawData=new Ai.default,this.StorageKey,this.Load=function(t){if(t){this.StorageKey=t;var e=localStorage[this.StorageKey];if(xi.Chart.Log("[ChartDrawStorage::Save] Load to localStorage, key="+this.StorageKey+", cache="+e),e&&"string"==typeof e){var a=JSON.parse(e);for(var i in a){var r=a[i],n=new Ai.default;for(var s in r.Value){var o=r.Value[s];n.set(o.Key,o.Value)}this.DrawData.set(r.Key,n)}}}},this.Save=function(){if(this.StorageKey){var t=[],e=!0,a=!1,i=void 0;try{for(var r,n=(0,Ii.default)(this.DrawData);!(e=(r=n.next()).done);e=!0){var s=r.value,o=s[0],h=s[1],l={Key:o,Value:[]},u=!0,d=!1,c=void 0;try{for(var D,m=(0,Ii.default)(h);!(u=(D=m.next()).done);u=!0){var C=D.value;l.Value.push({Key:C[0],Value:C[1]})}}catch(t){d=!0,c=t}finally{try{!u&&m.return&&m.return()}finally{if(d)throw c}}t.push(l)}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}xi.Chart.Log("[ChartDrawStorage::Save] save to localStorage, key="+this.StorageKey);var f=(0,gi.default)(t);localStorage[this.StorageKey]=f}},this.SaveDrawData=function(t){var e=t.Symbol+"-"+t.Period,a=t.ExportStorageData();if(a){if(this.DrawData.has(e))xi.Chart.Log("[ChartDrawStorage::SaveDrawData] Upate: key, drawPicture, data",e,t,a),this.DrawData.get(e).set(a.Guid,a);else{xi.Chart.Log("[ChartDrawStorage::SaveDrawData] Insert: key, drawPicture, data",e,t,a);var i=new Ai.default;i.set(a.Guid,a),this.DrawData.set(e,i)}xi.Chart.Log("[ChartDrawStorage::SaveDrawData] All draw data： ",this.DrawData),this.Save()}},this.DeleteDrawData=function(t){var e=t.Symbol+"-"+t.Period;if(this.DrawData.has(e)){var a=this.DrawData.get(e);a.has(t.Guid)&&(a.delete(t.Guid),this.Save())}},this.Clear=function(){this.DrawData=new Ai.default,this.Save()},this.GetDrawData=function(t){var e=[],a=t.Symbol+"-"+t.Period;if(!this.DrawData.has(a))return e;var i=this.DrawData.get(a),r=!0,n=!1,s=void 0;try{for(var o,h=(0,Ii.default)(i);!(r=(o=h.next()).done);r=!0){var l=o.value;e.push(l[1])}}catch(t){n=!0,s=t}finally{try{!r&&h.return&&h.return()}finally{if(n)throw s}}return e}}function be(){this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,.1,.01],[.2,.4,.2,.02],[.4,.5,.4,.01],[.5,1,.5,.05],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,1e4,1e3],[4e4,5e4,1e4,1e3],[5e4,1e5,1e4,1e3],[1e5,2e5,1e5,1e4],[2e5,4e5,1e5,1e4],[4e5,5e5,1e5,1e4],[5e5,1e6,1e5,1e4],[1e6,2e6,1e6,1e5],[2e6,4e6,1e6,1e5],[4e6,5e6,1e6,1e5],[5e6,1e7,1e6,1e5],[1e7,2e7,1e7,1e6],[2e7,4e7,1e7,1e6],[4e7,5e7,1e7,1e6],[5e7,1e8,1e7,1e6],[1e8,2e8,1e8,1e7],[2e8,4e8,1e8,1e7],[4e8,5e8,1e8,1e7],[5e8,1e9,1e8,1e7],[1e9,2e9,1e9,1e8],[2e9,4e9,1e9,1e8],[4e9,5e9,1e9,1e8],[5e9,1e10,1e9,1e8]],this.Find=function(t){for(var e in this.Data){var a=this.Data[e];if(t>a[0]&&t<=a[1]){var i={};return i.FixInterval=a[2],i.Increase=a[3],i}}return null}}function Ye(){this.newMethod=be,this.newMethod(),delete this.newMethod,this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,1e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.001],[.04,.05,.04,.001],[.05,.1,.05,.001],[.1,.2,.1,.01],[.2,.4,.2,.01],[.4,.5,.2,.01],[.5,.8,.2,.01],[.8,1,.5,.01],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,2e8,2e7],[4e8,5e8,4e8,1e7],[5e8,1e9,5e8,5e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]]}function Be(){this.TooltipBGColor="rgb(255, 255, 255)",this.TooltipAlpha=.92,this.SelectRectBGColor="rgba(1,130,212,0.06)",this.UpBarColor="rgb(238,21,21)",this.DownBarColor="rgb(25,158,0)",this.UnchagneBarColor="rgb(0,0,0)",this.Minute={},this.Minute.VolBarColor="rgb(238,127,9)",this.Minute.PriceColor="rgb(50,171,205)",this.Minute.AreaPriceColor="rgba(50,171,205,0.1)",this.Minute.AvPriceColor="rgb(238,127,9)",this.Minute.BeforeBGColor="rgba(240,240,240,0.7)",this.Minute.PositionColor="rgb(218,165,32)",this.DefaultTextColor="rgb(43,54,69)",this.DefaultTextFont=14*u()+"px 微软雅黑",this.TitleFont=13*u()+"px 微软雅黑",this.IndexTitleBGColor="rgb(217,219,220)",this.Title={TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)"},this.UpTextColor="rgb(238,21,21)",this.DownTextColor="rgb(25,158,0)",this.UnchagneTextColor="rgb(0,0,0)",this.CloseLineColor="rgb(0,191,255)",this.CloseLineAreaColor=["rgba(0,191,255,0.8)","rgba(0,191,255,0.2)"],this.FrameBorderPen="rgb(225,236,242)",this.FrameSplitPen="rgb(225,236,242)",this.FrameDotSplitPen="rgb(105,105,105)",this.FrameYLineDash=null,this.FrameSplitTextColor="rgb(117,125,129)",this.FrameSplitTextFont=14*u()+"px 微软雅黑",this.FrameTitleBGColor="rgb(246,251,253)",this.Frame={XBottomOffset:1*u(),YTopOffset:2*u()},this.FromeLogarithmic={OpenPriceFont:"bold "+14*u()+"px 微软雅黑",MinInterval:45*u()},this.FrameLatestPrice={TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(0,0,0)",BGAlpha:.6},this.FrameMargin=4,this.FrameLeftMargin=2,this.FrameRightMargin=2,this.OverlayFrame={BolderPen:"rgb(190,190,190)",TitleColor:"rgb(105,105,105)",TitleFont:11*u()+"px arial"},this.CorssCursorBGColor="rgb(43,54,69)",this.CorssCursorTextColor="rgb(255,255,255)",this.CorssCursorTextFont=14*u()+"px 微软雅黑",this.CorssCursorHPenColor="rgb(130,130,130)",this.CorssCursorVPenColor="rgb(130,130,130)",this.LockBGColor="rgb(220, 220, 220)",this.LockTextColor="rgb(210, 34, 34)",this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com",this.PyIndexDomain="https://py.zealink.com",this.KLine={MaxMin:{Font:12*u()+"px 微软雅黑",Color:"rgb(43,54,69)"},Info:{Investor:{ApiUrl:"https://opensource.zealink.com/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"https://opensource.zealink.com/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"https://opensource.zealink.com/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}},IconLibrary:{Family:"iconfont",Icon:[{Text:"",HScreenText:"",Color:"#f39f7c"},{Text:"",HScreenText:"",Color:"#19b1b7"},{Text:"",HScreenText:"",Color:"#b22626"},{Text:"",HScreenText:"",Color:"#ed7520"}]}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},this.Index={},this.Index.LineColor=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],this.OverlaySymbol={Random:0},this.OverlaySymbol.Color=["rgb(38,198,218)","rgb(103,58,183)","rgb(0,191,165)","rgb(130,177,255)"],this.Index.StockHistoryDayApiUrl="https://opensource.zealink.com/API/StockHistoryDay",this.Index.MarketLongShortApiUrl="https://opensource.zealink.com/API/FactorTiming",this.Index.MarketAttentionApiUrl="https://opensource.zealink.com/API/MarketAttention",this.Index.MarketHeatApiUrl="https://opensource.zealink.com/API/MarketHeat",this.Index.CustomIndexHeatApiUrl="https://opensource.zealink.com/API/QuadrantCalculate",this.Index.NotSupport={Font:"14px 微软雅黑",TextColor:"rgb(52,52,52)"},this.DrawPicture={},this.DrawPicture.LineColor=["rgb(30,144,255)"],this.DrawPicture.PointColor=["rgb(105,105,105)"],this.KLineTrain={Font:"bold 14px arial",LastDataIcon:{Color:"rgb(0,0,205)",Text:"⬇"},BuyIcon:{Color:"rgb(0,205,102 )",Text:"B"},SellIcon:{Color:"rgb(255,127,36 )",Text:"S"},IconFont:{Family:"iconfont",Buy:{Text:"",HScreenText:"",Color:"rgb(255,140,0)"},Sell:{Text:"",HScreenText:"",Color:"rgb(6,79,18)"},Last:{Text:"",HScreenText:"",Color:"rgb(55,0,255)"}}},this.TooltipPaint={BGColor:"rgba(250,250,250,0.8)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(120,120,120)",TitleFont:13*u()+"px 微软雅黑"},this.Barrage={Font:16*u()+"px 微软雅黑",Height:20,Color:"RGB(109,109,109)"},this.MinuteInfo={TextColor:"rgb(84,143,255)",Font:14*u()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,0.8)"},this.DRAWICON={Icon:{MaxSize:24,MinSize:12,Zoom:{Type:1,Value:1}},Text:{MaxSize:50,MinSize:12,Zoom:{Type:1,Value:1},FontName:"Arial"}},this.DRAWTEXT={MaxSize:30,MinSize:20,Zoom:{Type:1,Value:1},FontName:"微软雅黑"},this.SetStyle=function(t){if(t.TooltipBGColor&&(this.TooltipBGColor=t.TooltipBGColor),t.TooltipAlpha&&(this.TooltipAlpha=t.TooltipAlpha),t.SelectRectBGColor&&(this.SelectRectBGColor=t.SelectRectBGColor),t.UpBarColor&&(this.UpBarColor=t.UpBarColor),t.DownBarColor&&(this.DownBarColor=t.DownBarColor),t.UnchagneBarColor&&(this.UnchagneBarColor=t.UnchagneBarColor),t.Minute&&(t.Minute.VolBarColor&&(this.Minute.VolBarColor=t.Minute.VolBarColor),t.Minute.PriceColor&&(this.Minute.PriceColor=t.Minute.PriceColor),t.Minute.AvPriceColor&&(this.Minute.AvPriceColor=t.Minute.AvPriceColor),t.Minute.AreaPriceColor&&(this.Minute.AreaPriceColor=t.Minute.AreaPriceColor),t.Minute.PositionColor&&(this.Minute.PositionColor=t.Minute.PositionColor)),t.DefaultTextColor&&(this.DefaultTextColor=t.DefaultTextColor),t.DefaultTextFont&&(this.DefaultTextFont=t.DefaultTextFont),t.TitleFont&&(this.TitleFont=t.TitleFont),t.IndexTitleBGColor&&(this.IndexTitleBGColor=t.IndexTitleBGColor),t.UpTextColor&&(this.UpTextColor=t.UpTextColor),t.DownTextColor&&(this.DownTextColor=t.DownTextColor),t.UnchagneTextColor&&(this.UnchagneTextColor=t.UnchagneTextColor),t.CloseLineColor&&(this.CloseLineColor=t.CloseLineColor),t.CloseLineAreaColor&&(this.CloseLineAreaColor=t.CloseLineAreaColor),t.FrameBorderPen&&(this.FrameBorderPen=t.FrameBorderPen),t.FrameSplitPen&&(this.FrameSplitPen=t.FrameSplitPen),t.FrameDotSplitPen&&(this.FrameDotSplitPen=t.FrameDotSplitPen),t.FrameSplitTextColor&&(this.FrameSplitTextColor=t.FrameSplitTextColor),t.FrameSplitTextFont&&(this.FrameSplitTextFont=t.FrameSplitTextFont),t.FrameTitleBGColor&&(this.FrameTitleBGColor=t.FrameTitleBGColor),t.Frame&&(t.Frame.XBottomOffset&&(this.Frame.XBottomOffset=t.Frame.XBottomOffset),t.Frame.YTopOffset&&(this.Frame.YTopOffset=t.Frame.YTopOffset)),t.FrameLatestPrice&&(t.FrameLatestPrice.TextColor&&(this.FrameLatestPrice.TextColor=t.FrameLatestPrice.TextColor),t.FrameLatestPrice.UpBarColor&&(this.FrameLatestPrice.UpBarColor=t.FrameLatestPrice.UpBarColor),t.FrameLatestPrice.DownBarColor&&(this.FrameLatestPrice.DownBarColor=t.FrameLatestPrice.DownBarColor),t.FrameLatestPrice.UnchagneBarColor&&(this.FrameLatestPrice.UnchagneBarColor=t.FrameLatestPrice.UnchagneBarColor),t.FrameLatestPrice.BGAlpha&&(this.FrameLatestPrice.BGAlpha=t.FrameLatestPrice.BGAlpha)),t.CorssCursorBGColor&&(this.CorssCursorBGColor=t.CorssCursorBGColor),t.CorssCursorTextColor&&(this.CorssCursorTextColor=t.CorssCursorTextColor),t.CorssCursorTextFont&&(this.CorssCursorTextFont=t.CorssCursorTextFont),t.CorssCursorVPenColor&&(this.CorssCursorVPenColor=t.CorssCursorVPenColor),t.CorssCursorHPenColor&&(this.CorssCursorHPenColor=t.CorssCursorHPenColor),t.KLine&&(this.KLine=t.KLine),t.Index&&(t.Index.LineColor&&(this.Index.LineColor=t.Index.LineColor),t.Index.NotSupport&&(this.Index.NotSupport=t.Index.NotSupport)),t.ColorArray&&(this.ColorArray=t.ColorArray),t.DrawPicture&&(this.DrawPicture.LineColor=t.DrawPicture.LineColor,this.DrawPicture.PointColor=t.DrawPicture.PointColor),t.TooltipPaint&&(t.TooltipPaint.BGColor&&(this.TooltipPaint.BGColor=t.TooltipPaint.BGColor),t.TooltipPaint.BorderColor&&(this.TooltipPaint.BorderColor=t.TooltipPaint.BorderColor),t.TooltipPaint.TitleColor&&(this.TooltipPaint.TitleColor=t.TooltipPaint.TitleColor),t.TooltipPaint.TitleFont&&(this.TooltipPaint.TitleFont=t.TooltipPaint.TitleFont)),t.MinuteInfo&&(t.MinuteInfo.TextColor&&(this.MinuteInfo.TextColor=t.MinuteInfo.TextColor),t.MinuteInfo.Font&&(this.MinuteInfo.Font=t.MinuteInfo.Font),t.MinuteInfo.PointColor&&(this.MinuteInfo.PointColor=t.MinuteInfo.PointColor),t.MinuteInfo.LineColor&&(this.MinuteInfo.LineColor=t.MinuteInfo.LineColor),t.MinuteInfo.TextBGColor&&(this.MinuteInfo.TextBGColor=t.MinuteInfo.TextBGColor)),t.Title&&(t.Title.TradeIndexColor&&(this.Title.TradeIndexColor=t.Title.TradeIndexColor),t.Title.ColorIndexColor&&(this.Title.ColorIndexColor=t.Title.ColorIndexColor)),t.DRAWICON){if(t.DRAWICON.Icon){var e=t.DRAWICON.Icon;Wt.IsPlusNumber(e.MaxSize)&&(this.DRAWICON.Icon.MaxSize=e.MaxSize),Wt.IsPlusNumber(e.MinSize)&&(this.DRAWICON.Icon.MinSize=e.MinSize),e.Zoom&&(this.DRAWICON.Icon.Zoom=e.Zoom)}if(t.DRAWICON.Text){var e=t.DRAWICON.Text;Wt.IsPlusNumber(e.MaxSize)&&(this.DRAWICON.Text.MaxSize=e.MaxSize),Wt.IsPlusNumber(e.MinSize)&&(this.DRAWICON.Text.MinSize=e.MinSize),e.Zoom&&(this.DRAWICON.Text.Zoom=e.Zoom),e.FontName&&(this.DRAWICON.Text.FontName=e.FontName)}}if(t.DRAWTEXT){var e=t.DRAWTEXT;Wt.IsPlusNumber(e.MaxSize)&&(this.DRAWICON.MaxSize=e.MaxSize),Wt.IsPlusNumber(e.MinSize)&&(this.DRAWICON.MinSize=e.MinSize),e.Zoom&&(this.DRAWICON.Zoom=e.Zoom),e.FontName&&(this.DRAWICON.FontName=e.FontName)}}}function He(){this.TextResource=new Ai.default([["Tooltip-Open",{CN:"开:",EN:"O:"}],["Tooltip-High",{CN:"高:",EN:"H:"}],["Tooltip-Low",{CN:"低:",EN:"L:"}],["Tooltip-Close",{CN:"收:",EN:"C:"}],["Tooltip-Increase",{CN:"幅:",EN:"I:"}],["Tooltip-Vol",{CN:"量:",EN:"V:"}],["Tooltip-Amount",{CN:"额:",EN:"A:"}],["Tooltip-AvPrice",{CN:"均:",EN:"AP:"}],["Tooltip-Price",{CN:"价:",EN:"P:"}],["Tooltip-Exchange",{CN:"换:",EN:"E:"}],["Tooltip-Position",{CN:"持:",EN:"P:"}],["DivTooltip-Open",{CN:"开盘:",EN:"Open:"}],["DivTooltip-High",{CN:"最高:",EN:"High:"}],["DivTooltip-Low",{CN:"最低:",EN:"Low:"}],["DivTooltip-Close",{CN:"收盘:",EN:"Close:"}],["DivTooltip-Increase",{CN:"涨幅:",EN:"Increase:"}],["DivTooltip-Vol",{CN:"数量:",EN:"Volume:"}],["DivTooltip-Amount",{CN:"金额:",EN:"Amount:"}],["DivTooltip-Exchange",{CN:"换手:",EN:"Exchange:"}],["DivTooltip-Position",{CN:"持仓:",EN:"Position:"}],["KTitle-Open",{CN:"开:",EN:"O:"}],["KTitle-High",{CN:"高:",EN:"H:"}],["KTitle-Low",{CN:"低:",EN:"L:"}],["KTitle-Close",{CN:"收:",EN:"C:"}],["KTitle-Increase",{CN:"幅:",EN:"I:"}],["KTitle-Vol",{CN:"量:",EN:"V:"}],["KTitle-Amount",{CN:"额:",EN:"A:"}],["KTitle-Exchange",{CN:"换:",EN:"E:"}],["KTitle-Position",{CN:"持:",EN:"P:"}],["MTitle-Close",{CN:"价:",EN:"C:"}],["MTitle-AvPrice",{CN:"均:",EN:"AC:"}],["MTitle-Increase",{CN:"幅:",EN:"I:"}],["MTitle-Vol",{CN:"量:",EN:"V:"}],["MTitle-Amount",{CN:"额:",EN:"A:"}],["MTitle-Position",{CN:"持:",EN:"P:"}],["日线",{CN:"日线",EN:"1D"}],["周线",{CN:"周线",EN:"1W"}],["双周",{CN:"双周",EN:"2W"}],["月线",{CN:"月线",EN:"1M"}],["年线",{CN:"年线",EN:"1Y"}],["1分",{CN:"1分",EN:"1Min"}],["5分",{CN:"5分",EN:"5Min"}],["15分",{CN:"15分",EN:"15Min"}],["30分",{CN:"30分",EN:"30Min"}],["60分",{CN:"60分",EN:"60Min"}],["季线",{CN:"季线",EN:"1Q"}],["分笔",{CN:"分笔",EN:"Tick"}],["2小时",{CN:"2小时",EN:"2H"}],["4小时",{CN:"4小时",EN:"4H"}],["不复权",{CN:"不复权",EN:"No Right"}],["前复权",{CN:"前复权",EN:"Pro Right"}],["后复权",{CN:"后复权",EN:"Post Right"}],["日",{CN:"日",EN:"Sun."}],["一",{CN:"一",EN:"Mon."}],["二",{CN:"二",EN:"Tues."}],["三",{CN:"三",EN:"Wed."}],["四",{CN:"四",EN:"Thur."}],["五",{CN:"五",EN:"Fri."}],["六",{CN:"六",EN:"Sat."}],["1月",{CN:"1月",EN:"Jan"}],["2月",{CN:"2月",EN:"Feb"}],["3月",{CN:"3月",EN:"Mar"}],["4月",{CN:"4月",EN:"Apr"}],["5月",{CN:"5月",EN:"May"}],["6月",{CN:"6月",EN:"Jun"}],["7月",{CN:"7月",EN:"Jul"}],["8月",{CN:"8月",EN:"Aug"}],["9月",{CN:"9月",EN:"Sept"}],["10月",{CN:"10月",EN:"Oct"}],["11月",{CN:"11月",EN:"Nov"}],["12月",{CN:"12月",EN:"Dec"}],["自定义分钟",{CN:"分",EN:"Min"}],["自定义日线",{CN:"日",EN:"D"}],["自定义秒",{CN:"秒",EN:"S"}]]),this.GetText=function(t,e){var a=this.TextResource.get(t);if(!a)return"";switch(e){case Qi.LANGUAGE_CHINESE_ID:return a.CN;case Qi.LANGUAGE_ENGLISH_ID:return a.EN;default:return a.CN}},this.SetTextResource=function(t,e){this.TextResource.set(t,e)}}function ke(){}function Ve(){}function Ge(t,e){this.newMethod=l,this.newMethod(t,e),delete this.newMethod,this.ClassName="KLineChartContainer",this.WindowIndex=new Array,this.ColorIndex,this.TradeIndex,this.Symbol,this.Name,this.Period=0,this.IsApiPeriod=!1,this.Right=0,this.SourceData,this.MaxReqeustDataCount=3e3,this.MaxRequestMinuteDayCount=5,this.PageSize=200,this.KLineDrawType=0,this.ScriptErrorCallback,this.FlowCapitalReady=!1,this.EnableFlowCapital={},this.ChartDrawStorage=new Re,this.ChartDrawStorageCache=null,this.RightSpaceCount=0,this.SourceDataLimit=new Ai.default,this.CustomShow=null,this.OverlayIndexFrameWidth=60,this.ZoomType=0,this.KLineSize=null,this.Page={Day:{Enable:!1,Index:0,Finish:!1},Minute:{Enable:!1,Index:0,Finish:!1}},this.DragDownload={Day:{Enable:!1,IsEnd:!1,Status:0},Minute:{Enable:!1,IsEnd:!1,status:0}},this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.KLineApiUrl=Zi.Domain+"/API/KLine2",this.MinuteKLineApiUrl=Zi.Domain+"/API/KLine3",this.DragMinuteKLineApiUrl=Zi.Domain+"/API/KLine4",this.DragKLineApiUrl=Zi.Domain+"/API/KLine5",this.RealtimeApiUrl=Zi.Domain+"/API/Stock",this.KLineMatchUrl=Zi.Domain+"/API/KLineMatch",this.StockHistoryDayApiUrl=Zi.Domain+"/API/StockHistoryDay",this.TickApiUrl=Zi.Domain+"/API/StockDetail",this.MinuteDialog,this.RightMenu,this.BeforeBindMainData=null,this.AfterBindMainData=null,this.ResetDragDownload=function(){this.DragDownload.Day.Status=0,this.DragDownload.Day.IsEnd=!1,this.DragDownload.Minute.Status=0,this.DragDownload.Minute.IsEnd=!1},this.ResetPage=function(){this.Page.Day.Finish=!1,this.Page.Day.Index=0,this.Page.Minute.Finish=!1,this.Page.Minute.Index=0},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.SandTableOperator=function(t){switch(t.ID){case 1:this.StopAutoUpdate(),t.Data&&this.ManualUpdateKData(t);break;case 2:this.ManualUpdateKData(t);break;case 3:t.IsAutoUpdate&&(this.IsAutoUpdate=t.IsAutoUpdate),this.ChangeSymbol(this.Symbol)}},this.ManualUpdateKData=function(t){var e=t.Data,a=e.length,i=new G;i.Data=e,i.Period=this.Period,i.Right=this.Right,i.Symbol=this.Symbol,this.UpdateMainData(i,a),this.BindInstructionIndexData(i);for(var r=0;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,i);if(Wt.IsNumber(t.DataOffset)&&t.DataOffset>=0){var n=null;n=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data,n&&(n.DataOffset=t.DataOffset)}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendManualKLineUpdateEvent(i)},this.GetKDataInfo=function(){if(!this.ChartPaint[0])return null;var t=this.ChartPaint[0],e={};return t.Data&&t.Data.Data&&(e.Data=t.Data.CloneData("HistoryData")),e.ShowRange=t.ShowRange,e.Period=this.Period,e.RightSpaceCount=this.RightSpaceCount,e},this.ChartOperator=function(t){var e=t.ID;if(e===Pi.OP_SCROLL_LEFT||e===Pi.OP_SCROLL_RIGHT){var a=e===Pi.OP_SCROLL_LEFT,i=1;t.Step>0&&(i=t.Step),this.DataMove(i*this.StepPixel,a)&&(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw())}else if(e===Pi.OP_ZOOM_IN||e===Pi.OP_ZOOM_OUT){var r={};if(r.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),e===Pi.OP_ZOOM_IN){if(!this.Frame.ZoomUp(r))return}else if(!this.Frame.ZoomDown(r))return;this.CursorIndex=r.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else if(e===Pi.OP_GOTO_HOME){var n=this.ChartOperator_Temp_GetHistroyData();if(!n)return;var s=this.Frame.SubFrame[0].Frame.XPointCount;s-=this.RightSpaceCount;var o=n.Data.length-s;n.DataOffset=o,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,xi.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_HOME, dataOffset="+n.DataOffset+" CursorIndex="+this.CursorIndex+" PageSize="+s),this.ChartOperator_Temp_Update()}else if(e===Pi.OP_GOTO_END){var n=this.ChartOperator_Temp_GetHistroyData();if(!n)return;n.DataOffset=0,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,xi.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_END "),this.ChartOperator_Temp_Update()}else if(e==Pi.OP_LEFT_ZOOM_IN||e==Pi.OP_LEFT_ZOOM_OUT){var n=this.ChartOperator_Temp_GetHistroyData();if(!n)return;var h=n.Data.length,s=this.Frame.SubFrame[0].Frame.XPointCount,l=n.DataOffset;if(e==Pi.OP_LEFT_ZOOM_IN){if(Wt.IsNumber(t.Step)){if(s>=h)return;var i=t.Step;if(i>l&&(i=l),s+i>h&&(i=h-s),i<=0)return;s+=i,n.DataOffset-=i}}else if(e==Pi.OP_LEFT_ZOOM_OUT){var u=this.GetMaxMinPageSize(),d=u.Min;if(Wt.IsNumber(t.Step)){if(s<d)return;var i=t.Step;if(s-i<d&&(i=s-d),i<=0)return;s-=i,n.DataOffset-=i}}for(var c in this.Frame.SubFrame){var D=this.Frame.SubFrame[c].Frame;D.XPointCount=s}n.DataOffset<0&&(n.DataOffset=0),this.ChartOperator_Temp_Update()}else if(e==Pi.OP_RIGHT_ZOOM_IN||e==Pi.OP_RIGHT_ZOOM_OUT){var n=this.ChartOperator_Temp_GetHistroyData();if(!n)return;var h=n.Data.length,s=this.Frame.SubFrame[0].Frame.XPointCount,l=n.DataOffset;if(e==Pi.OP_RIGHT_ZOOM_IN){if(Wt.IsNumber(t.Step)){if(s>=h)return;var m=l+s,C=h-m;if(C<=0)return;var i=t.Step;if(i>C&&(i=C),i<=0)return;s+=i}}else if(e==Pi.OP_RIGHT_ZOOM_OUT){var u=this.GetMaxMinPageSize(),d=u.Min;if(Wt.IsNumber(t.Step)){if(s<d)return;var i=t.Step;if(i>s&&(i=s),s-i<d&&(i=s-d),i<=0)return;s-=i}}for(var c in this.Frame.SubFrame){var D=this.Frame.SubFrame[c].Frame;D.XPointCount=s}n.DataOffset<0&&(n.DataOffset=0),this.ChartOperator_Temp_Update()}},this.ChartOperator_Temp_GetHistroyData=function(){return(this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)||null},this.ChartOperator_Temp_Update=function(){this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.OnWheel=function(t){xi.Chart.Log("[KLineChartContainer::OnWheel]",t);var e=t.clientX-this.UIElement.getBoundingClientRect().left,a=t.clientY-this.UIElement.getBoundingClientRect().top,i=!1;this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),i=this.Canvas.isPointInPath(e,a);var r=t.wheelDelta;if(Wt.IsObjectExist(t.wheelDelta)||(r=-.01*t.deltaY),this.SourceData&&this.SourceData.Data)if(i&&r<0){var n={ZoomType:this.ZoomType};n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomDown(n)&&(this.CursorIndex=n.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw())}else if(i&&r>0){var n={ZoomType:this.ZoomType};n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomUp(n)&&(this.CursorIndex=n.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw())}t.preventDefault?t.preventDefault():t.returnValue=!1},this.Create=function(t,e){var a=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new qt,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=ji.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatY=ji.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new P,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var i in this.Frame.SubFrame){var r=new de;r.Frame=this.Frame.SubFrame[i].Frame,r.Canvas=this.Canvas,r.LanguageID=this.LanguageID,this.TitlePaint.push(r)}var n=!0,s=!0;e&&(!1===e.KeyDown&&(n=!1,xi.Chart.Log("[KLineChartContainer::Create] not register keydown event.")),!1===e.Wheel&&(s=!1,xi.Chart.Log("[KLineChartContainer::Create] not register wheel event."))),n&&this.UIElement.addEventListener("keydown",function(t){a.OnKeyDown(t)},!0),s&&this.UIElement.addEventListener("wheel",function(t){a.OnWheel(t)},!0)},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new T;a.UIElement=this.UIElement;var i=new F;if(i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,i.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(i.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(i.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),i.HorizontalMax=20,i.HorizontalMin=10,0==e){i.YSplitOperator=new Ut,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),i.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double");var r=u();a.BottomSpace=12*r,a.TopSpace=12*r}else i.YSplitOperator=new Xt,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),i.YSplitOperator.LanguageID=this.LanguageID;i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new Kt,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,i.XSplitOperator.LanguageID=this.LanguageID,e!=t-1&&(i.XSplitOperator.ShowText=!1);for(var n=i.HorizontalMin;n<=i.HorizontalMax;n+=1)i.HorizontalInfo[n]=new S,i.HorizontalInfo[n].Value=n,0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=n.toString(),i.HorizontalInfo[n].Font="14px 微软雅黑");var s=new w;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}},this.CreateSubFrameItem=function(t){var e=new T;e.UIElement=this.UIElement;var a=new F;a.Canvas=this.Canvas,a.ChartBorder=e,a.Identify=t,this.ModifyIndexDialog&&(a.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(a.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),a.HorizontalMax=20,a.HorizontalMin=10,a.YSplitOperator=new Xt,a.YSplitOperator.LanguageID=this.LanguageID,a.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),a.YSplitOperator.Frame=a,a.YSplitOperator.ChartBorder=e,a.XSplitOperator=new Kt,a.XSplitOperator.Frame=a,a.XSplitOperator.ChartBorder=e,a.XSplitOperator.ShowText=!1;var i=this.Frame.SubFrame[0].Frame.XPointCount;a.XPointCount=i,a.Data=this.ChartPaint[0].Data;for(var r=a.HorizontalMin;r<=a.HorizontalMax;r+=1)a.HorizontalInfo[r]=new S,a.HorizontalInfo[r].Value=r,a.HorizontalInfo[r].Message[1]=r.toString(),a.HorizontalInfo[r].Font="14px 微软雅黑";var n=new w;return n.Frame=a,n.Height=10,n},this.CreateMainKLine=function(){var t=new K;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Main-KLine",t.DrawType=this.KLineDrawType,this.ChartPaint[0]=t,this.TitlePaint[0]=new he,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID},this.BindMainData=function(t,e){if(this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.KLineSize)if(null==this.KLineSize.DataWidth)e=this.Frame.SubFrame[0].Frame.XPointCount-this.RightSpaceCount;else{var a=this.Frame.SetDataWidth(this.KLineSize.DataWidth);e=a.XPointCount-this.RightSpaceCount,this.KLineSize.DataWidth=null}for(var i in this.Frame.SubFrame){var r=this.Frame.SubFrame[i].Frame;r.XPointCount=e+this.RightSpaceCount,r.Data=this.ChartPaint[0].Data,r.XSplitOperator.Symbol=this.Symbol,r.XSplitOperator.Period=this.Period}this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data;for(var i in this.OverlayChartPaint){var r=this.OverlayChartPaint[i];r.MainData=this.ChartPaint[0].Data}var n=t.Data.length-e;n<0&&(n=0),this.ChartPaint[0].Data.DataOffset=n,this.ChartPaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.CursorIndex=e,this.CursorIndex+n>=t.Data.length&&(this.CursorIndex=t.Data.length-1-n),this.CursorIndex<0&&(this.CursorIndex=0),this.CustomShow&&(this.SetCustomShow(this.CustomShow,t),this.CustomShow=null)},this.UpdateMainData=function(t,e){var a=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(a=this.Frame.SubFrame[0].Frame.Data):a=this.Frame.Data,a){var i=0;e>0&&t.Data.length>e&&(i=t.Data.length-e,xi.Chart.Log("[KLineChartContainer::UpdateMainData]  [count="+e+"->"+t.Data.length+"], [newDataCount="+i+"]")),this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.ChartPaint[0].Data.DataOffset=a.DataOffset+i;for(var r in this.Frame.SubFrame){var n=this.Frame.SubFrame[r].Frame;n.Data=this.ChartPaint[0].Data,0==r&&(n.YSplitOperator.Symbol=this.Symbol,n.YSplitOperator.Data=this.ChartPaint[0].Data,n.YSplitOperator.Period=this.Period)}this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data;for(var r in this.OverlayChartPaint){var n=this.OverlayChartPaint[r];n.MainData=this.ChartPaint[0].Data}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol}},this.SetCustomShow=function(t,e){if(t&&t.Date&&!(t.Date<19910101)){for(var a=t.Date,i=null,r=0;r<e.Data.length;++r){var n=e.Data[r];if(n.Date>=a){i=r;break}}if(null===i)return void xi.Chart.Log("[KLineChartContainer::SetCustomShow] Can't find first date="+a);var s=e.Data.length-i;t.PageSize>0&&(s=t.PageSize);var o=s,h=this.GetMaxMinPageSize();s>h.Max?o=h.Max:s<h.Min&&(o=h.Min);for(var r in this.Frame.SubFrame){var n=this.Frame.SubFrame[r].Frame;n.XPointCount=o}this.ChartPaint[0].Data.DataOffset=i,this.CursorIndex=0}},this.ShowSelectData=function(t){this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),xi.Chart.Log("[KLineChartContainer::ShowSelectData] selectData",t);var e=t.Start,a=t.End-t.Start+1;xi.Chart.Log("[KLineChartContainer::ShowSelectData] DataOffset="+e+", ShowCount="+a);for(var i in this.Frame.SubFrame){this.Frame.SubFrame[i].Frame.XPointCount=a}this.ChartPaint[0].Data.DataOffset=e,this.CursorIndex=0,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.BindIndexData=function(t,e){if(this.WindowIndex[t])return"function"==typeof this.WindowIndex[t].RequestData?void this.WindowIndex[t].RequestData(this,t,e):"function"==typeof this.WindowIndex[t].ExecuteScript?void this.WindowIndex[t].ExecuteScript(this,t,e):void this.WindowIndex[t].BindData(this,t,e)},this.BindOverlayIndexData=function(t,e,a){if(t.Script)return"function"==typeof t.Script.RequestData?void t.Script.RequestData(this,e,a):"function"==typeof t.Script.ExecuteScript?void t.Script.ExecuteScript(this,e,a):void t.Script.BindData(this,e,a)},this.BindInstructionIndexData=function(t){this.ColorIndex&&"function"==typeof this.ColorIndex.ExecuteScript&&this.ColorIndex.ExecuteScript(this,0,t),this.TradeIndex&&"function"==typeof this.TradeIndex.ExecuteScript&&this.TradeIndex.ExecuteScript(this,0,t)},this.GetChartPaint=function(t){var e=new Array;for(var a in this.ChartPaint)if(0!=a){var i=this.ChartPaint[a];i.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(i)}return e},this.AutoUpdateEvent=function(t,e){var a=t?Oi.RECV_START_AUTOUPDATE:Oi.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(a)){var i=this,r=this.mapEvent.get(a),n={Stock:{Symbol:this.Symbol,Name:this.Name,Right:this.Right,Period:this.Period},Explain:e};t&&(n.Callback=function(t){G.IsDayPeriod(i.Period,!0)?i.RecvRealtimeData(t):G.IsMinutePeriod(i.Period,!0)?i.RecvMinuteRealtimeData(t):G.IsSecondPeriod(i.Period)&&i.RecvMinuteRealtimeData(t)}),r.Callback(r,n,this)}},this.SendKLineUpdateEvent=function(t){var e=this.GetEventCallback(Oi.RECV_KLINE_UPDATE_DATA);if(e&&e.Callback){var a={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,a,this),!0}return!1},this.SendManualKLineUpdateEvent=function(t){var e=this.GetEventCallback(Oi.RECV_KLINE_MANUAL_UPDATE_DATA);if(e&&e.Callback){var a={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,a,this),!0}return!1},this.RequestHistoryData=function(){var t=this;if(this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.Draw(),this.NetworkFilter){var e={Name:"KLineChartContainer::RequestHistoryData",Explain:"日K数据",Request:{Url:t.KLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxReqeustDataCount,field:["name","symbol","yclose","open","price","high","low","vol"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var a=t.Page.Day;1==a.Enable&&0==a.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}),1==e.PreventDefault)return}n.HttpRequest({url:this.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var a=t.Page.Day;1==a.Enable&&0==a.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}})},this.RecvHistoryData=function(t){var e=Ge.JsonDataToHistoryData(t),a=new G;a.Data=e,a.DataType=0,a.Symbol=t.symbol,this.SourceData=a,this.BeforeBindMainData&&this.BeforeBindMainData("RecvHistoryData");var i=new G;if(i.Data=e,i.Right=this.Right,i.Period=this.Period,i.DataType=0,i.Symbol=t.symbol,i.Right>0&&!this.IsApiPeriod){var r=i.GetRightDate(i.Right);i.Data=r}if(G.IsDayPeriod(i.Period,!1)&&!this.IsApiPeriod){var n=i.GetPeriodData(i.Period);i.Data=n}this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(i,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvHistoryData"),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(i);for(var s,o=0;o<this.Frame.SubFrame.length;++o)0==o&&(s=this.Frame.SubFrame[o].Frame),this.BindIndexData(o,i);s&&s.YSplitOperator&&(s.YSplitOperator.Symbol=this.Symbol,s.YSplitOperator.Data=this.ChartPaint[0].Data,s.YSplitOperator.Period=this.Period);var h=this.Page.Day;(0==h.Enable||1==h.Enable&&1==h.Finish)&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),h.Enable&&(h.Index=1),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdatePointByCursorIndex(2),this.Draw();for(var o=0;o<this.Frame.SubFrame.length;++o){var l=this.Frame.SubFrame[o];for(var u in l.OverlayIndex){var d=l.OverlayIndex[u];this.BindOverlayIndexData(d,o,i)}}if(this.mapEvent.has(Oi.RECV_HISTROY_DATA)){var c=this.mapEvent.get(Oi.RECV_HISTROY_DATA),t={HistoryData:i,Stock:{Symbol:this.Symbol,Name:this.Name}};c.Callback(c,t,this)}},this.RequestHistoryPageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],a={Name:"KLineChartContainer::RequestHistoryPageData",Explain:"日K数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Day.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date}}},Page:t.Page.Day,Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(e){t.RecvHistoryPageData(e);var a=t.Page.Day;1==a.Enable&&0==a.Finish?t.RequestHistoryPageData():t.AutoUpdate()}),1==a.PreventDefault)return}setTimeout(function(){var e=t.Page.Day;e.Finish=!0;var a={data:[[20150218,12.54,12.5,12.74,11.95,12.27,117632441,1459671045],[20150219,12.27,12.1,12.23,11.9,12.23,95889423,1157078548],[20150220,12.23,12.17,12.17,11.9,12.05,67763439,815652761]],symbol:t.Symbol,name:t.Name};t.RecvHistoryPageData(a),1==e.Enable&&0==e.Finish?t.RequestHistoryPageData():t.AutoUpdate()},500)},this.RecvHistoryPageData=function(t){var e=Ge.JsonDataToHistoryData(t),a=this.GetHistoryDataCount();for(var i in e){var r=e[i];this.SourceData.Data.splice(i,0,r)}var n=new G;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Right>0&&n.Period<=3){var s=n.GetRightDate(n.Right);n.Data=s}if(G.IsDayPeriod(n.Period,!1)||G.IsMinutePeriod(n.Period,!1)){var o=n.GetPeriodData(n.Period);n.Data=o}this.UpdateMainData(n,a),this.BindInstructionIndexData(n);for(var i=0;i<this.Frame.SubFrame.length;++i)this.BindIndexData(i,n);var h=this.Page.Day;++h.Index,1==h.Enable&&1==h.Finish&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.ReqeustHistoryMinuteData=function(){var t=this;if(this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.Draw(),this.NetworkFilter){var e={Name:"KLineChartContainer::ReqeustHistoryMinuteData",Explain:"1分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestMinuteDayCount,field:["name","symbol","yclose","open","price","high","low","vol"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var a=t.Page.Minute;1==a.Enable&&0==a.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}),1==e.PreventDefault)return}n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var a=t.Page.Minute;1==a.Enable&&0==a.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}})},this.RecvMinuteHistoryData=function(t){var e=Ge.JsonDataToMinuteHistoryData(t),a=new G;a.Data=e,a.DataType=1,a.Symbol=t.symbol,this.SourceData=a,this.BeforeBindMainData&&this.BeforeBindMainData("RecvMinuteHistoryData");var i=new G;if(i.Data=e,i.Right=this.Right,i.Period=this.Period,i.DataType=1,i.Symbol=t.symbol,G.IsMinutePeriod(i.Period,!1)&&!this.IsApiPeriod){var r=a.GetPeriodData(i.Period);i.Data=r}this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(i,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvMinuteHistoryData"),this.Frame.SetSizeChage(!0),this.BindInstructionIndexData(i);for(var n,s=0;s<this.Frame.SubFrame.length;++s)0==s&&(n=this.Frame.SubFrame[s].Frame),this.BindIndexData(s,i);n&&n.YSplitOperator&&(n.YSplitOperator.Symbol=this.Symbol,n.YSplitOperator.Data=this.ChartPaint[0].Data,n.YSplitOperator.Period=this.Period);for(var s in this.OverlayChartPaint){var o=this.OverlayChartPaint[s];o.Data=null}var h=this.Page.Minute;(0==h.Enable||1==h.Enable&&1==h.Finish)&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryMinuteData(),this.CreateChartDrawPictureByStorage()),h.Enable&&++h.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw();for(var s=0;s<this.Frame.SubFrame.length;++s){var o=this.Frame.SubFrame[s];for(var l in o.OverlayIndex){var u=o.OverlayIndex[l];this.BindOverlayIndexData(u,s,i)}}if(this.mapEvent.has(Oi.RECV_HISTROY_DATA)){var d=this.mapEvent.get(Oi.RECV_HISTROY_DATA),t={HistoryData:i,Stock:{Symbol:this.Symbol,Name:this.Name}};d.Callback(d,t,this)}},this.ReqeustHistoryMinutePageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],a={Name:"KLineChartContainer::RecvHistoryMinutePageData",Explain:"1分钟K线数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Minute.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date,time:e.Time}}},Page:t.Page.Minute,Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(e){t.RecvHistoryMinutePageData(e);var a=t.Page.Minute;1==a.Enable&&0==a.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()}),1==a.PreventDefault)return}setTimeout(function(){var e=t.Page.Minute;e.Finish=!0;var a={data:[[20190906,14.58,14.71,14.71,14.71,14.71,1096425,16128411,925],[20190906,14.71,14.73,14.74,14.71,14.71,2154859,31731820,930],[20190906,14.71,14.71,14.71,14.68,14.69,1427516,20989208,931],[20190906,14.69,14.69,14.71,14.68,14.7,1680503,24694143,932],[20190906,14.7,14.69,14.7,14.65,14.65,1315900,19310964,933],[20190906,14.65,14.66,14.69,14.65,14.68,702955,10313842,934],[20190906,14.68,14.7,14.71,14.67,14.67,1735266,25495875,935],[20190906,14.67,14.68,14.7,14.67,14.67,739e3,10845398,936],[20190906,14.67,14.67,14.68,14.67,14.68,389800,5721266,937],[20190906,14.68,14.68,14.7,14.68,14.69,648477,9527859,938],[20190906,14.69,14.7,14.71,14.69,14.7,1128400,16589794,939],[20190906,14.7,14.7,14.71,14.69,14.71,714858,10509708,940],[20190906,14.71,14.71,14.71,14.69,14.69,401500,5900477,941],[20190906,14.69,14.69,14.71,14.69,14.69,1165684,17131034,942],[20190906,14.69,14.69,14.7,14.67,14.67,498516,7321024,943],[20190906,14.67,14.68,14.68,14.67,14.67,350126,5139012,944],[20190906,14.67,14.67,14.69,14.67,14.69,561600,8246789,945]]};t.RecvHistoryMinutePageData(a),1==e.Enable&&0==e.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()},500)},this.RecvHistoryMinutePageData=function(t){var e=Ge.JsonDataToMinuteHistoryData(t),a=this.GetHistoryDataCount();for(var i in e){var r=e[i];this.SourceData.Data.splice(i,0,r)}var n=new G;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Right>0&&G.IsDayPeriod(n.Period,!1)){var s=n.GetRightDate(n.Right);n.Data=s}if(G.IsDayPeriod(n.Period,!1)||G.IsMinutePeriod(n.Period,!1)){var o=n.GetPeriodData(n.Period);n.Data=o}this.UpdateMainData(n,a),this.BindInstructionIndexData(n);for(var i=0;i<this.Frame.SubFrame.length;++i)this.BindIndexData(i,n);var h=this.Page.Minute;(0==h.Enable||1==h.Enable&&1==h.Finish)&&(this.RequestFlowCapitalData(),this.CreateChartDrawPictureByStorage()),h.Enable&&++h.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.RequestRealtimeData=function(){var t=this,e=[t.Symbol];for(var a in this.OverlayChartPaint){var i=this.OverlayChartPaint[a];i.Symbol&&(i.MainData&&i.Status==Xi.STATUS_FINISHED_ID&&e.push(i.Symbol))}if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestRealtimeData",Explain:"当天最新日线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(e){t.RecvRealtimeData(e),t.AutoUpdate()}),1==r.PreventDefault)return}n.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvRealtimeData(e),t.AutoUpdate()}})},this.RecvRealtimeData=function(t){if(1!=this.IsOnTouch){var e=Ge.JsonDataToRealtimeData(t,this.Symbol);if(e){var a=this.SourceData.Data[this.SourceData.Data.length-1],i=this.GetHistoryDataCount();if(a.Date==e.Date)xi.Chart.Log("[KLineChartContainer::RecvRealtimeData] update kline by minute data",e),a.Close=e.Close,a.High=e.High,a.Low=e.Low,a.Vol=e.Vol,a.Amount=e.Amount,a.Position=e.Position;else{if(!(a.Date<e.Date))return;xi.Chart.Log("[KLineChartContainer::RecvRealtimeData] insert kline by minute data",e);var r=new Y;r.YClose=e.YClose,r.Open=e.Open,r.Close=e.Close,r.High=e.High,r.Low=e.Low,r.Vol=e.Vol,r.Amount=e.Amount,r.Date=e.Date,r.Position=e.Position,this.SourceData.Data.push(r)}var n=new G;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Symbol=this.Symbol,n.Right>0&&G.IsDayPeriod(n.Period,!0)&&tr.IsSHSZStockA(this.Symbol)&&!this.IsApiPeriod){var s=n.GetRightDate(n.Right);n.Data=s}if(!this.IsApiPeriod&&(G.IsDayPeriod(n.Period,!1)||G.IsMinutePeriod(n.Period,!1))){var o=n.GetPeriodData(n.Period);n.Data=o}this.UpdateMainData(n,i),this.UpdateOverlayRealtimeData(t),this.BindInstructionIndexData(n);for(var h=0;h<this.Frame.SubFrame.length;++h)this.BindIndexData(h,n);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(n)}}},this.UpdateOverlayRealtimeData=function(t){for(var e in this.OverlayChartPaint){var a=this.OverlayChartPaint[e];if(a.Symbol&&(a.MainData&&a.Status==Xi.STATUS_FINISHED_ID)){var i=Ge.JsonDataToRealtimeData(t,a.Symbol);if(i){var r=a.SourceData,n=r.Data[r.Data.length-1];if(n.Date==i.Date)xi.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] update kline by minute data",i),n.Close=i.Close,n.High=i.High,n.Low=i.Low,n.Vol=i.Vol,n.Amount=i.Amount;else{if(!(a.Date<i.Date))continue;xi.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] insert kline by minute data",i);var s=new Y;s.YClose=i.YClose,s.Open=i.Open,s.Close=i.Close,s.High=i.High,s.Low=i.Low,s.Vol=i.Vol,s.Amount=i.Amount,s.Date=i.Date,r.Data.push(s)}var o=new G;if(o.Data=r.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=0,o.Right>0&&tr.IsSHSZStockA(t.symbol)&&!this.IsApiPeriod){var h=o.GetRightDate(o.Right);o.Data=h}var l=this.SourceData.GetOverlayData(o.Data,this.IsApiPeriod);if(o.Data=l,G.IsDayPeriod(o.Period,!1)&&!this.IsApiPeriod){var u=o.GetPeriodData(o.Period);o.Data=u}a.Data=o}}}},this.RequestMinuteRealtimeData=function(){var t=this,e=[t.Symbol];for(var a in this.OverlayChartPaint){var i=this.OverlayChartPaint[a];i.Symbol&&(i.MainData&&i.Status==Xi.STATUS_FINISHED_ID&&e.push(i.Symbol))}if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestMinuteRealtimeData",Explain:"当天1分钟K线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","price","yclose","minutecount","minute","date","time"]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}),1==r.PreventDefault)return}n.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","price","yclose","minutecount","minute","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}})},this.SetSourceDatatLimit=function(t){this.SourceDataLimit=new Ai.default;for(var e in t){var a=t[e];this.SourceDataLimit.set(a.Period,a.MaxCount),xi.Chart.Log("[KLineChartContainer::SetSourceDatatLimit] Period="+a.Period+", MaxCount="+a.MaxCount)}},this.ReduceSourceData=function(){if(this.SourceDataLimit&&this.SourceDataLimit.has(this.Period)){var t=this.SourceDataLimit.get(this.Period),e=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(e=this.Frame.SubFrame[0].Frame.Data):e=this.Frame.Data,e&&!(t<50)){for(var a=e.DataOffset,i=0;this.SourceData.Data.length>t;)this.SourceData.Data.shift(),--a,++i;i>0&&(a<0&&(a=0),e.DataOffset=a,xi.Chart.Log("[KLineChartContainer::ReduceSourceData] remove data "+i+", dataOffset="+a))}}},this.RecvMinuteRealtimeDataV2=function(t){if(1!=this.IsOnTouch){var e=Ge.JsonDataToMinuteHistoryData(t);if(e&&!(e.length<=0)){this.IsApiPeriod&&this.ReduceSourceData();var a=this.GetHistoryDataCount();if(this.SourceData&&this.SourceData.MergeMinuteData(e)){xi.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeDataV2] update kline by 1 minute data ["+a+"->"+this.SourceData.Data.length+"]");var i=new G;if(i.Data=this.SourceData.Data,i.Period=this.Period,i.Right=this.Right,i.DataType=this.SourceData.DataType,i.Symbol=this.Symbol,i.Right>0&&G.IsDayPeriod(i.Period,!0)&&!this.IsApiPeriod){var r=i.GetRightDate(i.Right);i.Data=r}if((G.IsDayPeriod(i.Period,!1)||G.IsMinutePeriod(i.Period,!1))&&!this.IsApiPeriod){var n=i.GetPeriodData(i.Period);i.Data=n}this.UpdateMainData(i,a),this.BindInstructionIndexData(i);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,i);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(i)}}}},this.RecvMinuteRealtimeData=function(t){if(1!=this.IsOnTouch){if(2==t.ver)return void this.RecvMinuteRealtimeDataV2(t);var e=Ge.JsonDataToMinuteRealtimeData(t,this.Symbol);if(e){this.IsApiPeriod&&this.ReduceSourceData();var a=this.GetHistoryDataCount(),i=this.SourceData.Data.length;if(this.SourceData.MergeMinuteData(e)){xi.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeData] update kline by 1 minute data ["+i+"->"+this.SourceData.Data.length+"]");var r=new G;if(r.Data=this.SourceData.Data,r.Period=this.Period,r.Right=this.Right,r.DataType=this.SourceData.DataType,r.Symbol=this.Symbol,r.Right>0&&G.IsDayPeriod(r.Period,!0)&&!this.IsApiPeriod){var n=r.GetRightDate(r.Right);r.Data=n}if((G.IsDayPeriod(r.Period,!1)||G.IsMinutePeriod(r.Period,!1))&&!this.IsApiPeriod){var s=r.GetPeriodData(r.Period);r.Data=s}this.UpdateMainData(r,a),this.UpdateOverlayMinuteRealtimeData(t),this.BindInstructionIndexData(r);for(var o=0;o<this.Frame.SubFrame.length;++o)this.BindIndexData(o,r);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(r)}}}},this.UpdateOverlayMinuteRealtimeData=function(t){for(var e in this.OverlayChartPaint){var a=this.OverlayChartPaint[e];if(a.Symbol&&(a.MainData&&a.Status==Xi.STATUS_FINISHED_ID)){var i=Ge.JsonDataToMinuteRealtimeData(t,a.Symbol);if(i){var r=a.SourceData;if(!r.MergeMinuteData(i))return;var n=new G;n.Data=r.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=0;var s=this.SourceData.GetOverlayMinuteData(n.Data,this.IsApiPeriod);if(n.Data=s,G.IsMinutePeriod(n.Period,!1)&&!this.IsApiPeriod){var o=n.GetPeriodData(n.Period);n.Data=o}a.Data=n}}}},this.GetHistoryDataCount=function(){var t=null;return this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(t=this.Frame.SubFrame[0].Frame.Data):t=this.Frame.Data,t?t.Data.length:-1},this.GetRequestDataCount=function(){var t={MaxRequestDataCount:this.MaxReqeustDataCount,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount};if(!this.SourceData||!this.SourceData.Data||this.SourceData.Data.length<=0)return t;if(G.IsDayPeriod(this.Period,!0)){var e=this.SourceData.Data.length;e>t.MaxRequestDataCount&&(t.MaxRequestDataCount=e)}else if(G.IsMinutePeriod(this.Period,!0)){var a,e=0;for(var i in this.SourceData.Data){var r=this.SourceData.Data[i];r.Date!=a&&++e,a=r.Date}e>t.MaxRequestMinuteDayCount&&(t.MaxRequestMinuteDayCount=e)}return t},this.RequestTickData=function(){var t=this;t.ChartSplashPaint.EnableSplash(!0),t.Draw();var e=Zi.CacheDomain+"/cache/dealday/today/"+t.Symbol+".json";if(this.NetworkFilter){var a={Name:"KLineChartContainer::RequestTickData",Explain:"当天分笔数据",Request:{Url:e,Data:{symbol:t.Symbol},Type:"GET"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate()}),1==a.PreventDefault)return}n.HttpRequest({url:e,data:{symbol:t.Symbol},type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate(1)},error:function(e,a){t.ChartSplashPaint.EnableSplash(!1),t.AutoUpdate()}})},this.RecvTickData=function(t){var e=Ge.JsonDataToTickData(t),a=new G;a.Data=e,a.DataType=2,this.SourceData=a,this.BeforeBindMainData&&this.BeforeBindMainData("RecvTickData");var i=new G;i.Data=e,i.Right=this.Right,i.Period=this.Period,i.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(i,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvTickData"),this.BindInstructionIndexData(i);for(var r,n=0;n<this.Frame.SubFrame.length;++n)0==n&&(r=this.Frame.SubFrame[n].Frame),this.BindIndexData(n,i);if(r&&r.YSplitOperator&&(r.YSplitOperator.Symbol=this.Symbol,r.YSplitOperator.Data=this.ChartPaint[0].Data,r.YSplitOperator.Period=this.Period,r.YSplitOperator.KLineChart=this.ChartPaint[0]),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex(),this.mapEvent.has(Oi.RECV_HISTROY_DATA)){var s=this.mapEvent.get(Oi.RECV_HISTROY_DATA),t={HistoryData:i,Stock:{Symbol:this.Symbol,Name:this.Name}};s.Callback(s,t,this)}},this.RequestTickRealtimeData=function(){var t=this,e=0;if(this.SourceData&&this.SourceData.Data&&(e=this.SourceData.Data.length),this.NetworkFilter){var a={Name:"KLineChartContainer::RequestTickRealtimeData",Explain:"当天最新分笔数据",Request:{Url:t.TickApiUrl,Data:{symbol:t.Symbol,start:e,end:e+1e3},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate()}),1==a.PreventDefault)return}n.HttpRequest({url:t.TickApiUrl,data:{symbol:t.Symbol,start:e-10,end:e+1e3},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickRealtimeData(e),t.AutoUpdate()}})},this.RecvTickRealtimeData=function(t){var e=Ge.JsonDataToTickData(t);if(e&&!(e.length<=0)){var a=this.SourceData.Data,i=this.SourceData.Data.length,r=0;a.length>0&&(r=a[a.length-1].Time);var n=0;for(var s in e){var o=e[s];o.Time<=r||(a.push(o),++n)}if(!(n<=0)){var h=new G;h.Data=a,h.Right=this.Right,h.Period=this.Period,h.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.UpdateMainData(h,i),this.BindInstructionIndexData(h);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()}}},this.ChangePeriod=function(t,e){var a=!1,i=!1,r=null;if(e&&(e.KLine&&(Wt.IsNumber(e.KLine.DrawType)&&(a=!0),Wt.IsNumber(e.KLine.Right)&&(r=e.KLine.Right)),1==e.Reload&&(i=!0)),this.Period==t&&0==i)return void(a&&this.ChangeKLineDrawType(e.KLine.DrawType));a&&this.ChangeKLineDrawType(e.KLine.DrawType,!1);var n=!1;if(t>Bi&&t<=Hi)0!=this.SourceData.DataType&&(n=!0);else if(t>ki&&t<=Vi||t>Gi&&t<=Wi)1!=this.SourceData.DataType&&(n=!0);else switch(t){case 0:case 1:case 2:case 3:case 9:case 21:0!=this.SourceData.DataType&&(n=!0);break;case 4:case 5:case 6:case 7:case 8:case 11:case 12:1!=this.SourceData.DataType&&(n=!0);break;case 10:2!=this.SourceData.DataType&&(n=!0)}if(this.Period=t,null!=r&&(this.Right=r),this.ReloadChartDrawPicture(),0==n&&!this.IsApiPeriod)return void this.Update({UpdateCursorIndexType:2});G.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetOverlaySymbolStatus(),this.RequestHistoryData(),this.ReqeustKLineInfoData()):G.IsMinutePeriod(this.Period,!0)||G.IsSecondPeriod(this.Period)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()):G.IsTickPeriod(this.Period)&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.RequestTickData())},this.ChangeRight=function(t){if(tr.IsSHSZStockA(this.Symbol)&&!G.IsTickPeriod(this.Period)){var e=this.Symbol.toUpperCase();if(!(tr.IsBIT(e)||t<0||t>2||this.Right==t)){if(this.Right=t,!this.IsApiPeriod)return void this.Update();G.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):(G.IsMinutePeriod(this.Period,!0)||G.IsSecondPeriod(this.Period))&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData())}}},this.SetFirstShowDate=function(t){if(t&&t.Date){xi.Chart.Log("[KLineChartContainer::SetFirstShowDate] obj=",t);var e=null;if(e=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data){var a=null;if(G.IsDayPeriod(this.Period,!0))for(var i=0;i<e.Data.length;++i){var r=e.Data[i];if(r.Date>=t.Date){a=i;break}}else if(G.IsMinutePeriod(this.Period,!0)){var n=t.Time;if(Wt.IsPlusNumber(n))for(var i=0;i<e.Data.length;++i){var r=e.Data[i];if(r.Date>t.Date||r.Date==t.Date&&r.Time>=n){a=i;break}}else for(var i=0;i<e.Data.length;++i){var r=e.Data[i];if(r.Date>=t.Date){a=i;break}}}if(null===a)return void xi.Chart.Log("[KLineChartContainer::SetFirstShowDate] an't find first date="+t.Date+" time="+t.Time,t);var s=e.Data.length-a,o=s;t.PageSize>0&&(o=t.PageSize);var h=this.GetMaxMinPageSize();h.Max<o?o=h.Max:h.Min>o&&(o=h.Min);for(var i in this.Frame.SubFrame){var r=this.Frame.SubFrame[i].Frame;r.XPointCount=o}e.DataOffset=a,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,xi.Chart.Log("[KLineChartContainer::SetFirstShowDate] dataOffset="+e.DataOffset+" CursorIndex="+this.CursorIndex+" PageSize="+o),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdatePointByCursorIndex(2),this.Draw()}}},this.DeleteIndexPaint=function(t){var e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=a&&i.ChartFrame==this.Frame.SubFrame[t].Frame||e.push(i)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=e;var r=t+1;this.TitlePaint[r].Data=[],this.TitlePaint[r].Title=null},this.ShowKLine=function(t){this.ChartPaint.length<=0||!this.ChartPaint[0]||(this.ChartPaint[0].IsShow=t)},this.SetInstructionData=function(t,e){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){var a=this.TitlePaint[1];2==t?(this.ChartPaint[0].ColorData=e.Data,a&&(a.ColorIndex={Name:e.Name,Param:e.Param})):1==t&&(this.ChartPaint[0].TradeData={Sell:e.Sell,Buy:e.Buy,Name:e.Name,Param:e.Param},a&&(a.TradeIndex={Name:e.Name,Param:e.Param}))}},this.ChangeInstructionIndex=function(t){var e=new o,a=e.Get(t);a&&(1!=a.InstructionType&&2!=a.InstructionType||(a.ID=t,this.ChangeInstructionScriptIndex(a)))},this.ChangeInstructionScriptIndex=function(t){if(1==t.InstructionType)this.TradeIndex=new ai(t.Name,t.Script,t.Args,t);else{if(2!=t.InstructionType)return;this.ColorIndex=new ai(t.Name,t.Script,t.Args,t)}var e=this.ChartPaint[0].Data;this.BindInstructionIndexData(e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.CancelInstructionIndex=function(){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){this.ColorIndex=null,this.TradeIndex=null,this.ChartPaint[0].ColorData=null,this.ChartPaint[0].TradeData=null;var t=this.TitlePaint[1];t&&(t.TradeIndex=null,t.ColorIndex=null),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.SetFrameToolbar=function(t,e){if(e&&this.Frame.SubFrame[t]&&this.Frame.SubFrame[t].Frame){var a=this.Frame.SubFrame[t].Frame,i=!1;Wt.IsBool(e.Modify)&&(a.ModifyIndex=e.Modify,i=!0),Wt.IsBool(e.Change)&&(a.ChangeIndex=e.Change,i=!0),Wt.IsBool(e.Close)&&(a.CloseIndex=e.Close,i=!0),Wt.IsBool(e.Overlay)&&(a.OverlayIndex=e.Overlay,i=!0),i&&(a.SizeChange=!0,a.ToolbarRect=null,a.DrawToolbar())}},this.ChangeScriptIndex=function(t,e,a){this.DeleteIndexPaint(t),this.WindowIndex[t]=new ai(e.Name,e.Script,e.Args,e),a&&a.Window&&this.SetFrameToolbar(t,a.Window);var i=this.ChartPaint[0].Data;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t);var a=e.API;this.WindowIndex[t]=new ri(a.Name,a.Script,a.Args,e),e&&e.Window&&this.SetFrameToolbar(t,e.Window);var i=this.ChartPaint[0].Data;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,a){if(a&&a.API)return this.ChangeAPIIndex(t,a);var i=ke.Get(e);if(!i){var r=new o,n=r.Get(e);if(!n)return;n.IsMainIndex?t=0:0==t&&(t=1);var s=n;return a&&(a.FloatPrecision>=0&&(s.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(s.StringFormat=a.StringFormat),a.Args&&(s.Args=a.Args),a.TitleFont&&(s.TitleFont=a.TitleFont),a.IsShortTitle&&(s.IsShortTitle=a.IsShortTitle)),this.ChangeScriptIndex(t,s,a)}i.IsMainIndex?t>0&&(t=0):0==t&&(t=1);var h=new Array;for(var l in this.ChartPaint){var u=this.ChartPaint[l];0!=l&&u.ChartFrame==this.Frame.SubFrame[t].Frame||h.push(u)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=h;var d=t+1;this.TitlePaint[d].Data=[],this.TitlePaint[d].Title=null,this.WindowIndex[t]=i.Create(),this.CreateWindowIndex(t);var c=this.ChartPaint[0].Data;this.BindIndexData(t,c),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangePyScriptIndex=function(t,e){this.DeleteIndexPaint(t),this.WindowIndex[t]=new la(e.Name,e.Script,e.Args,e);var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.AddOverlayIndex=function(t){var e=this.CreateOverlayWindowsIndex(t);if(e){var a=this.ChartPaint[0].Data;this.BindOverlayIndexData(e,t.WindowIndex,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateOverlayWindowsIndex=function(t){var e=t.IndexName,a=t.WindowIndex,i=null,r=null,n=null;if(t.API)i=t.API;else if(t.Script)r={Script:t.Script,ID:t.indexName,Name:t.indexName},t.Name&&(r.Name=t.Name);else{var s=new o;if(!(r=s.Get(e))&&!(n=ke.Get(e)))return console.warn("[KLineChartContainer::CreateOverlayIndex] can not find index["+e+"]"),null}var h=this.Frame.SubFrame[a];h.Interval=this.OverlayIndexFrameWidth;var l=new O;t.Identify&&(l.Identify=t.Identify);var u="KLineChartHScreenContainer"===this.ClassName?new N:new E;if(u.Canvas=this.Canvas,u.MainFrame=h.Frame,u.ChartBorder=h.Frame.ChartBorder,!0===t.ShowRightText?u.IsShow=!0:!1===t.ShowRightText&&(u.IsShow=!1),u.YSplitOperator=new Xt,u.YSplitOperator.LanguageID=this.LanguageID,u.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),u.YSplitOperator.Frame=u,u.YSplitOperator.ChartBorder=u.ChartBorder,u.YSplitOperator.SplitCount=h.Frame.YSplitOperator.SplitCount,l.Frame=u,i){var d=new ri(i.Name,i.Script,i.Args,t,!0);d.OverlayIndex={IsOverlay:!0,Identify:l.Identify,WindowIndex:a,Frame:l},l.Script=d}else if(r){var c=r;t.Args&&(c.Args=t.Args);var D=new ii(c.Name,c.Script,c.Args,c);D.OverlayIndex={IsOverlay:!0,Identify:l.Identify,WindowIndex:a,Frame:l},l.Script=D}else{var D=n.Create();D.OverlayIndex={IsOverlay:!0,Identify:l.Identify,WindowIndex:a,Frame:l},D.Create(this,a),l.Script=D}return h.OverlayIndex.push(l),l},this.DeleteOverlayWindowsIndex=function(t){var e=null;for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a];for(var r in i.OverlayIndex){if(i.OverlayIndex[r].Identify===t){i.OverlayIndex.splice(r,1),e=parseInt(a);break}}}if(null==e)return void console.warn("[KLineChartContainer::DeleteOverlayWindowsIndex] can't find overlay index. [identify="+t+"]");var n=e+1,s=this.TitlePaint[n];s.OverlayIndex.has(t)&&s.OverlayIndex.delete(t),this.Draw()},this.ChangeKLineDrawType=function(t,e){if(this.KLineDrawType!=t){this.KLineDrawType=t;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0==a?i.DrawType=this.KLineDrawType:"ChartVolStick"==i.ClassName&&(i.KLineDrawType=this.KLineDrawType)}for(var a in this.OverlayChartPaint){var i=this.OverlayChartPaint[a];i.DrawType=this.KLineDrawType}0!=e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.ChangeCoordinateType=function(t){if((this.Frame||this.Frame.SubFrame)&&this.Frame.SubFrame.length){if(Wt.IsNumber(t)){var e=t;if(2==e)this.Frame.SubFrame[0].Frame.CoordinateType=1;else if(1==e)this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=e;else if(0==e)this.Frame.SubFrame[0].Frame.CoordinateType=0,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0;else{if(3!=e)return;this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=2}}else t.Type>=0&&t.Type<=2&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=t.Type),!0===t.IsReverse?this.Frame.SubFrame[0].Frame.CoordinateType=1:0==t.IsReverse&&(this.Frame.SubFrame[0].Frame.CoordinateType=0);this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ChangeIndexWindowCount=function(t,e){if(!(t<=0)&&this.Frame.SubFrame.length!=t){var a=this.Frame.SubFrame.length;if(a>t){for(var i=a-1;i>=t;--i)this.DeleteIndexPaint(i),this.Frame.SubFrame[i].Frame.ClearToolbar();this.Frame.SubFrame.splice(t,a-t),this.WindowIndex.splice(t,a-t);for(var i=0;i<this.Frame.SubFrame.length;++i){var r=this.Frame.SubFrame[i].Frame;i==this.Frame.SubFrame.length-1?r.XSplitOperator.ShowText=!0:r.XSplitOperator.ShowText=!1}}else{for(var i=a;i<t;++i){var n=this.CreateSubFrameItem(i);this.Frame.SubFrame[i]=n;var s=new de;s.Frame=this.Frame.SubFrame[i].Frame,s.Canvas=this.Canvas,s.LanguageID=this.LanguageID,this.TitlePaint[i+1]=s}var h=[{Index:"RSI"},{Index:"MACD"},{Index:"VOL"},{Index:"UOS"},{Index:"CHO"},{Index:"BRAR"}];e&&e.Windows.length>0&&(h=e.Windows);for(var l=new o,i=a;i<t;++i){var r=h[i%h.length],u=r.Index,d=l.Get(u),c=d.Args;r.Args&&(c=r.Args);var D={Name:d.Name,Script:d.Script,Args:c,ID:r.Index,KLineType:d.KLineType,YSpecificMaxMin:d.YSpecificMaxMin,YSplitScale:d.YSplitScale,FloatPrecision:d.FloatPrecision,Condition:d.Condition,OutName:d.OutName};this.WindowIndex[i]=new ai(D.Name,D.Script,D.Args,D),null!=r.Modify&&(this.Frame.SubFrame[i].Frame.ModifyIndex=r.Modify),null!=r.Change&&(this.Frame.SubFrame[i].Frame.ChangeIndex=r.Change),null!=r.Close&&(this.Frame.SubFrame[i].Frame.CloseIndex=r.Close),null!=r.Overlay&&(chart.Frame.SubFrame[i].Frame.OverlayIndex=r.Overlay),1==r.IsDrawTitleBG&&(this.Frame.SubFrame[i].Frame.IsDrawTitleBG=r.IsDrawTitleBG),Wt.IsNumber(r.TitleHeight)?this.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=r.TitleHeight:r.TitleHeight=this.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight,0==r.IsShowTitleArraw&&(this.Frame.SubFrame[i].Frame.IsShowTitleArraw=!1),0==r.IsShowIndexName&&(this.Frame.SubFrame[i].Frame.IsShowIndexName=!1),r.IndexParamSpace>=0&&(this.Frame.SubFrame[i].Frame.IndexParamSpace=r.IndexParamSpace),0==r.IsShowXLine&&(this.Frame.SubFrame[i].Frame.IsShowXLine=!1),0==r.IsShowYLine&&(this.Frame.SubFrame[i].Frame.IsShowYLine=!1);var m=this.ChartPaint[0].Data;this.BindIndexData(i,m)}for(var i=0;i<this.Frame.SubFrame.length;++i){var r=this.Frame.SubFrame[i].Frame;i==this.Frame.SubFrame.length-1?r.XSplitOperator.ShowText=!0:r.XSplitOperator.ShowText=!1}this.UpdataDataoffset()}this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}},this.ChangeIndexTemplate=function(t){if(t.Windows){var e=t.Windows.length;if(!(e<=0)){var a=this.Frame.SubFrame.length,i=null,r=null;t.KLine&&(Wt.IsNumber(t.KLine.Period)&&t.KLine.Period!=this.Period&&(i=t.KLine.Period),Wt.IsNumber(t.KLine.Right)&&t.KLine.Right!=this.Right&&(r=t.KLine.Right));for(var n=null!=i||null!=r,s=0;s<a;++s){this.DeleteIndexPaint(s);var h=this.Frame.SubFrame[s];h.YSpecificMaxMin=null,h.IsLocked=!1,h.YSplitScale=null}if(a>e){for(var s=a-1;s>=e;--s)this.Frame.SubFrame[s].Frame.ClearToolbar();this.Frame.SubFrame.splice(e,a-e),this.WindowIndex.splice(e,a-e)}else for(var s=a;s<e;++s){var l=this.CreateSubFrameItem(s);this.Frame.SubFrame[s]=l;var u=new de;u.Frame=this.Frame.SubFrame[s].Frame,u.Canvas=this.Canvas,u.LanguageID=this.LanguageID,this.TitlePaint[s+1]=u}for(var d=new o,c=this.ChartPaint[0].Data,s=0;s<e;++s){var D=s,m=t.Windows[s],C=null;t.Frame&&t.Frame.length>s&&(C=t.Frame[s]);var f=D+1;if(this.TitlePaint[f].Data=[],this.TitlePaint[f].Title=null,m.Script)this.WindowIndex[s]=new ai(m.Name,m.Script,m.Args,m),n||this.BindIndexData(D,c);else{var p=m.Index,v=ke.Get(p);if(v)this.WindowIndex[s]=v.Create(),this.CreateWindowIndex(D),n||this.BindIndexData(D,c);else{var S=d.Get(p);if(S){var T=S.Args;t.Windows[s].Args&&(T=t.Windows[s].Args);var M={Name:S.Name,Script:S.Script,Args:T,ID:p,KLineType:S.KLineType,YSpecificMaxMin:S.YSpecificMaxMin,YSplitScale:S.YSplitScale,FloatPrecision:S.FloatPrecision,Condition:S.Condition,OutName:S.OutName};this.WindowIndex[s]=new ai(M.Name,M.Script,M.Args,M),n||this.BindIndexData(D,c)}}}null!=m.Modify&&(this.Frame.SubFrame[s].Frame.ModifyIndex=m.Modify),null!=m.Change&&(this.Frame.SubFrame[s].Frame.ChangeIndex=m.Change),null!=m.Close&&(this.Frame.SubFrame[s].Frame.CloseIndex=m.Close),null!=m.Overlay&&(chart.Frame.SubFrame[s].Frame.OverlayIndex=m.Overlay),1==m.IsDrawTitleBG&&(this.Frame.SubFrame[s].Frame.IsDrawTitleBG=m.IsDrawTitleBG),Wt.IsNumber(m.TitleHeight)?this.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight=m.TitleHeight:m.TitleHeight=this.Frame.SubFrame[s].Frame.ChartBorder.TitleHeight,0==m.IsShowTitleArraw&&(this.Frame.SubFrame[s].Frame.IsShowTitleArraw=!1),0==m.IsShowIndexName&&(this.Frame.SubFrame[s].Frame.IsShowIndexName=!1),m.IndexParamSpace>=0&&(this.Frame.SubFrame[s].Frame.IndexParamSpace=m.IndexParamSpace),C&&(C.SplitCount&&(this.Frame.SubFrame[s].Frame.YSplitOperator.SplitCount=C.SplitCount),!1!==C.IsShowXLine&&!0!==C.IsShowXLine||(this.Frame.SubFrame[s].Frame.IsShowXLine=C.IsShowXLine),!1!==C.IsShowYLine&&!0!==C.IsShowYLine||(this.Frame.SubFrame[s].Frame.IsShowYLine=C.IsShowYLine),!1!==C.IsShowLeftText&&!0!==C.IsShowLeftText||(this.Frame.SubFrame[s].Frame.IsShowYText[0]=C.IsShowLeftText,this.Frame.SubFrame[s].Frame.YSplitOperator.IsShowLeftText=C.IsShowLeftText),!1!==C.IsShowRightText&&!0!==C.IsShowRightText||(this.Frame.SubFrame[s].Frame.IsShowYText[1]=C.IsShowRightText,this.Frame.SubFrame[s].Frame.YSplitOperator.IsShowRightText=C.IsShowRightText))}for(var s=0;s<this.Frame.SubFrame.length;++s){var m=this.Frame.SubFrame[s].Frame;s==this.Frame.SubFrame.length-1?m.XSplitOperator.ShowText=!0:m.XSplitOperator.ShowText=!1}n?(this.Frame.SetSizeChage(!0),null!=i?this.ChangePeriod(i,t):null!=r&&this.ChangeRight(r)):(this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw())}}},this.RemoveIndexWindow=function(t){if(xi.Chart.Log("[KLineChartContainer::RemoveIndexWindow] remove id",t),0!=t&&this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){var e=this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar(),this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var a=0;a<this.Frame.SubFrame.length;++a){var i=this.Frame.SubFrame[a].Frame;a==this.Frame.SubFrame.length-1?i.XSplitOperator.ShowText=!0:i.XSplitOperator.ShowText=!1,i.Identify=a}if(this.ChartDrawPicture.length>0){var r=[];for(var a in this.ChartDrawPicture){var i=this.ChartDrawPicture[a];i.Frame!=e&&r.push(i)}this.ChartDrawPicture=r}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var a=this.WindowIndex[e],i={Name:a.Name};a.ID&&(i.ID=a.ID),t.push(i)}return t},this.CreateExtendChart=function(t,e){var a;switch(t){case"筹码分布":return a=new Yt,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,a.Left=this.Frame.ChartBorder.Right,a.SetOption(e),this.ExtendChartPaint.push(a),this.Frame.ChartBorder.Right+=a.Width,a;case"画图工具":return a=new Bt,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,a.Left=this.Frame.ChartBorder.Right,a.SetOption(e),this.ExtendChartPaint.push(a),this.Frame.ChartBorder.Right+=a.Width,a;case"KLineTooltip":return a=e.Create&&"function"==typeof e.Create?e.Create():new Pt,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,e.LanguageID=this.LanguageID,a.SetOption(e),this.ExtendChartPaint.push(a),a;case"深度图":return a=new Ht,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,a.SetOption(e),this.ExtendChartPaint.push(a),a;case"背景图":return a=new kt,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,a.SetOption(e),this.ExtendChartPaint.push(a),a;default:return null}},this.OnTouchFinished=function(){if(this.DragMode==Ri.CLICK_TOUCH_MODE_ID){if(1==this.TouchStatus.CorssCursorShow&&this.TouchDrawCount>0)return;return this.TouchStatus.CorssCursorShow=!1,void this.DrawDynamicInfo()}if(!0===this.CorssCursorTouchEnd)return void(this.TouchDrawCount>0&&this.DrawDynamicInfo());for(var t in this.ExtendChartPaint){"KLineTooltipPaint"===this.ExtendChartPaint[t].ClassName&&this.DrawDynamicInfo()}},this.GetExtendChartByClassName=function(t){for(var e in this.ExtendChartPaint){var a=this.ExtendChartPaint[e];if(a.ClassName==t)return{Index:e,Chart:a}}return null},this.DeleteExtendChart=function(t){t.Index>=this.ExtendChartPaint.length||this.ExtendChartPaint[t.Index]==t.Chart&&("function"==typeof t.Chart.Clear&&t.Chart.Clear(),this.ExtendChartPaint.splice(t.Index,1))},this.LockIndex=function(t){if(t&&t.IndexName)for(var e in this.WindowIndex){var a=this.WindowIndex[e];if(a||conintue,a.Name==t.IndexName){a.SetLock(t),this.Update();break}}},this.TryClickLock=function(t,e){for(var a in this.Frame.SubFrame){var i=this.Frame.SubFrame[a];if(i.Frame.IsLocked&&i.Frame.LockPaint){var r=new W;if(i.Frame.LockPaint.GetTooltipData(t,e,r))return r.HQChart=this,r.Data.Callback&&r.Data.Callback(r),!0}}return!1},this.TryClickIndexTitle=function(t,e){for(var a in this.TitlePaint){var i=this.TitlePaint[a];if(i.IsClickTitle&&i.IsClickTitle(t,e)){var r={Point:{X:t,Y:e},Title:i.Title,FrameID:i.Frame.Identify};xi.Chart.Log("[KLineChartContainer::TryClickIndexTitle] click title ",r);var n=this.GetEventCallback(Oi.ON_CLICK_INDEXTITLE);return n&&n.Callback&&n.Callback(n,r,this),!0}}return!1},this.SetSizeChage=function(t){this.Frame.SetSizeChage(t);for(var e in this.ExtendChartPaint){this.ExtendChartPaint[e].SizeChange=t}},this.Update=function(t){if(this.SourceData){this.BeforeBindMainData&&this.BeforeBindMainData("Update");var e=new G;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,e.DataType=this.SourceData.DataType,e.Symbol=this.Symbol,e.Right>0&&G.IsDayPeriod(e.Period,!0)){var a=e.GetRightDate(e.Right);e.Data=a}if(G.IsDayPeriod(e.Period,!1)||G.IsMinutePeriod(e.Period,!1)){var i=e.GetPeriodData(e.Period);e.Data=i}this.BindMainData(e,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("Update");for(var r=0;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,e);for(var r in this.OverlayChartPaint){var n=this.OverlayChartPaint[r];if(n.SourceData)if(G.IsMinutePeriod(this.Period,!0)){var e=new G;e.Data=n.SourceData.Data,e.Period=this.Period,e.Right=this.Right;var s=this.SourceData.GetOverlayMinuteData(e.Data,this.IsApiPeriod);if(e.Data=s,G.IsMinutePeriod(e.Period,!1)&&!this.IsApiPeriod){var i=e.GetPeriodData(e.Period);e.Data=i}n.Data=e}else{var e=new G;if(e.Data=n.SourceData.Data,e.Period=this.Period,e.Right=this.Right,e.Right>0&&tr.IsSHSZStockA(n.Symbol)){var a=e.GetRightDate(e.Right);e.Data=a}var s=this.SourceData.GetOverlayData(e.Data,this.IsApiPeriod);if(e.Data=s,G.IsDayPeriod(e.Period,!1)&&!this.IsApiPeriod){var i=e.GetPeriodData(e.Period);e.Data=i}n.Data=e}}this.ReqeustKLineInfoData(),this.CreateChartDrawPictureByStorage(),this.UpdataDataoffset(),t&&t.UpdateCursorIndexType>0?this.UpdatePointByCursorIndex(t.UpdateCursorIndexType):this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw();for(var r=0;r<this.Frame.SubFrame.length;++r){var n=this.Frame.SubFrame[r];for(var o in n.OverlayIndex){var h=n.OverlayIndex[o];this.BindOverlayIndexData(h,r,e)}}}},this.ChangeSymbol=function(t){if(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeSymbol"),this.Symbol=t,!t)return void this.DrawEmpty();if(tr.IsSHSZIndex(t)&&(this.Right=0),this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e)this.DeleteIndexPaint(e);this.ReloadChartDrawPicture(),G.IsDayPeriod(this.Period,!0)?(this.RequestHistoryData(),this.ReqeustKLineInfoData()):G.IsMinutePeriod(this.Period,!0)||G.IsSecondPeriod(this.Period)?this.ReqeustHistoryMinuteData():G.IsTickPeriod(this.Period)&&this.RequestTickData()},this.ReqeustKLineInfoData=function(){if(this.ChartPaint.length>0){this.ChartPaint[0].InfoData=new Ai.default}for(var t in this.ChartInfo)this.ChartInfo[t].RequestData(this)},this.SetKLineInfo=function(t,e){this.ChartInfo=[];for(var a in t){var i=ca.Get(t[a]);if(i){var r=i.Create();r.MaxReqeustDataCount=this.MaxReqeustDataCount,this.ChartInfo.push(r)}}1==e&&this.ReqeustKLineInfoData()},this.AddKLineInfo=function(t,e){var a=ca.GetClassInfo(t);if(!a)return void console.warn("[KLineChartContainer::AddKLineInfo] can't find infoname=",t);for(var i in this.ChartInfo){var r=this.ChartInfo[i];if(r.ClassName==a.ClassName)return}var n=ca.Get(t);if(n){var r=n.Create();r.MaxReqeustDataCount=this.MaxReqeustDataCount,this.ChartInfo.push(r),1==e&&r.RequestData(this)}},this.DeleteKLineInfo=function(t){var e=ca.GetClassInfo(t);if(!e)return void console.warn("[KLineChartContainer::DeleteKLineInfo] can't find infoname=",t);for(var a in this.ChartInfo){if(this.ChartInfo[a].ClassName==e.ClassName){this.ChartInfo.splice(a,1),this.UpdataChartInfo(),this.Draw();break}}},this.ClearKLineInfo=function(){if(this.ChartInfo&&!(this.ChartInfo.length<=0)){this.ChartInfo=[];this.ChartPaint[0].InfoData=null,this.Draw()}},this.OverlaySymbol=function(t,e){for(var a in this.OverlayChartPaint){if(this.OverlayChartPaint[a].Symbol===t)return console.warn("[KLineChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var i=new z;return i.Canvas=this.Canvas,i.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,i.ChartFrame=this.Frame.SubFrame[0].Frame,i.Name="Overlay-KLine",i.DrawType=this.KLineDrawType,i.Symbol=t,e&&e.Color?i.Color=e.Color:i.Color=Zi.OverlaySymbol.Color[Zi.OverlaySymbol.Random%Zi.OverlaySymbol.Color.length],i.SetOption(e),++Zi.OverlaySymbol.Random,this.ChartPaint[0]&&this.ChartPaint[0].Data&&this.SourceData&&(i.MainData=this.ChartPaint[0].Data),this.OverlayChartPaint.push(i),G.IsDayPeriod(this.Period,!0)?this.RequestOverlayHistoryData():G.IsMinutePeriod(this.Period,!0)&&this.RequestOverlayHistoryMinuteData(),!0},this.RequestOverlayHistoryData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data){var e=this,a=this.GetRequestDataCount(),i=this.SourceData.Data[0].Date;for(var r in this.OverlayChartPaint){var s,o=function(){var o=t.OverlayChartPaint[r];if(!o.MainData)return"continue";if(o.Status!=Xi.STATUS_NONE_ID)return"continue";var h=o.Symbol;return h?(o.Status=Xi.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"KLineChartContainer::RequestOverlayHistoryData",Explain:"叠加股票日K线数据",Request:{Url:e.KLineApiUrl,Data:{symbol:h,count:a.MaxRequestDataCount,first:{date:i},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){o.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,o)}),1==s.PreventDefault)?{v:void 0}:void n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high"],symbol:h,start:-1,count:a.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){o.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,o)}})):"continue"}();switch(o){case"continue":continue;default:if("object"===(void 0===o?"undefined":(0,Si.default)(o)))return o.v}}}},this.RecvOverlayHistoryData=function(t,e){if(!e.IsDelete){var a=Ge.JsonDataToHistoryData(t),i=new G;i.Data=a,i.DataType=0;var r=new G;if(r.Data=a,r.Period=this.Period,r.Right=this.Right,r.DataType=0,r.Right>0&&tr.IsSHSZStockA(t.symbol)){var n=r.GetRightDate(r.Right);r.Data=n}var s=this.SourceData.GetOverlayData(r.Data,this.IsApiPeriod);if(r.Data=s,G.IsDayPeriod(r.Period,!1)&&!this.IsApiPeriod){var o=r.GetPeriodData(r.Period);r.Data=o}e.Data=r,e.SourceData=i,e.Title=t.name,e.Symbol=t.symbol,e.Status=Xi.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.RequestOverlayHistoryMinuteData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data){var e=this,a=this.GetRequestDataCount(),i=this.SourceData.Data[0].Date,r=this.SourceData.Data[0].Time;for(var s in this.OverlayChartPaint){var o,h=function(){var h=t.OverlayChartPaint[s];if(!h.MainData)return"continue";if(h.Status!=Xi.STATUS_NONE_ID)return"continue";var l=h.Symbol;return l?(h.Status=Xi.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"KLineChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票分钟K线数据",Request:{Url:e.MinuteKLineApiUrl,Data:{symbol:l,count:a.MaxRequestMinuteDayCount,first:{date:i,time:r},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){h.Status=Xi.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,h)}),1==o.PreventDefault)?{v:void 0}:void n.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","vol","amount"],symbol:l,start:-1,count:a.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){h.Status=Xi.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,h)}})):"continue"}();switch(h){case"continue":continue;default:if("object"===(void 0===h?"undefined":(0,Si.default)(h)))return h.v}}}},this.RecvOveralyHistoryMinuteData=function(t,e){var a=Ge.JsonDataToMinuteHistoryData(t);if(a){var i=new G;i.Data=a,i.DataType=1;var r=new G;r.Data=a,r.Period=this.Period,r.Right=this.Right,r.DataType=1;var n=this.SourceData.GetOverlayMinuteData(r.Data,this.IsApiPeriod);if(r.Data=n,G.IsMinutePeriod(r.Period,!1)&&!this.IsApiPeriod){var s=r.GetPeriodData(r.Period);r.Data=s}e.Data=r,e.SourceData=i,e.Title=t.name,e.Symbol=t.symbol,e.Status=Xi.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=Xi.STATUS_NONE_ID}},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0,this.UpdateFrameMaxMin(),this.Draw()},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var a=this.OverlayChartPaint[e];if(a.Symbol===t)return a.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.OverlayChartPaint.length<=0&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[KLineChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.RequestFlowCapitalData=function(){if(this.Symbol&&1!=this.FlowCapitalReady){var t=this.Symbol.toUpperCase(),e=!0;if((tr.IsBIT(t)||tr.IsFutures(t))&&(e=!1),this.EnableFlowCapital&&tr.IsBIT(t)&&1==this.EnableFlowCapital.BIT&&(e=!0),!e)return xi.Chart.Log("[KLineChartContainer::RequestFlowCapitalData] symbol="+this.Symbol+" not need download data."),void(this.FlowCapitalReady=!0);var a=this,i=["name","date","symbol","capital.a"];if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestFlowCapitalData",Explain:"流通股本数据",Request:{Url:a.StockHistoryDayApiUrl,Data:{symbol:[this.Symbol],orderfield:"date",field:i},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){a.RecvFlowCapitalData(t)}),1==r.PreventDefault)return}n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:i,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(t){a.RecvFlowCapitalData(t)}})}},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0],a=new Array;for(var i in e.stockday){var r=e.stockday[i],n=new H;n.Date=r.date;var s=r.capital;s&&(s.a>0&&(n.Value=s.a,a.push(n)))}if(this.IsApiPeriod){var o=this.ChartPaint[0].Data,h=null;if(G.IsMinutePeriod(this.Period,!0)?h=o.GetMinuteFittingFinanceData(a):G.IsDayPeriod(this.Period,!0)&&(h=o.GetFittingFinanceData(a)),h&&o.Data&&h.length==o.Data.length)for(var l in o.Data){var r=o.Data[l];r.FlowCapital=h[l].Value}}else if(G.IsMinutePeriod(this.Period,!0)){var h=this.SourceData.GetMinuteFittingFinanceData(a);for(var u in this.SourceData.Data){var r=this.SourceData.Data[u];r.FlowCapital=h[u].Value}var d=this.ChartPaint[0].Data,c=new G;if(c.Data=this.SourceData.Data,G.IsMinutePeriod(d.Period,!1)){var D=c.GetPeriodData(d.Period);c.Data=D}d.Data=c.Data}else{var h=this.SourceData.GetFittingFinanceData(a);for(var m in this.SourceData.Data){var r=this.SourceData.Data[m];r.FlowCapital=h[m].Value}var d=this.ChartPaint[0].Data,c=new G;if(c.Data=this.SourceData.Data,d.Right>0){var C=c.GetRightDate(d.Right);c.Data=C}if(G.IsDayPeriod(d.Period,!1)){var D=c.GetPeriodData(d.Period);c.Data=D}d.Data=c.Data}this.FlowCapitalReady=!0;var f=!1;for(var l in this.ExtendChartPaint){var r=this.ExtendChartPaint[l];if("StockChip"==r.ClassName){f=!0;break}}f&&this.Draw()}},this.CreateChartDrawPicture=function(t,e,a){var i=null,r=ce.GetDrawPictureByName(t);if(r&&(i=r.Create(),"ChartDrawPictureText"==i.ClassName&&(i.HQChart=this)),!i&&ce.MapIonFont.has(t)){var n=ce.MapIonFont.get(t);i=new Le,i.FontOption.Family=n.Family,i.Text=n.Text,n.Color&&(i.LineColor=n.Color)}if(!i)return!1;i.Canvas=this.Canvas,i.Status=0,i.Symbol=this.Symbol,i.Period=this.Period,i.Option=this.ChartDrawOption,a&&(i.FinishedCallback=a),e&&i.SetOption(e);var s=this;return i.Update=function(){s.DrawDynamicInfo()},this.CurrentChartDrawPicture=i,!0},this.MoveChartDrawPicture=function(t,e,a){var i=this.CurrentChartDrawPicture;if(!i)return!1;var r=u();a&&(r=1);var n=t*r,s=e*r;return i.Move(n,s),!0},this.UpdateChartDrawXValue=function(){for(var t in this.ChartDrawPicture){this.ChartDrawPicture[t].UpdateXValue()}},this.OnRightMenu=function(t,e,a){var i=u();if(this.RightMenu){var r=this.Frame.PtInFrame(t*i,e*i);a.data={Chart:this,FrameID:r},this.RightMenu.DoModal(a)}var n=this.GetEventCallback(Oi.ON_CONTEXT_MENU);if(n){var r=this.Frame.PtInFrame(t*i,e*i),s={X:t,Y:e,Event:a,FrameID:r};n.Callback(n,s,this)}},this.ReloadChartDrawPicture=function(){this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage&&(this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:this.Period}))},this.CreateChartDrawPictureByStorage=function(){if(this.ChartDrawStorageCache&&!(this.ChartDrawStorageCache.length<=0)){for(var t in this.ChartDrawStorageCache){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var a=ce.CreateChartDrawPicture(e);a&&(a.Canvas=this.Canvas,a.Status=10,a.Frame=this.Frame.SubFrame[e.FrameID].Frame,a.UpdateXValue(),a.ValueToPoint(),"ChartDrawPictureText"===a.ClassName&&(a.IsInitialized=!0),this.ChartDrawPicture.push(a))}}this.ChartDrawStorageCache=null}},this.RequestKLineMatch=function(t,e){var a=this,i=e.Scope,r=e.WaitDialog;xi.Chart.Log("[KLineChartContainer::RequestKLineMatch",t,i);for(var n=new Array,s=new Array,o=t.Start;o<t.End&&o<t.Data.Data.length;++o){var h=t.Data.Data[o];n.push(h.Date),s.push(h.Close)}var l={Stock:t.Stock,Index:{Start:t.Start,End:t.End},Date:{Start:n[0],End:n[n.length-1]},Minsimilar:i.Minsimilar,Plate:i.Plate,DayRegion:300};Ei.default.ajax({url:this.KLineMatchUrl,data:{userid:"guest",plate:i.Plate,period:this.Period,right:this.Right,dayregion:l.DayRegion,minsimilar:i.Minsimilar,sampledate:n,samplevalue:s},type:"post",dataType:"json",async:!0,success:function(t){r&&r.Close(),a.RecvKLineMatchData(t,l)},error:function(t,e,a){console.warn("[KLineChartContainer::RequestKLineMatch] failed",t,e,a),r&&r.Close()}})},this.RecvKLineMatchData=function(t,e){xi.Chart.Log("[KLineChartContainer::RecvKLineMatchData] recv",t,e);var a=[];for(var i in t.match){var r=t.match[i];if(r.symbol!=e.Stock.Symbol)for(var n in r.data){var s=r.data[n],o={Symbol:r.symbol,Name:r.name,Similar:s.similar,Start:s.start,End:s.end};a.push(o)}}if(a.sort(function(t,e){return e.Similar-t.Similar}),xi.Chart.Log("[KLineChartContainer::RecvKLineMatchData] filterData",a),this.mapEvent.has(Oi.RECV_KLINE_MATCH)){var r=this.mapEvent.get(Oi.RECV_KLINE_MATCH),t={Sample:e,Match:a,Source:t};r.Callback(r,t,this)}else{var h=new Fa(this.Frame.ChartBorder.UIElement.parentNode),l={data:{Chart:this,MatchData:a,Sample:e,Source:t}};h.DoModal(l)}},this.UpdataChartInfo=function(){var t=null;if(0==this.Period){t=new Ai.default;for(var e in this.ChartInfo){var a=this.ChartInfo[e].Data;for(var i in a){var r=a[i];t.has(r.Date.toString())?t.get(r.Date.toString()).Data.push(r):t.set(r.Date.toString(),{Data:new Array(r)})}}}else if(G.IsDayPeriod(this.Period,!1)){t=new Ai.default;var n=this.ChartPaint[0].Data;for(var e in this.ChartInfo)this.ChartInfo[e].TempID=this.ChartInfo[e].Data.length-1;for(var e=0;e<n.Data.length;++e){var s=n.Data[e];for(var i in this.ChartInfo)for(var o=this.ChartInfo[i],a=o.Data;o.TempID>=0;--o.TempID){var h=a[o.TempID];if(h.Date>s.Date)break;t.has(s.Date.toString())?t.get(s.Date.toString()).Data.push(h):t.set(s.Date.toString(),{Data:new Array(h)})}}for(var e in this.ChartInfo)delete this.ChartInfo[e].TempID}this.ChartPaint[0].InfoData=t},this.UpdateWindowIndex=function(t){var e=new G;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,this.IsApiPeriod);else{if(e.Right>0){var a=e.GetRightDate(e.Right);e.Data=a}if(G.IsDayPeriod(e.Period,!1)||G.IsMinutePeriod(e.Period,!1)){var i=e.GetPeriodData(e.Period);e.Data=i}}if("function"==typeof this.WindowIndex[t].ExecuteScript){var r=this.ChartPaint[0].Data;this.WindowIndex[t].ExecuteScript(this,t,r)}else this.WindowIndex[t].BindData(this,t,e);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeWindowIndexParam=function(t){this.WindowIndex[t].Index[0].Param+=1,this.WindowIndex[t].Index[1].Param+=1,this.UpdateWindowIndex(t)},this.OnDoubleClick=function(t,e,a){var i=null;if(this.mapEvent.has(Oi.DBCLICK_KLINE)&&(i=this.mapEvent.get(Oi.DBCLICK_KLINE)),this.MinuteDialog||i){var r=new W;for(var n in this.ChartPaint){if(this.ChartPaint[n].GetTooltipData(t,e,r))break}if(r.Data){if(i){var s={Tooltip:r,Stock:{Symbol:this.Symbol,Name:this.Name}};i.Callback(i,s,this)}this.MinuteDialog&&(a.data={Chart:this,Tooltip:r},this.MinuteDialog.DoModal(a))}}},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,a=tr.GetMarketStatus(this.Symbol);if(0!=a&&3!=a){var i=this.AutoUpdateFrequency;1==a?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},i):2==a&&(this.AutoUpdateTimer=setTimeout(function(){G.IsDayPeriod(e.Period,!0)?e.RequestRealtimeData():G.IsMinutePeriod(e.Period,!0)||G.IsSecondPeriod(e.Period)?e.RequestMinuteRealtimeData():G.IsTickPeriod(e.Period)&&e.RequestTickRealtimeData()},i))}}},this.GetMaxMinPageSize=function(){var t={},e=this.Frame.ChartBorder.GetWidth(),a=Ui[Ui.length-1][0]+Ui[Ui.length-1][1];return t.Max=parseInt(e/a)-2,a=Ui[0][0]+Ui[0][1],t.Min=parseInt(e/a)-2,xi.Chart.Log("[KLineChartContainer::GetMaxMinPageSize] Max="+t.Max+" Min="+t.Min),t},this.GetChartStatus=function(){var t=this.Frame.SubFrame[0].Frame;if(!t)return null;var e=t.Data;if(!e)return null;var a={KLine:{},Zoom:{}};return a.KLine.Count=e.Data.length,a.KLine.Offset=e.DataOffset,a.KLine.PageSize=t.XPointCount,a.Zoom.Index=t.ZoomIndex,a.Zoom.Max=Ui.length,a},this.DragDownloadData=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;if(!(t.DataOffset>0))if(G.IsMinutePeriod(this.Period,!0)){if(xi.Chart.Log("[KLineChartContainer.DragDownloadData] Minute:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+"]"),!this.DragDownload.Minute.Enable)return;if(this.DragDownload.Minute.IsEnd)return;if(0!=this.DragDownload.Minute.Status)return;this.RequestDragMinuteData()}else if(G.IsDayPeriod(this.Period,!0)){if(xi.Chart.Log("[KLineChartContainer.DragDownloadData] Day:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+"]"),!this.DragDownload.Day.Enable)return;if(this.DragDownload.Day.IsEnd)return;if(0!=this.DragDownload.Day.Status)return;this.RequestDragDayData()}},this.RequestDragMinuteData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragMinuteData"),this.CancelAutoUpdate();var e=this.DragDownload.Minute;e.Status=1;var a=this.SourceData.Data[0],i={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:a.Date,endtime:a.Time,count:t.MaxRequestMinuteDayCount,first:{date:a.Date,time:a.Time}};if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestDragMinuteData",Explain:"拖拽1分钟K线数据下载",Request:{Url:this.DragMinuteKLineApiUrl,Type:"POST",Data:i},DragDownload:e,Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(a){t.RecvDragMinuteData(a),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()}),1==r.PreventDefault)return}n.HttpRequest({url:this.DragMinuteKLineApiUrl,data:i,type:"post",dataType:"json",async:!0,success:function(a){t.RecvDragMinuteData(a),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragMinuteData"),t.AutoUpdate()}})},this.RecvDragMinuteData=function(t){var e=Ge.JsonDataToMinuteHistoryData(t);if(!e||e.length<=0)return void(this.DragDownload.Minute.IsEnd=!0);for(var a=this.GetHistoryDataCount(),i=this.SourceData.Data[0],r=null,n=e.length-1;n>=0;--n){var s=e[n];if(i.Date>s.Date||i.Date==s.Date&&i.Time>s.Time){r=n;break}if(i.Date==s.Date&&i.Time==s.Time){i.YClose=s.YClose,r=n-1;break}}if(!(null==r&&r<0)){for(var n=0;n<e.length&&n<=r;++n){var s=e[n];this.SourceData.Data.splice(n,0,s)}var o=new G;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,!this.IsApiPeriod&&(G.IsDayPeriod(o.Period,!1)||G.IsMinutePeriod(o.Period,!1))){var h=o.GetPeriodData(o.Period);o.Data=h}this.UpdateMainData(o,a),this.BindInstructionIndexData(o);for(var n=0;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,o);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw()}},this.RequestDragDayData=function(){var t=this;this.AutoUpdateEvent(!1,"KLineChartContainer::RequestDragDayData"),this.CancelAutoUpdate();var e=this.DragDownload.Day;e.Status=1;var a=this.SourceData.Data[0],i={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,enddate:a.Date,count:t.MaxReqeustDataCount,first:{date:a.Date}};if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestDragDayData",Explain:"拖拽日K数据下载",Request:{Url:this.DragKLineApiUrl,Type:"POST",Data:i},DragDownload:e,Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(a){t.RecvDragDayData(a),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()}),1==r.PreventDefault)return}n.HttpRequest({url:this.DragKLineApiUrl,data:i,type:"post",dataType:"json",async:!0,success:function(a){t.RecvDragDayData(a),e.Status=0,t.AutoUpdateEvent(!0,"KLineChartContainer::RequestDragDayData"),t.AutoUpdate()}})},this.RecvDragDayData=function(t){var e=Ge.JsonDataToHistoryData(t);if(!e||e.length<=0)return void(this.DragDownload.Day.IsEnd=!0);for(var a=this.GetHistoryDataCount(),i=this.SourceData.Data[0],r=null,n=e.length-1;n>=0;--n){var s=e[n];if(i.Date>s.Date){r=n;break}if(i.Date==s.Date){i.YClose=s.YClose,r=n-1;break}}if(!(null==r&&r<0)){for(var n=0;n<e.length&&n<=r;++n){var s=e[n];this.SourceData.Data.splice(n,0,s)}var o=new G;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,o.DataType=this.SourceData.DataType,o.Symbol=this.Symbol,!this.IsApiPeriod&&(G.IsDayPeriod(o.Period,!1)||G.IsMinutePeriod(o.Period,!1))){var h=o.GetPeriodData(o.Period);o.Data=h}this.UpdateMainData(o,a),this.BindInstructionIndexData(o);for(var n=0;n<this.Frame.SubFrame.length;++n)this.BindIndexData(n,o);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw()}},this.SetCustomVerical=function(t,e){if(this.Frame&&!(t>=this.Frame.SubFrame.length)){var a=this.Frame.SubFrame[t];a.Frame&&(a.Frame.CustomVerticalInfo=e)}},this.OnSize=function(){if(this.Frame&&this.Frame.OnSize){var t=this.Frame.OnSize();this.Frame.SetSizeChage(!0),t.Changed&&(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin()),this.Draw()}}}function We(t){this.newMethod=l,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartContainer",this.WindowIndex=new Array,this.Symbol,this.Name,this.SourceData,this.IsAutoUpdate=!0,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.TradeDate=0,this.DayCount=1,this.DayData,this.LimitPrice,this.IsShowBeforeData=!1,this.BeforeData=null,this.IsBeforeData=!1,this.IsShowLead=!0,this.ChartDrawStorage=new Re,this.ChartDrawStorageCache=null,this.MinuteApiUrl=Zi.Domain+"/API/Stock",this.HistoryMinuteApiUrl=Zi.Domain+"/API/StockMinuteData",this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.OnTouchStart=function(e){if(0!=this.DragMode&&(this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer(),0==this.EnableScrollUpDown&&e.preventDefault(),this.IsPhoneDragging(e))){var a={Click:{},LastMove:{}},i=this.GetToucheData(e,this.IsForceLandscape);a.Click.X=i[0].clientX,a.Click.Y=i[0].clientY,a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY;var r=this,n=function(){if(!0===r.ChartCorssCursor.IsShow){var i=u(),n=a.Click.X-t.getBoundingClientRect().left*i,s=a.Click.Y-t.getBoundingClientRect().top*i;r.OnMouseMove(n,s,e)}};if(this.ChartDrawOption.IsLockScreen){if(this.MouseDrag=a,this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture){return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(a.Click.X,a.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(a.Click.X,a.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault())}var s={};u();if(s.X=i[0].clientX-t.getBoundingClientRect().left,s.Y=i[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(s)){s.ChartDrawPicture.Status=20,s.ChartDrawPicture.ValueToPoint(),s.ChartDrawPicture.MovePointIndex=s.PointIndex,s.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=s.ChartDrawPicture,this.SelectChartDrawPicture=s.ChartDrawPicture;var o=this.GetEventCallback(Oi.ON_CLICK_DRAWPICTURE);if(o&&o.Callback){var h={DrawPicture:s.ChartDrawPicture};o.Callback(o,h,this)}return void(e.cancelable&&e.preventDefault())}}else 1==this.EnableScrollUpDown&&(this.DragTimer=setTimeout(function(){if(a.Click.X==a.LastMove.X&&a.Click.Y==a.LastMove.Y){r.MouseDrag;r.MouseDrag=null,n(),r.PreventTouchEvent(e)}},800)),this.MouseDrag=a,this.SelectChartDrawPicture=null,0==this.EnableScrollUpDown&&n()}},this.OnTouchMove=function(e){var a=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var i=this.MouseDrag;if(null==i){var r=u(),n=a[0].clientX-t.getBoundingClientRect().left*r,s=a[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,s,e)}else{var o=this.GetMoveAngle(i.LastMove,{X:a[0].clientX,Y:a[0].clientY}),h=Math.abs(i.LastMove.X-a[0].clientX),l=Math.abs(i.LastMove.Y-a[0].clientY);if(h=parseInt(h),this.CurrentChartDrawPicture){var d=this.CurrentChartDrawPicture;if(1==d.Status||2==d.Status){if(h<5&&l<5)return;this.SetChartDrawPictureSecondPoint(a[0].clientX,a[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==d.Status)this.SetChartDrawPictureThirdPoint(a[0].clientX,a[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==d.Status){if(h<5&&l<5)return;this.MoveChartDrawPicture(a[0].clientX-i.LastMove.X,a[0].clientY-i.LastMove.Y,!0)&&this.DrawDynamicInfo()}i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY}else{if((l>0&&h<=3||o<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();this.PreventTouchEvent(e),this.MouseDrag=null;var r=u(),n=a[0].clientX-t.getBoundingClientRect().left*r,s=a[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,s,e)}}}0==this.EnableScrollUpDown?e.preventDefault():null==i?this.PreventTouchEvent(e):this.StopDragTimer()},this.OnTouchEnd=function(t){xi.Chart.Log("[MinuteChartContainer::OnTouchEnd]",t);if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}this.IsOnTouch=!1,this.StopDragTimer(),this.OnTouchFinished(),this.TouchDrawCount=0},this.OnKeyDown=function(t){switch(t.keyCode?t.keyCode:t.which){case 37:if(this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex<=.99999){if(!this.DataMoveLeft())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo();break;case 39:var e=0;if(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex+1>=e){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else{var a=null;if(!(a=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+a.DataOffset+1>=a.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo()}break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1},this.OnRightMenu=function(t,e,a){if(this.RightMenu){var i=this.Frame.PtInFrame(t,e);a.data={Chart:this,FrameID:i},this.RightMenu.DoModal(a)}var r=this.GetEventCallback(Oi.ON_CONTEXT_MENU);if(r){var i=this.Frame.PtInFrame(t,e),n={X:t,Y:e,Event:a,FrameID:i};r.Callback(r,n,this)}},this.OnWheel=function(t){xi.Chart.Log("[MinuteChartContainer::OnWheel]",t)},this.UpdatePointByCursorIndex=function(){this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Frame.SourceData;if(!(e.DataOffset+t>=e.Data.length)){var a=e.Data[e.DataOffset+t],i=null;i=a.Before?a.Before.Close:a.Close,this.LastPoint.Y=this.Frame.GetYFromData(i)}},this.Create=function(t,e){var a=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new qt,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new ee,this.ChartCorssCursor.StringFormatY=new $t,this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new P,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var i in this.Frame.SubFrame){var r=new de;r.Frame=this.Frame.SubFrame[i].Frame,r.Canvas=this.Canvas,r.LanguageID=this.LanguageID,this.TitlePaint.push(r)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame;var n=!0,s=!0;e&&(!1===e.KeyDown&&(n=!1,xi.Chart.Log("[MinuteChartContainer::Create] not register keydown event.")),!1===e.Wheel&&(s=!1,xi.Chart.Log("[MinuteChartContainer::Create] not register wheel event."))),n&&this.UIElement.addEventListener("keydown",function(t){a.OnKeyDown(t)},!0),s&&this.UIElement.addEventListener("wheel",function(t){a.OnWheel(t)},!0)},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new T;a.UIElement=this.UIElement;var i=new L;i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,e<2&&(i.ChartBorder.TitleHeight=0),i.XPointCount=243,e>=2&&(this.ModifyIndexDialog&&(i.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(i.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var r=[9,8,7,6,5,4,3,2,1];i.HorizontalMax=r[0],i.HorizontalMin=r[r.length-1],0==e?(i.YSplitOperator=new Jt,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price")):(i.YSplitOperator=new Xt,i.YSplitOperator.LanguageID=this.LanguageID,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double")),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new jt,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1),i.XSplitOperator.Operator();for(var n in r)i.HorizontalInfo[n]=new S,i.HorizontalInfo[n].Value=r[n],0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=r[n].toString(),i.HorizontalInfo[n].Font="14px 微软雅黑");var s=new w;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}},this.CreateSubFrameItem=function(t){var e=new T;e.UIElement=this.UIElement;var a=new L;a.Canvas=this.Canvas,a.ChartBorder=e,a.Identify=t,a.XPointCount=243,t>=2&&(this.ModifyIndexDialog&&(a.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(a.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var i=[9,8,7,6,5,4,3,2,1];a.HorizontalMax=i[0],a.HorizontalMin=i[i.length-1],a.YSplitOperator=new Xt,a.YSplitOperator.LanguageID=this.LanguageID,a.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),a.YSplitOperator.Frame=a,a.YSplitOperator.ChartBorder=e,a.XSplitOperator=new jt,a.XSplitOperator.Frame=a,a.XSplitOperator.ChartBorder=e,a.XSplitOperator.ShowText=!1;var r=this.Frame.SubFrame[0].Frame.XPointCount;a.XPointCount=r,a.Data=this.ChartPaint[0].Data;for(var n in i)a.HorizontalInfo[n]=new S,a.HorizontalInfo[n].Value=i[n],a.HorizontalInfo[n].Message[1]=i[n].toString(),a.HorizontalInfo[n].Font="14px 微软雅黑";var s=new w;return s.Frame=a,s.Height=10,s},this.UpdateXShowText=function(){for(var t=!0,e=this.Frame.SubFrame.length-1;e>=0;--e){var a=this.Frame.SubFrame[e].Frame,i=this.Frame.SubFrame[e];t?(a.XSplitOperator.ShowText=!0,i.Height>0&&(t=!1)):a.XSplitOperator.ShowText=!1}},this.DeleteIndexPaint=function(t){var e=new Array;for(var a in this.ChartPaint){var i=this.ChartPaint[a];0!=a&&i.ChartFrame==this.Frame.SubFrame[t].Frame||e.push(i)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.ChartPaint=e;var r=t+1;this.TitlePaint[r].Data=[],this.TitlePaint[r].Title=null},this.CreateStockInfo=function(){this.ExtendChartPaint[0]=new bt,this.ExtendChartPaint[0].Canvas=this.Canvas,this.ExtendChartPaint[0].ChartBorder=this.Frame.ChartBorder,this.ExtendChartPaint[0].ChartFrame=this.Frame,this.Frame.ChartBorder.Right=300},this.CreateMainKLine=function(){var t=new ct;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Line",t.Color=Zi.Minute.PriceColor,t.AreaColor=Zi.Minute.AreaPriceColor,this.ChartPaint[0]=t;var e=new ct;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Average-Line",e.Color=Zi.Minute.AvPriceColor,e.IsDrawArea=!1,this.ChartPaint[1]=e;var a=new q;a.Color=Zi.Minute.VolBarColor,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[1].Frame,a.Name="Minute-Vol-Bar",this.ChartPaint[2]=a,this.TitlePaint[0]=new le,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID},this.ChangeScriptIndex=function(t,e,a){this.DeleteIndexPaint(t),this.WindowIndex[t]=new ai(e.Name,e.Script,e.Args,e);var i=this.SourceData;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,a){if(!(this.Frame.SubFrame.length<3)){var i=new o,r=i.Get(e);if(r){t<2&&(t=2),t>=this.Frame.SubFrame.length&&(t=2);var n={Name:r.Name,Script:r.Script,Args:r.Args,ID:e,KLineType:r.KLineType,YSpecificMaxMin:r.YSpecificMaxMin,YSplitScale:r.YSplitScale,FloatPrecision:r.FloatPrecision,Condition:r.Condition,StringFormat:r.StringFormat,OutName:r.OutName};return a&&(a.FloatPrecision>=0&&(n.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(n.StringFormat=a.StringFormat),a.Args&&(n.Args=a.Args)),this.ChangeScriptIndex(t,n,a)}}},this.ChangeIndexWindowCount=function(t){if(!(t<2)&&this.Frame.SubFrame.length!=t){var e=this.Frame.SubFrame.length;if(e>t){for(var a=e-1;a>=t;--a){this.DeleteIndexPaint(a);var i=this.Frame.SubFrame[a].Frame;i.ClearToolbar&&i.ClearToolbar()}this.Frame.SubFrame.splice(t,e-t),this.WindowIndex.splice(t,e-t)}else{for(var a=e;a<t;++a){var r=this.CreateSubFrameItem(a);this.Frame.SubFrame[a]=r;var n=new de;n.Frame=this.Frame.SubFrame[a].Frame,n.Canvas=this.Canvas,n.LanguageID=this.LanguageID,this.TitlePaint[a+1]=n}for(var s=["RSI","MACD","DMA","DMI","KDJ","WR"],h=new o,a=e;a<t;++a){var l=s[a%s.length],u=h.Get(l);this.WindowIndex[a]=new ai(u.Name,u.Script,u.Args,u);var d=this.SourceData;this.BindIndexData(a,d)}for(var a=0;a<this.Frame.SubFrame.length;++a){var i=this.Frame.SubFrame[a].Frame;a==this.Frame.SubFrame.length-1?i.XSplitOperator.ShowText=!0:i.XSplitOperator.ShowText=!1}this.UpdataDataoffset()}this.UpdateXShowText(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}},this.RemoveIndexWindow=function(t){if(xi.Chart.Log("[MinuteChartContainer::RemoveIndexWindow] remove id",t),!(t<2)&&this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar(),this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var e=0;e<this.Frame.SubFrame.length;++e){var a=this.Frame.SubFrame[e].Frame;e==this.Frame.SubFrame.length-1?a.XSplitOperator.ShowText=!0:a.XSplitOperator.ShowText=!1,a.Identify=e}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}},this.ChangeSymbol=function(t){this.CancelAutoUpdate(),this.Symbol=t,this.ResetOverlaySymbolStatus(),this.ReloadChartDrawPicture(),t?(this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestData()):this.DrawEmpty()},this.ChangeDayCount=function(t){t<0||t>10||(this.DayCount=t,this.DayCount>1?this.ChartDrawPicture=[]:this.ReloadChartDrawPicture(),this.ResetOverlaySymbolStatus(),this.RequestData())},this.OverlaySymbol=function(t,e){for(var a in this.OverlayChartPaint){if(this.OverlayChartPaint[a].Symbol==t)return console.warn("[MinuteChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var i=new Dt;return i.Canvas=this.Canvas,i.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,i.ChartFrame=this.Frame.SubFrame[0].Frame,i.Name="Overlay-Minute",i.Symbol=t,e&&e.Color?i.Color=e.Color:i.Color=Zi.OverlaySymbol.Color[Zi.OverlaySymbol.Random%Zi.OverlaySymbol.Color.length],++Zi.OverlaySymbol.Random,this.ChartPaint[0].YClose>0&&this.ChartPaint[0].Data&&(i.MainData=this.ChartPaint[0].Data,i.MainYClose=this.ChartPaint[0].YClose),this.OverlayChartPaint.push(i),this.DayCount<=1?this.RequestOverlayMinuteData():this.RequestOverlayHistoryMinuteData(),!0},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=Xi.STATUS_NONE_ID}},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var a=this.OverlayChartPaint[e];if(a.Symbol===t)return a.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[MinuteChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.Frame.SubFrame[0].Frame.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.UpdateFrameMaxMin(),this.Draw()},this.ShowBeforeData=function(t){this.IsShowBeforeData!=t&&(this.IsShowBeforeData=t,this.RequestData())},this.RequestData=function(){this.DayCount<=1?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.ChangeDrawType=function(t){if(!(this.ChartPaint.length<=0)){if(0==t)this.ChartPaint[0].IsDrawArea=!0;else{if(1!=t)return;this.ChartPaint[0].IsDrawArea=!1}this.Draw()}},this.RequestHistoryMinuteData=function(){var t=this;if(this.IsBeforeData=!1,this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.NetworkFilter){var e={Name:"MinuteChartContainer::RequestHistoryMinuteData",Explain:"多日分时数据",Request:{Url:t.HistoryMinuteApiUrl,Data:{daycount:t.DayCount,symbol:t.Symbol},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}),1==e.PreventDefault)return}n.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}})},this.RecvHistoryMinuteData=function(t){this.DayData=We.JsonDataToMinuteDataArray(t),this.Symbol=t.symbol,this.Name=t.name,this.CaclutateLimitPrice(this.DayData[0].YClose,t.data[0].limitprice),this.UpdateHistoryMinuteUI(),this.RecvMinuteDataEvent(),this.RequestOverlayHistoryMinuteData(),this.AutoUpdate()},this.UpdateHistoryMinuteUI=function(){var t=this.HistoryMinuteDataToArray(this.DayData),e=new G;e.Data=t,this.SourceData=e,this.TradeDate=this.DayData[0].Date,this.BindMainData(e,this.DayData[0].YClose);var a=this.Symbol.toUpperCase();if(tr.IsForeignExchange(a)&&(this.ChartPaint[1].Data=null),this.Frame.SubFrame.length>2){var i=new G;i.Data=t;for(var r=2;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,i)}for(var n in this.Frame.SubFrame){var s=this.Frame.SubFrame[n];s.Frame.XSplitOperator.Symbol=this.Symbol,s.Frame.XSplitOperator.DayCount=this.DayData.length,s.Frame.XSplitOperator.DayData=this.DayData,s.Frame.XSplitOperator.Operator(),s.Frame.XSplitOperator.IsBeforeData=this.IsBeforeData,s.Frame.YSplitOperator.Symbol=this.Symbol,s.Frame.IsBeforeData=this.IsBeforeData;for(var o in s.OverlayIndex){var h=s.OverlayIndex[o];h.Frame.XPointCount=s.Frame.XPointCount,h.Frame.MinuteCount=s.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.IsBeforeData=this.IsBeforeData,this.TitlePaint[0].IsShowDate=!0,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.HistoryMinuteDataToArray=function(t){for(var e=[],a=t.length-1;a>=0;--a){var i=t[a];for(var r in i.Data)e.push(i.Data[r])}return e},this.UpdateLatestMinuteData=function(t,e){for(var a in this.DayData){var i=this.DayData[a];if(i.Date===e){i.Data=t;break}}},this.RequestMinuteData=function(){var t=this,e=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","minute","minutecount"],a=this.Symbol.toUpperCase();if(tr.IsFutures(a)&&(e.push("clearing"),e.push("yclearing")),this.IsBeforeData=!1,this.IsShowBeforeData&&1===this.DayCount&&tr.IsSHSZStockA(t.Symbol)&&(this.IsBeforeData=!0,e.push("before")),this.NetworkFilter){var i={Name:"MinuteChartContainer::RequestMinuteData",Explain:"最新分时数据",Request:{Url:t.MinuteApiUrl,Data:{field:e,symbol:[t.Symbol]},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}),1==i.PreventDefault)return}n.HttpRequest({url:t.MinuteApiUrl,data:{field:e,symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}})},this.RecvMinuteDataEvent=function(){if(this.mapEvent.has(Oi.RECV_MINUTE_DATA)){var t=this.mapEvent.get(Oi.RECV_MINUTE_DATA),e={MinuteData:this.SourceData,Stock:{Symbol:this.Symbol,Name:this.Name}};t.Callback(t,e,this)}},this.RecvMinuteData=function(t){if(this.IsBeforeData)var e=We.JsonDataToMinuteData2(t);else var e=We.JsonDataToMinuteData(t);if(this.DayCount>1)return this.UpdateLatestMinuteData(e,t.stock[0].date),this.UpdateHistoryMinuteUI(),this.RecvMinuteDataEvent(),this.RequestOverlayMinuteData(),void this.AutoUpdate();var a=new G;a.Data=e,this.TradeDate=t.stock[0].date,this.SourceData=a,this.Symbol=t.stock[0].symbol,this.Name=t.stock[0].name;var i=t.stock[0].yclose,r=this.Symbol.toUpperCase(),n=tr.IsFutures(r);t.stock[0].yclearing>0&&n&&(i=t.stock[0].yclearing),this.CaclutateLimitPrice(i,t.stock[0].limitprice);var s=null;if(t.stock[0].high>0&&t.stock[0].low>0&&(s={High:t.stock[0].high,Low:t.stock[0].low}),this.BindMainData(a,i,s),this.Frame.SubFrame.length>2){var o=new G;o.Data=e;for(var h=2;h<this.Frame.SubFrame.length;++h)this.BindIndexData(h,o)}for(var l in this.Frame.SubFrame){var u=this.Frame.SubFrame[l];u.Frame.XSplitOperator.Symbol=this.Symbol,u.Frame.XSplitOperator.DayCount=1,u.Frame.XSplitOperator.Operator(),u.Frame.XSplitOperator.IsBeforeData=this.IsBeforeData,u.Frame.YSplitOperator.Symbol=this.Symbol,u.Frame.IsBeforeData=this.IsBeforeData;for(var d in u.OverlayIndex){var c=u.OverlayIndex[d];c.Frame.XPointCount=u.Frame.XPointCount,c.Frame.MinuteCount=u.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.IsBeforeData=this.IsBeforeData,tr.IsSHSZ(r)&&(this.TitlePaint[0].IsShowDate=!1),1==t.stock[0].IsHistoryMinute&&(this.TitlePaint[0].IsShowDate=!0);var D=this.GetChartMinuteInfo();D&&(D.SourceData=this.SourceData),this.RecvMinuteDataEvent(),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.CreateChartDrawPictureByStorage(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.AutoUpdate()},this.CaclutateLimitPrice=function(t,e){if(this.LimitPrice=null,e&&e.max>0&&e.min>0)return void(this.LimitPrice={Max:e.max,Min:e.min});var a=tr.GetLimitPriceRange(this.Symbol,this.Name);if(!a)return void xi.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" no limit price.");t<=0||(this.LimitPrice={Max:t*(1+a.Max),Min:t*(1+a.Min)},xi.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" yClose:"+t+" max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min),this.LimitPrice.Max=parseFloat(this.LimitPrice.Max.toFixed(2)),this.LimitPrice.Min=parseFloat(this.LimitPrice.Min.toFixed(2)),xi.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" tofixed(2) max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min))},this.RequestOverlayMinuteData=function(){var t=this,e=this,a=this.TradeDate;for(var i in this.OverlayChartPaint){var r,s,o=function(){var o=t.OverlayChartPaint[i];return o.MainData&&o.MainYClose>0?o.Status!=Xi.STATUS_NONE_ID?"continue":(r=o.Symbol)?(o.Status=Xi.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"MinuteChartContainer::RequestOverlayMinuteData",Explain:"叠加股票最新分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:[a],symbol:r},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){o.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,o)}),1==s.PreventDefault)?"continue":void n.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:r,days:[a]},type:"post",dataType:"json",async:!0,success:function(t){o.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,o)}})):{v:void 0}:"continue"}();switch(o){case"continue":continue;default:if("object"===(void 0===o?"undefined":(0,Si.default)(o)))return o.v}}},this.RecvOverlayMinuteData=function(t,e){if(!e.IsDelete){var a,i=We.JsonDataToMinuteDataArray(t),r=null;if(this.DayCount>1){if(i.length<=0)return;var n=i[0];for(var s in e.SourceData){if(e.SourceData[s].Date==n.Date){e.SourceData[s]=n;var o=this.HistoryMinuteDataToArray(e.SourceData),r=new G;r.Data=o,a=n.YClose;break}}if(null==r)return}else r=i.length>0?i[0]:new G,a=r.YClose;e.Data=r,e.Title=t.name,e.Symbol=t.symbol,e.YClose=a,e.Status=Xi.STATUS_FINISHED_ID,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.RequestOverlayHistoryMinuteData=function(){var t=this,e=this,a=[];for(var i in this.DayData){var r=this.DayData[i];a.push(r.Date)}if(!(a.length<=0)){for(var i in this.OverlayChartPaint){var s,o,h=function(){var r=t.OverlayChartPaint[i];return(s=r.Symbol)?r.Status!=Xi.STATUS_NONE_ID?"continue":(r.Status=Xi.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"MinuteChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票多日分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:a,symbol:s},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){r.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,r)}),1==o.PreventDefault)?{v:void 0}:void n.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:s,days:a},type:"post",dataType:"json",async:!0,success:function(t){r.Status=Xi.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,r)}})):{v:void 0}}();switch(h){case"continue":continue;default:if("object"===(void 0===h?"undefined":(0,Si.default)(h)))return h.v}}}},this.RecvOverlayHistoryMinuteData=function(t,e){var a=We.JsonDataToMinuteDataArray(t),i=[];for(var r in this.DayData){var n=this.DayData[r],s=!1;for(var o in a)if(n.Date==a[o].Date){i.push(a[r]),s=!0;break}if(!s){(new G).Date=n.Date}}e.SourceData=i;var h=this.HistoryMinuteDataToArray(i),l=i[0].YClose,u=new G;u.Data=h,e.Data=u,e.Title=t.name,e.Symbol=t.symbol,e.YClose=l,e.Status=Xi.STATUS_FINISHED_ID,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=tr.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var a=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},a):2==e&&(this.AutoUpdateTimer=setTimeout(function(){t.ResetOverlaySymbolStatus(),t.RequestMinuteData()},a))}}},this.BindIndexData=function(t,e){if(this.WindowIndex[t])return"function"==typeof this.WindowIndex[t].RequestData?void this.WindowIndex[t].RequestData(this,t,e):"function"==typeof this.WindowIndex[t].ExecuteScript?void this.WindowIndex[t].ExecuteScript(this,t,e):void this.WindowIndex[t].BindData(this,t,e)},this.BindMainData=function(t,e,a){var i=new G;if(i.Data=t.GetClose(),this.ChartPaint[0].Data=i,this.ChartPaint[0].YClose=e,this.ChartPaint[0].NotSupportMessage=null,this.ChartPaint[0].SourceData=this.IsBeforeData?t:null,this.ChartPaint[0].IsShowLead=!1,this.ChartPaint[0].LeadData=null,tr.IsSHSZIndex(this.Symbol)&&1==this.DayCount&&this.IsShowLead){var r=new G;r.Data=t.GetLead(),this.ChartPaint[0].LeadData=r,this.ChartPaint[0].IsShowLead=!0}this.Frame.SubFrame[0].Frame.YSplitOperator.YClose=e,this.Frame.SubFrame[0].Frame.YSplitOperator.Data=i,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.SourceData=t;for(var n in this.Frame.SubFrame){var s=this.Frame.SubFrame[n].Frame;s.Data=t}i=new G,i.Data=t.GetMinuteAvPrice(),this.ChartPaint[1].Data=i;var o=this.Symbol.toUpperCase();tr.IsForeignExchange(o)&&(this.ChartPaint[1].Data=null),this.Frame.SubFrame[0].Frame.YSplitOperator.AverageData=i,this.Frame.SubFrame[0].Frame.YSplitOperator.SourceData=this.IsBeforeData?t:null,this.Frame.SubFrame[0].Frame.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,this.Frame.SubFrame[0].Frame.YSplitOperator.LimitPrice=this.LimitPrice,a&&(this.Frame.SubFrame[0].Frame.YSplitOperator.High=a.High,this.Frame.SubFrame[0].Frame.YSplitOperator.Low=a.Low),this.ChartPaint[2].Data=t,this.ChartPaint[2].YClose=e,tr.IsFutures(o)||tr.IsSHO(o)?this.BindOverlayMainData(t,e):this.ClearBindOverlayMainData(),this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].YClose=e,this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.YClose=e,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data),this.ExtendChartPaint[0]&&(this.ExtendChartPaint[0].Symbol=this.Symbol,this.ExtendChartPaint[0].Name=this.Name);var h=0,l=this.IsBeforeData;this.DayCount>1&&(l=!1),l&&(h=15);for(var n in this.OverlayChartPaint){var s=this.OverlayChartPaint[n];s.MainData=this.ChartPaint[0].Data,s.MainYClose=e,s.BeforeDataCount=h,s.IsBeforeData=l}},this.BindOverlayMainData=function(t,e){if(!(this.Frame.SubFrame.length<2)){var a=null,i=null,r=this.Frame.SubFrame[1];if(r.OverlayIndex.length<=0){var n=new O;n.Identify="Position_Line_Frame",i=new g,i.Canvas=this.Canvas,i.MainFrame=r.Frame,i.ChartBorder=r.Frame.ChartBorder,n.Frame=i,i.YSplitOperator=new Xt,i.YSplitOperator.LanguageID=this.LanguageID,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=i.ChartBorder,i.YSplitOperator.SplitCount=r.Frame.YSplitOperator.SplitCount;var a=new Q;a.Canvas=this.Canvas,a.Name="Position-Line",a.ChartBorder=i.ChartBorder,a.ChartFrame=i,a.Identify=n.Identify,a.Color=Zi.Minute.PositionColor,n.ChartPaint.push(a),r.OverlayIndex.push(n),r.Frame.RightFrame=i}else a=r.OverlayIndex[0].ChartPaint[0],i=r.OverlayIndex[0].Frame;var s=this.Frame.SubFrame[0].Frame.XPointCount;i.XPointCount=s;var o=new G;o.Data=t.GetPosition(),a.Data=o}},this.ClearBindOverlayMainData=function(){if(!(this.Frame.SubFrame.length<2)){var t=this.Frame.SubFrame[1];t.Frame.RightFrame=null,t.OverlayIndex=[]}},this.GetChartPaint=function(t){var e=new Array;for(var a in this.ChartPaint)if(!(a<3)){var i=this.ChartPaint[a];i.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(i)}return e},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var a=this.WindowIndex[e],i={Name:a.Name};a.ID&&(i.ID=a.ID),t.push(i)}return t},this.OnTouchFinished=function(){if(!0===this.CorssCursorTouchEnd)return void this.DrawDynamicInfo()},this.CreateExtendChart=function(t,e){var a;switch(t){case"MinuteTooltip":return a=e.Create&&"function"==typeof e.Create?e.Create():new Rt,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.HQChart=this,e.LanguageID=this.LanguageID,a.SetOption(e),this.ExtendChartPaint.push(a),a;default:return null}},this.SetMinuteInfo=function(t,e){this.ChartInfo=[];for(var a in t){var i=Ta.Get(t[a]);if(i){var r=i.Create();this.ChartInfo.push(r)}}1==e&&this.RequestMinuteInfoData()},this.GetChartMinuteInfo=function(){return this.ChartInfoPaint},this.CreateMinuteInfo=function(t){var e=new mt;return e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.HQChartBorder=this.Frame.ChartBorder,e.ChartMinutePrice=this.ChartPaint[0],t&&e.SetOption&&e.SetOption(t),this.ChartInfoPaint=e,e},this.RequestMinuteInfoData=function(){if(!(this.ChartInfo.length<=0)){var t=this.GetChartMinuteInfo();t||(t=this.CreateMinuteInfo(null)),t.SourceData=this.SourceData;for(var e in this.ChartInfo)this.ChartInfo[e].RequestData(this)}},this.UpdataChartInfo=function(){var t=this.GetChartMinuteInfo();if(t){var e=new Ai.default;for(var a in this.ChartInfo){var i=this.ChartInfo[a].Data;for(var r in i){var n=i[r],s=n.Date+" "+n.Time;e.has(s)?e.get(s).Data.push(n):e.set(s,{Data:new Array(n)})}}t.Data=e}},this.UpdateWindowIndex=function(t){if(!(t<2)){var e=this.SourceData;this.BindIndexData(t,e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateChartDrawPicture=function(t,e,a){var i=null;switch(t){case"线段":i=new De;break;case"射线":i=new me;break;case"水平线":i=new Ce;break;case"趋势线":i=new fe;break;case"矩形":i=new pe;break;case"圆弧线":i=new ve;break;case"M头W底":i=new Se;break;default:var r=new Ai.default([["icon-arrow_up",{Text:"",Color:"#318757"}],["icon-arrow_down",{Text:"",Color:"#db563e"}],["icon-arrow_right",{Text:"",Color:"#318757"}],["icon-arrow_left",{Text:"",Color:"#318757"}]]);if(r.has(t)){var n=r.get(t);i=new Le,i.FontOption.Family="iconfont",i.Text=n.Text,n.Color&&(i.LineColor=n.Color);break}return!1}i.Canvas=this.Canvas,i.Status=0,i.Symbol=this.Symbol,i.Period=888888888,i.Option=this.ChartDrawOption,a&&(i.FinishedCallback=a),e&&i.SetOption(e);var s=this;return i.Update=function(){s.DrawDynamicInfo()},this.CurrentChartDrawPicture=i,xi.Chart.Log("[MinuteChartContainer::CreateChartDrawPicture] ",t,this.CurrentChartDrawPicture),!0},this.ReloadChartDrawPicture=function(){this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage&&(this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:888888888}))},this.CreateChartDrawPictureByStorage=function(){if(this.ChartDrawStorageCache&&!(this.ChartDrawStorageCache.length<=0)){for(var t in this.ChartDrawStorageCache){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var a=ce.CreateChartDrawPicture(e);a&&(a.Canvas=this.Canvas,a.Status=10,a.Frame=this.Frame.SubFrame[e.FrameID].Frame,a.UpdateXValue(),a.ValueToPoint(),"ChartDrawPictureText"===a.ClassName&&(a.IsInitialized=!0),this.ChartDrawPicture.push(a))}}this.ChartDrawStorageCache=null}}}function Ue(t){this.newMethod=We,this.newMethod(t),delete this.newMethod,this.HistoryMinuteApiUrl="https://opensourcecache.zealink.com/cache/minuteday/day/",this.ClassName="HistoryMinuteChartContainer",this.CreateMainKLine=function(){var t=new ct;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Line",t.Color=Zi.Minute.PriceColor,this.ChartPaint[0]=t;var e=new Q;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Average-Line",e.Color=Zi.Minute.AvPriceColor,this.ChartPaint[1]=e;var e=new q;e.Color=Zi.Minute.VolBarColor,e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[1].Frame,e.Name="Minute-Vol-Bar",this.ChartPaint[2]=e,this.TitlePaint[0]=new le,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].IsShowDate=!0},this.ChangeTradeDate=function(t){t&&(this.TradeDate=t,this.RequestData())},this.RequestData=function(){var t=new Date;1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()==this.TradeDate?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.RequestHistoryMinuteData=function(){var t=this,e=this.HistoryMinuteApiUrl+this.TradeDate.toString()+"/"+this.Symbol+".json";n.HttpRequest({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)},error:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteError(e)}})},this.RecvHistoryMinuteError=function(t){if(404==t.status){var e=new G;this.SourceData=e;for(var a in this.ChartPaint)this.ChartPaint[a].Data=e,0==a&&(this.ChartPaint[a].NotSupportMessage="没有权限访问!");this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=null,this.Draw()}},this.RecvHistoryMinuteData=function(t){var e=Ue.JsonDataToMinuteData(t),a=new G;if(a.Data=e,this.TradeDate=t.date,this.SourceData=a,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,t.day.yclose),this.Frame.SubFrame.length>2){var i=new G;i.Data=e;for(var r=2;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,i)}this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function Xe(t){this.newMethod=Ge,this.newMethod(t),delete this.newMethod,this.ClassName="CustomKLineChartContainer",this.CustomKLineApiUrl=Zi.Domain+"/API/IndexCalculate",this.CustomStock,this.QueryDate={Start:20180101,End:20180627},this.RequestHistoryData=function(){var t=this;this.ChartSplashPaint.EnableSplash(!0),this.Draw(),n.HttpRequest({url:this.CustomKLineApiUrl,data:{stock:t.CustomStock,Name:t.Symbol,date:{startdate:t.QueryDate.Start,enddate:t.QueryDate.End}},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e)}})},this.RecvHistoryData=function(t){var e=Ge.JsonDataToHistoryData(t),a=new G;a.Data=e,a.DataType=0;var i=new G;if(i.Data=e,i.Right=this.Right,i.Period=this.Period,i.DataType=0,i.Right>0){var r=i.GetRightDate(i.Right);i.Data=r}if(G.IsDayPeriod(this.Period,!1)){var n=a.GetPeriodData(i.Period);i.Data=n}this.SourceData=a,this.Name=t.name,this.BindMainData(i,this.PageSize);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,i);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function Ke(t,e){!0===e?(this.newMethod=Je,this.newMethod(t),delete this.newMethod):(this.newMethod=Ge,this.newMethod(t),delete this.newMethod),this.BuySellPaint,this.TrainDataCount=300,this.TrainStartDate,this.AutoRunTimer=null,this.BuySellData=[],this.TrainCallback,this.DragMode=1,this.IsAutoUpdate=!1,this.KLineSourceData,this.TrainInfo={Start:{},End:{}},this.CreateBuySellPaint=function(){var t=new Et;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="KLine-Train-BuySell",this.ChartPaintEx[0]=t},this.GetKDataIndexByDateTime=function(t,e){if(!e||!t)return-1;for(var a in t){var i=t[a];if(G.IsMinutePeriod(this.Period,!0)){if(Wt.IsNumber(this.TrainStartDate.Time)){if(i.Date>=this.TrainStartDate.Date&&i.Time>=this.TrainStartDate.Time)return parseInt(a)}else if(i.Date>=this.TrainStartDate.Date)return parseInt(a)}else if((G.IsDayPeriod(this.Period,!0)||G.IsTickPeriod(this.Period))&&i.Date>=this.TrainStartDate.Date)return parseInt(a)}return-1},this.AfterBindMainData=function(t){this.ChartPaintEx[0]||this.CreateBuySellPaint();var e=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=e;var a=e.Data[e.Data.length-1];this.TrainInfo.LastShowData=a,this.TrainInfo.LastData=this.SourceData.Data[this.SourceData.Data.length-1],"Update"!=t&&this.UpdateTrainUICallback("开始")},this.BeforeBindMainData=function(t){if("Update"!=t){this.KLineSourceData=new G,this.KLineSourceData.Data=this.SourceData.Data.slice(0);var e=this.SourceData.Data.length,a=e-this.TrainDataCount-20,i=this.GetKDataIndexByDateTime(this.SourceData.Data,this.TrainStartDate);i>=0&&(a=i+1,e-a<this.TrainDataCount&&(this.TrainDataCount=e-a));var r=a-1,n=this.SourceData.Data[r];this.TrainInfo.Start.Index=r,this.TrainInfo.Start.Date=n.Date,this.TrainInfo.Start.Time=n.Time,this.TrainInfo.End.Index=r,this.TrainInfo.End.Date=n.Date,this.TrainInfo.End.Time=n.Time,this.TrainInfo.LastData=n,this.SourceData.Data.length=a}},this.Run=function(t){if(!(this.AutoRunTimer||this.TrainDataCount<=0)){var e=this;this.AutoRunTimer=setInterval(function(){e.MoveNextKLineData(t)||clearInterval(e.AutoRunTimer)},1e3)}},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=1;t&&t.Step>1&&(e=t.Step);for(var a=0,i=0;i<e;++i){var r=this.TrainInfo.End.Index+1;if(r>=this.KLineSourceData.Data.length)break;var n=this.KLineSourceData.Data[r];if(this.SourceData.Data.push(n),this.TrainInfo.End.Index=r,this.TrainInfo.End.Date=n.Date,this.TrainInfo.End.Time=n.Time,--this.TrainDataCount,++a,this.TrainDataCount<=0)break}if(0==a)return!1;var s=this.Frame.GetCurrentPageSize();return Wt.IsNumber(s)&&(this.PageSize=s-this.RightSpaceCount),t&&t.PageSize>0&&(this.PageSize=t.PageSize),this.Update(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("结束"),!1):(this.UpdateTrainUICallback("训练中"),!0)},this.UpdateTrainUICallback=function(t){if(this.mapEvent.has(Oi.RECV_TRAIN_MOVE_STEP)){var e=this.mapEvent.get(Oi.RECV_TRAIN_MOVE_STEP);if(e.Callback){var a={TrainDataCount:this.TrainDataCount,BuySellData:this.BuySellData,KLine:{Start:{Index:this.TrainInfo.Start.Index,Date:this.TrainInfo.Start.Date},End:{Index:this.TrainInfo.End.Index,Date:this.TrainInfo.End.Date}},LastData:this.TrainInfo.LastData,LastShowData:this.TrainInfo.LastShowData};Wt.IsNumber(this.TrainInfo.Start.Time)&&(a.KLine.Start.Time=this.TrainInfo.Start.Time),Wt.IsNumber(this.TrainInfo.End.Time)&&(a.KLine.End.Time=this.TrainInfo.End.Time),t&&(a.Description=t),this.TrainDataCount<=0&&(a.Symbol=this.Symbol,a.Name=this.Name),e.Callback(e,a,this)}}},this.FinishTrainData=function(){xi.Chart.Log("[KLineTrainChartContainer::FinishTrainData] trian end ")},this.Stop=function(){null!=this.AutoRunTimer&&clearInterval(this.AutoRunTimer),this.AutoRunTimer=null},this.BuyOrSell=function(t,e){if(!this.TrainInfo.LastShowData)return!1;var a=this.ChartPaintEx[0];if(!a)return!1;var i=this.ChartPaint[0].Data;if(!i||i.Data.length<=0)return!1;var r=i.Data.length-1,n={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(n.Op=1);var s=r;n.Key=s,this.BuySellData.push(n),a.AddTradeItem(n),1==e&&this.Draw()},this.RestartTrain=function(t){xi.Chart.Log("[KLineTrainChartContainer::RestartTrain] option ",t),this.TrainInfo={Start:{},End:{}},this.BuySellData=[],this.KLineSourceData=null;var e=this.ChartPaintEx[0];e&&(e.Data=null,e.ClearTradeData()),t.Symbol&&(this.Symbol=t.Symbol),Wt.IsNumber(t.Period)&&(this.Period=t.Period),Wt.IsNumber(t.Right)&&(this.Right=t.Right),t.Train&&(t.Train.DataCount>1&&(this.TrainDataCount=t.Train.DataCount),t.Train.DateTime&&(this.TrainStartDate=t.Train.DateTime));var a=this.Symbol;this.ChangeSymbol(a)},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0],a=new Array;for(var i in e.stockday){var r=e.stockday[i],n=new H;n.Date=r.date;var s=r.capital;s&&(s.a>0&&(n.Value=s.a,a.push(n)))}if(G.IsMinutePeriod(this.Period,!0)){var o=this.SourceData.GetMinuteFittingFinanceData(a);for(var h in this.SourceData.Data){var r=this.SourceData.Data[h];r.FlowCapital=o[h].Value}var l=this.ChartPaint[0].Data,u=new G;if(u.Data=this.SourceData.Data,G.IsMinutePeriod(l.Period,!1)){var d=u.GetPeriodData(l.Period);u.Data=d}l.Data=u.Data;var o=this.KLineSourceData.GetMinuteFittingFinanceData(a);for(var c in this.KLineSourceData.Data){var r=this.KLineSourceData.Data[c];r.FlowCapital=o[c].Value}}else{var o=this.SourceData.GetFittingFinanceData(a);for(var D in this.SourceData.Data){var r=this.SourceData.Data[D];r.FlowCapital=o[D].Value}var l=this.ChartPaint[0].Data,u=new G;if(u.Data=this.SourceData.Data,l.Right>0){var m=u.GetRightDate(l.Right);u.Data=m}if(G.IsDayPeriod(l.Period,!1)){var d=u.GetPeriodData(l.Period);u.Data=d}l.Data=u.Data;var o=this.KLineSourceData.GetFittingFinanceData(a);for(var C in this.KLineSourceData.Data){var r=this.KLineSourceData.Data[C];r.FlowCapital=o[C].Value}}this.FlowCapitalReady=!0;var f=!1;for(var p in this.ExtendChartPaint){var r=this.ExtendChartPaint[p];if("StockChip"==r.ClassName){f=!0;break}}f&&this.Draw()}},this.AutoUpdate()}function Je(t){this.newMethod=Ge,this.newMethod(t),delete this.newMethod,this.ClassName="KLineChartHScreenContainer",this.OnMouseMove=function(t,e,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e),this.DrawDynamicInfo()},t.onmousedown=function(e){if(this.JSChartContainer&&0!=this.JSChartContainer.DragMode){var a=u();if(this.JSChartContainer.TryClickLock){var i=(e.clientX-this.getBoundingClientRect().left)*a,r=(e.clientY-this.getBoundingClientRect().top)*a;if(this.JSChartContainer.TryClickLock(i,r))return}var n={Click:{},LastMove:{}};n.Click.X=e.clientX,n.Click.Y=e.clientY,n.LastMove.X=e.clientX,n.LastMove.Y=e.clientY,this.JSChartContainer.MouseDrag=n,document.JSChartContainer=this.JSChartContainer,this.JSChartContainer.SelectChartDrawPicture=null,t.ondblclick=function(t){var e=t.clientX-this.getBoundingClientRect().left,a=t.clientY-this.getBoundingClientRect().top;this.JSChartContainer&&this.JSChartContainer.OnDoubleClick(e,a,t)},document.onmousemove=function(t){if(this.JSChartContainer&&(!this.JSChartContainer.ChartSplashPaint||1!=this.JSChartContainer.ChartSplashPaint.IsEnableSplash)){var e=this.JSChartContainer.MouseDrag;if(e){var a=Math.abs(e.LastMove.Y-t.clientY);if(1==this.JSChartContainer.DragMode){if(a<5)return;var i=!0;e.LastMove.Y<t.clientY&&(i=!1),this.JSChartContainer.DataMove(a,i)&&(this.JSChartContainer.UpdataDataoffset(),this.JSChartContainer.UpdatePointByCursorIndex(),this.JSChartContainer.UpdateFrameMaxMin(),this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.Draw()),e.LastMove.X=t.clientX,e.LastMove.Y=t.clientY}}}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,this.JSChartContainer.MouseDrag=null,this.JSChartContainer.CurrentChartDrawPicture=null,this.JSChartContainer=null}}},this.OnTouchStart=function(e){this.PhonePinch=null,this.IsOnTouch=!0,this.TouchDrawCount=0,this.StopDragTimer();var a=this.IsSingleTouch(e);if(e.cancelable&&e.preventDefault(),this.IsPhoneDragging(e)){if(this.TryClickLock||this.TryClickIndexTitle){var i=this.GetToucheData(e,this.IsForceLandscape),r=i[0].clientX,n=i[0].clientY,s=u();if(r-=t.getBoundingClientRect().left*s,n-=t.getBoundingClientRect().top*s,this.TryClickLock&&this.TryClickLock(r,n))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(r,n))return}var o=!0;this.ChartDrawOption.IsLockScreen?o=!1:this.DragMode==Ri.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(o=!1):this.DragMode==Ri.DISABLE_DRAG_ID?o=!1:a||(o=!1);var h={Click:{},LastMove:{}},i=this.GetToucheData(e,!1);if(h.Click.X=i[0].clientX,h.Click.Y=i[0].clientY,h.LastMove.X=i[0].clientX,h.LastMove.Y=i[0].clientY,this.MouseDrag=h,this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture){return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(h.Click.X,h.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(h.Click.X,h.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault())}var l={},s=u();if(l.X=i[0].clientX-t.getBoundingClientRect().left,l.Y=i[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(l)){l.ChartDrawPicture.Status=20,l.ChartDrawPicture.ValueToPoint(),l.ChartDrawPicture.MovePointIndex=l.PointIndex,l.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=l.ChartDrawPicture,this.SelectChartDrawPicture=l.ChartDrawPicture;var d=this.GetEventCallback(Oi.ON_CLICK_DRAWPICTURE);if(d&&d.Callback){var c={DrawPicture:l.ChartDrawPicture};d.Callback(d,c,this)}return void(e.cancelable&&e.preventDefault())}if(o){var D=this;this.DragTimer=setTimeout(function(){if(h.Click.X==h.LastMove.X&&h.Click.Y==h.LastMove.Y){D.MouseDrag;D.MouseDrag=null,D.MoveCorssCursor(h.Click,e)}},D.PressTime)}this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==Ri.CLICK_TOUCH_MODE_ID||(this.DragMode==Ri.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(h.Click,e)):this.IsClickShowCorssCursor&&this.MoveCorssCursor(h.Click,e))}else if(this.IsPhonePinching(e)){var m={Start:{},Last:{}},i=this.GetToucheData(e,!1);m.Start={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},m.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},this.PhonePinch=m,this.SelectChartDrawPicture=null}},this.OnTouchMove=function(t){t.cancelable&&t.preventDefault();var e=this.GetToucheData(t,!1);if(this.IsPhoneDragging(t)){var a=this.MouseDrag;if(null==a)this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:e[0].clientX,Y:e[0].clientY},t);else{var i=Math.abs(a.LastMove.Y-e[0].clientY),r=Math.abs(a.LastMove.X-e[0].clientX),n=this.DragMode==Ri.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.CurrentChartDrawPicture){var s=this.CurrentChartDrawPicture;if(1==s.Status||2==s.Status){if(i<5&&r<5)return;this.SetChartDrawPictureSecondPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==s.Status)this.SetChartDrawPictureThirdPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==s.Status){if(i<5&&r<5)return;this.MoveChartDrawPicture(e[0].clientX-a.LastMove.X,e[0].clientY-a.LastMove.Y,!0)&&this.DrawDynamicInfo()}a.LastMove.X=e[0].clientX,a.LastMove.Y=e[0].clientY}if(n){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(a.Click,t)}else if(1==this.DragMode||0==n){if(i<5)return;var o=!0;a.LastMove.Y<e[0].clientY&&(o=!1),this.DataMove(i,o)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):this.DragDownloadData&&this.DragDownloadData(),a.LastMove.X=e[0].clientX,a.LastMove.Y=e[0].clientY}}}else if(this.IsPhonePinching(t)){if(this.DragMode==Ri.DISABLE_DRAG_ID)return;var h=this.PhonePinch;if(!h)return;var l=Math.abs(e[0].pageX-e[1].pageX),u=Math.abs(h.Last.X-h.Last.X2),d=l-u;if(Math.abs(d)<5)return;if(d>0){var c={};if(c.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(c))return;this.CursorIndex=c.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown()}else{var c={};if(c.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(c))return;this.CursorIndex=c.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown()}h.Last={X:e[0].pageX,Y:e[0].pageY,X2:e[1].pageX,Y2:e[1].pageY}}},this.OnTouchEnd=function(t){xi.Chart.Log("[KLineChartHScreenContainer:OnTouchEnd]",t);if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}this.IsOnTouch=!1,this.StopDragTimer(),this.OnTouchFinished(),this.TouchDrawCount=0},this.Create=function(t){this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new qt,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=ji.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatY=ji.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new R,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var e in this.Frame.SubFrame){var a=new de;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,this.TitlePaint.push(a)}this.UIElement.addEventListener("keydown",d,!0)},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new T;a.UIElement=this.UIElement;var i=new x;if(i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,i.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(i.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(i.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),i.HorizontalMax=20,i.HorizontalMin=10,0==e){i.YSplitOperator=new Ut,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price");var r=u();a.TopSpace=12*r,a.BottomSpace=12*r}else i.YSplitOperator=new Xt,i.YSplitOperator.LanguageID=this.LanguageID,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double");i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new Kt,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1);for(var n=i.HorizontalMin;n<=i.HorizontalMax;n+=1)i.HorizontalInfo[n]=new S,i.HorizontalInfo[n].Value=n,0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=n.toString(),i.HorizontalInfo[n].Font="14px 微软雅黑");var s=new w;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}}}function je(t){this.newMethod=We,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartHScreenContainer",this.OnMouseMove=function(t,e,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e),this.DrawDynamicInfo()},this.Create=function(t){this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new qt,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=new ee,this.ChartCorssCursor.StringFormatY=new $t,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new R,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var e in this.Frame.SubFrame){var a=new de;a.Frame=this.Frame.SubFrame[e].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,this.TitlePaint.push(a)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.UIElement.addEventListener("keydown",d,!0)},this.CreateChildWindow=function(t){for(var e=0;e<t;++e){var a=new T;a.UIElement=this.UIElement;var i=new A;i.Canvas=this.Canvas,i.ChartBorder=a,i.Identify=e,e<2&&(i.ChartBorder.TitleHeight=0),i.XPointCount=243;var r=[9,8,7,6,5,4,3,2,1];i.HorizontalMax=r[0],i.HorizontalMin=r[r.length-1],0==e?(i.YSplitOperator=new Jt,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price")):(i.YSplitOperator=new Xt,i.YSplitOperator.LanguageID=this.LanguageID,i.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double")),i.YSplitOperator.Frame=i,i.YSplitOperator.ChartBorder=a,i.XSplitOperator=new jt,i.XSplitOperator.Frame=i,i.XSplitOperator.ChartBorder=a,e!=t-1&&(i.XSplitOperator.ShowText=!1),i.XSplitOperator.Operator();for(var n in r)i.HorizontalInfo[n]=new S,i.HorizontalInfo[n].Value=r[n],0==e&&n==i.HorizontalMin||(i.HorizontalInfo[n].Message[1]=r[n].toString(),i.HorizontalInfo[n].Font="14px 微软雅黑");var s=new w;s.Frame=i,s.Height=0==e?20:10,this.Frame.SubFrame[e]=s}}}function ze(t){this.newMethod=l,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new b,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart(),this.UIElement.addEventListener("keydown",d,!0)},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("BAR"==e.Type){var a=new ft;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,e.Color&&(a.UpBarColor=e.Color),e.Color2&&(a.DownBarColor=e.Color2),this.ChartPaint.push(a)}else if("LINE"==e.Type){var a=new Q;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,e.Color&&(a.Color=e.Color),this.ChartPaint.push(a)}}this.Frame.YSplitOperator=new Xt,this.Frame.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),this.Frame.YSplitOperator.Frame=this.Frame,this.Frame.YSplitOperator.ChartBorder=this.Frame.ChartBorder,this.Frame.XSplitOperator=new zt,this.Frame.XSplitOperator.Frame=this.Frame,this.Frame.XSplitOperator.ChartBorder=this.Frame.ChartBorder}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){var e=0;for(var a in t.Data){var i=new G;i.Data=t.Data[a],this.ChartPaint[a].Data=i,e<i.Data.length&&(e=i.Data.length)}this.Frame.XPointCount=e,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.XData=t.XData,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function qe(t){this.Radius,this.newMethod=l,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,a){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new _,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl)for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("PIE"==e.Type){var a=new xt;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,this.Radius&&(a.Radius=this.Radius),this.ChartPaint.push(a)}else if("RADAR"==e.Type){var a=new Nt;a.Canvas=this.Canvas,a.ChartBorder=this.Frame.ChartBorder,a.ChartFrame=this.Frame,a.Name=e.Name,e.StartAngle&&(a.StartAngle=e.StartAngle),this.ChartPaint.push(a)}}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){for(var e in t.Data){var a=new G;a.Data=t.Data[e],this.ChartPaint[e].Data=a}this.Frame.SetSizeChage(!0),this.Draw()}}function Ze(t){this.newMethod=l,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,a){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new Zt,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new _,this.Frame.ChartBorder=new T,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){var t=new wt;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.ChartBorder,t.ChartFrame=this.Frame,t.Name=this.MainDataControl.DataType[0].Name,this.Radius&&(t.Radius=this.Radius),this.ChartPaint.push(t)}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){this.ChartPaint[0].Data=t.Data[0],this.Frame.SetSizeChage(!0),this.Draw()}}function Qe(t,e){this.Name=t,this.Param=e,this.LineColor,this.ReqeustData=null}function $e(t){this.Index,this.Name=t,this.Script=null,this.OverlayIndex=null,this.Create=function(t,e){},this.NotSupport=function(t,e,a){if(!this.IsOverlay()){t.DeleteIndexPaint(e);var i=t.Frame.SubFrame[e].Frame,r=new Z;r.Canvas=t.Canvas,r.ChartBorder=i.ChartBorder,r.ChartFrame=i,r.NotSupportMessage=a,t.ChartPaint.push(r)}},this.FormatIndexTitle=function(){var t=this.Name,e=null;for(var a in this.Index){var i=this.Index[a];null!=i.Param&&(e?e+=","+i.Param.toString():e=i.Param.toString())}return e&&(t+="("+e+")"),t},this.IsOverlay=function(){return!(!this.OverlayIndex||1!=this.OverlayIndex.IsOverlay)},this.CreateChart=function(t){return new Q},this.CreatePaints=function(t,e){var a=null,i=this.IsOverlay();i?(a=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(a=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var r=[];for(var n in this.Index){var s=this.CreateChart(n);s.Color=this.Index[n].LineColor,s.Canvas=t.Canvas,s.Name=this.Name+"-"+n.toString(),s.ChartBorder=a.ChartBorder,s.ChartFrame=a,i?this.OverlayIndex.Frame.ChartPaint.push(s):t.ChartPaint.push(s),r.push(s)}return r},this.SendEvent=function(t,e,a,i){if(t.GetIndexEvent){var r=t.GetIndexEvent();if(r){var n={Data:this.GetOutData(),WindowIndex:e,Name:this.Name,HistoryData:a,Stock:{Symbol:t.Symbol,Name:t.Name}};i&&(n.Error=i),r.Callback(r,n,self)}}},this.GetOutData=function(){return null}}function ta(){this.newMethod=$e,this.newMethod("CJL"),delete this.newMethod,this.Index=new Array(new Qe("VOL",null),new Qe("OPID",null)),this.Index[0].LineColor=Zi.Index.LineColor[0],this.Index[1].LineColor=Zi.Index.LineColor[1],this.CreateChart=function(t){if(0==t){var e=new nt;return e}if(1==t){var e=new $;return e.LineWidth=1*u(),e}},this.RequestData=function(t,e,a){return this.BindData(t,e,a),t.UpdataDataoffset(),t.UpdateFrameMaxMin(),t.Draw(),!0},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e),r=this.IsOverlay();if(i.length!=this.Index.length)return!1;var n=a.GetVol(),s=a.GetPosition();i[0].HistoryData=a,i[0].Data.Data=n,i[1].Data.Data=s;var o=e+1;if(r){var h=t.TitlePaint[o],l={Data:[],Title:""};h.OverlayIndex.set(this.OverlayIndex.Identify,l);for(var u in i){var d=new ue(i[u].Data,this.Index[u].Name,this.Index[u].LineColor);h.OverlayIndex.get(this.OverlayIndex.Identify).Data[u]=d}}else t.TitlePaint[o].Data[0]=new ue(i[0].Data,this.Index[0].Name,this.Index[0].LineColor),t.TitlePaint[o].Data[1]=new ue(i[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[o].Title=this.Name;return!0}}function ea(){this.newMethod=$e,this.newMethod("Long-Short"),delete this.newMethod,this.Index=new Array(new Qe("多头区域",null),new Qe("空头区域",null),new Qe("市场多空指标",null)),this.Index[0].LineColor=Zi.UpBarColor,this.Index[1].LineColor=Zi.DownBarColor,this.Index[2].LineColor=Zi.Index.LineColor[0],this.LongShortData,this.CreateChart=function(t){if(2==t){var e=new Q;return e.LineWidth=2,e}return new ut},this.GetOutData=function(){return{LongShortData:this.LongShortData}},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};return this.LongShortData=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,a,"不支持周期切换"),!1):(n.HttpRequest({url:Zi.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(n){i.RecvData(n,r),i.SendEvent(t,e,a)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var a=new Array;for(var i in t.data){var r=t.data[i],n=new H;n.Date=r[0],n.Value=r[1],a.push(n)}var s=e.HistoryData.GetFittingData(a),o=new G;o.Data=s,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.LongShortData=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e),r=this.IsOverlay();if(i.length!=this.Index.length)return!1;i[2].Data.Data=this.LongShortData,i[0].Data.Data[0]=8,i[1].Data.Data[0]=1;var n=e+1;if(r){this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};var s=t.TitlePaint[n],o={Data:[],Title:""};s.OverlayIndex.set(this.OverlayIndex.Identify,o);for(var h in i){var l=new ue(i[h].Data,this.Index[h].Name,this.Index[h].LineColor);2!=h&&(l.DataType="StraightLine"),s.OverlayIndex.get(this.OverlayIndex.Identify).Data[h]=l}}else{t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};for(var h in i)t.TitlePaint[n].Data[h]=new ue(i[h].Data,this.Index[h].Name,this.Index[h].LineColor),2!=h&&(t.TitlePaint[n].Data[h].DataType="StraightLine")}return!0}}function aa(){this.newMethod=$e,this.newMethod("Market-Timing"),delete this.newMethod,this.Index=new Array(new Qe("因子择时",null)),this.TimingData,this.TitleColor=Zi.FrameSplitTextColor,this.CreateChart=function(t){return new Ct},this.GetOutData=function(){return{TimingData:this.TimingData}},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};return this.LongShortData=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,a,"不支持周期切换"),!1):(n.HttpRequest({url:Zi.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(n){i.RecvData(n,r),i.SendEvent(t,e,a)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var a=new Array;for(var i in t.data){var r=t.data[i],n=new H;n.Date=r[0],n.Value=r[2],a.push(n)}var s=e.HistoryData.GetFittingData(a),o=new G;o.Data=s,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.TimingData=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e),r=this.IsOverlay();if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.TimingData,i[0].NotSupportMessage=null;var n=e+1;if(r){var s=t.TitlePaint[n],o={Data:[],Title:""};s.OverlayIndex.set(this.OverlayIndex.Identify,o);for(var h in i){var l=new ue(i[h].Data,this.Index[h].Name,this.Index[h].LineColor);l.StringFormat=qi.THOUSANDS,l.FloatPrecision=0,s.OverlayIndex.get(this.OverlayIndex.Identify).Data[h]=l}}else for(var h in i)t.TitlePaint[n].Data[h]=new ue(i[h].Data,this.Index[h].Name,this.TitleColor),t.TitlePaint[n].Data[h].StringFormat=qi.THOUSANDS,t.TitlePaint[n].Data[h].FloatPrecision=0;return!0}}function ia(){this.newMethod=$e,this.newMethod("Market-Attention"),delete this.newMethod,this.Index=new Array(new Qe("市场关注度",null)),this.Data,this.TitleColor=Zi.FrameSplitTextColor,this.ApiUrl=Zi.Index.MarketAttentionApiUrl,this.CreateChart=function(t){return new Ct},this.GetOutData=function(){return{Data:this.Data}},this.SetFrame=function(t,e,a){this.IsOverlay()?this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}:t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,a,"不支持周期切换"),!1):(n.HttpRequest({url:this.ApiUrl,data:{symbol:r.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(n){i.RecvData(n,r),i.SendEvent(t,e,a)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var a=new Array;for(var i in t.date){var r=new H;r.Date=t.date[i],r.Value=t.value[i],a.push(r)}var n=e.HistoryData.GetFittingData(a),s=new G;s.Data=n,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.Data=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),this.SetFrame(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e),r=this.IsOverlay();if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.Data,i[0].NotSupportMessage=null;var n=e+1;if(r){var s=t.TitlePaint[n],o={Data:[],Title:""};s.OverlayIndex.set(this.OverlayIndex.Identify,o);for(var h in i){var l=new ue(i[h].Data,this.Index[h].Name,this.Index[h].LineColor);l.StringFormat=qi.THOUSANDS,l.FloatPrecision=0,s.OverlayIndex.get(this.OverlayIndex.Identify).Data[h]=l}}else for(var h in i)t.TitlePaint[n].Data[h]=new ue(i[h].Data,this.Index[h].Name,this.TitleColor),t.TitlePaint[n].Data[h].StringFormat=qi.THOUSANDS,t.TitlePaint[n].Data[h].FloatPrecision=0;return!0}}function ra(){this.newMethod=$e,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new Qe("热度",5),new Qe("MA",10),new Qe("MA",null)),this.Data,this.ApiUrl=Zi.Index.MarketHeatApiUrl,this.Index[0].LineColor=Zi.FrameSplitTextColor,this.Index[1].LineColor=Zi.Index.LineColor[0],this.Index[2].LineColor=Zi.Index.LineColor[1],this.CreateChart=function(t){return 0==t?new Ct:new Q},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),!1):(n.HttpRequest({url:this.ApiUrl,data:{symbol:r.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,r)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var a=new Array;for(var i in t.date){var r=new H;r.Date=t.date[i],r.Value=t.value[i],a.push(r)}var n=e.HistoryData.GetFittingData(a),s=new G;s.Data=n,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.Data=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e),r=this.IsOverlay();if(i.length!=this.Index.length)return!1;i[0].Data.Data=this.Data,i[0].NotSupportMessage=null;var n=Ve.MA(this.Data,this.Index[0].Param);i[1].Data.Data=n;var s=Ve.MA(this.Data,this.Index[1].Param);i[2].Data.Data=s;var o=e+1;if(r){var h=t.TitlePaint[o],l={Data:[],Title:""};h.OverlayIndex.set(this.OverlayIndex.Identify,l);for(var u in i){var d="";d=0==u?t.Name+this.Index[u].Name:"MA"+this.Index[u-1].Param;var c=new ue(i[u].Data,d,this.Index[u].LineColor);c.StringFormat=qi.DEFAULT,c.FloatPrecision=2,h.OverlayIndex.get(this.OverlayIndex.Identify).Data[u]=c}}else for(var u in i){var d="";d=0==u?t.Name+this.Index[u].Name:"MA"+this.Index[u-1].Param,t.TitlePaint[o].Data[u]=new ue(i[u].Data,d,this.Index[u].LineColor),t.TitlePaint[o].Data[u].StringFormat=qi.DEFAULT,t.TitlePaint[o].Data[u].FloatPrecision=2}return!0}}function na(){this.newMethod=$e,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new Qe("区域",3),new Qe("热度指数",10),new Qe("MA",5),new Qe("MA",10)),this.Data,this.ApiUrl=Zi.Index.CustomIndexHeatApiUrl,this.Index[1].LineColor=Zi.Index.LineColor[1],this.Index[2].LineColor=Zi.Index.LineColor[2],this.Index[3].LineColor=Zi.Index.LineColor[3],this.Create=function(t,e){for(var a in this.Index){var i=null;0==a?i=new dt:(i=new Q,i.Color=this.Index[a].LineColor),i.Canvas=t.Canvas,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),!1):(n.HttpRequest({url:this.ApiUrl,data:{stock:r.HQChart.CustomStock,date:{startdate:r.HQChart.QueryDate.Start,enddate:r.HQChart.QueryDate.End},day:[this.Index[0].Param,this.Index[1].Param]},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,r)}}),!0)},this.RecvData=function(t,e){if(!(null==t.data||t.data.length<0)){var a=new Array;for(var i in t.data){var r=t.data[i],n=new H;n.Date=r[0],n.Value=r[1],a.push(n)}var s=e.HistoryData.GetFittingData(a),o=new G;o.Data=s,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;i[0].NotSupportMessage=null,i[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"热度1",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"热度2",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:.8,Color:"rgb(255,106,106)",Title:"热度3",TitleColor:"rgb(245,255 ,250)"},{Value:.8,Value2:1,Color:"rgb(208, 32 ,144)",Title:"热度4",TitleColor:"rgb(245,255 ,250)"}],i[1].Data.Data=this.Data;var r=Ve.MA(this.Data,this.Index[2].Param);i[2].Data.Data=r;var n=Ve.MA(this.Data,this.Index[3].Param);i[3].Data.Data=n,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};for(var s=e+1,o=1;o<i.length;++o){var h=this.Index[o].Name;"MA"==h&&(h="MA"+this.Index[o].Param),t.TitlePaint[s].Data[o]=new ue(i[o].Data,h,this.Index[o].LineColor),t.TitlePaint[s].Data[o].StringFormat=qi.DEFAULT,t.TitlePaint[s].Data[o].FloatPrecision=2}return t.TitlePaint[s].Title="热度("+this.Index[0].Param+","+this.Index[1].Param+","+this.Index[2].Param+","+this.Index[3].Param+")",!0}}function sa(){this.newMethod=$e,this.newMethod("财务粉饰"),delete this.newMethod,this.Index=new Array(new Qe("区域",null),new Qe("系数",null)),this.Data,this.ApiUrl=Zi.Index.StockHistoryDayApiUrl,this.Index[0].LineColor=Zi.Index.LineColor[0],this.Index[1].LineColor="rgb(105,105,105)",this.CreateChart=function(t){return 0==t?new dt:new st},this.GetOutData=function(){return{Data:this.Data}},this.RequestData=function(t,e,a){var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a};if(this.Data=[],2!=r.HQChart.Period)return this.NotSupport(r.HQChart,r.WindowIndex,"只支持月线"),r.HQChart.Draw(),this.SendEvent(t,e,a,"只支持月线"),!1;var s=["finance.benford","announcement2.quarter","announcement1.quarter","announcement3.quarter","announcement4.quarter"],o=[{item:["date","int32","gte","20130101"]},{item:["announcement1.year","int32","gte",0,"announcement2.year","int32","gte",0,"announcement3.year","int32","gte",0,"announcement4.year","int32","gte",0,"or"]}];return n.HttpRequest({url:this.ApiUrl,data:{symbol:[r.HQChart.Symbol],field:s,condition:o},type:"post",dataType:"json",async:!0,success:function(n){i.RecvData(n,r),i.SendEvent(t,e,a)}}),!0},this.JsonDataToMapSingleData=function(t){var e=t.stock[0].stockday,a=new Ai.default;for(var i in e){var r=e[i],n=new H;if(n.Date=r.date,n.Value=new Array,null!=r.finance1&&null!=r.announcement1){var s=r.announcement1.year,o=r.announcement1.quarter,h=r.finance1.benford;n.Value.push({Year:s,Quarter:o,Value:h})}if(null!=r.finance2&&null!=r.announcement2){var l=r.announcement2.year,u=r.announcement2.quarter,d=r.finance2.benford;n.Value.push({Year:l,Quarter:u,Value:d})}if(null!=r.finance3&&null!=r.announcement3){var c=r.announcement3.year,D=r.announcement3.quarter,m=r.finance3.benford;n.Value.push({Year:c,Quarter:D,Value:m})}if(null!=r.finance4&&null!=r.announcement4){var C=r.announcement4.year,f=r.announcement4.quarter,p=r.finance4.benford;n.Value.push({Year:C,Quarter:f,Value:p})}a.set(n.Date,n)}var v=new Array,S=!0,T=!1,M=void 0;try{for(var _,I=(0,Ii.default)(a);!(S=(_=I.next()).done);S=!0){var r=_.value;v.push(r[1])}}catch(t){T=!0,M=t}finally{try{!S&&I.return&&I.return()}finally{if(T)throw M}}return v},this.RecvData=function(t,e){if(xi.Chart.Log(t),!(null==t.stock||t.stock.length<=0)){var a=this.JsonDataToMapSingleData(t),i=e.HistoryData.GetFittingMonthData(a),r=new G;r.Data=i,r.Period=e.HQChart.Period,r.Right=e.HQChart.Right,this.Data=r.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,a){var i=this.CreatePaints(t,e);if(i.length!=this.Index.length)return!1;i[0].NotSupportMessage=null,i[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"安全区",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"预警区",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:1,Color:"rgb(255,106,106)",Title:"警示区",TitleColor:"rgb(245,255 ,250)"}],i[1].Data.Data=this.Data,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};var r=e+1;return t.TitlePaint[r].Data[1]=new ue(i[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[r].Data[1].DataType="MultiReport",t.TitlePaint[r].Title=this.FormatIndexTitle(),!0}}function oa(){this.newMethod=$e,this.newMethod("Lighter-Trend"),delete this.newMethod,this.Index=new Array(new Qe("STICKLINE",null),new Qe("STICKLINE",null)),this.Index[0].LineColor="rgb(255,0,0)",this.Index[1].LineColor="rgb(0,0,255)",this.Create=function(t,e){for(var a in this.Index){var i=new ot;i.Canvas=t.Canvas,i.Name=this.Name,i.Name=this.Name+"-"+a.toString(),i.Color=this.Index[a].LineColor,i.LineWidth=2,i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(2!=i.length)return!1;var r=a.GetClose(),n=Ve.SMA(r,6.5,1),s=Ve.SMA(r,13.5,1),o=Ve.STICKLINE(Ve.ARRAY_GT(n,s),n,s),h=Ve.STICKLINE(Ve.ARRAY_GT(s,n),n,s);i[0].Data.Data=o,i[1].Data.Data=h;var l=e+1;return t.TitlePaint[l].Title="大盘/个股 趋势函数",!0}}function ha(){this.newMethod=$e,this.newMethod("位置研判函数"),delete this.newMethod,this.Index=new Array(new Qe("STICKLINE",34),new Qe("STICKLINE",3),new Qe("STICKLINE",null),new Qe("STICKLINE",null),new Qe("STICKLINE",null),new Qe("STICKLINE",null),new Qe("LINE",null),new Qe("TEXT",null)),this.Index[0].LineColor="rgb(0,0,138)",this.Index[1].LineColor="rgb(133,0,138)",this.Index[2].LineColor="rgb(101,118,0)",this.Index[3].LineColor="rgb(105,0,121)",this.Index[4].LineColor="rgb(121,183,21)",this.Index[5].LineColor="rgb(0,0,138)",this.Index[6].LineColor="rgb(255,0,0)",this.Create=function(t,e){for(var a in this.Index){var i=null;"LINE"==this.Index[a].Name?(i=new Q,i.Color=this.Index[a].LineColor):"TEXT"==this.Index[a].Name?i=new ht:(i=new ot,i.Color=this.Index[a].LineColor,i.LineWidth=5),i.Canvas=t.Canvas,i.Name=this.Name,i.Name=this.Name+"-"+a.toString(),i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(i)}},this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;var r=a.GetClose(),n=a.GetHigh(),s=a.GetLow();i[0].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),0,2),i[1].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),2,5),i[2].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),5,10),i[3].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),10,21.5),i[4].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),21.5,23,5),i[5].Data.Data=Ve.STICKLINE(Ve.ARRAY_GT(r,0),23,28,5);var o=Ve.ARRAY_DIVIDE(Ve.EMA(Ve.ARRAY_MULTIPLY(Ve.ARRAY_DIVIDE(Ve.ARRAY_SUBTRACT(r,Ve.LLV(s,this.Index[0].Param)),Ve.ARRAY_SUBTRACT(Ve.HHV(n,this.Index[0].Param),Ve.LLV(s,this.Index[0].Param))),100),this.Index[1].Param),4);i[6].Data.Data=o;var h=new Array;h[0]={Value:1,Message:"底部区域",Color:"rgb(0,255,255)",Position:"Left"},h[1]={Value:3.5,Message:"介入区域",Color:"rgb(0,255,255)",Position:"Left"},h[2]={Value:7.5,Message:"稳健区域",Color:"rgb(0,255,255)",Position:"Left"},h[3]={Value:16,Message:"高位区域",Color:"rgb(0,255,255)",Position:"Left"},h[4]={Value:22,Message:"风险区域",Color:"rgb(0,0,255)",Position:"Left"},h[5]={Value:25.5,Message:"顶部区域",Color:"rgb(255,0,255)",Position:"Left"},i[7].Data.Data=h;var l=e+1;return t.TitlePaint[l].Data[0]=new ue(i[6].Data,"财貌双拳",i[6].Color),t.TitlePaint[l].Title=this.FormatIndexTitle(),!0}}function la(t,e,a,i){this.newMethod=$e,this.newMethod(t),delete this.newMethod,this.Script=e,this.Arguments=[],this.OutVar=[],this.ApiUrl=Zi.PyIndexDomain+"/hq/code",a&&(this.Arguments=a),this.RequestData=function(t,e,a){this.OutVar=[];var i=this,r={HQChart:t,WindowIndex:e,HistoryData:a},s="";for(var o in this.Arguments){s.length>0&&(s+=",");var h=this.Arguments[o];s+='"'+h.Name+'":'+h.Value}s="{"+s+"}";var l=JSON.parse(s),u=(0,gi.default)({code:this.Script,symbol:r.HQChart.Symbol,period:r.HQChart.Period,right:r.HQChart.Right,params:l,numcount:t.MaxReqeustDataCount});return n.HttpRequest({url:this.ApiUrl,data:u,type:"post",dataType:"json",contentType:" application/json; charset=utf-8",async:!0,success:function(t){i.RecvData(t,r)},complete:function(t){},error:function(t,e){i.RecvError(t,e,r)}}),!0},this.RecvError=function(t,e,a){xi.Chart.Log("[PyScriptIndex::RecvError] error",e),a.HQChart.ScriptErrorCallback&&a.HQChart.ScriptErrorCallback(e)},this.RecvData=function(t,e){if(0!=t.code)return xi.Chart.Log("[PyScriptIndex::RecvData] failed.",t),void(e.HQChart.ScriptErrorCallback&&e.HQChart.ScriptErrorCallback(t.msg));xi.Chart.Log("[PyScriptIndex::RecvData] recv data.",t);var a=t.date;for(var i in t.data){for(var r=t.data[i],n=[],s=0;s<a.length&&s<a.length;++s)if(!(s>=r.data.length)){var o=new H;o.Date=a[s],o.Value=r.data[s],n.push(o)}var h=e.HistoryData.GetFittingData(n),l=new G;l.Data=h,l.Period=e.HQChart.Period,l.Right=e.HQChart.Right;var u={Name:r.name,Type:r.graph,LineWidth:r.width,Data:l.GetValue(),Color:r.color};this.OutVar.push(u)}this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()},this.BindData=function(t,e,a){t.DeleteIndexPaint(e);for(var i in this.OutVar){var r=this.OutVar[i];switch(r.Type){case"line":this.CreateLine(t,e,r,i);break;case"colorstick":this.CreateColorStock(t,e,r,i)}}var n=e+1;t.TitlePaint[n].Title=this.Name;var s="";for(var o in this.Arguments){var h=this.Arguments[o];s.length>0&&(s+=","),s+=h.Value.toString()}return s.length>0&&(t.TitlePaint[n].Title=this.Name+"("+s+")"),!0},this.CreateLine=function(t,e,a,i){var r=new Q;r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=a.Color:r.Color=this.GetDefaultColor(i),a.LineWidth>0&&(r.LineWidth=a.LineWidth),0==a.IsShow&&(r.IsShow=!1);var n=e+1;r.Data.Data=a.Data,t.TitlePaint[n].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateColorStock=function(t,e,a,i){var r=new Ct;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame;var n=e+1;r.Data.Data=a.Data,t.TitlePaint[n].Data[i]=new ue(r.Data,a.Name,this.GetDefaultColor(i)),t.ChartPaint.push(r)},this.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]}}function ua(t,e,a,i){this.newMethod=la,this.newMethod(t),delete this.newMethod,this.JsonData,i.JsonData&&(this.JsonData=i.JsonData),this.RequestData=function(t,e,a){if(this.JsonData){var i={HQChart:t,WindowIndex:e,HistoryData:a};this.JsonData.code=0;var r=this.JsonData;this.RecvData(r,i)}else console.warn("[PyScriptIndex::RequestData] JsonData is null"),i.HQChart.ScriptErrorCallback&&i.HQChart.ScriptErrorCallback("json 数据不能为空")}}function da(){this.newMethod=$e,this.newMethod("点位研判函数"),delete this.newMethod,this.Index=new Array(new Qe("启动买点",null)),this.Index[0].LineColor="rgb(255,0,0)",this.BindData=function(t,e,a){var i=t.GetChartPaint(e);if(i.length!=this.Index.length)return!1;var r=a.GetClose(),n=(a.GetHigh(),a.GetLow()),s=Ve.REF(n,1),o=Ve.ARRAY_MULTIPLY(Ve.ARRAY_DIVIDE(Ve.SMA(Ve.ABS(Ve.ARRAY_SUBTRACT(n,s)),13,1),Ve.SMA(Ve.MAX(Ve.ARRAY_SUBTRACT(n,s),0),13,1)),100),h=Ve.EMA(Ve.ARRAY_IF(Ve.ARRAY_MULTIPLY(r,1.2),Ve.ARRAY_MULTIPLY(o,13),Ve.ARRAY_DIVIDE(o,13)),13),l=Ve.LLV(n,34),u=Ve.HHV(h,34),d=Ve.ARRAY_IF(Ve.LLV(n,56),1,0),c=Ve.ARRAY_DIVIDE(Ve.ARRAY_ADD(h,Ve.ARRAY_MULTIPLY(u,2)),2),D=Ve.ARRAY_MULTIPLY(Ve.ARRAY_DIVIDE(Ve.EMA(Ve.ARRAY_IF(Ve.ARRAY_LTE(n,l),c,0),3),618),d),m=Ve.ARRAY_GT(D,Ve.REF(D,1)),C=Ve.REF(Ve.LLV(n,100),3),f=Ve.REFDATE(C,-1),p=Ve.ARRAY_EQ(n,f),v=Ve.ARRAY_AND(m,p);i[0].Data.Data=v;var S=e+1;for(var T in i)t.TitlePaint[S].Data[T]=new ue(i[T].Data,this.Index[T].Name,this.Index[T].LineColor);return t.TitlePaint[S].Title=this.FormatIndexTitle(),!0}}function ca(){}function Da(){this.MaxReqeustDataCount=1e3,this.StartDate=20160101,this.Data,this.ClassName="IKLineInfo",this.Explain="IKLineInfo",this.GetToday=function(){var t=new Date;return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()},this.GetRequestData=function(t){return{Symbol:t.Symbol,MaxReqeustDataCount:t.MaxReqeustDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount}},this.NetworkFilter=function(t){if(!t.NetworkFilter)return!1;var e=this,a={HQChart:t},i={Name:this.ClassName+"::RequestData",Explain:this.Explain,Request:this.GetRequestData(t),Self:this,HQChart:t,PreventDefault:!1};return t.NetworkFilter(i,function(t){e.RecvData(t,a)}),1==i.PreventDefault}}function ma(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="InvestorInfo",this.Explain="互动易",this.RequestData=function(t){var e=this,a={HQChart:t};if(this.Data=[],!this.NetworkFilter(t)){var i={filed:["question","answerdate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxReqeustDataCount};return n.HttpRequest({url:Zi.KLine.Info.Investor.ApiUrl,data:i,type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)}}),!0}},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var a in t.list){var i=t.list[a],r=new k;r.Date=i.answerdate,r.Title=i.question,r.InfoType=bi.INVESTOR,this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Ca(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="AnnouncementInfo",this.Explain="公告",this.ApiType=1,this.RequestData=function(t){var e=this,a={HQChart:t};if(this.Data=[],!this.NetworkFilter(t))if(1==this.ApiType){var i=Zi.CacheDomain+"/cache/analyze/shszreportlist/"+a.HQChart.Symbol+".json";n.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)},error:function(t,i){e.RecvError(t,i,a)}})}else n.HttpRequest({url:Zi.KLine.Info.Announcement.ApiUrl,data:{filed:["title","releasedate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)},error:function(t,i){e.RecvError(t,i,a)}})},this.RecvData=function(t,e){if(!(t.report.length<=0)){for(var a in t.report){var i=t.report[a],r=new k;r.Date=i.releasedate,r.Title=i.title,r.InfoType=bi.ANNOUNCEMENT;for(var n in i.type){switch(i.type[n]){case"一季度报告":r.InfoType=bi.ANNOUNCEMENT_QUARTER_1;break;case"半年度报告":r.InfoType=bi.ANNOUNCEMENT_QUARTER_2;break;case"三季度报告":r.InfoType=bi.ANNOUNCEMENT_QUARTER_3;break;case"年度报告":r.InfoType=bi.ANNOUNCEMENT_QUARTER_4}}for(var n in i.typeex){var s=i.typeex[n];r.InfoType=bi.ANNOUNCEMENT_EX_START+s;break}this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}},this.RecvError=function(t,e,a){console.warn("[AnnouncementInfo::RecvError] error, http ",e,t)}}function fa(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="PforecastInfo",this.RequestData=function(t){var e=this,a={HQChart:t};return this.Data=[],n.HttpRequest({url:Zi.KLine.Info.Pforecast.ApiUrl,data:{field:["pforecast.type","pforecast.reportdate","fweek"],condition:[{item:["pforecast.reportdate","int32","gte",this.StartDate]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var a in t.stock[0].stockday){var i=t.stock[0].stockday[a];if(i.pforecast.length>0){var r=i.pforecast[0],n=new k;n.Date=i.date,n.Title=r.type,n.InfoType=bi.PFORECAST,n.ExtendData={Type:r.type,ReportDate:r.reportdate},i.fweek&&(n.ExtendData.FWeek={},null!=i.fweek.week1&&(n.ExtendData.FWeek.Week1=i.fweek.week1),null!=i.fweek.week4&&(n.ExtendData.FWeek.Week4=i.fweek.week4)),this.Data.push(n)}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function pa(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="ResearchInfo",this.RequestData=function(t){var e=this,a={HQChart:t};return this.Data=[],n.HttpRequest({url:Zi.KLine.Info.Research.ApiUrl,data:{filed:["releasedate","researchdate","level","symbol","id","type"],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},symbol:[a.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var a in t.list){var i=t.list[a],r=new k;r.ID=i.id,r.Date=i.researchdate,r.InfoType=bi.RESEARCH,r.ExtendData={Level:i.level,Type:i.type},this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function va(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="BlockTrading",this.RequestData=function(t){var e=this,a={HQChart:t};return this.Data=[],n.HttpRequest({url:Zi.KLine.Info.BlockTrading.ApiUrl,data:{field:["blocktrading.price","blocktrading.vol","blocktrading.premium","fweek","price"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["blocktrading.vol","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var a in t.stock[0].stockday){var i=t.stock[0].stockday[a],r=new k;r.Date=i.date,r.InfoType=bi.BLOCKTRADING,r.ExtendData={Price:i.blocktrading.price,Premium:i.blocktrading.premium,Vol:i.blocktrading.vol,ClosePrice:i.price},i.fweek&&(r.ExtendData.FWeek={},null!=i.fweek.week1&&(r.ExtendData.FWeek.Week1=i.fweek.week1),null!=i.fweek.week4&&(r.ExtendData.FWeek.Week4=i.fweek.week4)),this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Sa(){this.newMethod=Da,this.newMethod(),delete this.newMethod,this.ClassName="TradeDetail",this.RequestData=function(t){var e=this,a={HQChart:t};return this.Data=[],n.HttpRequest({url:Zi.KLine.Info.TradeDetail.ApiUrl,data:{field:["tradedetail.typeexplain","tradedetail.type","fweek"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["tradedetail.type","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxReqeustDataCount},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var a in t.stock[0].stockday){var i=t.stock[0].stockday[a],r=new k;r.Date=i.date,r.InfoType=bi.TRADEDETAIL,r.ExtendData={Detail:new Array};for(var n in i.tradedetail){var s=i.tradedetail[n];r.ExtendData.Detail.push({Type:s.type,TypeExplain:s.typeexplain})}i.fweek&&(r.ExtendData.FWeek={},null!=i.fweek.week1&&(r.ExtendData.FWeek.Week1=i.fweek.week1),null!=i.fweek.week4&&(r.ExtendData.FWeek.Week4=i.fweek.week4)),this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Ta(){}function Ma(){this.Data,this.ClassName="IMinuteInfo"}function _a(){this.newMethod=Ma,this.newMethod(),delete this.newMethod,this.ClassName="MarketEventInfo",this.RequestData=function(t){var e=this;this.Data=[];var a={HQChart:t},i=Zi.CacheDomain+"/cache/analyze/shszevent/marketevent/concept/"+t.TradeDate+".json";if(t.NetworkFilter){var r={Name:"MarketEventInfo::RequestData",Explain:"大盘异动",Request:{Url:i,Type:"Get",Data:{Date:t.TradeDate,Symbol:t.Symbol}},Self:this,PreventDefault:!1};if(t.NetworkFilter(r,function(t){e.RecvData(t,a),a.HQChart.UpdataChartInfo(),a.HQChart.Draw()}),1==r.PreventDefault)return}return n.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(t){e.RecvData(t,a)},error:function(t,e){console.warn("[MarketEventInfo::RequestData] error, http ",e,t)}}),!0},this.RecvData=function(t,e){for(var a in t.event){var i=t.event[a];for(var r in i.data){var n=i.data[r];if(Array.isArray(n)){if(n.length<2)continue;var s={Date:i.date,Time:n[0],Title:n[1],Type:0};n.length>=3&&n[2]&&"string"==typeof n[2]&&(s.Color=n[2]),n.length>=4&&n[3]&&"string"==typeof n[3]&&(s.BGColor=n[3]),this.Data.push(s)}else{if(!Wt.IsNumber(n.Date)||!Wt.IsNumber(n.Time)||!n.Title)continue;var s={Date:n.Date,Time:n.Time,Title:n.Title,Type:0};n.Color&&(s.Color=n.Color),n.BGColor&&(s.BGColor=n.BGColor),Wt.IsNumber(n.Price)&&(s.Price=n.Price),n.Content&&(s.Content=n.Content),n.Link&&(s.Link=n.Link),this.Data.push(s)}}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}function Ia(t){this.DivElement=t,this.ID=null,this.TimeOut=null,this.Hide=function(){(0,Ei.default)("#"+this.ID).hide()},this.Show=function(t,e,a,i){var r={display:"block"};Wt.IsNumber(t)&&(r.left=t+"px"),Wt.IsNumber(e)&&(r.top=e+"px"),Wt.IsNumber(a)&&(r.width=a+"px"),Wt.IsNumber(i)&&(r.height=i+"px"),(0,Ei.default)("#"+this.ID).css(r)}}function La(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.Title={ID:D()},this.ParamList={ID:D()},this.ParamData=[],this.Identify,this.HQChart,this.Create=function(){this.ID=D();var t=document.createElement("div");t.className="jchart-modifyindex-box",t.id=this.ID,t.innerHTML="<div class='parameter'>            <div class='parameter-header'>                <span></span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'><input/>MA</div>            <div class='parameter-footer'>                <button class='submit' >确定</button>                <button class='cancel' >取消</button>            </div>        </div>",this.DivElement.appendChild(t),(0,Ei.default)("#"+this.ID+" .submit").click({divBox:this},function(t){t.data.divBox.Hide()}),t.getElementsByTagName("span")[0].id=this.Title.ID,t.getElementsByClassName("parameter-content")[0].id=this.ParamList.ID},this.SetTitle=function(t){(0,Ei.default)("#"+this.Title.ID).html(t)},this.ClearParamList=function(){(0,Ei.default)("#"+this.ParamList.ID).empty(),this.ParamData=[]},this.BindParam=function(t,e){var a=t.WindowIndex[e];for(var i in a.Arguments){var r=a.Arguments[i];if(null==r.Name||isNaN(r.Value))break;var n=D(),s='<input class="row-line" id="'+n+'" value="'+r.Value+'" type="number" step="1"/>'+r.Name+"<br>";(0,Ei.default)("#"+this.ParamList.ID).append(s),this.ParamData.push({ID:n,Value:r.Value})}var o=this;for(var i in this.ParamData){var r=this.ParamData[i];(0,Ei.default)("#"+r.ID).mouseup({Chart:t,Identify:e,ParamIndex:i},function(t){var e=parseInt((0,Ei.default)(this).val()),a=o.HQChart,i=o.Identify,r=t.data.ParamIndex;a.WindowIndex[i].Arguments[r].Value=e,a.UpdateWindowIndex(i)}),(0,Ei.default)("#"+r.ID).keyup({Chart:t,Identify:e,ParamIndex:i},function(t){var e=parseInt((0,Ei.default)(this).val()),a=o.HQChart,i=o.Identify,r=t.data.ParamIndex;a.WindowIndex[i].Arguments[r].Value=e,a.UpdateWindowIndex(i)})}},this.BindCancel=function(){var t=this;(0,Ei.default)("#"+this.ID+" .cancel").click(function(){var e=t.HQChart,a=t.Identify;t.RestoreParam(e.WindowIndex[a]),e.UpdateWindowIndex(a),t.Hide()}),(0,Ei.default)("#"+this.ID+" #close").click(function(){var e=t.HQChart,a=t.Identify;t.RestoreParam(e.WindowIndex[a]),e.UpdateWindowIndex(a),t.Hide()})},this.RestoreParam=function(t){for(var e in this.ParamData){var a=this.ParamData[e];t.Arguments[e].Value=a.Value}},this.DoModal=function(t){var e=t.data.Chart,a=t.data.Identify,i=e.ModifyIndexDialog;i&&(null==i.ID&&i.Create(),i.Identify=a,i.HQChart=e,i.SetTitle(e.WindowIndex[a].Name+" 指标参数设置"),i.ClearParamList(),i.BindParam(e,a),i.BindCancel(),i.Show())}}function ga(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.DivElement=t,this.IndexTreeApiUrl="https://opensourcecache.zealink.com/cache/hqh5/index/commonindextree.json",this.OverlayIndexTreeApiUrl="https://opensourcecache.zealink.com/cache/hqh5/index/commonindextree.json",this.IsOverlayIndex=!1,this.Create=function(){var t=document.createElement("div");t.className="jchart-changeindex-box",t.id=this.ID=D(),t.innerHTML='<div class="target-panel">\n            <div class="target-header">\n                <span>换指标</span>\n                <strong class="close-tar icon iconfont icon-close"></strong>\n            </div>\n            <div class="target-content">\n                <div class="target-left">\n                    <input type="text">\n                    <ul></ul>\n                </div>\n                <div class="target-right">\n                    <ul></ul>\n                </div>\n            </div>\n        </div>',this.DivElement.appendChild(t)},this.ReqeustData=function(){function t(t){(0,Ei.default)(".target-left ul").html(""),Ei.default.each(t,function(t,e){var a;a="<li>"+e.node+"</li>",(0,Ei.default)(".target-left ul").append(a)}),(0,Ei.default)(".target-left ul li:first-child").addClass("active-list")}function e(t){var e,a=[];Ei.default.each(t,function(t,e){a.push(e.list)}),Ei.default.each(a[0],function(t,a){e="<li id="+a.id+">"+a.name+"</li>",(0,Ei.default)(".target-right ul").append(e)}),(0,Ei.default)(".target-left ul").delegate("li","click",function(){(0,Ei.default)(this).addClass("active-list").siblings().removeClass("active-list");var t=(0,Ei.default)(this).index();(0,Ei.default)(".target-right ul").html(""),Ei.default.each(a[t],function(t,a){e="<li id="+a.id+">"+a.name+"</li>",(0,Ei.default)(".target-right ul").append(e)})})}if((0,Ei.default)("#"+this.ID+" .target-left ul li").length>0)return!1;var a=this.IndexTreeApiUrl;1==this.IsOverlayIndex&&(a=this.OverlayIndexTreeApiUrl),n.HttpRequest({url:a,type:"get",success:function(a){var i=a.list;t(i),e(i)}})},this.BindClose=function(t){(0,Ei.default)("#"+this.ID+" .close-tar").click({Chart:t},function(t){t.data.Chart.ChangeIndexDialog.Hide()})},this.BindSearch=function(t){(0,Ei.default)(".target-left input").on("input",{Chart:t},function(t){var e=new o,a=e.Search(t.target.value);(0,Ei.default)(".target-right ul").html("");for(var i in a){var r=a[i],n="<li id="+r+">"+r+"</li>";(0,Ei.default)(".target-right ul").append(n)}})},this.DoModal=function(t){var e=t.data.Chart,a=t.data.Identify,i=e.ChangeIndexDialog,r=t.data.IsOverlay;i&&(null==i.ID&&i.Create(),i.IsOverlayIndex=r,i.ReqeustData(),function(){(0,Ei.default)(".target-right ul").undelegate().delegate("li","click",function(){var t=(0,Ei.default)(this).attr("id");r?e.AddOverlayIndex({WindowIndex:a,IndexName:t}):e.ChangeIndex(a,t),(0,Ei.default)(this).addClass("active-list").siblings().removeClass("active-list")})}(),i.BindSearch(e),i.BindClose(e),i.Show())}}function ya(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.JSChart=null,this.Height=500,this.Width=600,this.Symbol,this.TradeDate,this.HistoryData,this.Create=function(){this.ID=D();var t=document.createElement("div");t.className="jchart-kline-minute-box",t.id=this.ID;var e=D();t.innerHTML="<div><div class='minute-dialog-title'><span></span><strong class='close-munite icon iconfont icon-close'></strong></div><div class='minute-hqchart' id='"+e+"' ></div></div>",t.style.width=this.Height+"px",t.style.height=this.Width+"px",this.DivElement.appendChild(t),this.JSChart=h.Init(document.getElementById(e));var a={Type:"历史分钟走势图",Symbol:this.Symbol,IsAutoUpdate:!1,IsShowRightMenu:!1,HistoryMinute:{TradeDate:this.TradeDate,IsShowName:!1,IsShowDate:!1}};this.JSChart.SetOption(a)},this.BindClose=function(t){(0,Ei.default)("#"+this.ID+" .close-munite").click({Chart:t},function(t){t.data.Chart.MinuteDialog.Hide()})},this.DoModal=function(t){this.UpColor=Zi.UpTextColor,this.DownColor=Zi.DownTextColor,this.UnchagneColor=Zi.UnchagneTextColor;var e=t.data.Chart,a=t.data.Tooltip,i=e.MinuteDialog;if(i.Symbol=e.Symbol,i.TradeDate=a.Data.Date,i){null==i.ID?i.Create():(i.JSChart.JSChartContainer.TradeDate=i.TradeDate,i.JSChart.ChangeSymbol(this.Symbol));t.clientX,t.clientY;i.Show(500,100,600,500),i.JSChart.OnSize(),this.BindClose(e),this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor};var r=t.data.Chart.Name,n=t.data.Tooltip.Data,s=(new Date(parseInt(n.Date/1e4),n.Date/100%100-1,n.Date%100),n.Date.toString()),o=s.substring(0,4)+"-"+s.substring(4,6)+"-"+s.substring(6,8),h="<span>"+r+"</span><span>"+o+"</span>&nbsp;<span style='color:"+this.GetColor(n.Open,n.YClose)+";'>开:"+n.Open.toFixed(2)+"</span><span style='color:"+this.GetColor(n.High,n.YClose)+";'>高:"+n.High.toFixed(2)+"</span><span style='color:"+this.GetColor(n.Low,n.YClose)+";'>低:"+n.Low.toFixed(2)+"</span><span style='color:"+this.GetColor(n.Close,n.YClose)+";'>收:"+n.Close.toFixed(2)+"</span><span style='color:"+this.VolColor+";'>量:"+Wt.FormatValueString(n.Vol,2)+"</span><span style='color:"+this.AmountColor+";'>额:"+Wt.FormatValueString(n.Amount,2)+"</span>";(0,Ei.default)(".minute-dialog-title span").html(h)}}}function Aa(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.SelectData,this.Dialog,this.HQChart,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null),this.HQChart.HideSelectRect()},this.Create=function(){this.ID=D();var t=document.createElement("div");t.className="jchart-select-statistics-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-select-section'>            <div class='parameter-header'>                <span>区间统计</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>统计数据</div>        <div class='parameter-footer'>            <button id='close' class='submit' >确定</button>            <button id='match' class='submit' >形态匹配</button>        </div>        </div>",this.DivElement.appendChild(t),this.Dialog=t,(0,Ei.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()}),(0,Ei.default)("#"+this.ID+" #match").click({divBox:this},function(t){t.data.divBox.KLineMatch()})},this.BindData=function(){for(var t=this.SelectData.Data,e=this.SelectData.Start,a=this.SelectData.End,i={Open:0,Close:0,High:0,Low:0,YClose:0,Vol:0,Amount:0,Date:{Start:{Time:null,Date:null},End:{Time:null,Date:null}},Count:0,KLine:{Up:0,Down:0,Unchanged:0}},r=e;r<=a&&r<t.Data.length;++r){var n=t.Data[r];r==e&&(i.Date.Start.Date=n.Date,i.Date.Start.Time=n.Time,i.Open=n.Open,i.High=n.High,i.Low=n.Low,i.YClose=n.YClose),i.Date.End.Date=n.Date,i.Date.End.Time=n.Time,i.Close=n.Close,i.Vol+=n.Vol,i.Amount+=n.Amount,++i.Count,i.High<n.High&&(i.High=n.High),i.Low>n.Low&&(i.Low=n.Low),n.Close>n.Open?++i.KLine.Up:n.Close<n.Open?++i.KLine.Down:++i.KLine.Unchanged}i.Vol>0&&(i.AvPrice=i.Amount/i.Vol),n.YClose>0&&(i.Increase=(i.Close-i.YClose)/i.YClose*100,i.Amplitude=(i.High-i.Low)/i.YClose*100);var s=Wa(this.SelectData.Symbol),o=Wt.FormatDateString(i.Date.Start.Date),h=Wt.FormatDateString(i.Date.End.Date);G.IsMinutePeriod(this.HQChart.Period)&&(o+=" "+Wt.FormatTimeString(i.Date.Start.Time,"HH:MM"),h+=" "+Wt.FormatTimeString(i.Date.End.Time,"HH:MM"));var l="",u="",d="",c="";e<=0&&(l="BtnBackground"),e>=a&&(u="BtnBackground",d="BtnBackground"),a>=t.Data.length-1&&(c="BtnBackground");var D=document.createElement("div");D.className="jchart-select-table-right",D.innerHTML='<div class="jchart-select-date">\n            <span>开始: '+o+'<i class="start-date-left '+l+'"><</i><i class="start-date-right '+u+'">></i></span>\n            <span>结束: '+h+'<i class="end-date-left '+d+'"><</i><i class="end-date-right '+c+'">></i></span>\n            <span>总个数: '+i.Count+"</span>\n        </div>\n        <table>\n            <tr><td><strong>起始价: </strong><span>"+i.YClose.toFixed(s)+"</span></td>               <td><strong>最终价: </strong><span>"+i.Close.toFixed(s)+"</span></td>               <td><strong>均价: </strong><span>"+i.AvPrice.toFixed(s)+"</span></td></tr>\n            <tr><td><strong>最低价: </strong><span>"+i.Low.toFixed(s)+"</span></td>               <td><strong>最高价: </strong><span>"+i.High.toFixed(s)+'</span></td>               <td><strong>涨跌幅: </strong><span class="'+Wt.FormatValueColor(i.Increase)+'">'+i.Increase.toFixed(2)+"%</span></td></tr>\n            <tr><td><strong>振幅: </strong><span>"+i.Amplitude.toFixed(2)+"%</span></td>               <td><strong>成交量: </strong><span>"+Wt.FormatValueString(i.Vol,2)+"股</span></td>               <td><strong>金额: </strong><span>"+Wt.FormatValueString(i.Amount,2)+"元</span></td></tr>\n            <tr><td><strong>阴线: </strong><span>"+i.KLine.Up+"</span></td>               <td><strong>阳线: </strong><span>"+i.KLine.Down+"</span></td>               <td><strong>平线: </strong><span>"+i.KLine.Unchanged+"</span></td></tr>\n        </table>",(0,Ei.default)(".parameter-content").html(D),this.BindEvent()},this.BindEvent=function(){var t=this;t.SelectData.Start>0&&(0,Ei.default)(".jchart-select-date .start-date-left").click(function(){t.SelectData.Start--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),t.SelectData.Start<t.SelectData.End&&((0,Ei.default)(".jchart-select-date .start-date-right").click(function(){t.SelectData.Start++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),(0,Ei.default)(".jchart-select-date .end-date-left").click(function(){t.SelectData.End--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})),t.SelectData.End<t.SelectData.Data.Data.length-1&&(0,Ei.default)(".jchart-select-date .end-date-right").click(function(){t.SelectData.End++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.SelectData=t.data.SelectData,this.HQChart=e,this.BindData(),this.Show()},this.KLineMatch=function(t){var e=new Ea(this.DivElement);e.DoModal({data:{Title:"计算中......",Chart:this.HQChart}}),this.Close();var a=this.HQChart,i={Scope:{Plate:["CNA.ci"],Minsimilar:.9},WaitDialog:e};a.RequestKLineMatch(this.SelectData,i)}}function Fa(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.MatchData,this.Sample,this.Dialog,this.HQChart,this.PageData,this.Close=function(){this.DivElement.removeChild(this.Dialog)},this.Create=function(){this.ID=D();var t=document.createElement("div");t.className="jchart-kline-match-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>形态匹配</span>\n                <strong id='close' class='icon iconfont icon-close'></strong>\n            </div>\n            <div class='parameter-content'>\n                <p class='dataCount'></p>\n                <table class='matchTable'>\n                    <thead>\n                        <tr>\n                            <td>股票名称</td>\n                            <td>匹配度</td>\n                            <td>时间段</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n                <div class='pagination' data-current='1'></div>\n            </div>\n            <div class='parameter-footer'>\n                <button id='close' class='submit' >确定</button>\n            </div>\n        </div>".trim(),this.DivElement.appendChild(t),this.Dialog=t,(0,Ei.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()})},this.BindData=function(){xi.Chart.Log("[KLineMatchDialog::BindData] 形态源: "+this.Sample.Stock.Name+" 区间:"+this.Sample.Date.Start+" - "+this.Sample.Date.End);var t=this.MatchData.length+1,e={NewData:{},MetaData:[],PageCount:0,Count:t},a=0;(0,Ei.default)("#"+this.ID+" .dataCount").html("个数："+t);for(var i=0;i<t;i++){var r={};if(0==i)r={Symbol:this.Sample.Stock.Symbol,Name:this.Sample.Stock.Name,Rate:"形态源",Color:"red",Date:this.Sample.Date.Start+"-"+this.Sample.Date.End};else{var n=this.MatchData[i-1];r={Symbol:n.Symbol,Name:n.Name,Rate:Number(100*n.Similar).toFixed(2),Color:"",Date:n.Start+"-"+n.End}}e.MetaData.push(r)}a=e.Count%10==0?e.Count/10:Math.floor(e.Count/10)+1,e.PageCount=a,this.PaginationMetaData(e),this.PageData=e,xi.Chart.Log("[KLineMatchDialog::DoModal pageData]",e),this.RenderDom(1),this.PaginationInit("#"+this.ID,e.PageCount,this.paginationCallback)},this.RenderDom=function(t){var e=this.PageData.NewData[t];xi.Chart.Log("[KLineMatchDialog::RenderDom currentPageData]",e);for(var a="",i=0;i<e.length;i++)a+=("<tr>\n                        <td class="+e[i].Color+">"+e[i].Name+"</td>\n                        <td class="+e[i].Color+">"+e[i].Rate+"</td>\n                        <td class="+e[i].Color+">"+e[i].Date+"</td>\n                    </tr>").trim();(0,Ei.default)("#"+this.ID+" .matchTable tbody").html(a)};var e=this;this.paginationCallback=function(t){e.RenderDom(t),e.PaginationInit("#"+e.ID,e.PageData.PageCount,e.paginationCallback)},this.PaginationInit=function(t,e,a){var i="",r=(0,Ei.default)(t+" .pagination").data("current"),n=0;if(r<5)if(e>=5)for(var s=0;s<5;s++)i+=s+1!=r?"<span>"+(s+1)+"</span>":"<span class='active'>"+(s+1)+"</span>";else for(var s=0;s<e;s++)i+=s+1!=r?"<span>"+(s+1)+"</span>":"<span class='active'>"+(s+1)+"</span>";else{n=r+1>e?r:r+1;for(var o=r-3;o<=n;o++)i+=o!=r?"<span>"+o+"</span>":"<span class='active'>"+o+"</span>"}i="<span class='beforePage'>上一页</span>"+i+"<span class='nextPage'>下一页</span>",(0,Ei.default)(t+" .pagination").html(i),(0,Ei.default)(t+" .pagination span").bind("click",{maxpage:e,Callback:a},this.PaginationCurrentIndex)},this.PaginationCurrentIndex=function(t){var e=(0,Ei.default)(this).text();xi.Chart.Log("[::PaginationCurrentIndex text]",e);var a=Number((0,Ei.default)(this).parent().data("current")),i=t.data.maxpage,r=t.data.Callback,n=1;n="上一页"===e?1===a?a:a-1:"下一页"===e?a===i?a:a+1:Number(e),(0,Ei.default)(this).parent().data("current",n),r(n)},this.PaginationMetaData=function(t){for(var e={},a=t.MetaData,i=t.PageCount,r=0;r<i;r++){for(var n=[],s=0;s<10;s++){var o=10*r+s;if(!(o<=a.length-1))break;var h=a[o];n.push(h)}e[r+1]=n}t.NewData=e},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.MatchData=t.data.MatchData,this.Sample=t.data.Sample,this.HQChart=e,this.BindData();var a=e.Frame.ChartBorder,i=(m(),a.GetWidth()/2),r=a.GetHeight()/2;this.Show(i,r,200,200)}}function Ea(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.Title="加载中......",this.Dialog,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null)},this.SetTitle=function(t){this.Title=t,this.Dialog},this.Create=function(){this.ID=D();var t=document.createElement("div");t.className="jchart-wait-box",t.id=this.ID,t.innerHTML=("<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>"+this.Title+"</span>\n            </div>\n        </div>").trim(),this.DivElement.appendChild(t),this.Dialog=t},this.DoModal=function(t){this.Title=t.data.Title;var e=t.data.Chart;null==this.ID&&this.Create();var a=e.Frame.ChartBorder,i=(m(),a.GetWidth()/2),r=a.GetHeight()/2;this.Show(i,r,200,40)}}function xa(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.option={},this.Create=function(){var t=this;this.ID=D(),t.BindData(),t.BindEvent()},this.BindData=function(){var t=this,e=this.DivElement.id,a=(0,Ei.default)("#"+e);a.find("div[id^='topMenu_']").remove(),a.find("div[id^='childMenu_']").remove();var i=(0,Ei.default)("<div />");i.attr("id","topMenu_"+t.ID).addClass("context-menu-wrapper topmenu").hide(),a.append(i);var r=(0,Ei.default)("<table />");r.attr({id:"topTable_"+t.ID,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),i.append(r),r.append(t.childrenList(t.option.data));for(var n=0;n<t.option.data.length;n++){if(void 0!==t.option.data[n].children){var s=(0,Ei.default)("<div />");s.attr({id:"childMenu_"+t.ID+n,"data-index":n}).addClass("context-menu-wrapper").hide(),a.append(s);var o=(0,Ei.default)("<table />");o.attr({id:"childTable_"+t.ID+n,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),s.append(o),o.append(t.childrenList(t.option.data[n].children))}}},this.Update=function(){var t=this;t.BindData(),t.BindEvent()},this.childrenList=function(t){for(var e=[],a=0;a<t.length;a++){var i=void 0!==t[a].isBorder&&t[a].isBorder,r=(0,Ei.default)("<tr />");r.addClass("font_Arial context-menu"),i&&r.addClass("border");var n=(0,Ei.default)("<td />");t[a].selected?n.addClass("spacer context-menu").html("√"):n.addClass("spacer context-menu");var s=(0,Ei.default)("<td />");s.addClass("text").html(t[a].text);var o=(0,Ei.default)("<td />");o.addClass("right shortcut");var h=(0,Ei.default)("<td />");h.addClass(void 0!==t[a].children?"submenu-arrow":"context-menu spacer"),r.append(n).append(s).append(o).append(h),e.push(r)}return e},this.Show=function(t){var e=this;Ei.default.extend(e.option,t),e.ID?e.Update():e.Create();var a=(0,Ei.default)("#topMenu_"+e.ID),i=a.outerWidth(),r=a.outerHeight(),n=e.option.x,s=e.option.y;i>e.option.position.X+e.option.position.W-n&&(n-=i),r>e.option.position.Y+e.option.position.H-s&&(s-=r),a.hide(),a.css({position:"absolute",left:n+"px",top:s+"px"}).show(),this.isInit=!0},this.Hide=function(){var t=this;(0,Ei.default)("#topMenu_"+t.ID).hide(),(0,Ei.default)("[id^='childMenu_"+t.ID+"']").hide()},this.BindEvent=function(){var t=this,e=(0,Ei.default)("[id^='childMenu_"+t.ID+"']");(0,Ei.default)("#topTable_"+t.ID).find("tr").mouseenter(function(){var a=(0,Ei.default)(this),i=a.index(),r=(0,Ei.default)("#topMenu_"+t.ID),n=(0,Ei.default)("#childMenu_"+t.ID+i),s=a.outerWidth(),o=a.outerHeight(),h=r.position().left+s+1,l=r.position().top+o*i;s>t.option.position.X+t.option.position.W-h&&(h=h-s-r.outerWidth()-2),n.outerHeight()>t.option.position.Y+t.option.position.H-l&&(l=r.position().top+r.outerHeight()-n.outerHeight()),e.hide(),n.css({left:h+"px",top:l+"px"}).show()}).mouseleave(function(){var e=(0,Ei.default)(this).index();setTimeout(function(){1!=(0,Ei.default)("#childMenu_"+t.ID+e).attr("data-isShow")&&(0,Ei.default)("#childMenu_"+t.ID+e).hide()},10)}).click(function(){var e=(0,Ei.default)(this),a=e.index();"function"==Ei.default.type(t.option.data[a].click)&&(t.option.data[a].click(t.option.returnData),e.hide())}).contextmenu(function(){return!1}),e.mouseenter(function(){(0,Ei.default)(this).attr("data-isShow","1")}).mouseleave(function(){(0,Ei.default)(this).attr("data-isShow","0")}).contextmenu(function(){return!1}),e.find("tr").click(function(){var a=(0,Ei.default)(this),i=parseInt(a.closest("div").attr("data-index")),r=a.index();"function"==Ei.default.type(t.option.data[i].children[r].click)&&(t.option.data[i].children[r].click(t.option.windowIndex||1),e.hide())})},this.GetPeriod=function(t){var e=[{text:"日线",Value:0,click:function(){t.ChangePeriod(0)}},{text:"周线",Value:1,click:function(){t.ChangePeriod(1)}},{text:"双周线",Value:21,click:function(){t.ChangePeriod(21)}},{text:"月线",Value:2,click:function(){t.ChangePeriod(2)}},{text:"季线",Value:9,click:function(){t.ChangePeriod(9)}},{text:"年线",Value:3,click:function(){t.ChangePeriod(3)}},{text:"1分",Value:4,click:function(){t.ChangePeriod(4)}},{text:"5分",Value:5,click:function(){t.ChangePeriod(5)}},{text:"15分",Value:6,click:function(){t.ChangePeriod(6)}},{text:"30分",Value:7,click:function(){t.ChangePeriod(7)}},{text:"60分",Value:8,click:function(){t.ChangePeriod(8)}},{text:"2小时",Value:11,click:function(){t.ChangePeriod(11)}},{text:"4小时",Value:12,click:function(){t.ChangePeriod(12)}},{text:"分笔",Value:10,click:function(){t.ChangePeriod(10)}},{text:"自定义周期:3分钟",Value:20003,click:function(){t.ChangePeriod(20003)}},{text:"自定义周期:35分钟",Value:20035,click:function(){t.ChangePeriod(20035)}},{text:"自定义周期:8日",Value:40008,click:function(){t.ChangePeriod(40008)}}];for(var a in e){var i=e[a];if(i.Value==t.Period){i.selected=!0;break}}return e},this.GetRight=function(t){var e=[{text:"不复权",click:function(){t.ChangeRight(0)}},{text:"前复权",click:function(){t.ChangeRight(1)}},{text:"后复权",click:function(){t.ChangeRight(2)}}];return t.Right>=0&&t.Right<e.length&&(e[t.Right].selected=!0),e},this.GetIndex=function(t){return[{text:"均线",click:function(e){t.ChangeIndex(e,"均线")}},{text:"BOLL",click:function(e){t.ChangeIndex(e,"BOLL")},isBorder:!0},{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"VOL",click:function(e){t.ChangeIndex(e,"VOL")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"BIAS",click:function(e){t.ChangeIndex(e,"BIAS")}},{text:"OBV",click:function(e){t.ChangeIndex(e,"OBV")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"CR",click:function(e){t.ChangeIndex(e,"CR")}},{text:"PSY",click:function(e){t.ChangeIndex(e,"PSY")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}},{text:"VR",click:function(e){t.ChangeIndex(e,"VR")}},{text:"EMV",click:function(e){t.ChangeIndex(e,"EMV")}},{text:"ROC",click:function(e){t.ChangeIndex(e,"ROC")}},{text:"MIM",click:function(e){t.ChangeIndex(e,"MIM")}},{text:"FSL",click:function(e){t.ChangeIndex(e,"FSL")}}]},this.GetColorIndex=function(t){var e=[{text:"十字星",click:function(e){t.ChangeInstructionIndex("五彩K线-十字星")}},{text:"早晨之星",click:function(e){t.ChangeInstructionIndex("五彩K线-早晨之星")}},{text:"垂死十字",click:function(e){t.ChangeInstructionIndex("五彩K线-垂死十字")}},{text:"三只乌鸦",click:function(e){t.ChangeInstructionIndex("五彩K线-三只乌鸦")}},{text:"光脚阴线",click:function(e){t.ChangeInstructionIndex("五彩K线-光脚阴线")}},{text:"黄昏之星",click:function(e){t.ChangeInstructionIndex("五彩K线-黄昏之星")}}];return t.ColorIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除五彩K线",click:function(e){t.CancelInstructionIndex()}})),e},this.GetTradeIndex=function(t){var e=[{text:"BIAS",click:function(e){t.ChangeInstructionIndex("交易系统-BIAS")}},{text:"CCI",click:function(e){t.ChangeInstructionIndex("交易系统-CCI")}},{text:"DMI",click:function(e){t.ChangeInstructionIndex("交易系统-DMI")}},{text:"KD",click:function(e){t.ChangeInstructionIndex("交易系统-KD")}},{text:"BOLL",click:function(e){t.ChangeInstructionIndex("交易系统-BOLL")}},{text:"KDJ",click:function(e){t.ChangeInstructionIndex("交易系统-KDJ")}}];return t.TradeIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除专家系统",click:function(e){t.CancelInstructionIndex()}})),e},this.GetOverlay=function(t){var e=[{text:"上证指数",click:function(){t.OverlaySymbol("000001.sh")}},{text:"深证成指",click:function(){t.OverlaySymbol("399001.sz")}},{text:"中小板指",click:function(){t.OverlaySymbol("399005.sz")}},{text:"创业板指",click:function(){t.OverlaySymbol("399006.sz")}},{text:"沪深300",click:function(){t.OverlaySymbol("000300.sh")}}];for(var a in t.OverlayChartPaint){var i=t.OverlayChartPaint[a],r=i.Symbol,n=new Ai.default([["000001.sh",0],["399001.sz",1],["399005.sz",2],["399006.sz",3],["000300.sh",4]]);if(n.has(r)){var s;!function(){s=e[n.get(r)];var a=r;s.selected=!0,s.click=function(){t.DeleteOverlaySymbol(a)}}()}}return t.OverlayChartPaint&&t.OverlayChartPaint.length>0&&(e[e.length-1].isBorder=!0,e.push({text:"取消叠加",click:function(){t.ClearOverlaySymbol()}})),e},this.GetKLineType=function(t){var e=[{text:"K线(空心阳线)",click:function(){t.ChangeKLineDrawType(3)}},{text:"K线(实心阳线)",click:function(){t.ChangeKLineDrawType(0)}},{text:"美国线",click:function(){t.ChangeKLineDrawType(2)}},{text:"收盘线",click:function(){t.ChangeKLineDrawType(1)}},{text:"收盘面积",click:function(){t.ChangeKLineDrawType(4)}}];switch(t.KLineDrawType){case 0:e[1].selected=!0;break;case 1:e[3].selected=!0;break;case 2:e[2].selected=!0;break;case 3:e[0].selected=!0;break;case 4:e[4].selected=!0}return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(1)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"4个窗口",click:function(){t.ChangeIndexWindowCount(4)}},{text:"5个窗口",click:function(){t.ChangeIndexWindowCount(5)}}],a=t.Frame.SubFrame.length;return a-1>=0&&a-1<e.length&&(e[a-1].selected=!0),e},this.GetCoordinateType=function(t){var e=[{text:"普通坐标",click:function(){t.ChangeCoordinateType({Type:0})}},{text:"百分比坐标",click:function(){t.ChangeCoordinateType({Type:1})}},{text:"反转坐标",click:function(){t.ChangeCoordinateType({IsReverse:!0})}},{text:"对数坐标",click:function(){t.ChangeCoordinateType({Type:2})}}];return t.Frame&&t.Frame.SubFrame&&t.Frame.SubFrame.length>0&&(1==t.Frame.SubFrame[0].Frame.CoordinateType&&(e[2].selected=!0,e[2].click=function(){t.ChangeCoordinateType({IsReverse:!1})}),1==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[1].selected=!0:0==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[0].selected=!0:2==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType&&(e[3].selected=!0)),e},this.GetDragModeType=function(t){var e=[{text:"禁止拖拽",click:function(){t.DragMode=0}},{text:"启动拖拽",click:function(){t.DragMode=1}},{text:"区间选择",click:function(){t.DragMode=2}}];return t.DragMode>=0&&t.DragMode<e.length&&(e[t.DragMode].selected=!0),e},this.GetTools=function(t){var e=[],a=t.GetExtendChartByClassName("DrawToolsButton");a?e.push({text:"关闭画图工具",click:function(){for(var e=a.Chart.Width,i=parseInt(a.Index),r=i+1;r<t.ExtendChartPaint.length;++r){var n=t.ExtendChartPaint[r];"StockChip"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(a),t.Frame.ChartBorder.Right-=e,t.SetSizeChage(!0),t.Draw()}}):e.push({text:"画图工具",click:function(){var e={Name:"画图工具",Top:t.Frame.ChartBorder.Top};t.CreateExtendChart(e.Name,e);t.SetSizeChage(!0),t.Draw()}});var i=t.GetExtendChartByClassName("StockChip");return i?e.push({text:"关闭移动筹码",click:function(){for(var e=i.Chart.Width,a=parseInt(i.Index),r=a+1;r<t.ExtendChartPaint.length;++r){var n=t.ExtendChartPaint[r];"DrawToolsButton"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(i),t.Frame.ChartBorder.Right-=e,t.SetSizeChage(!0),t.Draw()}}):e.push({text:"移动筹码",click:function(){var e={Name:"筹码分布",ShowType:1,Width:230};t.CreateExtendChart(e.Name,e);t.SetSizeChage(!0),t.Draw()}}),e},this.GetKLineInfo=function(t){var e=new Mi.default;for(var a in t.ChartInfo){var i=t.ChartInfo[a];e.add(i.ClassName)}var r=["公告","业绩预告","调研","大宗交易","龙虎榜","互动易"],n=[];for(var a in r){var s=r[a],o=ca.GetClassInfo(s);if(o){var i=this.CreateKlineInfoItem(s,e.has(o.ClassName),t);n.push(i)}}if(t.ChartInfo.length>0){n[n.length-1].isBorder=!0;var i={text:"删除所有",click:function(){t.ClearKLineInfo()}};n.push(i)}return n},this.CreateKlineInfoItem=function(t,e,a){var i={text:t,selected:e};return i.click=e?function(){a.DeleteKLineInfo(t)}:function(){a.AddKLineInfo(t,!0)},i},this.DoModal=function(t){var e=t.data.Chart,a=e.RightMenu,i=t.offsetX,r=t.offsetY,n=[{text:"分析周期",children:this.GetPeriod(e)},{text:"复权处理",children:this.GetRight(e)},{text:"指标切换",children:this.GetIndex(e)},{text:"五彩K线",children:this.GetColorIndex(e)},{text:"专家系统",children:this.GetTradeIndex(e)},{text:"信息地雷",children:this.GetKLineInfo(e)},{text:"叠加品种",children:this.GetOverlay(e)},{text:"主图线型",children:this.GetKLineType(e)},{text:"坐标类型",children:this.GetCoordinateType(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"鼠标拖拽",children:this.GetDragModeType(e)},{text:"工具",children:this.GetTools(e)}],s=e.Symbol.toUpperCase();(tr.IsSHSZIndex(e.Symbol)||tr.IsBIT(s))&&n.splice(1,1);var o=t.data.FrameID,h=this.GetOverlayIndex(e,o);if(h&&h.length>0){var l={text:"删除叠加指标",children:this.GetDeleteOverlayIndex(e,h)};n.splice(3,0,l)}xi.Chart.Log("[KLineRightMenu::DoModal]",o),a.Show({windowIndex:o,x:i+e.UIElement.offsetLeft,y:r+e.UIElement.offsetTop,position:e.Frame.Position,data:n}),(0,Ei.default)(document).click(function(){a.Hide()})},this.GetOverlayIndex=function(t,e){if(e>=t.Frame.SubFrame.length)return[];var a=[],i=t.Frame.SubFrame[e];for(var r in i.OverlayIndex){var n=i.OverlayIndex[r];a.push({Name:n.Script.Name,Identify:n.Identify})}return a},this.GetDeleteOverlayIndex=function(t,e){var a=[];for(var i in e)!function(){var r=e[i].Identify;a.push({text:e[i].Name,click:function(){t.DeleteOverlayWindowsIndex(r)}})}();return a}}function Na(t){this.newMethod=xa,this.newMethod(t),delete this.newMethod,this.DoModal=function(e){var a=e.data.Chart,i=this,r=e.data.X,n=e.data.Y,s=[{text:"区间统计",click:function(){xi.Chart.Log("[KLineSelectRightMenu::click] 区间统计"),i.Hide(),new Aa(t).DoModal(e)}},{text:"区间放大",click:function(){xi.Chart.Log("[KLineSelectRightMenu::click] 区间放大"),e.data.Chart.ShowSelectData(e.data.SelectData)}}];i.Show({x:r,y:n,position:a.Frame.Position,data:s})},this.Show=function(t){var e=this;Ei.default.extend(e.option,t),e.ID||e.Create();var a="topMenu_"+e.ID;document.getElementById(a)||e.Create();var i=(0,Ei.default)("#topMenu_"+e.ID),r=i.outerWidth(),n=i.outerHeight();i.contextmenu(function(){return!1});var s=e.option.x,o=e.option.y;r>e.option.position.X+e.option.position.W-s&&(s-=r),n>e.option.position.Y+e.option.position.H-o&&(o-=n),i.hide(),i.css({position:"absolute",left:s+"px",top:o+"px"}).show(),(0,Ei.default)("#topMenu_"+e.ID).find("tr").show(),this.isInit=!0}}function wa(t){this.newMethod=xa,this.newMethod(t),delete this.newMethod,this.DoModal=function(t){var e=t.data.Chart,a=e.RightMenu,i=t.offsetX,r=t.offsetY,n=[{text:"叠加品种",children:this.GetOverlay(e)},{text:"多日分时图",children:this.GetDayCount(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"副图指标切换",children:this.GetIndex(e)}],s=e.Symbol;tr.IsSHSZStockA(s)&&n.push({text:"集合竞价",children:this.GetShowBeforeData(e)});var o=t.data.FrameID;xi.Chart.Log("[MinuteRightMenu::DoModal]",o),a.Show({windowIndex:o,x:i+e.UIElement.offsetLeft,y:r+e.UIElement.offsetTop,position:e.Frame.Position,data:n}),(0,Ei.default)(document).click(function(){a.Hide()})},this.GetDayCount=function(t){var e=[{text:"当日分时图",click:function(){t.ChangeDayCount(1)},isBorder:!0},{text:"最近2日",click:function(){t.ChangeDayCount(2)}},{text:"最近3日",click:function(){t.ChangeDayCount(3)}},{text:"最近4日",click:function(){t.ChangeDayCount(4)}},{text:"最近5日",click:function(){t.ChangeDayCount(5)}},{text:"最近6日",click:function(){t.ChangeDayCount(6)}}];return t.DayCount-1>=0&&t.DayCount-1<e.length&&(e[t.DayCount-1].selected=!0),e},this.GetIndex=function(t){return[{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}}]},this.GetShowBeforeData=function(t){if(t.IsShowBeforeData){var e=[{text:"隐藏",click:function(){t.ShowBeforeData(!1)}}];return e}var e=[{text:"显示",click:function(){t.ShowBeforeData(!0)}}];return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(4)}}],a=t.Frame.SubFrame.length-1;return a-1>=0&&a-1<e.length&&(e[a-1].selected=!0),e}}function Oa(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.HQChart,this.ChartPicture,this.SubToolsDiv,this.SettingMenu,this.DoModal=function(t){if(!this.SubToolsDiv){this.ID=D();var e=document.createElement("div");e.className="subTolls",e.id=this.ID,this.DivElement.appendChild(e),this.SubToolsDiv=e}this.HQChart=t.data.HQChart,this.ChartPicture=t.data.ChartPicture;var a=u(),i=this.HQChart.Frame.SubFrame[0].Frame,r=i.ChartBorder.Top+40,n=i.ChartBorder.Right,s=i.ChartBorder.GetLeft(),o=this.ChartPicture.ClassName,h="";h="ChartDrawPictureText"===o?'<span class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+this.ChartPicture.LineColor+'"></span>\n<span class="subtool-set" title="设置"><i class="iconfont icon-shezhi"></i></span><span class="subtool-del"><i class="iconfont icon-recycle_bin"></i></span>':'<p class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+this.ChartPicture.LineColor+'"></p>\n        <p class="subtool-del"><i class="iconfont icon-recycle_bin"></i></p>',this.SubToolsDiv.style.right=n/a+"px",this.SubToolsDiv.style.top=r/a+"px",this.SubToolsDiv.innerHTML=h,this.SubToolsDiv.style.position="absolute",this.SubToolsDiv.style.display="block";var l=this.HQChart,d=this.ChartPicture;this.SubToolsDiv;(0,Ei.default)(".subtool-del").click(function(){l.ClearChartDrawPicture(d),(0,Ei.default)(".subTolls").css("display","none")});var c=this;(0,Ei.default)(".subtool-set").click(function(){(0,Ei.default)(c.SubToolsDiv).hide(),this.SettingMenu||(c.SettingMenu=new Pa(i.ChartBorder.UIElement.parentNode)),c.SettingMenu.ChartPicture=d,c.SettingMenu.HQChart=l,c.SettingMenu.Position={Left:n+80,Top:r+20},c.SettingMenu.DoModal()}),(0,Ei.default)(".changes-color").click(function(){document.getElementById("color").click(),(0,Ei.default)(".change-color").change(function(){var t=(0,Ei.default)(".change-color").val();d.LineColor=t,d.PointColor=t,l.ChartDrawStorage&&l.ChartDrawStorage.SaveDrawData(d)})}),xi.Chart.Log("[ChartPictureSettingMenu::DoModal]",{Top:r,Left:s,Right:n})}}function Pa(t){this.newMethod=Ia,this.newMethod(t),delete this.newMethod,this.ChartPicture,this.SettingDiv,this.Position,this.BackupData,this.Close=function(){this.SettingDiv&&this.DivElement.removeChild(this.SettingDiv)},this.DoModal=function(){var t=this.ChartPicture.Text,e=this.ChartPicture.FontOption,a=this.ChartPicture.LineColor;this.BackupData={Text:t,LineColor:a,FontOption:{Family:e.Family,Size:e.Size,Weight:e.Weight,Style:e.Style}},xi.Chart.Log("[ChartPictureTextSettingMenu::DoModal] picture info",this.BackupData);var i=this,r=this.DivElement.getElementsByClassName("chartpicture-text-setting")[0];r?this.SettingDiv=r:(r=document.createElement("div"),r.className="chartpicture-text-setting",this.DivElement.appendChild(r),this.SettingDiv=r);var n=[10,11,12,14,16,20,24,28,32,40],s=["微软雅黑","宋体","Arial","仿宋"],o="",h="";s.forEach(function(t,e){h+=0!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"}),n.forEach(function(t,e){o+=5!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"});var l='<div class="contentWrap"><div class="styleOptions"><span class="colorPicker"><input type="color" id="fontColor" value="#1e90ff"></span><div class="likeSelect fontSelect"><span class="choicedText">微软雅黑</span><div class="selectList">'+h+'</div><i class="iconfont icon-xia"></i></div><div class="likeSelect fontSizeSelect"><span class="choicedText">20</span><div class="selectList">'+o+'</div><i class="iconfont icon-xia"></i></div><span class="strongFont likeBtn"><i class="iconfont icon-jiacu"></i></span><span class="italicsFont likeBtn"><i class="iconfont icon-qingxieL"></i></span></div><textarea class="tArea" id="tArea" placeholder="Text"></textarea></div>',d=u(),c='<div class="titleWrap"><span class="titleName">样式设置</span><i class="closeBtn iconfont icon-close"></i></div>'+l+'<div class="btnsContainer"><span class="okBtn btn">确认</span><span class="cancelBtn btn">取消</span></div>';this.SettingDiv.style.left=this.Position.Left/d+"px",this.SettingDiv.style.top=this.Position.Top/d+"px",this.SettingDiv.innerHTML=c,this.SettingDiv.style.position="absolute",this.SettingDiv.style.display="block",(0,Ei.default)(".chartpicture-text-setting .colorPicker").css({borderColor:i.ChartPicture.LineColor,"background-color":i.ChartPicture.LineColor});var D=this.ChartPicture.FontOption.Family;(0,Ei.default)(".chartpicture-text-setting .fontSelect .choicedText").html(D),s.forEach(function(t,e){t==D&&((0,Ei.default)(".chartpicture-text-setting .fontSelect p").removeClass("active"),(0,Ei.default)(".chartpicture-text-setting .fontSelect p").eq(e).addClass("active"))});var m=this.ChartPicture.FontOption.Size;(0,Ei.default)(".chartpicture-text-setting .fontSizeSelect .choicedText").html(m),n.forEach(function(t,e){t==m&&((0,Ei.default)(".chartpicture-text-setting .fontSizeSelect p").removeClass("active"),(0,Ei.default)(".chartpicture-text-setting .fontSizeSelect p").eq(e).addClass("active"))});var C=this.ChartPicture.FontOption.Weight;null!=C&&"bold"==C&&(0,Ei.default)(".chartpicture-text-setting .strongFont").addClass("hot");var f=this.ChartPicture.FontOption.Style;null!=f&&"italic"==f&&(0,Ei.default)(".chartpicture-text-setting .italicsFont").addClass("hot");var t=this.ChartPicture.Text;(0,Ei.default)(".chartpicture-text-setting .tArea").val(t);(0,Ei.default)(".chartpicture-text-setting #fontColor").change({Picture:this.ChartPicture},function(t){var e=(0,Ei.default)(this).val();(0,Ei.default)(this).parent().css({borderColor:e,"background-color":e});var a=t.data.Picture;a.LineColor=e,a.Update&&a.Update()}),(0,Ei.default)(".chartpicture-text-setting .fontSelect,.chartpicture-text-setting .fontSizeSelect").click(function(){(0,Ei.default)(this).find(".selectList").toggle(),(0,Ei.default)(this).toggleClass("hot")}),(0,Ei.default)(".chartpicture-text-setting .fontSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,Ei.default)(this).closest(".fontSelect").find(".choicedText").html(),a=t.currentTarget.innerHTML;if(e!==a){(0,Ei.default)(this).closest(".fontSelect").find(".choicedText").html(a),(0,Ei.default)(this).siblings().removeClass("active"),(0,Ei.default)(this).addClass("active");var i=t.data.Picture;i.FontOption.Family=a,i.Update&&i.Update()}}),(0,Ei.default)(".chartpicture-text-setting .fontSizeSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,Ei.default)(this).closest(".fontSizeSelect").find(".choicedText").html(),a=t.currentTarget.innerHTML;if(e!==a){(0,Ei.default)(this).closest(".fontSizeSelect").find(".choicedText").html(a),(0,Ei.default)(this).siblings().removeClass("active"),(0,Ei.default)(this).addClass("active");var i=t.data.Picture;i.FontOption.Size=Number(a),i.Update&&i.Update()}}),(0,Ei.default)(".chartpicture-text-setting .strongFont").click({Picture:this.ChartPicture},function(t){if((0,Ei.default)(this).toggleClass("hot"),(0,Ei.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Weight="bold",e.Update&&e.Update()}}),(0,Ei.default)(".chartpicture-text-setting .italicsFont").click({Picture:this.ChartPicture},function(t){if((0,Ei.default)(this).toggleClass("hot"),(0,Ei.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Style="italic",e.Update&&e.Update()}}),(0,Ei.default)(".chartpicture-text-setting .titleWrap .closeBtn,.chartpicture-text-setting .btnsContainer .cancelBtn").click({Picture:this.ChartPicture},function(t){var e=t.data.Picture;e.Text=i.BackupData.Text,e.LineColor=i.BackupData.LineColor,e.FontOption=i.BackupData.FontOption,e.Update&&e.Update(),i.Close()}),(0,Ei.default)(".chartpicture-text-setting .tArea").keyup({Picture:this.ChartPicture},function(t){xi.Chart.Log('[ChartPictureTextSettingMenu::DoModal] $(".chartpicture-text-setting .tArea").keyup()');var e=(0,Ei.default)(this).val(),a=t.data.Picture;a.Text=e,a.Update&&a.Update()}),(0,Ei.default)(".chartpicture-text-setting .btnsContainer .okBtn").click(function(){i.Close(),i.HQChart&&i.HQChart.ChartDrawStorage&&i.HQChart.ChartDrawStorage.SaveDrawData(i.ChartPicture)})}}function Ra(){this.SHSZ=null,this.SHO=null,this.HK=null,this.Futures=new Ai.default,this.USA=null,this.FTSE=null,this.FHK=null,this.ForeEx=null,this.BIT=null,this.Initialize=function(){},this.GetET=function(t){throw{Name:"MinuteTimeStringData::GetET",Error:"not implement"}},this.GetSHSZ=function(t){return this.SHSZ||(this.SHSZ=this.CreateSHSZData()),this.SHSZ},this.GetSHO=function(){return this.SHO||(this.SHO=this.CreateSHOData()),this.SHO},this.GetHK=function(){return this.HK||(this.HK=this.CreateHKData()),this.HK},this.GetFutures=function(t){if(!this.Futures.has(t.Name)){var e=this.CreateTimeData(t.Data);this.Futures.set(t.Name,e)}return this.Futures.get(t.Name)},this.GetUSA=function(){return this.USA||(this.USA=this.CreateUSAData(0)),this.USA},this.GetFTSE=function(){return this.FTSE||(this.FTSE=this.CreateFTSEData()),this.FTSE},this.GetFHK=function(){return this.FHK||(this.FHK=this.CreateFHKData()),this.FHK},this.GetForeignExchange=function(){return this.ForeEx||(this.ForeEx=this.CreateForeignExchangeData()),this.ForeEx},this.GetBIT=function(t){return this.BIT||(this.BIT=this.CreateBITData()),this.BIT},this.CreateSHSZData=function(){var t=[{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateSHOData=function(){var t=[{Start:930,End:1129},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateHKData=function(){var t=[{Start:930,End:1200},{Start:1300,End:1600}];return this.CreateTimeData(t)},this.CreateFTSEData=function(){var t=[{Start:1700,End:2359},{Start:0,End:445},{Start:900,End:1630}];return this.CreateTimeData(t)},this.CreateFHKData=function(){var t=[{Start:1715,End:2359},{Start:0,End:300},{Start:915,End:1200},{Start:1300,End:1630}];return this.CreateTimeData(t)},this.CreateUSAData=function(t){if(1==t){var e=[{Start:2130,End:2359},{Start:0,End:400}];return this.CreateTimeData(e)}if(2==t){var a=[{Start:2230,End:2359},{Start:0,End:500}];return this.CreateTimeData(a)}var i=[{Start:930,End:1600}];return this.CreateTimeData(i)},this.CreateForeignExchangeData=function(){var t=[{Start:600,End:2359},{Start:0,End:559}];return this.CreateTimeData(t)},this.CreateBITData=function(){var t=[{Start:600,End:2359},{Start:0,End:559}];return this.CreateTimeData(t)},this.CreateTimeData=function(t){var e=[];for(var a in t)for(var i=t[a],r=i.Start;r<=i.End;++r)r%100>=60||e.push(r);return e},this.GetTimeData=function(t){if(!t)return this.SHSZ;var e=t.toLocaleUpperCase();if(tr.IsSH(e)||tr.IsSZ(e))return this.GetSHSZ(e);if(tr.IsSHO(e))return this.GetSHO();if(tr.IsHK(e))return this.GetHK();if(tr.IsUSA(e))return this.GetUSA(!0);if(tr.IsCFFEX(e)||tr.IsCZCE(e)||tr.IsDCE(e)||tr.IsSHFE(e)){var a=ir.GetSplitData(e);return a?this.GetFutures(a):null}if(tr.IsFTSE(e))return this.GetFTSE();if(tr.IsFHK(e))return this.GetFHK();if(tr.IsForeignExchange(e))return this.GetForeignExchange();if(tr.IsET(e))return this.GetET(e);if(tr.IsBIT(e))return this.GetBIT(e);if(tr.IsNYMEX(e)){var a=rr.GetSplitData(e);return a?this.GetFutures(a):null}if(tr.IsCOMEX(e)){var a=nr.GetSplitData(e);return a?this.GetFutures(a):null}if(tr.IsNYBOT(e)){var a=sr.GetSplitData(e);return a?this.GetFutures(a):null}if(tr.IsCBOT(e)){var a=or.GetSplitData(e);return a?this.GetFutures(a):null}if(tr.IsLME(e)){var a=hr.GetSplitData(e);return a?this.GetFutures(a):null}}}function ba(){var t={Full:[[0,0,"rgb(200,200,200)","09:30"],[31,0,"RGB(200,200,200)","10:00"],[61,0,"RGB(200,200,200)","10:30"],[91,0,"RGB(200,200,200)","11:00"],[122,1,"RGB(200,200,200)","13:00"],[152,0,"RGB(200,200,200)","13:30"],[182,0,"RGB(200,200,200)","14:00"],[212,0,"RGB(200,200,200)","14:30"],[242,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[61,0,"RGB(200,200,200)","10:30"],[122,1,"RGB(200,200,200)","13:00"],[182,0,"RGB(200,200,200)","14:00"],[242,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[122,1,"RGB(200,200,200)","13:00"],[242,1,"RGB(200,200,200)","15:00"]],Count:243,MiddleCount:122,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},e={Full:[[0,0,"rgb(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,0,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","13:00"],[150,0,"RGB(200,200,200)","13:30"],[180,0,"RGB(200,200,200)","14:00"],[210,0,"RGB(200,200,200)","14:30"],[240,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[60,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","13:00"],[180,0,"RGB(200,200,200)","14:00"],[240,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[120,1,"RGB(200,200,200)","13:00"],[240,1,"RGB(200,200,200)","15:00"]],Count:241,MiddleCount:120,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},a={Full:[[0,1,"RGB(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,1,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","11:30"],[151,0,"RGB(200,200,200)","13:00"],[181,1,"RGB(200,200,200)","13:30"],[211,0,"RGB(200,200,200)","14:00"],[241,1,"RGB(200,200,200)","14:30"],[271,0,"RGB(200,200,200)","15:00"],[301,1,"RGB(200,200,200)","15:30"],[331,1,"RGB(200,200,200)","16:00"]],Simple:[[0,1,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:30"],[211,0,"RGB(200,200,200)","14:00"],[271,0,"RGB(200,200,200)","15:00"],[331,1,"RGB(200,200,200)","16:00"]],Min:[[0,1,"RGB(200,200,200)","09:30"],[151,0,"RGB(200,200,200)","13:00"],[331,1,"RGB(200,200,200)","16:00"]],Count:332,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},i={Full:[[0,0,"rgb(200,200,200)","9:30"],[30,0,"RGB(200,200,200)","10:00"],[90,1,"RGB(200,200,200)","11:00"],[150,0,"RGB(200,200,200)","12:00"],[210,0,"RGB(200,200,200)","13:00"],[270,0,"RGB(200,200,200)","14:00"],[330,0,"RGB(200,200,200)","15:00"],[390,0,"RGB(200,200,200)","16:00"]],Simple:[[30,0,"rgb(200,200,200)","10:00"],[150,1,"RGB(200,200,200)","12:00"],[270,0,"RGB(200,200,200)","14:00"],[390,0,"RGB(200,200,200)","16:00"]],Min:[[30,0,"rgb(200,200,200)","10:00"],[210,1,"RGB(200,200,200)","13:00"],[390,0,"RGB(200,200,200)","16:00"]],Count:391,MiddleCount:211,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},r={Full:[[0,1,"RGB(200,200,200)","17:00"],[120,1,"RGB(200,200,200)","19:00"],[240,1,"RGB(200,200,200)","21:00"],[360,1,"RGB(200,200,200)","23:00"],[480,1,"RGB(200,200,200)","01:00"],[600,1,"RGB(200,200,200)","03:00"],[706,1,"RGB(200,200,200)","09:00"],[826,1,"RGB(200,200,200)","11:00"],[946,1,"RGB(200,200,200)","13:00"],[1066,1,"RGB(200,200,200)","15:00"],[1156,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:00"],[240,1,"RGB(200,200,200)","21:00"],[480,1,"RGB(200,200,200)","01:00"],[706,1,"RGB(200,200,200)","09:00"],[946,1,"RGB(200,200,200)","13:00"],[1156,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:00"],[706,1,"RGB(200,200,200)","09:00"],[1156,1,"RGB(200,200,200)","16:30"]],Count:1157,MiddleCount:707,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},n={Full:[[0,1,"RGB(200,200,200)","17:15"],[105,1,"RGB(200,200,200)","19:00"],[225,1,"RGB(200,200,200)","21:00"],[345,1,"RGB(200,200,200)","23:00"],[586,0,"RGB(200,200,200)","09:15"],[691,1,"RGB(200,200,200)","11:00"],[812,1,"RGB(200,200,200)","14:00"],[963,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:15"],[225,1,"RGB(200,200,200)","21:00"],[586,0,"RGB(200,200,200)","09:15"],[752,1,"RGB(200,200,200)","13:00"],[963,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:15"],[586,0,"RGB(200,200,200)","09:15"],[963,1,"RGB(200,200,200)","16:30"]],Count:963,MiddleCount:526,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},s={Full:[[0,1,"RGB(200,200,200)","06:00"],[120,1,"RGB(200,200,200)","08:00"],[240,1,"RGB(200,200,200)","10:00"],[360,1,"RGB(200,200,200)","12:00"],[480,0,"RGB(200,200,200)","14:00"],[600,1,"RGB(200,200,200)","16:00"],[720,1,"RGB(200,200,200)","18:00"],[840,1,"RGB(200,200,200)","20:00"],[960,1,"RGB(200,200,200)","22:00"],[1080,1,"RGB(200,200,200)","0:00"],[1200,1,"RGB(200,200,200)","02:00"],[1320,1,"RGB(200,200,200)","04:00"]],Simple:[[0,1,"RGB(200,200,200)","06:00"],[240,1,"RGB(200,200,200)","10:00"],[480,0,"RGB(200,200,200)","14:00"],[720,1,"RGB(200,200,200)","18:00"],[960,1,"RGB(200,200,200)","22:00"],[1200,1,"RGB(200,200,200)","02:00"]],Min:[[0,1,"RGB(200,200,200)","06:00"],[480,0,"RGB(200,200,200)","14:00"],[960,1,"RGB(200,200,200)","22:00"]],Count:1440,MiddleCount:600,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}};this.GetCoordinateData=function(e,i){var r=null;if(e){var n=e.toLocaleUpperCase();if(tr.IsSH(n)||tr.IsSZ(n)||tr.IsSHSZIndex(n))r=this.GetSHSZData(n,i);else if(tr.IsSHO(n))r=this.GetSHOData(n,i);else if(tr.IsHK(n))r=a;else{if(tr.IsCFFEX(n)||tr.IsCZCE(n)||tr.IsDCE(n)||tr.IsSHFE(n))return this.GetChinatFuturesData(n,i);if(tr.IsUSA(n))r=this.GetUSAData(n,i);else if(tr.IsFTSE(n))r=this.GetFTSEData(n,i);else if(tr.IsFHK(n))r=this.GetFHKData(n,i);else if(tr.IsForeignExchange(n))r=this.GetForeignExchangeData(n,i);else if(tr.IsBIT(n,i))r=this.GetBITData(n,i);else if(tr.IsET(n))r=this.GetETData(n,i);else{if(tr.IsNYMEX(n,i))return r=this.GetNYMEXData(n,i);if(tr.IsCOMEX(n,i))return r=this.GetCOMEXData(n,i);if(tr.IsNYBOT(n,i))return r=this.GetNYBOTData(n,i);if(tr.IsCBOT(n,i))return r=this.GetCBOTData(n,i);if(tr.IsLME(n,i))return r=this.GetLMEData(n,i)}}}else r=t;return{Count:r.Count,MiddleCount:r.MiddleCount,Data:r.GetData(i)}},this.GetSHSZData=function(e,a){return t},this.GetUSAData=function(t,e){return i},this.GetSHOData=function(t,a){return e},this.GetFuturesData=function(t,e,a){var i=a.GetSplitData(t);if(!i)return null;var r=er.GetFutures(i);if(!r)return null;var n={Count:r.length},s=null;s=e<200?i.Coordinate.Min:e<480?i.Coordinate.Simple:i.Coordinate.Full;for(var o=[],h=0;h<r.length;++h)for(var l=r[h],u=0;u<s.length;++u){var d=s[u];if(l==d.Value){var c=[h,0,"RGB(200,200,200)",d.Text];o.push(c);break}}return n.Data=o,n},this.GetChinatFuturesData=function(t,e){return this.GetFuturesData(t,e,ir)},this.GetNYMEXData=function(t,e){return this.GetFuturesData(t,e,rr)},this.GetCOMEXData=function(t,e){return this.GetFuturesData(t,e,nr)},this.GetNYBOTData=function(t,e){return this.GetFuturesData(t,e,sr)},this.GetCBOTData=function(t,e){return this.GetFuturesData(t,e,or)},this.GetLMEData=function(t,e){return this.GetFuturesData(t,e,hr)},this.GetFTSEData=function(t,e){return r},this.GetFHKData=function(t,e){return n},this.GetForeignExchangeData=function(t,e){return s},this.GetBITData=function(t,e){return s},this.GetETData=function(t,e){throw{Name:"MinuteCoordinateData::GetETData",Error:"not implement"}}}function Ya(){this.TIME_SPLIT=[{Name:"9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:900,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1330,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1330,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"9:15-11:30,13:00-15:15",Data:[{Start:915,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:30-11:30,13:00-15:00",Data:[{Start:930,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2330},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-1:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-2:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}}],this.MAP_TWOWORDS=new Ai.default([[tr.DCE+"-JD",{Time:0,Decimal:0,Name:"鸡蛋"}],[tr.DCE+"-FB",{Time:0,Decimal:2,Name:"纤板"}],[tr.DCE+"-BB",{Time:0,Decimal:2,Name:"胶板"}],[tr.DCE+"-PP",{Time:6,Decimal:0,Name:"丙烯"}],[tr.DCE+"-JM",{Time:6,Decimal:1,Name:"焦煤"}],[tr.DCE+"-EG",{Time:6,Decimal:0,Name:"乙二醇"}],[tr.DCE+"-EB",{Time:6,Decimal:0,Name:"苯乙烯"}],[tr.DCE+"-CS",{Time:6,Decimal:0,Name:"淀粉"}],[tr.DCE+"-PG",{Time:6,Decimal:0,Name:"液化气"}],[tr.DCE+"-RR",{Time:6,Decimal:0,Name:"梗米"}],[tr.SHFE+"-CU",{Time:4,Decimal:0}],[tr.SHFE+"-AL",{Time:4,Decimal:0}],[tr.SHFE+"-NI",{Time:4,Decimal:0}],[tr.SHFE+"-SN",{Time:4,Decimal:0}],[tr.SHFE+"-ZN",{Time:4,Decimal:0}],[tr.SHFE+"-PB",{Time:4,Decimal:0}],[tr.SHFE+"-RU",{Time:6,Decimal:0}],[tr.SHFE+"-FU",{Time:6,Decimal:0}],[tr.SHFE+"-RB",{Time:6,Decimal:0}],[tr.SHFE+"-BU",{Time:6,Decimal:0}],[tr.SHFE+"-HC",{Time:6,Decimal:0}],[tr.SHFE+"-SP",{Time:6,Decimal:0,Name:"纸浆"}],[tr.SHFE+"-WR",{Time:0,Decimal:0,Name:"线材"}],[tr.SHFE+"-AG",{Time:5,Decimal:0,Name:"白银"}],[tr.SHFE+"-AU",{Time:5,Decimal:2,Name:"黄金"}],[tr.SHFE+"-NR",{Time:6,Decimal:1,Name:"20号胶"}],[tr.SHFE+"-SC",{Time:6,Decimal:1,Name:"中质含硫原油"}],[tr.SHFE+"-LU",{Time:6,Decimal:0,Name:"低硫燃料油"}],[tr.CZCE+"-CF",{Time:6,Decimal:0,Name:"棉花"}],[tr.CZCE+"-SR",{Time:6,Decimal:0,Name:"白糖"}],[tr.CZCE+"-MA",{Time:6,Decimal:0,Name:"甲醇"}],[tr.CZCE+"-ZC",{Time:6,Decimal:1,Name:"动力煤"}],[tr.CZCE+"-TA",{Time:6,Decimal:0,Name:"精对苯二甲酸(PTA)"}],[tr.CZCE+"-RM",{Time:6,Decimal:0,Name:"菜籽粕"}],[tr.CZCE+"-OI",{Time:6,Decimal:0,Name:"菜籽油"}],[tr.CZCE+"-ME",{Time:3,Decimal:0,Name:"甲醇(老)"}],[tr.CZCE+"-FG",{Time:6,Decimal:0,Name:"平板玻璃"}],[tr.CZCE+"-WS",{Time:0,Decimal:0}],[tr.CZCE+"-WT",{Time:0,Decimal:0}],[tr.CZCE+"-GN",{Time:0,Decimal:0}],[tr.CZCE+"-RO",{Time:0,Decimal:0}],[tr.CZCE+"-RS",{Time:0,Decimal:0}],[tr.CZCE+"-ER",{Time:0,Decimal:0}],[tr.CZCE+"-RI",{Time:0,Decimal:0}],[tr.CZCE+"-WH",{Time:0,Decimal:0}],[tr.CZCE+"-AP",{Time:0,Decimal:0}],[tr.CZCE+"-PM",{Time:0,Decimal:0}],[tr.CZCE+"-QM",{Time:0,Decimal:0}],[tr.CZCE+"-TC",{Time:0,Decimal:0}],[tr.CZCE+"-JR",{Time:0,Decimal:0}],[tr.CZCE+"-LR",{Time:0,Decimal:0}],[tr.CZCE+"-SF",{Time:0,Decimal:0}],[tr.CZCE+"-SM",{Time:0,Decimal:0}],[tr.CFFEX+"-TF",{Time:1,Decimal:3,Name:"二债"}],[tr.CFFEX+"-TS",{Time:1,Decimal:3,Name:"五债"}],[tr.CFFEX+"-IH",{Time:2,Decimal:1,Name:"上证股指期货"}],[tr.CFFEX+"-IC",{Time:2,Decimal:1,Name:"中证股指期货"}],[tr.CFFEX+"-IF",{Time:2,Decimal:1,Name:"沪深股指期货"}]]),this.MAP_ONEWORD=new Ai.default([[tr.DCE+"-C",{Time:6,Decimal:0,Name:"玉米"}],[tr.DCE+"-L",{Time:6,Decimal:0,Name:"乙烯"}],[tr.DCE+"-V",{Time:6,Decimal:0,Name:"PVC"}],[tr.DCE+"-A",{Time:6,Decimal:0,Name:"豆一"}],[tr.DCE+"-B",{Time:6,Decimal:0,Name:"豆二"}],[tr.DCE+"-M",{Time:6,Decimal:0,Name:"豆粕"}],[tr.DCE+"-Y",{Time:6,Decimal:0,Name:"豆油"}],[tr.DCE+"-P",{Time:6,Decimal:0,Name:"棕榈"}],[tr.DCE+"-J",{Time:6,Decimal:1,Name:"焦炭"}],[tr.DCE+"-I",{Time:6,Decimal:1,Name:"铁矿"}],[tr.CFFEX+"-T",{Time:1,Decimal:3,Name:"十债"}]]),this.AddNewFutures=function(t){if(t){var e=t.Suffix+"-"+t.Symbol,a={Time:t.Time,Decimal:t.Decimal,Name:t.Name};1==t.Symbol.length?this.MAP_ONEWORD.set(e,a):2==t.Symbol.length&&this.MAP_TWOWORDS.set(e,a)}},this.GetData=function(t){var e=t.charAt(0),a=t.substr(0,2),i=null,r=null;return tr.IsDCE(t)?(i=tr.DCE+"-"+e,r=tr.DCE+"-"+a):tr.IsSHFE(t)?(i=tr.SHFE+"-"+e,r=tr.SHFE+"-"+a):tr.IsCFFEX(t)?(i=tr.CFFEX+"-"+e,r=tr.CFFEX+"-"+a):tr.IsCZCE(t)&&(i=tr.CZCE+"-"+e,r=tr.CZCE+"-"+a),this.MAP_TWOWORDS.has(r)?this.MAP_TWOWORDS.get(r):this.MAP_ONEWORD.has(i)?this.MAP_ONEWORD.get(i):null},this.GetSplitData=function(t){var e=this.GetData(t);return e?this.TIME_SPLIT[e.Time]:null},this.GetDecimal=function(t){var e=this.GetData(t);return e?e.Decimal:2}}function Ba(){this.TIME_SPLIT=[{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1900,Text:"19:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"CL",Decimal:2,Time:0},{Symbol:"NG",Decimal:3,Time:0},{Symbol:"RB",Decimal:4,Time:0},{Symbol:"PL",Decimal:1,Time:0},{Symbol:"PA",Decimal:2,Time:0},{Symbol:"HR",Decimal:0,Time:0},{Symbol:"QM",Decimal:3,Time:0},{Symbol:"HO",Decimal:4,Time:0}],this.MarketSuffix=".NYMEX",this.TimeType=0,this.GetFuturesInfo=function(t){if(t.indexOf(this.MarketSuffix)<=0)return null;for(var e in this.FUTURES_LIST){var a=this.FUTURES_LIST[e];if(0==t.indexOf(a.Symbol))return a}return null},this.GetSplitData=function(t){var e=0==this.TimeType?this.TIME_SPLIT:this.TIME_SPLIT2,a=this.GetFuturesInfo(t);return a?e[a.Time]:e[0]},this.GetDecimal=function(t){var e=this.GetFuturesInfo(t);return e?e.Decimal:3},this.GetMarketStatus=function(t){var e=Ua(-4),a=new Date,i=e.getDay(),r=100*a.getHours()+a.getMinutes();return 6==i||0==i?0:r>430&&r<730?1:2}}function Ha(){this.newMethod=Ba,this.newMethod(),delete this.newMethod,this.FUTURES_LIST=[{Symbol:"GC",Decimal:1,Time:0},{Symbol:"QO",Decimal:2,Time:0},{Symbol:"MG",Decimal:1,Time:0},{Symbol:"QI",Decimal:4,Time:0},{Symbol:"SI",Decimal:3,Time:0},{Symbol:"QI",Decimal:4,Time:0},{Symbol:"HG",Decimal:4,Time:0}],this.MarketSuffix=".COMEX"}function ka(){this.newMethod=Ba,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"9:00-2:20",Data:[{Start:900,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1700,Text:"17:00"},{Value:100,Text:"1:00"}]}},{Name:"15:30-1:00",Data:[{Start:1530,End:2359},{Start:0,End:100}],Coordinate:{Full:[{Value:1600,Text:"16:00"},{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"}],Simple:[{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"}],Min:[{Value:1600,Text:"16:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}]}}],this.TIME_SPLIT2=[{Name:"10:00-3:20",Data:[{Start:1e3,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:1e3,Text:"10:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"16:30-2:00",Data:[{Start:1630,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Min:[{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SB",Decimal:2,Time:1},{Symbol:"CT",Decimal:2,Time:0}],this.MarketSuffix=".NYBOT",this.GetMarketStatus=function(t){var e=Ua(-4),a=e.getDay(),i=100*e.getHours()+e.getMinutes();if(6==a||0==a)return 0;var r=this.GetFuturesInfo(t);if(!r)return 2;if("SB"==r.Symbol){if(i>300&&i<1400)return 2}else if("CT"==r.Symbol)return i>=0&&i<=1500||i>=2e3&&i<=2359?2:1;return 0}}function Va(){this.newMethod=Ba,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"8:00-2:20",Data:[{Start:800,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"9:00-3:20",Data:[{Start:900,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"9:00-3:45",Data:[{Start:900,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"ZC",Decimal:2,Time:0},{Symbol:"XC",Decimal:2,Time:1},{Symbol:"ZS",Decimal:2,Time:0},{Symbol:"XK",Decimal:2,Time:1},{Symbol:"ZL",Decimal:2,Time:0},{Symbol:"ZR",Decimal:2,Time:0},{Symbol:"ZO",Decimal:2,Time:0},{Symbol:"ZW",Decimal:2,Time:0},{Symbol:"XW",Decimal:2,Time:1},{Symbol:"ZM",Decimal:1,Time:0},{Symbol:"EH",Decimal:3,Time:2},{Symbol:"YM",Decimal:0,Time:2},{Symbol:"ES",Decimal:2,Time:2},{Symbol:"NQ",Decimal:2,Time:2},{Symbol:"TY",Decimal:4,Time:2},{Symbol:"TU",Decimal:4,Time:2},{Symbol:"FV",Decimal:4,Time:2},{Symbol:"US",Decimal:4,Time:2},{Symbol:"UL",Decimal:4,Time:2}],this.MarketSuffix=".CBOT"}function Ga(){this.newMethod=Ba,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"LME 9:00-3:00",Data:[{Start:900,End:2359},{Start:0,End:300}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1800,Text:"18:00"},{Value:300,Text:"3:00"}]}}],this.TIME_SPLIT=[{Name:"LME 8:00-2:00",Data:[{Start:800,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SND",Decimal:0,Time:0},{Symbol:"AHD",Decimal:2,Time:0},{Symbol:"PBD",Decimal:2,Time:0},{Symbol:"ZSD",Decimal:2,Time:0},{Symbol:"CAD",Decimal:2,Time:0},{Symbol:"NID",Decimal:0,Time:0}],this.MarketSuffix=".LME"}function Wa(t){var e=2;if(!t)return e;var a=t.toUpperCase();return tr.IsSHSZFund(a)?e=3:tr.IsSHO(a)?e=tr.GetSHODecimal(a):tr.IsChinaFutures(a)?e=ir.GetDecimal(a):tr.IsFHK(a)?e=tr.GetFHKDecimal(a):tr.IsFTSE(a)?e=tr.GetFTSEDecimal(a):tr.IsBIT(a)?e=tr.GetBITDecimal(a):tr.IsET(a)?e=tr.GetETDecimal(a):tr.IsForeignExchange(a)?e=tr.GetForeignExchangeDecimal(a):tr.IsNYMEX(a)?e=rr.GetDecimal(a):tr.IsCOMEX(a)?e=nr.GetDecimal(a):tr.IsNYBOT(a)?e=sr.GetDecimal(a):tr.IsCBOT(a)&&(e=or.GetDecimal(a)),e}function Ua(t){if("number"==typeof t){var e=new Date,a=e.getTime(),i=6e4*e.getTimezoneOffset(),r=a+i;return new Date(r+36e5*t)}}function Xa(){}function Ka(){this.Error=[],this.RecordError=function(t){this.Error.push(t)},this.ConstructError=function(t,e){var a=new Error(t);try{throw a}catch(t){pi.default&&Ci.default&&(a=(0,pi.default)(t),a.Column=e)}return a},this.CreateError=function(t,e,a,i){var r="Line "+e+": "+i,n=this.ConstructError(r,a);return n.Index=t,n.LineNumber=e,n.Description=i,n},this.ThrowError=function(t,e,a,i){throw this.CreateError(t,e,a,i)},this.ThrowDownloadJob=function(t,e,a,i,r){var n=this.CreateError(t,e,a,i);throw n.Job=r,n}}function Ja(t,e){this.Source=t,this.ErrorHandler=e,this.Length=t.length,this.Index=0,this.LineNumber=t.length>0?1:0,this.LineStart=0,this.CurlyStack=[],this.SaveState=function(){return{Index:this.Index,LineNumber:this.LineNumber,LineStart:this.LineStart}},this.RestoreState=function(t){this.Index=t.Index,this.LineNumber=t.LineNumber,this.LineStart=t.LineStart},this.IsEOF=function(){return this.Index>=this.Length},this.IsKeyword=function(t){return!1},this.CodePointAt=function(t){var e=this.Source.charCodeAt(t);if(e>=55296&&e<=56319){var a=this.Source.charCodeAt(t+1);if(a>=56320&&a<=57343){e=1024*(e-55296)+a-56320+65536}}return e},this.Lex=function(){if(this.IsEOF())return{Type:2,Value:"",LineNumber:this.LineNumber,LineStart:this.LineStart,Start:this.Index,End:this.Index};var t=this.Source.charCodeAt(this.Index);return cr.IsIdentifierStart(t)?this.ScanIdentifier():40===t||41===t||59===t?this.ScanPunctuator():39===t||34===t?this.ScanStringLiteral():46==t?cr.IsDecimalDigit(this.Source.charCodeAt(this.Index+1))?this.ScanNumericLiteral():this.ScanPunctuator():cr.IsDecimalDigit(t)?this.ScanNumericLiteral():t>=55296&&t<57343&&cr.IsIdentifierStart(this.CodePointAt(this.Index))?this.ScanIdentifier():this.ScanPunctuator()},this.ScanIdentifier=function(){var t=void 0,e=this.Index,a=92===this.Source.charCodeAt(e)?this.GetComplexIdentifier():this.GetIdentifier();if(3!=(t=a.length?3:this.IsKeyword(a)?4:null==a?5:"true"==a||"false"==a?1:3)&&e+a.length!=this.Index){this.Index;throw this.Index=e,ur.InvalidEscapedReservedWord}return"AND"!=a&&"OR"!=a||(t=7),{Type:t,Value:a,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:e,End:this.Index}},this.GetIdentifier=function(){for(var t=this.Index++;!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(92==e)return this.Index=t,this.GetComplexIdentifier();if(e>=55296&&e<57343)return this.Index=t,this.GetComplexIdentifier();if(!cr.IsIdentifierPart(e))break;++this.Index}return this.Source.slice(t,this.Index)},this.ScanPunctuator=function(){var t=this.Index,e=this.Source[this.Index];switch(e){case"(":++this.Index;break;case")":case";":case",":case".":++this.Index;break;default:e=this.Source.substr(this.Index,3),"AND"==e?this.Index+=3:(e=this.Source.substr(this.Index,2),"&&"===e||"||"===e||"=="===e||"!="===e||"<="===e||">="===e||"=>"===e||":="==e||"OR"==e||"<>"==e?this.Index+=2:(e=this.Source[this.Index],"<>=!+-*%&|^/:".indexOf(e)>=0&&++this.Index))}return this.Index==t&&this.ThrowUnecpectedToken(),{Type:7,Value:e,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanStringLiteral=function(){var t=this.Index,e=this.Source[this.Index];++this.Index;for(var a="";!this.IsEOF();){var i=this.Source[this.Index++];if(i==e){e="";break}if("\\"==i)throw"not complete";if(cr.IsLineTerminator(i.charCodeAt(0)))break;a+=i}return""!=e&&(this.Index=t,this.ThrowUnecpectedToken()),{Type:8,Value:a,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanNumericLiteral=function(){var t=this.Index,e=this.Source[this.Index],a="";if("."!=e){if(a=this.Source[this.Index++],e=this.Source[this.Index],"0"==a&&("x"==e||"X"==e))return++this.Index,this.ScanHexLiteral(t);for(;cr.IsDecimalDigit(this.Source.charCodeAt(this.Index));)a+=this.Source[this.Index++];e=this.Source[this.Index]}if("."==e){for(a+=this.Source[this.Index++];cr.IsDecimalDigit(this.Source.charCodeAt(this.Index));)a+=this.Source[this.Index++];e=this.Source[this.Index]}if("e"==e||"E"==e)if(a+=this.Source[this.Index++],e=this.Source[this.Index],"+"!=e&&"-"!=e||(a+=this.Source[this.Index]),cr.IsDecimalDigit(this.Source.charCodeAt(this.Index)))for(;cr.IsDecimalDigit(this.Source.charCodeAt(this.Index));)a+=this.Source[this.Index++];else this.ThrowUnecpectedToken();return cr.IsIdentifierStart(this.Source.charCodeAt(this.Index))&&this.ThrowUnecpectedToken(),{Type:6,Value:parseFloat(a),LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanComments=function(){for(this.Index;!this.IsEOF();){var t=this.Source.charCodeAt(this.Index);if(cr.IsWhiteSpace(t))++this.Index;else if(cr.IsLineTerminator(t))++this.Index,13==t&&10==this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,!0;else if(47==t){if(47!=(t=this.Source.charCodeAt(this.Index+1)))break;this.Index+=2;this.SkipSingleLineComment(2);!0}else{if(123!=t)break;this.Index+=1;this.SkipMultiLineComment()}}},this.SkipMultiLineComment=function(){for(var t=[];!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(cr.IsLineTerminator(e))++this.LineNumber,++this.Index,this.LineStart=this.Index;else{if(125==e)return this.Index+=1,t;++this.Index}}return t},this.SkipSingleLineComment=function(t){for(var e=[];!this.IsEOF();){var a=this.Source.charCodeAt(this.Index);if(++this.Index,cr.IsLineTerminator(a))return 13===a&&10===this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,e}return e},this.ThrowUnecpectedToken=function(t){return t||(t=ur.UnexpectedTokenIllegal),this.ErrorHandler.ThrowError(this.Index,this.LineNumber,this.Index-this.LineStart+1,t)}}function ja(t){this.ErrorHandler=new Ka,this.Scanner=new Ja(t,this.ErrorHandler),this.Buffer=[],this.GetNextToken=function(){if(0==this.Buffer.length){this.Scanner.ScanComments();if(!this.Scanner.IsEOF()){var t=this.Scanner.Lex(),e={Type:Dr[t.Type],Value:this.Scanner.Source.slice(t.Start,t.End)};this.Buffer.push(e)}}return this.Buffer.shift()}}function za(t){this.IsNeedIndexData=!1,this.IsNeedLatestIndexData=!1,this.IsNeedLatestData=!1,this.IsNeedSymbolData=!1,this.IsNeedFinanceData=new Mi.default,this.IsNeedMarginData=new Mi.default,this.IsNeedNewsAnalysisData=new Mi.default,this.NeedBlockIncreaseData=[],this.IsNeedSymbolExData=new Mi.default,this.NeedHK2SHSZData=[],this.IsNeedSectionFinance=new Ai.default,this.IsCustomFunction=[],this.IsCustomVariant=[],this.IsAPIData=[],this.ExecuteIndex=[],this.OtherSymbolData=[],this.PeriodSymbolData=[],this.ErrorHandler=t,this.GetDataJobList=function(){var t=[];this.IsNeedSymbolData&&t.push({ID:pr.JOB_DOWNLOAD_SYMBOL_DATA}),this.IsNeedIndexData&&t.push({ID:pr.JOB_DOWNLOAD_INDEX_DATA}),this.IsNeedLatestData&&t.push({ID:pr.JOB_DOWNLOAD_SYMBOL_LATEST_DATA}),this.IsNeedLatestIndexData&&t.push({ID:pr.JOB_DOWNLOAD_LATEST_INDEX_DATA});for(var e in this.NeedBlockIncreaseData)t.push(this.NeedBlockIncreaseData[e]);var a=!0,i=!1,r=void 0;try{for(var n,s=(0,Ii.default)(this.IsNeedFinanceData);!(a=(n=s.next()).done);a=!0){var o=n.value;o==pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA&&t.push({ID:pr.JOB_DOWNLOAD_MARKETVALUE_DATA}),t.push({ID:o})}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}var h=!0,l=!1,u=void 0;try{for(var d,c=(0,Ii.default)(this.IsNeedMarginData);!(h=(d=c.next()).done);h=!0){var o=d.value;t.push({ID:o})}}catch(t){l=!0,u=t}finally{try{!h&&c.return&&c.return()}finally{if(l)throw u}}for(var e in this.NeedHK2SHSZData)t.push(this.NeedHK2SHSZData[e]);var D=!0,m=!1,C=void 0;try{for(var f,p=(0,Ii.default)(this.IsNeedNewsAnalysisData);!(D=(f=p.next()).done);D=!0){var o=f.value;t.push({ID:o})}}catch(t){m=!0,C=t}finally{try{!D&&p.return&&p.return()}finally{if(m)throw C}}var v=!0,S=!1,T=void 0;try{for(var M,_=(0,Ii.default)(this.IsNeedSymbolExData);!(v=(M=_.next()).done);v=!0){var o=M.value;t.push({ID:o})}}catch(t){S=!0,T=t}finally{try{!v&&_.return&&_.return()}finally{if(S)throw T}}var I=!0,L=!1,g=void 0;try{for(var y,A=(0,Ii.default)(this.IsNeedSectionFinance);!(I=(y=A.next()).done);I=!0){var F=y.value;t.push({ID:pr.JOB_DOWNLOAD_SECTION_SF,SF:F})}}catch(t){L=!0,g=t}finally{try{!I&&A.return&&A.return()}finally{if(L)throw g}}for(var e in this.IsCustomVariant){var F=this.IsCustomVariant[e];t.push({ID:F.ID,Name:F.Name})}for(var e in this.IsAPIData){var F=this.IsAPIData[e];t.push(F)}for(var e in this.IsCustomFunction){var F=this.IsCustomFunction[e];t.push(F)}for(var e in this.ExecuteIndex){var F=this.ExecuteIndex[e];t.push(F)}for(var e in this.OtherSymbolData){var F=this.OtherSymbolData[e];t.push(F)}for(var e in this.PeriodSymbolData){var F=this.PeriodSymbolData[e];t.push(F)}return t},this.VerifySymbolVariable=function(t,e){if(new Mi.default(["INDEXA","INDEXC","INDEXH","INDEXL","INDEXO","INDEXV","INDEXDEC","INDEXADV"]).has(t))return void(this.IsNeedIndexData=!0);if(new Mi.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t))return void(this.IsNeedSymbolData=!0);if("VOLR"===t&&(this.IsNeedSymbolExData.has(pr.JOB_DOWNLOAD_VOLR_DATA)||this.IsNeedSymbolExData.add(pr.JOB_DOWNLOAD_VOLR_DATA)),"HYBLOCK"!=t&&"DYBLOCK"!=t&&"GNBLOCK"!=t||this.IsNeedSymbolExData.has(pr.JOB_DOWNLOAD_GROUP_DATA)||this.IsNeedSymbolExData.add(pr.JOB_DOWNLOAD_GROUP_DATA),"CAPITAL"===t&&(this.IsNeedFinanceData.has(pr.JOB_DOWNLOAD_CAPITAL_DATA)||this.IsNeedFinanceData.add(pr.JOB_DOWNLOAD_CAPITAL_DATA)),"EXCHANGE"===t&&(this.IsNeedFinanceData.has(pr.JOB_DOWNLOAD_EXCHANGE_DATA)||this.IsNeedFinanceData.add(pr.JOB_DOWNLOAD_EXCHANGE_DATA)),"FROMOPEN"==t)return void(this.IsNeedLatestIndexData=!0);if("ADVANCE"==t||"DECLINE"==t){var a={ID:pr.JOB_DOWNLOAD_INDEX_INCREASE_DATA,IsSelfSymbol:!0,FunctionName:t};return e&&(a.Token={Index:e.Start,Line:e.LineNumber}),void this.NeedBlockIncreaseData.push(a)}if(t.indexOf("#")>0){var i=t.split("#");if(2!=i.length){var r=t+", 跨周期语法错误, 变量名#周期";this.ThrowUnexpectedToken(e,r)}else{if(["C","CLOSE","O","OPEN","H","HIGH","L","LOW","AMOUNT","AMO","VOL","V","VOLINSTK"].indexOf(i[0])<0){var r=t+", 跨周期语法错误, 数据只支持'OPEN,HIGH,LOW,CLOSE,VOL,AMOUNT,VOLINSTK'";this.ThrowUnexpectedToken(e,r)}if(["MIN1","MIN5","MIN15","MIN30","MIN60","DAY","WEEK","MONTH","SEASON","YEAR"].indexOf(i[1])<0){var r=t+", 跨周期语法错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'";this.ThrowUnexpectedToken(e,r)}var a={ID:pr.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,VarName:t,ValueName:i[0],PeriodName:i[1]};e&&(a.Token={Index:e.Start,Line:e.LineNumber}),this.PeriodSymbolData.push(a)}}else if(lr.IsCustomVariant(t)){var a={Name:t,ID:pr.JOB_CUSTOM_VARIANT_DATA};this.IsCustomVariant.push(a)}},this.VerifySymbolFunction=function(t,e,a){if(lr.IsCustomFunction(t.Name)){var i={Name:t.Name,ID:pr.JOB_CUSTOM_FUNCTION_DATA,Args:e};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.IsCustomFunction.push(i)}if("DYNAINFO"==t.Name)return void(this.IsNeedLatestData=!0);if("FINANCE"==t.Name){var r=pr.GetFinnanceJobID(e[0].Value);return void(r&&!this.IsNeedFinanceData.has(r)&&this.IsNeedFinanceData.add(r))}if("MARGIN"===t.Name){var n=pr.GetMarginJobID(e[0].Value);return void(n&&!this.IsNeedMarginData.has(n)&&this.IsNeedMarginData.add(n))}if("NEWS"===t.Name){var s=pr.GetNewsAnalysisID(e[0].Value);return void(s&&!this.IsNeedNewsAnalysisData.has(s)&&this.IsNeedNewsAnalysisData.add(s))}if("HK2SHSZ"===t.Name){var i={ID:pr.JOB_DOWNLOAD_HK_TO_SHSZ,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.NeedHK2SHSZData.push(i)}if("COST"==t.Name||"WINNER"==t.Name||"PPART"==t.Name||"COSTEX"==t.Name||"LWINNER"==t.Name||"PWINNER"==t.Name)return void(this.IsNeedFinanceData.has(pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA)||this.IsNeedFinanceData.add(pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA));if("BETA"===t.Name)return void(this.IsNeedIndexData=!0);if("UPCOUNT"==t.Name||"DOWNCOUNT"==t.Name){var i={ID:pr.JOB_DOWNLOAD_INDEX_INCREASE_DATA,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.NeedBlockIncreaseData.push(i)}if("STKINDI"==t.Name){var i={ID:pr.JOB_EXECUTE_INDEX,Args:e,FunctionName:t.Name};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.ExecuteIndex.push(i)}if("COVER_C"==t.Name||"COVER_O"==t.Name||"COVER_H"==t.Name||"COVER_L"==t.Name||"COVER_A"==t.Name||"COVER_V"==t.Name){var o=e[0].Value;if(["MIN1","MIN5","MIN15","MIN30","MIN60","DAY","WEEK","MONTH","SEASON","YEAR"].indexOf(o)<0){var h=t.Name+", 跨周期函数错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'";this.ThrowUnexpectedToken(a,h)}var l=Xa.GetConvertValueName(t.Name),i={ID:pr.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,FunctionName:t.Name,ValueName:l,PeriodName:o};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.PeriodSymbolData.push(i)}if("SF"!=t.Name){if("LOADAPIDATA"==t.Name){var i={Name:t.Name,ID:pr.JOB_DOWNLOAD_CUSTOM_API_DATA,Args:e};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.IsAPIData.push(i)}if(new Mi.default(["CLOSE","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t.Name)){var i={Name:t.Name,ID:pr.JOB_DOWNLOAD_OTHER_SYMBOL_DATA,Args:e};return a&&(i.Token={Index:a.Start,Line:a.LineNumber}),void this.OtherSymbolData.push(i)}}else{var u=pr.GetSectionReportPeriod(e[0].Value,e[1].Value);if(!u)return;var d=pr.GetSectionFinanceID(e[2].Value);if(!d)return;var c=u.Year+"-"+u.Quarter;if(this.IsNeedSectionFinance.has(c)){var D=this.IsNeedSectionFinance.get(c);D.Fields.has(d)||D.Fields.add(d)}else{var D={Period:u,Fields:new Mi.default([d])};this.IsNeedSectionFinance.set(c,D)}}},this.ExpressionStatement=function(t){return{Type:mr.ExpressionStatement,Expression:t}},this.Script=function(t){return{Type:mr.Program,Body:t,SourceType:"通达信脚本"}},this.SequenceExpression=function(t){return{Type:mr.SequenceExpression,Expression:t}},this.BinaryExpression=function(t,e,a){return{Type:"||"===t||"&&"===t||"AND"==t||"OR"==t?mr.LogicalExpression:mr.BinaryExpression,Operator:t,Left:e,Right:a}},this.Literal=function(t,e){return{Type:mr.Literal,Value:t,Raw:e}},this.Identifier=function(t,e){return this.VerifySymbolVariable(t,e),{Type:mr.Identifier,Name:t}},this.AssignmentExpression=function(t,e,a){return{Type:mr.AssignmentExpression,Operator:t,Left:e,Right:a}},this.UnaryExpression=function(t,e){return{Type:mr.UnaryExpression,Operator:t,Argument:e,Prefix:!0}},this.EmptyStatement=function(){return{Type:mr.EmptyStatement}},this.CallExpression=function(t,e,a){return this.VerifySymbolFunction(t,e,a),{Type:mr.CallExpression,Callee:t,Arguments:e}},this.StaticMemberExpression=function(t,e){return{Type:mr.MemberExpression,Computed:!1,Object:t,Property:e}},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.UnexpectedTokenError=function(t,e){var a=e||ur.UnexpectedToken,i="ILLEGAL";if(t&&(i=t.Value),a=a.replace("%0",i),t&&"number"==typeof t.LineNumber){var r=t.Start,n=t.LineNumber;return this.ErrorHandler.CreateError(r,n,-1,a)}}}function qa(t){this.ErrorHandler=new Ka,this.Scanner=new Ja(t,this.ErrorHandler),this.Node=new za(this.ErrorHandler),this.LookAhead={Type:2,Value:"",LineNumber:this.Scanner.LineNumber,LineStart:0,Start:0,End:0},this.HasLineTerminator=!1,this.Context={IsModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,FirstCoverInitializedNameError:null,IsAssignmentTarget:!1,IsBindingElement:!1,InFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},Strict:!1},this.PeratorPrecedence={")":0,";":0,",":0,"]":0,"||":1,OR:1,"&&":2,AND:2,"|":3,"^":4,"&":5,"==":6,"=":6,"!=":6,"<>":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.StartMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.LastMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.Initialize=function(){this.NextToken(),this.LastMarker={Index:this.Scanner.Index,Line:this.Scanner.LineNumber,Column:this.Scanner.Index-this.Scanner.LineStart}},this.CreateNode=function(){return{Index:this.StartMarker.Index,Line:this.StartMarker.Line,Column:this.StartMarker.Column}},this.StartNode=function(t,e){void 0==e&&(e=0);var a=t.Start-t.LineStart,i=t.LineNumber;return a<0&&(a+=e,i--),{Index:t.Start,Line:i,Column:a}},this.Match=function(t){return 7==this.LookAhead.Type&&this.LookAhead.Value==t},this.Expect=function(t){var e=this.NextToken();7==e.Type&&e.Value==t||this.ThrowUnexpectedToken(e)},this.MatchAssign=function(){if(7!=this.LookAhead.Type)return!1;var t=this.LookAhead.Value;return":"==t||":="==t},this.GetTokenRaw=function(t){return this.Scanner.Source.slice(t.Start,t.End)},this.NextToken=function(){var t=this.LookAhead;this.LastMarker.Index=this.Scanner.Index,this.LastMarker.Line=this.Scanner.LineNumber,this.LastMarker.Column=this.Scanner.Index-this.Scanner.LineStart,this.CollectComments(),this.Scanner.Index!==this.StartMarker.Index&&(this.StartMarker.Index=this.Scanner.Index,this.StartMarker.Line=this.Scanner.LineNumber,this.StartMarker.Column=this.Scanner.Index-this.Scanner.LineStart);var e=this.Scanner.Lex();return this.HasLineTerminator=t.LineNumber!=e.LineNumber,e&&this.Context.Strict&&e.Type,this.LookAhead=e,t},this.CollectComments=function(){this.Scanner.ScanComments()},this.ParseScript=function(){for(var t=this.CreateNode(),e=this.ParseDirectivePrologues();2!=this.LookAhead.Type;)e.push(this.ParseStatementListItem());return this.Finalize(t,this.Node.Script(e))},this.ParseDirective=function(){this.LookAhead,this.CreateNode(),this.ParseExpression()},this.ParseDirectivePrologues=function(){for(var t=[];;){if(8!=this.LookAhead.Type)break;var e=this.ParseDirective();t.push(e)}return t},this.ParseStatementListItem=function(){var t=void 0;return this.Context.IsAssignmentTarget=!0,this.Context.IsBindingElement=!0,4==this.LookAhead.Type||(t=this.ParseStatement()),t},this.ParseStatement=function(){var t=void 0;switch(this.LookAhead.Type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.ParseExpressionStatement();break;case 7:var e=this.LookAhead.Value;t="("===e?this.ParseExpressionStatement():";"===e?this.ParseEmptyStatement():this.ParseExpressionStatement();break;case 3:t=this.ParseLabelledStatement();break;case 4:break;default:t="error"}return t},this.ParseEmptyStatement=function(){var t=this.CreateNode();return this.Expect(";"),this.Finalize(t,this.Node.EmptyStatement())},this.ParseLabelledStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();this.ConsumeSemicolon();var a=new this.Node.ExpressionStatement(e);return this.Finalize(t,a)},this.ParseExpression=function(){var t=this.LookAhead,e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(this.Match(",")){var a=[];for(a.push(e);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),a.push(this.IsolateCoverGrammar(this.ParseAssignmentExpression));e=this.Finalize(this.StartNode(t),this.Node.SequenceExpression(a))}return e},this.ParseAssignmentExpression=function(){var t=void 0,e=this.LookAhead,a=e;if(t=this.ParseConditionalExpression(),this.MatchAssign()){if(!this.Context.IsAssignmentTarget){var i=t.Marker;this.ThrowUnexpectedError(i.Index,i.Line,i.Column,ur.InvalidLHSInAssignment)}this.Match("=")||this.Match(":")?this.ReinterpretExpressionAsPattern(t):(this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1),a=this.NextToken();var r=a.Value,n=this.IsolateCoverGrammar(this.ParseAssignmentExpression);t=this.Finalize(this.StartNode(e),this.Node.AssignmentExpression(r,t,n)),this.Context.FirstCoverInitializedNameError=null}return t},this.ParseConditionalExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseBinaryExpression)},this.ParseBinaryExpression=function(){var t=this.LookAhead,e=this.InheritCoverGrammar(this.ParseExponentiationExpression),a=this.LookAhead,i=this.BinaryPrecedence(a);if(i>0){this.NextToken(),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1;for(var r=[t,this.LookAhead],n=e,s=this.IsolateCoverGrammar(this.ParseExponentiationExpression),o=[n,a.Value,s],h=[i];;){if((i=this.BinaryPrecedence(this.LookAhead))<=0)break;for(;o.length>2&&i<=h[h.length-1];){s=o.pop();var l=o.pop();h.pop(),n=o.pop(),r.pop();var u=this.StartNode(r[r.length-1]);o.push(this.Finalize(u,this.Node.BinaryExpression(l,n,s)))}o.push(this.NextToken().Value),h.push(i),r.push(this.LookAhead),o.push(this.IsolateCoverGrammar(this.ParseExponentiationExpression))}var d=o.length-1;e=o[d];for(var c=r.pop();d>1;){var D=r.pop(),m=c&&c.LineStart,C=this.StartNode(D,m),f=o[d-1];e=this.Finalize(C,this.Node.BinaryExpression(f,o[d-2],e)),d-=2,c=D}}return e},this.ParseExponentiationExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseUnaryExpression)},this.ParseUnaryExpression=function(){var t=void 0;if(this.Match("+")||this.Match("-")){var e=this.StartNode(this.LookAhead),a=this.NextToken();t=this.InheritCoverGrammar(this.ParseUnaryExpression),t=this.Finalize(e,this.Node.UnaryExpression(a.Value,t)),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1}else t=this.ParseUpdateExpression();return t},this.ParseUpdateExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseLeftHandSideExpressionAllowCall)},this.ParseLeftHandSideExpressionAllowCall=function(){var t=this.LookAhead,e=void 0;for(e=this.InheritCoverGrammar(this.ParsePrimaryExpression);;)if(this.Match(".")){this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!0,this.Expect(".");var a=this.ParseIdentifierName();e=this.Finalize(this.StartNode(t),this.Node.StaticMemberExpression(e,a))}else{if(!this.Match("("))break;this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!1;var i=this.ParseArguments();e=this.Finalize(this.StartNode(t),this.Node.CallExpression(e,i,t))}return e},this.IsIdentifierName=function(t){return 3===t.Type||4===t.Type||1===t.Type||5===t.Type},this.ParseIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.Identifier(e.Value,e))},this.ParseArguments=function(){this.Expect("(");var t=[];if(!this.Match(")"))for(;;){var e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(t.push(e),this.Match(")"))break;if(this.ExpectCommaSeparator(),this.Match(")"))break}return this.Expect(")"),t},this.ExpectCommaSeparator=function(){this.Expect(",")},this.ParsePrimaryExpression=function(){var t,e,a=this.CreateNode(),i=void 0;switch(this.LookAhead.Type){case 3:t=this.NextToken(),i=this.Finalize(a,this.Node.Identifier(t.Value,t));break;case 6:case 8:this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1,t=this.NextToken(),e=this.GetTokenRaw(t),i=this.Finalize(a,this.Node.Literal(t.Value,e));break;case 7:switch(this.LookAhead.Value){case"(":this.Context.IsBindingElement=!1,i=this.InheritCoverGrammar(this.ParseGroupExpression);break;default:i=this.ThrowUnexpectedToken(this.NextToken())}break;default:i=this.ThrowUnexpectedToken(this.NextToken())}return i},this.ParseGroupExpression=function(){var t=void 0;if(this.Expect("("),this.Match(")"))this.NextToken();else{this.LookAhead;if(this.Context.IsBindingElement=!0,t=this.InheritCoverGrammar(this.ParseAssignmentExpression),this.Match(",")){var e=[];for(this.Context.IsAssignmentTarget=!1,e.push(t);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),this.Match(")")}this.Expect(")"),this.Context.IsBindingElement=!1}return t},this.ParseExpressionStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();return this.ConsumeSemicolon(),this.Finalize(t,this.Node.ExpressionStatement(e))},this.ConsumeSemicolon=function(){this.Match(";")?this.NextToken():this.HasLineTerminator||(this.LastMarker.Index=this.StartMarker.Index,this.LastMarker.Line=this.StartMarker.Line,this.LastMarker.Column=this.StartMarker.Column)},this.ReinterpretExpressionAsPattern=function(t){switch(t.Type){case mr.Identifier:case mr.MemberExpression:case mr.AssignmentExpression:}},this.Finalize=function(t,e){return e.Marker={Line:t.Line,Column:t.Column,Index:t.Index},e},this.BinaryPrecedence=function(t){var e=t.Value;return 7===t.Type?this.PeratorPrecedence[e]||0:0},this.IsolateCoverGrammar=function(t){var e=this.Context.IsBindingElement,a=this.Context.IsAssignmentTarget,i=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.FirstCoverInitializedNameError,this.Context.IsBindingElement=e,this.Context.IsAssignmentTarget=a,this.Context.FirstCoverInitializedNameError=i,r},this.InheritCoverGrammar=function(t){var e=this.Context.IsBindingElement,a=this.Context.IsAssignmentTarget,i=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.IsBindingElement=this.Context.IsBindingElement&&e,this.Context.IsAssignmentTarget=this.Context.IsAssignmentTarget&&a,this.Context.FirstCoverInitializedNameError=i||this.Context.FirstCoverInitializedNameError,r},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.ThrowUnexpectedError=function(t,e,a,i){var r=i||"执行异常";return this.ErrorHandler.ThrowError(t,e,a,r)},this.UnexpectedTokenError=function(t,e){var a=e||ur.UnexpectedToken,i="ILLEGAL";if(t&&(i=t.Value),a=a.replace("%0",i),t&&"number"==typeof t.LineNumber){var r=t.Start,n=t.LineNumber,s=this.LastMarker.Index-this.LastMarker.Column,o=t.Start-s+1;return this.ErrorHandler.CreateError(r,n,o,a)}var h=this.LastMarker.Index,l=this.LastMarker.Line,u=this.LastMarker.Column+1;return this.ErrorHandler.CreateError(h,l,u,a)}}function Za(t,e){this.ErrorHandler=t,this.SymbolData=e,this.Add=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t+e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsNumber(e[s])&&(r[s]=t[s]+e[s]);return r}var o=void 0,h=void 0;a?(o=t,h=e):(o=e,h=t);for(var l in h)r[l]=null,this.IsNumber(h[l])&&this.IsNumber(o)&&(r[l]=o+h[l]);return r},this.Subtract=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t-e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsNumber(e[s])&&(r[s]=t[s]-e[s]);return r}if(a)for(var o in e)r[o]=null,this.IsNumber(t)&&this.IsNumber(e[o])&&(r[o]=t-e[o]);else for(var h in t)r[h]=null,this.IsNumber(t[h])&&this.IsNumber(e)&&(r[h]=t[h]-e);return r},this.Multiply=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t*e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsNumber(e[s])&&(r[s]=t[s]*e[s]);return r}var o=void 0,h=void 0;a?(o=t,h=e):(o=e,h=t);for(var l in h)r[l]=null,this.IsNumber(h[l])&&this.IsNumber(o)&&(r[l]=o*h[l]);return r},this.Divide=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return 0==e?null:t/e;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsDivideNumber(e[s])&&(r[s]=t[s]/e[s]);return r}if(a)for(var o in e)r[o]=null,this.IsNumber(t)&&this.IsDivideNumber(e[o])&&(r[o]=t/e[o]);else for(var h in t)r[h]=null,this.IsNumber(t[h])&&this.IsDivideNumber(e)&&(r[h]=t[h]/e);return r},this.GT=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]>e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t>e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]>e?1:0);return r},this.GTE=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]>=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t>=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]>=e?1:0);return r},this.LT=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t<e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]<e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t<e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]<e?1:0);return r},this.LTE=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t>=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]<=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t<=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]<=e?1:0);return r},this.EQ=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t==e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]==e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t==e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]==e?1:0);return r},this.NEQ=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t!=e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]!=e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t!=e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]!=e?1:0);return r},this.And=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t&&e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]&&e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t&&e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]&&e?1:0);return r},this.Or=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return t||e?1:0;var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=t[s]||e[s]?1:0));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=t||e[o]?1:0);else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=t[h]||e?1:0);return r},this.IF=function(t,e,a){var i=this.IsNumber(t),r=this.IsNumber(e),n=this.IsNumber(a),s=Array.isArray(e),o=Array.isArray(a);if(i)return t?e:a;var h=[];for(var l in t)t[l]?h[l]=r?e:s?e[l]:null:h[l]=n?a:o?a[l]:null;return h},this.IFN=function(t,e,a){return this.IF(t,a,e)},this.REF=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=t[0],r=0;r<e;++r)a.unshift(i)}else for(var n=0;n<t.length;++n)if(a[n]=null,!(n>=e.length)){var s=e[n];a[n]=s>=0&&s<=n?t[n-s]:n?a[n-1]:t[n]}return a},this.REFV=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=0;i<e;++i)a.unshift(null)}else for(var r=0;r<t.length;++r)if(a[r]=null,!(r>=e.length)){var n=e[r];n>=0&&n<=r&&(a[r]=t[r-n])}return a},this.REFX=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(e,t.length);for(var i=t[t.length-1],r=0;r<e;++r)a.push(i)}else for(var n=t.length,s=0;s<t.length;++s)if(a[s]=null,!(s>=e.length)){var o=e[s];a[s]=o>=0&&o+s<n?t[s+o]:s?a[s-1]:t[s]}return a},this.REFXV=function(t,e){var a=[];if("number"==typeof e){if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(e,t.length);for(var i=0;i<e;++i)a.push(null)}else for(var r=t.length,n=0;n<t.length;++n)if(a[n]=null,!(n>=e.length)){var s=e[n];s>=0&&s+n<r&&(a[n]=t[n+s])}return a},this.MAX=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return Math.max(t,e);var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=Math.max(t[s],e[s])));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=Math.max(t,e[o]));else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=Math.max(t[h],e));return r},this.MIN=function(t,e){var a="number"==typeof t,i="number"==typeof e;if(a&&i)return Math.min(t,e);var r=[];if(!a&&!i){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)r[s]=null,s<t.length&&s<e.length&&(isNaN(t[s])||isNaN(e[s])||(r[s]=Math.min(t[s],e[s])));return r}if(a)for(var o in e)r[o]=null,isNaN(t)||isNaN(e[o])||(r[o]=Math.min(t,e[o]));else for(var h in t)r[h]=null,isNaN(t[h])||isNaN(e)||(r[h]=Math.min(t[h],e));return r},this.ABS=function(t){var e=[];for(var a in t)e[a]=null,isNaN(t[a])||(e[a]=Math.abs(t[a]));return e},this.MA=function(t,e){var a=[];if(e<=0)return a;if(Array.isArray(e)){for(var i=0;i<t.length;++i)if(a[i]=null,!(i>=e.length)){var r=e[i];if(this.IsNumber(r)&&!(r<=0)){for(var n=0,s=0,o=i,h=0;o>=0&&h<r;--o,++h)n+=t[o],++s;s>0&&(a[i]=n/s)}}}else{if(e<=0&&(e=1),!t||!t.length)return a;for(var i=0;i<t.length&&(a[i]=null,!this.IsNumber(t[i]));++i);for(var t=t.slice(0),l=0;i<t.length;++i,++l)if(l<e-1)a[i]=null;else{for(var u=t[i-(e-1)],d=0,c=e-1;c>=0;--c){var D=t[i-c];this.IsNumber(D)?u=D:(D=u,t[i-c]=D),d+=D}a[i]=d/e}}return a},this.EMA=function(t,e){var a=[];if(t.length<=0)return a;if(Array.isArray(e))for(var i=0;i<e.length;++i){var r=e[i];if(this.IsNumber(r)&&!((r=parseInt(r))<=0)){r>i+1&&(r=i+1);for(var n=[2/(r+1),(r-1)/(r+1)],s=null,o=null,h=0;h<r;++h){var l=i-(r-h-1),u=t[l];this.IsNumber(u)||coninue,null==o?(s=u,o=s):(s=n[0]*u+n[1]*o,o=s)}a[i]=s}}else{for(var d=0;d<t.length&&(null==t[d]||isNaN(t[d]));++d);var c=d,D=d+1;a[c]=t[c];for(var i=d+1;i<t.length;++i,++c,++D)a[D]=(2*t[D]+(e-1)*a[c])/(e+1)}return a},this.XMA=function(t,e){for(var a=[],i=0;i<t.length&&!this.IsNumber(t[i]);++i);for(var r=parseInt((e-2)/2),n=0,s=0,o=0,h=0,l=i,u=0;l<t.length;++l){for(o=l-r-1,h=l+(e-r)-1,u=o;u<h;++u)u>=0&&u<t.length&&this.IsNumber(t[u])&&(n+=t[u],++s);a[l]=0!=s?n/s:null,n=0,s=0}return a},this.SMA=function(t,e,a){var i=[];if(Array.isArray(e))for(var r=0;r<e.length;++r){var n=e[r];if(this.IsNumber(n)&&!((n=parseInt(n))<=0)){n>r+1&&(n=r+1);for(var s=null,o=null,h=0;h<n;++h){var l=r-(n-h-1),u=t[l];this.IsNumber(u)&&(null==s?(s=u,o=u):(o=(a*u+(n-a)*s)/n,s=o))}i[r]=o}}else{for(var r=0,d=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){d=t[r],i[r]=d;break}for(++r;r<t.length;++r)i[r]=(a*t[r]+(e-a)*d)/e,d=i[r]}return i},this.DMA=function(t,e){var a=[];if(t.length<0||t.length!=e.length)return a;for(var i=0;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])&&null!=e[i]&&!isNaN(e[i])){a[i]=t[i];break}for(i+=1;i<t.length;++i)null==t[i]||null==e[i]?a[i]=null:e[i]<1?a[i]=e[i]*t[i]+(1-e[i])*a[i-1]:a[i]=t[i];return a},this.WMA=function(t,e){var a=[];if(!t||!t.length)return a;if(Array.isArray(e)){for(c=0;c<e.length&&c<t.length;++c){a[c]=null;var i=e[c];if(!(i<=0)){for(var r=0,n=0,s=0,o=0,h=0;h<i;++h)if(s=c-(i-h-1),n=t[s],r=h,this.IsNumber(n)){o=n;break}if(!(r>=i)){for(var l=0,u=0,h=r,d=1;h<i;++h,++d)s=c-(i-h-1),n=t[s],this.IsNumber(n)?o=n:n=o,u+=d,l+=n*d;a[c]=l/u}}}return a}if(e<=0)return[];var c=0;for(c=0;c<t.length&&!this.IsNumber(t[c]);++c)a[c]=null;for(var t=t.slice(0),D=0;c<t.length;++c,++D)if(D<e-1)a[c]=null;else{for(var o=t[c-(e-1)],l=0,u=0,h=e-1;h>=0;--h){var n=t[c-h];this.IsNumber(n)?o=n:(n=o,t[c-h]=n),u+=e-h,l+=n*(e-h)}a[c]=l/u}return a},this.MEMA=function(t,e){var a=[];if(!t||!t.length)return a;var i=0,r=0;for(r=0;r<t.length&&!this.IsNumber(t[r]);++r)a[r]=null;if(i=r,e<1||i+e>=t.length)return a;for(var n=0,t=t.slice(0);i<r+e;++i)a[i]=null,!this.IsNumber(t[i])&&i-1>=0&&(t[i]=t[i-1]),n+=t[i];for(a[i-1]=n/e;i<t.length;++i)this.IsNumber(a[i-1])&&this.IsNumber(t[i])?a[i]=(t[i]+a[i-1]*(e-1))/e:i-1>-1&&this.IsNumber(a[i-1])?a[i]=a[i-1]:a[i]=null;return a},this.EXPMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=e;i<t.length;++i)if(null!=t[i]){a[i]=t[i];break}for(i+=1;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},this.EXPMEMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=0;i<t.length&&(!t[i]||isNaN(t[i]));++i);for(var r=0,n=0;i<t.length&&n<e;++n,++i)t[i]&&!isNaN(t[i])?r+=t[i]:r+=t[i-1];for(a[i-1]=r/e;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},this.SUMBARS=function(t,e){var a=[];if(!(t&&t.length&&e&&e.length))return a;for(var i=0,r=0,n=0;i<t.length&&!this.IsNumber(t[i]);++i)a[i]=null;for(r=t.length-1;r>=i;--r){var s=0;for(n=r,s=0;n>=i&&s<e[r];--n)s+=t[n];a[r]=n<i?null:r-n}for(r=i+1;r<t.length;++r)null==a[r]&&(a[r]=a[r-1]);return a},this.REVERSE=function(t){for(var e=[],a=0;a<t.length&&!this.isNumber(t[a]);++a)e[a]=null;for(;a<t.length;++a)this.isNumber(t[a])?e[a]=0-t[a]:e[a]=null;return e},this.COUNT=function(t,e){if(Array.isArray(e)){for(var a=null,i=t.length,r=0;r<i;++r)if(this.IsNumber(t[r])){a=r;break}if(null==a)return[];for(var n=[],s=0,r=0;r<e.length;++r){var o=e[r];if(Wt.IsNumber(o)){o<1&&(o=r+1),s=0;for(var h=r,l=0;h>=0&&l<o;--h,++l)t[h]&&++s;n[r]=s}}return n}for(var o=e,i=t.length,o=o<1?i:o,r=0,h=0;r<i&&!this.IsNumber(t[r]);++r);for(var n=[],u=0;r<i&&h<o;++r,++h)u=t[r]?u+1:u,n[r]=u;for(;r<i;++r)t[r-o]&&u&&u--,u=t[r]?u+1:u,n[r]=u;return n},this.HHV=function(t,e){var a=[];if(Array.isArray(e)){for(var i=null,r=0,n=0;r<t.length;++r)if(a[r]=null,!(r>=e.length)){i=null;var s=e[r];if(s>0&&s<=r)for(n=r-s;n<=r;++n)(null==i||i<t[n])&&(i=t[n]);else for(s=r,n=0;n<=r;++n)(null==i||i<t[n])&&(i=t[n]);a[r]=i}}else{if(e>t.length)return a;e<=0&&(e=t.length-1);var o=0;for(o=0;o<t.length&&!this.IsNumber(t[o]);++o);o<t.length&&(a[o]=t[o]);for(var r=o+1,n=2;r<t.length&&n<e;++r,++n)t[r]>=t[o]&&(o=r),a[r]=t[o];for(;r<t.length;++r){if(r-o<e)o=t[r]<t[o]?o:r;else for(n=o=r-e+1;n<=r;++n)o=t[n]<t[o]?o:n;a[r]=t[o]}}return a},this.LLV=function(t,e){var a=[];if(Array.isArray(e)){for(var i=0;i<t.length;++i)if(a[i]=null,!(i>=e.length)){var r=null,n=e[i];if(n>0&&n<=i)for(var s=i-n;s<=i;++s)(null==r||r>t[s])&&(r=t[s]);else{n=i;for(var s=0;s<=i;++s)(null==r||r>t[s])&&(r=t[s])}a[i]=r}}else{if(e>t.length)return a;e<=0&&(e=t.length-1);for(var r=null,i=e;i<t.length;++i,++s){if(null==r||i<e+r)r=t[i]>t[r]?r:i;else for(var s=1+(r=i-e+1);s<=i;++s)t[s]<t[r]&&(r=s);a[i]=t[r]}}return a},this.STD=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(var n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=Math.pow(t[n-s]-r[n],2);a[n]=Math.sqrt(i/e)}return a},this.AVEDEV=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(var n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=Math.abs(t[n-s]-r[n]);a[n]=i/e}return a},this.CROSS=function(t,e){var a=[];if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return a=[];for(var i=0;i<t.length&&(!this.IsNumber(t[i])||!this.IsNumber(e[i]));++i);for(++i;i<t.length;++i)a[i]=t[i]>e[i]&&t[i-1]<e[i-1]?1:0}else if(Array.isArray(t)&&"number"==typeof e){for(var i=0;i<t.length&&!this.IsNumber(t[i]);++i);for(++i;i<t.length;++i)a[i]=t[i]>e&&t[i-1]<e?1:0}else if("number"==typeof t&&Array.isArray(e)){for(var i=0;i<e.length&&!this.IsNumber(e[i]);++i);for(++i;i<e.length;++i)a[i]=e[i]<t&&e[i-1]>t?1:0}return a},this.MULAR=function(t,e){var a=[];if(t.length<e)return a;for(var i=e;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])){a[i]=t[i];break}for(++i;i<t.length;++i)a[i]=a[i-1]*t[i];return a},this.SUM=function(t,e){var a=[];if(Array.isArray(e))for(var i=0;i<t.length;++i){a[i]=null;var r=e[i];if(r>0)for(var n=i,s=0;n>=0&&s<r;--n,++s)0==s?a[i]=t[n]:a[i]+=t[n]}else if(0==e){a[0]=t[0];for(var i=1;i<t.length;++i)a[i]=a[i-1]+t[i]}else for(var i=e-1,n=0;i<t.length;++i,++n)for(var s=0;s<e;++s)0==s?a[i]=t[s+n]:a[i]+=t[s+n];return a},this.BARSCOUNT=function(t){var e=[],a=null;for(var i in t){if(e[i]=0,null==a){if(!this.IsNumber(t[i]))continue;a=0}e[i]=a,++a}return e},this.DEVSQ=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length,n=0,s=0,o=0,h=0,l=0;for(n=0;n<r&&!this.isNumber(t[n]);++n)a[n]=null;if(i<1||n+i>r)return a;for(h=0;n<r&&s<i;++n,++s)h+=t[n]/i;if(s==i){for(l=0,n--;o<i;o++)l+=(t[n-o]-h)*(t[n-o]-h);a[n]=l,n++}for(;n<r;++n){for(h+=(t[n]-t[n-i])/i,l=0,o=0;o<i;++o)l+=(t[n-o]-h)*(t[n-o]-h);a[n]=l}return a},this.NOT=function(t){if("number"==typeof t)return t?0:1;var e=[];for(var a in t)e[a]=null,this.IsNumber(t[a])&&(e[a]=t[a]?0:1);return e},this.FORCAST=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n,s,o,h,l,u=0,d=0,c=0,D=0;for(h=0;h<r&&!this.IsNumber(t[h]);++h)a[h]=null;for(o=h+i-1;o<r;++o){for(u=d=c=D=0,h=0,l=i;h<i&&h<=o;++h,--l)u+=l,d+=t[o-h];for(u/=i,d/=i,h=0,l=i;h<i&&h<=o;++h,--l)c+=(l-u)*(t[o-h]-d),D+=(l-u)*(l-u);s=c/D,n=d-u*s,a[o]=s*i+n}return a},this.SLOPE=function(t,e){var a=[];if("number"!=typeof e&&(e=parseInt(e)),e<1||!t.length)return a;if(e>=t.length)return a;for(var i=0,r=0;r<t.length&&(a[r]=null,!this.IsNumber(t[r]));++r,++i);for(var n=void 0,s=void 0,o=void 0,h=void 0,l=i+e-1;l<t.length;++l){a[l]=null,n=s=o=h=0;for(var u=0;u<e&&u<=l;++u)n+=l-u,s+=t[l-u];for(n/=e,s/=e,u=0;u<e&&u<=l;++u)o+=(l-u-n)*(t[l-u]-s),h+=(l-u-n)*(l-u-n);h?a[l]=o/h:l&&(a[l]=a[l-1])}return a},this.STDP=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n=0,s=0;for(n=0;n<r&&!this.IsNumber(t[n]);++n)a[n]=null;for(var o,h=0,l=0;n<r&&s<i;++n,++s)h+=t[n]*t[n],l+=t[n];for(s==i&&(o=i*h-l*l,a[n-1]=Math.sqrt(o)/i);n<r;++n)h+=t[n]*t[n]-t[n-i]*t[n-i],l+=t[n]-t[n-i],o=i*h-l*l,a[n]=Math.sqrt(o)/i;return a},this.VAR=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<=1||i>=r)return a;var n,s;for(n=0;n<r&&!this.IsNumber(t[n]);++n)a[n]=null;var o,h;for(s=0,n=n+i-1;n<r;++n){for(o=h=0,s=0;s<i&&s<=n;++s)o+=t[n-s]*t[n-s],h+=t[n-s];a[n]=(i*o-h*h)/i*(i-1)}return a},this.VARP=function(t,e){var a=[];"number"!=typeof e&&(e=parseInt(e));var i=e,r=t.length;if(i<1||i>=r)return a;var n=0,s=0;for(n=0;n<r&&!this.IsNumber(t[n]);++n)a[n]=null;for(var o=0,h=0;n<r&&s<i;++n,++s)o+=t[n]*t[n],h+=t[n];for(s==i&&(a[n-1]=(i*o-h*h)/(i*i));n<r;++n)o+=t[n]*t[n]-t[n-i]*t[n-i],h+=t[n]-t[n-i],a[n]=(i*o-h*h)/(i*i);return a},this.RANGE=function(t,e,a){var i="number"==typeof t,r="number"==typeof e,n="number"==typeof a;if(i&&r&&n)return t>Math.min(e,a)&&t<Math.max(e,a)?1:0;for(var s=[],o=void 0,h=void 0,l=0;l<t.length;++l)if(s[l]=null,o=t[l],this.IsNumber(o)){if(r)h=e;else{if(l>=e.length)continue;h=e[l]}if(this.IsNumber(h)){if(n)rangeValue2=a;else{if(l>=a.length)continue;rangeValue2=a[l]}this.IsNumber(rangeValue2)&&(s[l]=o>Math.min(h,rangeValue2)&&o<Math.max(h,rangeValue2)?1:0)}}return s},this.EXIST=function(t,e){if("number"==typeof t)return 0;if(Array.isArray(e)){var a=[];if(t.length<=0)return a;for(var i in t)a[i]=0;for(var i=0;i<e.length&&i<t.length;++i){var r=e[i];if(this.IsNumber(r)&&!((r=parseInt(r))<=0)){r>i+1&&(r=i+1);for(var n=!1,s=0,o=0;o<r;++o)if(i-(r-o-1),s=t[i],this.IsNumber(s)&&s>0){n=!0;break}a[i]=n?1:0}}return a}e=parseInt(e);for(var s,h=null,a=[],l=0;l<t.length;++l)a[l]=null,s=t[l],this.IsNumber(s)&&s>0&&(h=l),a[l]=null!=h&&l-h<e?1:0;return a},this.TFILTER=function(t,e,a){a=parseInt(a);for(var i=[],r=Math.max(t.length,e.length),n=0;n<r;++n);return i},this.FILTER=function(t,e){for(var a=[],i=0,r=0;i<t.length;++i)if(t[i]){for(a[i]=1,r=0;r<e&&r+i+1<t.length;++r)a[r+i+1]=0;i+=e}else a[i]=0;return a},this.BARSLAST=function(t){var e=[];if(!t)return e;for(var a=null,i=0;i<t.length;++i)e[i]=null,t[i]>0?a=0:null!=a&&++a,null!=a&&(e[i]=a);return e},this.BARSSINCEN=function(t,e){for(var a=[],i=null,r=0;r<t.length;++r)a[r]=null,null==i?t[r]&&(i=0):t[r]?i+1<e&&++i:i=null,i&&(a[r]=i);return a},this.BARSSINCE=function(t){for(var e=[],a=null,i=0;i<t.length;++i)e[i]=null,null==a?t[i]&&(a=0):++a,a&&(e[i]=a);return e},this.Trigonometric=function(t,e){if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=e(r):a[i]=null}return a}return this.IsNumber(t)?e(t):null},this.ASIN=function(t){if(Array.isArray(t)){var e=[];for(var a in t){var i=t[a];if(e[a]=null,this.IsNumber(i))if(i>=-1&&i<=1)e[a]=Math.asin(i);else if(a-1>=0){var r=e[a-1];this.IsNumber(r)&&(e[a]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.ACOS=function(t){if(Array.isArray(t)){var e=[];for(var a in t){var i=t[a];if(e[a]=null,this.IsNumber(i))if(i>=-1&&i<=1)e[a]=Math.acos(i);else if(a-1>=0){var r=e[a-1];this.IsNumber(r)&&(e[a]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.LAST=function(t,e,a){if(!Array.isArray(t))return[];for(var i=[],r=t.length,n=e,s=a,o=0,h=0,l=0,u=0;o<r&&!t[o];++o);for(h=o,u=o-s+1;h<r;++h,++u){for(l=0==n?o:Math.max(o,h-n);l<u&&!(t[l]<=0);++l);i[h]=l<u?0:1}return i},this.ZIG=function(t,e){var a=this.SymbolData.Data,i=[];if("number"==typeof t)switch(t){case 0:t=a.GetOpen();break;case 1:t=a.GetHigh();break;case 2:t=a.GetLow();break;case 3:t=a.GetClose();break;default:return i}return this.ZIG_Calculate(t,e)},this.GetFirstVaildIndex=function(t){for(var e=0;e<t.length;++e)if(this.IsNumber(t[e]))return e;return t.length},this.ZIG_Calculate=function(t,e){var a=[],i=t.length,r=this.GetFirstVaildIndex(t),n=0,s=0,o=0,h=0,l=0;for(n=r+1,s=o=r;n<i-1&&o==r;++n)o=100*Math.abs(t[n]-t[r])>=e*t[r]?t[n]>t[r]?n:-n:r;for(;n<i-1;++n)if(t[n]>=t[n-1]&&t[n]>=t[n+1])if(o<0){if(100*(t[n]-t[-o])<e*t[-o])continue;for(l=(t[s]-t[h=-o])/(-o-s),a[h--]=t[-o];h>=s;h--)a[h]=t[-o]+(-o-h)*l;s=-o,o=n}else t[n]>t[o]&&(o=n);else if(t[n]<=t[n-1]&&t[n]<=t[n+1])if(o>0){if(100*(t[o]-t[n])<e*t[o])continue;for(l=(t[o]-t[h=s])/(o-s),a[h++]=t[s];h<=o;++h)a[h]=t[s]+(h-s)*l;s=o,o=-n}else t[n]<t[-o]&&(o=-n);if(Math.abs(o)>=i-2&&(o>0&&t[i-1]>=t[o]&&(o=i-1),o<0&&t[i-1]<=t[-o]&&(o=1-i)),o>0)for(l=(t[o]-t[h=s])/(o-s),a[h++]=t[s];h<=o;++h)a[h]=t[s]+(h-s)*l;else for(l=(t[s]-t[h=-o])/(-o-s),a[h--]=t[-o];h>=s;h--)a[h]=t[-o]+(-o-h)*l;if((o=Math.abs(o))<i-1)if(t[i-1]>=t[o])for(l=(t[i-1]-t[h=o])/(i-o),a[h++]=t[o];h<i;++h)a[h]=t[o]+(h-o)*l;else for(l=(t[o]-t[h=i-1])/(i-o),a[h--]=t[i-1];h>=o;h--)a[h]=t[i-1]+(i-h)*l;return a},this.JSDraw=null,this.CalculateZIGLine=function(t,e,a,i,r){null==this.JSDraw&&(this.JSDraw=new Qa(this.ErrorHandler));var n=e.Up,s=t;if(n)for(var o=t.ID+1;o<a.ID;++o){var h=i[o];this.IsNumber(h)&&(s.Value<h&&(s={ID:o,Value:h}))}else for(var o=t.ID+1;o<a.ID;++o){var h=i[o];this.IsNumber(h)&&(s.Value>h&&(s={ID:o,Value:h}))}e.Value=s.Value,e.ID=s.ID;var l={Start:{ID:t.ID,Value:t.Value},End:{ID:e.ID,Value:e.Value}},u=this.JSDraw.CalculateDrawLine(l);for(var o in u){var d=u[o];r[d.ID]=d.Value}if(a.ID==i.length-1){l={Start:{ID:e.ID,Value:e.Value},End:{ID:a.ID,Value:a.Value}},u=this.JSDraw.CalculateDrawLine(l);for(var o in u){var d=u[o];r[d.ID]=d.Value}}else t.ID=e.ID,t.Value=e.Value,e.ID=a.ID,e.Value=a.Value,e.Up=t.Value<e.Value},this.TROUGHBARS=function(t,e,a){var i=this.ZIG(t,e),r=[],n=a;if(n<1)return r;for(var s=i.length,o=[],h=0;h<n;++h)o[h]=0;var l=0,h=this.GetFirstVaildIndex(i)+1;for(n--;h<s&&i[h]>i[h-1];++h);for(;h<s&&i[h]<i[h-1];++h);for(o[0]=--h;h<s-1;++h){if(i[h]<i[h+1]){if(l){if(n)for(var u=o.slice(0),d=0;d<n;++d)o[d+1]=u[d];o[l=0]=h}}else l=1;o[n]&&(r[h]=h-o[n])}return o[n]&&(r[h]=h-o[n]),r},this.TROUGH=function(t,e,a){var i=this.ZIG(t,e),r=[],n=a;if(n<1)return r;for(var s=i.length,o=[],h=0;h<n;++h)o[h]=0;var h=1,l=0,h=this.GetFirstVaildIndex(i)+1;for(n--;h<s&&i[h]>i[h-1];++h);for(;h<s&&i[h]<i[h-1];++h);for(o[0]=--h;h<s-1;++h){if(i[h]<i[h+1]){if(l){if(n)for(var u=o.slice(0),d=0;d<n;++d)o[d+1]=u[d];o[l=0]=h}}else l=1;o[n]&&(r[h]=i[o[n]])}return o[n]&&(r[h]=i[o[n]]),r},this.PEAKBARS=function(t,e,a){var i=this.ZIG(t,e),r=[],n=i.length,s=a;if(s<1)return r;for(var o=[],h=0;h<s;++h)o[h]=0;var l=0,h=this.GetFirstVaildIndex(i)+1;for(s--;h<n&&i[h]<i[h-1];++h);for(;h<n&&i[h]>i[h-1];++h);for(o[0]=--h;h<n-1;++h){if(i[h]>i[h+1]){if(l){if(s)for(var u=o.slice(0),d=0;d<s;++d)o[d+1]=u[d];o[l=0]=h}}else l=1;o[s]&&(r[h]=h-o[s])}return o[s]&&(r[h]=h-o[s]),r},this.PEAK=function(t,e,a){var i=this.ZIG(t,e),r=[],n=i.length,s=a;if(s<1)return r;for(var o=0,h=[],l=0;l<s;++l)h[l]=0;var l=this.GetFirstVaildIndex(i)+1;for(s--;l<n&&i[l]<i[l-1];++l);for(;l<n&&i[l]>i[l-1];++l);for(h[0]=--l;l<n-1;++l){if(i[l]>i[l+1]){if(o){if(s)for(var u=h.slice(0),d=0;d<s;++d)h[d+1]=u[d];h[o=0]=l}}else o=1;h[s]&&(r[l]=i[h[s]])}return h[s]&&(r[l]=i[h[s]]),r},this.EVERY=function(t,e){var a=[];if(e<1)return a;for(var i=0;i<t.length&&(a[i]=null,!this.IsNumber(t[i]));++i);for(var r=0;i<t.length;++i)t[i]?r+=1:r=0,r==e?(a[i]=1,--r):a[i]=0;return a},this.COST=function(t,e){var a=[],i=t/100;if(i<1e-6||i>1)return a;var r=this.SymbolData.Data.Data;if(!r||r.length<=0)return a;for(var n=this.SymbolData.GetFinanceCacheData(7,e),s=r[0].High,o=r[0].Low,h=0;h<r.length;++h){var l=r[h];o=Math.min(o,l.Low),s=Math.max(s,l.High)}(o>1e3||o<0||s>1e3||o<0)&&this.ThrowUnexpectedNode(e,"COST() 历史K线最大最小值错误, 超出(0,1000)范围");var u=parseInt(100*s+1),d=parseInt(100*o-1),c=0,D=0,m=0;s=u/100,o=d/100;var C=u-d+1;if(C<1)return a;for(var f=[],p=[],h=0;h<C;++h)f[h]=0,p[h]=0;for(var v=0,S=0,T=0,M=0,h=0;h<r.length;++h)if(!(h>=n.length)){if(n[h]>1){var _=r[h];v=_.Vol/n[h];for(var I=0;I<C;I++)f[I]*=1-v;c=parseInt(Math.min(u,Math.max(d,100*_.Low)))-d,D=parseInt(Math.min(u,Math.max(d,100*_.High)))-d,m=parseInt(Math.min(u,Math.max(d,100*_.Close)))-d;for(var I=0;I<C;++I)p[I]=0;var L=parseInt((c+D+2*m)/4);if(L==D||L==c)p[L]+=_.Vol;else{for(var g=_.Vol/(L-c),y=c;y<L;++y)p[y]+=g/(L-c)*(y-c);for(y;y<=D;++y)p[y]+=g/(L-D)*(y-D)}for(var S=0,I=c;I<=D;I++)f[I]+=p[I];for(var I=0;I<C;I++)S+=f[I];for(I=0,M=T=0;I<C;++I)if((T+=f[I])>=S*i){M=(s-o)*I/C+o;break}}a[h]=M}return a},this.WINNER=function(t,e){var a=[],i=this.SymbolData.Data.Data;if(!i||i.length<=0)return a;for(var r=this.SymbolData.GetFinanceCacheData(7,e),n=i[0].High,s=i[0].Low,o=0;o<i.length;++o){var h=i[o];s=Math.min(s,h.Low),n=Math.max(n,h.High)}(s>1e3||s<0||n>1e3||s<0)&&this.ThrowUnexpectedNode(e,"WINNER() 历史K线最大最小值错误, 超出(0,1000)范围");var l=parseInt(100*n+1),u=parseInt(100*s-1),d=0,c=0,D=0;n=l/100,s=u/100;var m=l-u+1;if(m<1)return a;for(var C=[],f=[],o=0;o<m;++o)C[o]=0,f[o]=0;for(var p=0,v=0,S=0,o=0;o<i.length;++o)if(!(o>=r.length)&&r[o]>1){var T=i[o];p=T.Vol/r[o];for(var M=0;M<m;M++)C[M]*=1-p;d=parseInt(Math.min(l,Math.max(u,100*T.Low)))-u,c=parseInt(Math.min(l,Math.max(u,100*T.High)))-u,D=parseInt(Math.min(l,Math.max(u,100*T.Close)))-u;for(var M=0;M<m;++M)f[M]=0;var _=parseInt((d+c+2*D)/4);if(_==c||_==d)f[_]+=T.Vol;else{for(var I=T.Vol/(_-d),L=d;L<_;++L)f[L]+=I/(_-d)*(L-d);for(L;L<=c;++L)f[L]+=I/(_-c)*(L-c)}for(var v=0,M=d;M<=c;M++)C[M]+=f[M];for(var M=0;M<m;M++)v+=C[M];c=Array.isArray(t)?parseInt(Math.min(100*t[o]-u,m-1)):parseInt(Math.min(100*t-u,m-1));for(var M=0,S=0;M<=c;M++)S+=C[M];v>0?a[o]=S/v:o-1>=0&&(a[o]=a[o-1])}return a},this.COSTEX=function(t,e,a){var i=[],r=this.SymbolData.Data.Data;if(!r||r.length<=0)return i;for(var n=this.SymbolData.GetFinanceCacheData(7,a),s=r[0].High,o=r[0].Low,h=0;h<r.length;++h){var l=r[h];o=Math.min(o,l.Low),s=Math.max(s,l.High)}(o>1e3||o<0||s>1e3||o<0)&&this.ThrowUnexpectedNode(a,"COSTEX() 历史K线最大最小值错误, 超出(0,1000)范围");var u=parseInt(100*s+1),d=parseInt(100*o-1),c=0,D=0,m=0;s=u/100,o=d/100;var C=u-d+1;if(C<1)return i;for(var f=[],p=[],h=0;h<C;++h)f[h]=0,p[h]=0;for(var v=0,S=0,T=0,M=0,_=0,I=0,L=0,h=0,g=0;h<r.length;++h)if(!(h>=n.length)&&n[h]>1){var y=r[h];v=y.Vol/n[h];for(var g=0;g<C;g++)f[g]*=1-v;c=parseInt(Math.min(u,Math.max(d,100*y.Low)))-d,D=parseInt(Math.min(u,Math.max(d,100*y.High)))-d,m=parseInt(Math.min(u,Math.max(d,100*y.Close)))-d;for(var g=0;g<C;++g)p[g]=0;var A=parseInt((c+D+2*m)/4);if(A==D||A==c)p[A]+=y.Vol;else{for(var F=y.Vol/(A-c),E=c;E<A;++E)p[E]+=F/(A-c)*(E-c);for(E;E<=D;++E)p[E]+=F/(A-D)*(E-D)}S=0;for(var g=c;g<=D;g++)f[g]+=p[g];for(var g=0;g<C;g++)S+=f[g];for(D=Array.isArray(t)?parseInt(Math.min(100*t[h]-d,C-1)):parseInt(Math.min(100*t-d,C-1)),g=0,M=0,_=0;g<=D;g++)M+=f[g],_+=.01*(g+d)*f[g];for(D=Array.isArray(e)?parseInt(Math.min(100*e[h]-d,C-1)):parseInt(Math.min(100*e-d,C-1)),g=0,I=0,L=0;g<=D;g++)I+=f[g],L+=.01*(g+d)*f[g];T=M-I,dPerVolRange=_-L,Math.abs(dPerVolRange)>.001&&0!=T?i[h]=dPerVolRange/T:h-1>=0&&(i[h]=i[h-1])}return i},this.PPART=function(t,e){var a=[],i=t;if(i<0)return a;var r=this.SymbolData.Data.Data;if(!r||r.length<=0)return a;for(var n=this.SymbolData.GetFinanceCacheData(7,e),s=i,o=0;s<r.length;++s){var h=s-i;if(!(h<0)){var l=0;for(o=0;o<i;++o){l+=r[o+h].Vol}if(s<n.length&&n[s]>0){var u=1-l/n[s];a[s]=u}}}return a},this.LWINNER=function(t,e,a){var i=t;i<=0&&this.ThrowUnexpectedNode(a,"LWINNER() 第1个参数错误");var r=[],n=this.SymbolData.Data.Data;if(!n||n.length<=0)return r;for(var s=this.SymbolData.GetFinanceCacheData(7,a),o=0,h=0,l=i-1,u=0,d=0;l<n.length;++l){for(var c=l-i+1,D=n[c].High,m=n[c].Low,u=0;u<i;++u){var C=n[c+u];m=Math.min(m,C.Low),D=Math.max(D,C.High)}(m>1e3||m<0||D>1e3||m<0)&&this.ThrowUnexpectedNode(a,"LWINNER() 历史K线最大最小值错误, 超出(0,1000)范围");var f=parseInt(100*D+1),p=parseInt(100*m-1),v=0,S=0,T=0;D=f/100,m=p/100;var M=f-p+1;if(M<1)return r;for(var _=[],I=[],u=0;u<M;++u)_[u]=0,I[u]=0;for(u=0;u<i;++u){var L=s[c+u];if(!(L<1)){var g=n[c+u],y=g.Vol/L;for(d=0;d<M;d++)_[d]*=1-y;v=parseInt(Math.min(f,Math.max(p,100*g.Low)))-p,S=parseInt(Math.min(f,Math.max(p,100*g.High)))-p,T=parseInt(Math.min(f,Math.max(p,100*g.Close)))-p;for(var d=0;d<M;++d)I[d]=0;var A=parseInt((v+S+2*T)/4);if(A==S||A==v)I[A]+=g.Vol;else{for(var F=g.Vol/(A-v),E=v;E<A;++E)I[E]+=F/(A-v)*(E-v);for(var x;x<=S;++x)I[x]+=F/(A-S)*(x-S)}o=0;for(var d=v;d<=S;d++)_[d]+=I[d]}}for(var u=0;u<M;u++)o+=_[u];for(S=Array.isArray(e)?parseInt(Math.min(100*e[l]-p,M-1)):parseInt(Math.min(100*e-p,M-1)),h=0,d=0;d<=S;d++)h+=_[d];o>0&&h>0&&h<=o?r[l]=h/o:l-1>=0&&(r[l]=r[l-1])}return r},this.PWINNER=function(t,e,a){return[]},this.CalculateChip=function(t,e,a,i){for(var r={Min:null,Max:null,Data:[]},n=1,s=null,o=null,h=t;h>=0;--h){var l={},u=a[h];l.Vol=h==t?u.Vol*e[h]:u.Vol*n,l.Date=u.Date,l.High=u.High,l.Low=u.Low,null==s?s=l.High:s<l.High&&(s=l.High),null==o?o=l.Low:o<l.Low&&(o=l.Low),r.Data[h]=l,n*=1-e[h]/100*i}return r.Max=s,r.Min=o,r},this.UPNDAY=function(t,e){var a=[];if(e<1)return a;if(null==t||e>t.length)return a;for(var i=0,r=0;r<t.length;++r)a[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]>t[r-1]?++i:i=0,i==e&&(a[r]=1,--i)):i=0);return a},this.DOWNNDAY=function(t,e){var a=[];if(e<1)return a;if(null==t||e>t.length)return a;for(var i=0,r=0;r<t.length;++r)a[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]<t[r-1]?++i:i=0,i==e&&(a[r]=1,--i)):i=0);return a},this.NDAY=function(t,e,a){var i=[];if(a<1)return i;if(!Array.isArray(t)&&!Array.isArray(e))return i;if(null==t||null==e)return i;if(Array.isArray(t)&&Array.isArray(e)){if(a>=t.length||a>=e.length)return i;for(var r=Math.max(t.length,e.length),n=0,s=0;s<r;++s)i[s]=0,s>=t.length||s>=e.length||(this.IsNumber(t[s])&&this.IsNumber(e[s])?(t[s]>e[s]?++n:n=0,n==a&&(i[s]=1,--n)):n=0)}else if(Array.isArray(t)&&!Array.isArray(e)){if(a>=t.length||!this.IsNumber(e))return;var n=0;for(var o in t)i[o]=0,this.IsNumber(t[o])?(t[o]>e?++n:n=0,n==a&&(i[o]=1,--n)):n=0}else if(!Array.isArray(t)&&Array.isArray(e)){if(a>=e.length||!this.IsNumber(t))return;var n=0;for(var h in e)i[h]=0,this.IsNumber(e[h])?(t>e[h]?++n:n=0,n==a&&(i[h]=1,--n)):n=0}return i},this.LONGCROSS=function(t,e,a){for(var i=[],r=Math.max(t.length,e.length),n=0;n<r;++n)i[n]=0,n-1<0||n>=t.length||n>=e.length||this.IsNumber(t[n])&&this.IsNumber(e[n])&&this.IsNumber(t[n-1])&&this.IsNumber(e[n-1])&&t[n]>e[n]&&t[n-1]<e[n-1]&&(i[n]=1);for(var s=0,o=0;s<r;++s)if(i[s])for(o=1;o<=a&&s-o>=0;++o)if(t[s-o]>=e[s-o]){i[s]=0;break}return i},this.EXISTR=function(t,e,a){var i=[];if(!Array.isArray(t))return i;if(e=parseInt(e),a=parseInt(a),e<=0&&(e=t.length),a<=0&&(a=1),a>e)return i;for(var r,i=[],n=0,s=0;n<t.length;++n)if(i[n]=null,!(n-e<0||n-a<0))for(i[n]=0,s=e;s>=a;--s){var r=t[n-s];if(this.IsNumber(r)&&r){i[n]=1;break}}return i},this.RELATE=function(t,e,a){var i=[];if(a<1&&(a=1),!Array.isArray(t)||!Array.isArray(e))return i;for(var r=this.CalculateAverage(t,a),n=this.CalculateAverage(e,a),s=Math.max(t.length,e.length),o=0,h=0;o<s;++o)if(i[o]=null,!(o>=t.length||o>=e.length||o>=r.length||o>=n.length)){var l=r[o],u=n[o],d=0,c=0,D=0;for(h=o-a+1;h<=o;++h)d+=(t[h]-l)*(e[h]-u),c+=Math.pow(t[h]-l,2),D+=Math.pow(e[h]-u,2);i[o]=d/a/(Math.sqrt(c/a)*Math.sqrt(D/a))}return i},this.CalculateAverage=function(t,e){var a=[];if(e<1)return a;for(var i=0,r=0;r<t.length&&!this.IsNumber(t[r]);++r);for(;r<t.length&&r<e;++r){a[r]=null;var n=t[r];this.IsNumber(n)&&(i+=n)}for(a[r-1]=i/e;r<t.length;++r){var n=t[r],s=t[r-e];this.IsNumber(n)||(n=0),this.IsNumber(s)||(s=0),i=i-s+n,a[r]=i/e}return a},this.COVAR=function(t,e,a){var i=[];if(a<1&&(a=1),!Array.isArray(t)||!Array.isArray(e))return i;for(var r=this.CalculateAverage(t,a),n=this.CalculateAverage(e,a),s=Math.max(t.length,e.length),s=Math.max(t.length,e.length),o=0,h=0;o<s;++o)if(i[o]=null,!(o>=t.length||o>=e.length||o>=r.length||o>=n.length)){var l=r[o],u=n[o],d=0;for(h=o-a+1;h<=o;++h)d+=(t[h]-l)*(e[h]-u);i[o]=d/a}return i},this.HHVBARS=function(t,e){var a=[];if(!Array.isArray(t))return a;if(Array.isArray(e))for(var i=0;i<e.length;++i){a[i]=null;var r=e[i];if(this.IsNumber(r)){var n=i-r;n<0&&(n=0);for(var s=null,o=n;o<t.length;++o)if(this.IsNumber(t[o])){s=o;break}for(var h=0;o<t.length&&h<r;++h,++o)t[o]>=t[s]&&(s=o);null!=s&&(a[i]=i-s)}}else{e<1&&(e=t.length);for(var s=null,i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i])){s=i;break}var o=0;for(i=s+1;i<t.length&&o<e;++i,++o)t[i]>=t[s]&&(s=i),e==t.length&&(a[i]=i-s);for(;i<t.length;++i){if(i-s<e)t[i]>=t[s]&&(s=i);else for(s=i-e+1,o=s;o<=i;++o)t[o]>=t[s]&&(s=o);a[i]=i-s}}return a},this.LLVBARS=function(t,e){var a=[];if(!Array.isArray(t))return a;if(Array.isArray(e))for(var i=0;i<e.length;++i){a[i]=null;var r=e[i];if(this.IsNumber(r)){var n=i-r;n<0&&(n=0);for(var s=null,o=n;o<t.length;++o)if(this.IsNumber(t[o])){s=o;break}for(var h=0;o<t.length&&h<r;++h,++o)t[o]<=t[s]&&(s=o);null!=s&&(a[i]=i-s)}}else{e<1&&(e=t.length);for(var s=null,i=0;i<t.length;++i)if(a[i]=null,this.IsNumber(t[i])){s=i;break}var o=0;for(i=s+1;i<t.length&&o<e;++i,++o)t[i]<=t[s]&&(s=i),e==t.length&&(a[i]=i-s);for(;i<t.length;++i){if(i-s<e)t[i]<=t[s]&&(s=i);else for(s=i-e+1,o=s;o<=i;++o)t[o]<=t[s]&&(s=o);a[i]=i-s}}return a},this.BETA=function(t){var e=[],a=this.SymbolData.Data,i=this.SymbolData.IndexData;t<=0&&(t=1);for(var r=[],n=[],s=0;s<a.Data.length;++s){r[s]=0,n[s]=0;var o=a.Data[s],h=i.Data[s];o.Close>0&&o.YClose>0&&(r[s]=(o.Close-o.YClose)/o.YClose),h.Close>0&&h.YClose>0&&(n[s]=(h.Close-h.YClose)/h.YClose)}for(var l=this.CalculateAverage(r,t),u=this.CalculateAverage(n,t),d=0,c=0;d<a.Data.length;++d)if(e[d]=null,!(d>=r.length||d>=n.length||d>=l.length||d>=u.length)){var D=l[d],m=u[d],C=0,f=0;for(c=d-t+1;c<=d;++c){var p=n[c]-m,v=r[c]-D;C+=p*v,f+=p*p}this.IsDivideNumber(f)&&this.IsNumber(C)&&(e[d]=C/f)}return e},this.BETA2=function(t,e,a){var i=[];a<=0&&(a=1);for(var r=[null],n=[null],s=Math.max(t.length,e.length),o={X:t[0],Y:e[0]},h=1;h<s;++h){r[h]=0,n[h]=0;var l=t[h],u=e[h];o.X>0&&(r[h]=(l-o.X)/o.X),o.Y>0&&(n[h]=(u-o.Y)/o.Y),o={X:l,Y:u}}for(var d=this.CalculateAverage(r,a),c=this.CalculateAverage(n,a),h=0,D=0;h<s;++h)if(i[h]=null,!(h>=r.length||h>=n.length||h>=d.length||h>=c.length)){var m=d[h],C=c[h],f=0,p=0;for(D=h-a+1;D<=h;++D){var v=r[D]-m,S=n[D]-C;f+=v*S,p+=v*v}this.IsDivideNumber(p)&&this.IsNumber(f)&&(i[h]=f/p)}return i},this.SAR=function(t,e,a){var i=[],r=this.SymbolData.Data;if(t>=r.Data.length)return i;for(var n=null,s=null,o=0;o<t;++o){var h=r.Data[o];null==n?n=h.High:n<h.High&&(n=h.High),null==s?s=h.Low:s>h.Low&&(s=h.Low)}var l=0;i[t-1]=s;for(var u=s,d=r.Data[0].High,c=e/100,o=t;o<r.Data.length;++o){var D=d,h=r.Data[o],m=r.Data[o-1];0==l?h.Low<i[o-1]?(l=1,d=h.Low,c=e/100,u=Math.max(h.High,m.High),u=Math.max(u,D+c*(d-D))):(l=0,h.High>D&&(d=h.High,c=Math.min(c+e/100,a/100)),u=Math.min(h.Low,m.Low),u=Math.min(u,i[o-1]+c*(d-i[o-1]))):1==l&&(h.High>i[o-1]?(l=0,d=h.High,c=e/100,u=Math.min(h.Low,m.Low),u=Math.min(u,i[o-1]+c*(d-D))):(l=1,h.Low<D&&(d=h.Low,c=Math.min(c+e/100,a/100)),u=Math.max(h.High,m.High),u=Math.max(u,i[o-1]+c*(d-i[o-1])))),i[o]=u}return i},this.SARTURN=function(t,e,a){var i=[],r=this.SAR(t,e,a),n=this.SymbolData.Data,s=0;for(s=0;s<r.length&&!this.IsNumber(r[s]);++s);var o=0;s<n.Data.length&&(o=n.Data[s].Close>r[s]);for(var h=s+1;h<n.Data.length;++h){var l=n.Data[h];l.Close<r[h]&&o?i[h]=-1:i[h]=l.Close>r[h]&&!o?1:0,o=l.Close>r[h]}return i},this.BACKSET=function(t,e){var a=[];if(!t)return a;var i=t.length;if(!this.IsNumber(i)||i<=0)return a;if(Array.isArray(e)){for(var r=0;r<i;++r)a[r]=0;for(var r=0;r<i;++r){var n=t[r],s=e[r];if(this.IsNumber(n)&&n&&this.IsNumber(s))for(var o=r,h=0;o>=0&&h<s;--o,++h)a[o]=1}}else{for(var r=0;r<i;++r)a[r]=0;for(var l=0;l<i&&!this.IsNumber(t[l]);++l);if(l==i)return a;for(var u=Math.min(i-l,Math.max(e,1)),r=i-1,o=0;r>=0;--r){var n=t[r];if(this.IsNumber(n)&&n)for(o=r;o>r-u;--o)a[o]=1}if(t[r])for(o=r;o>=l;--o)a[o]=1}return a},this.BETWEEN=function(t,e,a){var i=[],r="number"==typeof t,n="number"==typeof e,s="number"==typeof a;if(r&&n&&s)return t>=e&&t<=a?1:0;for(var o in t){i[o]=0;var h=t[o],l=null,u=null;n?l=e:o<e.length-1&&(l=e[o]),s?u=a:o<a.length-1&&(u=a[o]),null!=l&&null!=u&&(l>u?h>=u&&h<=l&&(i[o]=1):h<=u&&h>=l&&(i[o]=1))}return i},this.STRCAT=function(t,e){return t+e},this.CON2STR=function(t,e){var a=[];if(Array.isArray(t))for(var i=t.length-1;i>=0;--i){var r=t[i];if(this.IsNumber(r))return a=r.toFixed(e)}else this.IsNumber(t)&&(a=t.toFixed(e));return a},this.MOD=function(t,e){var a=[],i="number"==typeof t,r="number"==typeof e;if(i&&r)return Za.MOD(t,e);if(!i&&!r){for(var n=Math.max(t.length,e.length),s=0;s<n;++s)a[s]=null,s<t.length&&s<e.length&&this.IsNumber(t[s])&&this.IsNumber(e[s])&&(a[s]=Za.MOD(t[s],e[s]));return a}if(i&&!r){for(var o in e)a[o]=null,this.IsNumber(t)&&this.IsNumber(e[o])&&(a[o]=Za.MOD(t,e[o]));return a}if(!i&&r){for(var o in t)a[o]=null,this.IsNumber(t[o])&&this.IsNumber(e)&&(a[o]=Za.MOD(t[o],e));return a}return a},this.POW=function(t,e){var a=[];if(!Wt.IsNumber(e))return a;if("number"==typeof t)return Math.pow(t,e);for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=Math.pow(r,e):a[i]=null}return a},this.CEILING=function(t){if("number"==typeof t)return parseInt(t);var e=[];for(var a in t){var i=t[a];this.IsNumber(i)?e[a]=parseInt(i):e[a]=null}return e},this.FLOOR=function(t){if("number"==typeof t)return parseInt(t-1);var e=[];for(var a in t){var i=t[a];this.IsNumber(i)?e[a]=parseInt(i-1):e[a]=null}return e},this.ZTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=(1+e)*r:a[i]=null}return a}if(this.IsNumber(t)){var a=(1+e)*t;return a}},this.DTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var a=[];for(var i in t){var r=t[i];this.IsNumber(r)?a[i]=(1-e)*r:a[i]=null}return a}if(this.IsNumber(t)){var a=(1-e)*t;return a}},this.FRACPART=function(t){if(Array.isArray(t)){var e=[],a=0;for(var i in t){var r=t[i];this.IsNumber(r)?(a=parseInt(r),e[i]=r-a):e[i]=null}return e}if(this.IsNumber(t)){a=parseInt(t);var e=t-a;return e}},this.BARSLASTCOUNT=function(t){var e=null;if(Array.isArray(t)){if(e=[],t.length>0)for(var a=0,i=t.length-1;i>=0;--i){a=0;for(var r=i;r>=0&&t[r];--r)++a;e[i]=a}}else e=t?1:0;return e},this.INTPART=function(t){var e=null;if(Array.isArray(t)){e=[];for(var a in t){var i=t[a];this.IsNumber(i)?e[a]=parseInt(i):e[a]=null}}else this.IsNumber(t)&&(e=parseInt(t));return e},this.CallFunction=function(t,e,a,i){switch(t){case"MAX":return this.MAX(e[0],e[1]);case"MIN":return this.MIN(e[0],e[1]);case"REF":return this.REF(e[0],e[1]);case"REFV":return this.REFV(e[0],e[1]);case"REFX":return this.REFX(e[0],e[1]);case"REFXV":return this.REFXV(e[0],e[1]);case"ABS":return this.ABS(e[0]);case"MA":return this.MA(e[0],e[1]);case"EMA":return this.EMA(e[0],e[1]);case"SMA":return this.SMA(e[0],e[1],e[2]);case"DMA":return this.DMA(e[0],e[1]);case"XMA":return this.XMA(e[0],e[1]);case"EXPMA":return this.EXPMA(e[0],e[1]);case"EXPMEMA":return this.EXPMEMA(e[0],e[1]);case"COUNT":return this.COUNT(e[0],e[1]);case"LLV":return this.LLV(e[0],e[1]);case"LLVBARS":return this.LLVBARS(e[0],e[1]);case"HHV":return this.HHV(e[0],e[1]);case"HHVBARS":return this.HHVBARS(e[0],e[1]);case"MULAR":return this.MULAR(e[0],e[1]);case"CROSS":return this.CROSS(e[0],e[1]);case"LONGCROSS":return this.LONGCROSS(e[0],e[1],e[2]);case"AVEDEV":return this.AVEDEV(e[0],e[1]);case"STD":return this.STD(e[0],e[1]);case"IF":case"IFF":return this.IF(e[0],e[1],e[2]);case"IFN":return this.IFN(e[0],e[1],e[2]);case"NOT":return this.NOT(e[0]);case"SUM":return this.SUM(e[0],e[1]);case"RANGE":return this.RANGE(e[0],e[1],e[2]);case"EXIST":return this.EXIST(e[0],e[1]);case"EXISTR":return this.EXISTR(e[0],e[1],e[2]);case"FILTER":return this.FILTER(e[0],e[1]);case"TFILTER":return this.TFILTER(e[0],e[1],e[2]);case"SLOPE":return this.SLOPE(e[0],e[1]);case"BARSLAST":return this.BARSLAST(e[0]);case"BARSCOUNT":return this.BARSCOUNT(e[0]);case"BARSSINCEN":return this.BARSSINCEN(e[0],e[1]);case"BARSSINCE":return this.BARSSINCE(e[0]);case"LAST":return this.LAST(e[0],e[1],e[2]);case"EVERY":return this.EVERY(e[0],e[1]);case"DEVSQ":return this.DEVSQ(e[0],e[1]);case"ZIG":return this.ZIG(e[0],e[1]);case"TROUGHBARS":return this.TROUGHBARS(e[0],e[1],e[2]);case"TROUGH":return this.TROUGH(e[0],e[1],e[2]);case"PEAKBARS":return this.PEAKBARS(e[0],e[1],e[2]);case"PEAK":return this.PEAK(e[0],e[1],e[2]);case"COST":return this.COST(e[0]);case"WINNER":return this.WINNER(e[0],a);case"PPART":return this.PPART(e[0],a);case"COSTEX":return this.COSTEX(e[0],e[1],a);case"LWINNER":return this.LWINNER(e[0],e[1],a);case"PWINNER":return this.PWINNER(e[0],e[1],a);case"FORCAST":return this.FORCAST(e[0],e[1]);case"STDP":return this.STDP(e[0],e[1]);case"VAR":return this.VAR(e[0],e[1]);case"VARP":return this.VARP(e[0],e[1]);case"UPNDAY":return this.UPNDAY(e[0],e[1]);case"DOWNNDAY":return this.DOWNNDAY(e[0],e[1]);case"NDAY":return this.NDAY(e[0],e[1],e[2]);case"RELATE":return this.RELATE(e[0],e[1],e[2]);case"COVAR":return this.COVAR(e[0],e[1],e[2]);case"BETA":return this.BETA(e[0]);case"BETA2":return this.BETA2(e[0],e[1],e[2]);case"WMA":return this.WMA(e[0],e[1]);case"MEMA":return this.MEMA(e[0],e[1]);case"SUMBARS":return this.SUMBARS(e[0],e[1]);case"REVERSE":return this.REVERSE(e[0]);case"SAR":return this.SAR(e[0],e[1],e[2]);case"SARTURN":return this.SARTURN(e[0],e[1],e[2]);case"BACKSET":return this.BACKSET(e[0],e[1]);case"BETWEEN":return this.BETWEEN(e[0],e[1],e[2]);case"STRCAT":return this.STRCAT(e[0],e[1]);case"CON2STR":return this.CON2STR(e[0],e[1]);case"DTPRICE":return this.DTPRICE(e[0],e[1]);case"ZTPRICE":return this.ZTPRICE(e[0],e[1]);case"MOD":return this.MOD(e[0],e[1]);case"POW":return this.POW(e[0],e[1]);case"CEILING":return this.CEILING(e[0]);case"FLOOR":return this.FLOOR(e[0]);case"FRACPART":return this.FRACPART(e[0]);case"BARSLASTCOUNT":return this.BARSLASTCOUNT(e[0]);case"INTPART":return this.INTPART(e[0]);case"ATAN":return this.Trigonometric(e[0],Math.atan);case"ACOS":return this.ACOS(e[0]);case"ASIN":return this.ASIN(e[0]);case"COS":return this.Trigonometric(e[0],Math.cos);case"SIN":return this.Trigonometric(e[0],Math.sin);case"TAN":return this.Trigonometric(e[0],Math.tan);case"LN":return this.Trigonometric(e[0],Math.log);case"LOG":return this.Trigonometric(e[0],Di.default);case"EXP":return this.Trigonometric(e[0],Math.exp);case"SQRT":return this.Trigonometric(e[0],Math.sqrt);default:this.ThrowUnexpectedNode(a,"函数"+t+"不存在")}},this.CallCustomFunction=function(t,e,a,i){var r=lr.CustomFunction.Data.get(t);if(!r||!r.Invoke)return[];var n=this,s={Name:t,Args:e,Symbol:a.Symbol,Period:a.Period,Right:a.Right,KData:a.Data,ThrowError:function(t){n.ThrowUnexpectedNode(i,t)}};return r.Invoke(s)},this.ThrowUnexpectedNode=function(t,e){var a=t.Marker,i=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,i)}}function Qa(t,e){this.ErrorHandler=t,this.SymbolData=e,this.DRAWTEXT=function(t,e,a){var i=[],r={DrawData:i,DrawType:"DRAWTEXT",Text:a};if(t.length<=0)return r;var n="number"==typeof e;for(var s in t)i[s]=null,!isNaN(t[s])&&t[s]&&(n?i[s]=e:this.IsNumber(e[s])&&(i[s]=e[s]));return r},this.DRAWTEXT_FIX=function(t,e,a,i,r){var n={Value:[],Text:[]},s={DrawData:n,DrawType:"DRAWTEXT_FIX",Text:null,Position:{X:e,Y:a,Type:i}};if(t.length<=0)return s;if(Array.isArray(t))for(var o in t)n.Text[o]=null,n.Value[o]=0,!isNaN(t[o])&&t[o]&&(n.Value[o]=1,n.Text[o]=r);else if(t)for(var o=0;o<this.SymbolData.Data.Data.length;++o)n.Text[o]=r,n.Value[o]=1;return s},this.SUPERDRAWTEXT=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"SUPERDRAWTEXT",Text:a,YOffset:r,Direction:i,TextAlign:"center"};if(t.length<=0)return s;var o="number"==typeof e;for(var h in t)n[h]=null,!isNaN(t[h])&&t[h]&&(o?n[h]=e:this.IsNumber(e[h])&&(n[h]=e[h]));return s},this.STICKLINE=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"STICKLINE",Width:i,Type:r};if(s.Width<0&&(s.Width=50),s.Type<0&&(s.Type=1),t.length<=0)return s;var o="number"==typeof e,h="number"==typeof a;for(var l in t)if(n[l]=null,!isNaN(t[l])&&t[l])if(o&&h)n[l]={Value:e,Value2:a};else if(o&&!h){if(isNaN(a[l]))continue;n[l]={Value:e,Value2:a[l]}}else if(!o&&h){if(isNaN(e[l]))continue;n[l]={Value:e[l],Value2:a}}else{if(isNaN(e[l])||isNaN(a[l]))continue;n[l]={Value:e[l],Value2:a[l]}}return s},this.DRAWLINE=function(t,e,a,i,r){var n=[],s={DrawData:n,DrawType:"DRAWLINE",Expand:r};if(t.length<=0)return s;for(var o=Math.max(t.length,a.length),h=!1,l=!1,u={Start:{},End:{},List:new Array},d=0;d<o;++d)if(n[d]=null,d<t.length&&d<a.length){if(0==h&&0==l){if(null==t[d]||!t[d])continue;h=!0,u.Start={ID:d,Value:e[d]}}else if(1==h&&0==l){var c=null!=a[d]&&a[d];if(!c)continue;c&&(l=!0,u.End={ID:d,Value:i[d]})}if(1==h&&1==l){var D=this.CalculateDrawLine(u);for(var m in D){var C=D[m];n[C.ID]=C.Value}h=l=!1,u={Start:{},End:{}}}}if(1==r){for(var f=null,p=n.length-1;p>=0;--p)if(this.IsNumber(n[p])){f=p;break}if(null!=f&&f-1>=0)for(var v=f-1,p=f+1;p<n.length;++p){var S=n[v],T=n[f],M=(S-T)*(p-v)/(f-v);n[p]=S-M}}return s},this.DRAWBAND=function(t,e,a,i){for(var r=[],n={DrawData:r,DrawType:"DRAWBAND",Color:[e.toLowerCase(),i.toLowerCase()]},s=Math.max(t.length,a.length),o=0;o<s;++o){var h={Value:null,Value2:null};o<t.length&&(h.Value=t[o]),o<a.length&&(h.Value2=a[o]),r.push(h)}return n},this.GetDataByIndex=function(t,e){var a={Result:!1,Data:null};return this.IsNumber(t)?(a.Result=!0,a.Data=t):e<t.length?(a.Result=!0,a.Data=t[e]):a.Result=!1,a},this.FILLRGN=function(t,e,a){var i=[],r={DrawData:i,DrawType:"FILLRGN"};this.IsNumber(e),this.IsNumber(a);if(Array.isArray(t))for(var n in t){i[n]=null;var s=t[n];if(s){var o=this.GetDataByIndex(e,n);if(o.Result){var h=this.GetDataByIndex(a,n);if(h.Result){var l={Value:o.Data,Value2:h.Data};i[n]=l}}}}else if(t)for(var n=0;n<this.SymbolData.Data.Data.length;++n){i[n]=null;var o=this.GetDataByIndex(e,n);if(o.Result){var h=this.GetDataByIndex(a,n);if(h.Result){var l={Value:o.Data,Value2:h.Data};i[n]=l}}}return r},this.DRAWKLINE=function(t,e,a,i){for(var r=[],n={DrawData:r,DrawType:"DRAWKLINE"},s=Math.max(t.length,e.length,a.length,i.length),o=0;o<s;++o){var h={Open:null,High:null,Low:null,Close:null};o<t.length&&o<e.length&&o<a.length&&o<i.length&&(h.Open=e[o],h.High=t[o],h.Low=a[o],h.Close=i[o]),r[o]=h}return n},this.DRAWKLINE_IF=function(t,e,a,i,r){for(var n=[],s={DrawData:n,DrawType:"DRAWKLINE_IF"},o=Math.max(t.length,e.length,a.length,i.length,r.length),h=0;h<o;++h){var l={Open:null,High:null,Low:null,Close:null};h<e.length&&h<a.length&&h<i.length&&h<r.length&&h<t.length&&t[h]&&(l.Open=a[h],l.High=e[h],l.Low=i[h],l.Close=r[h]),n[h]=l}return s},this.POLYLINE=function(t,e){var a=[],i={DrawData:a,DrawType:"POLYLINE"},r="number"==typeof e,n=!1;if(r)for(var s in t)if(a[s]=null,0==n){if(!t[s])continue;a[s]=e,n=!0}else a[s]=e;else{var o={Start:{},End:{},List:new Array};for(var h in t)if(a[h]=null,0==n){if(null==t[h]||!t[h])continue;if(h>=e.length||!this.IsNumber(e[h]))continue;n=!0,o.Start={ID:parseInt(h),Value:e[h]}}else if(1==n){if(null==t[h]||!t[h])continue;if(h>=e.length||!this.IsNumber(e[h]))continue;o.End={ID:parseInt(h),Value:e[h]};var l=this.CalculateDrawLine(o);for(var u in l){var d=l[u];a[d.ID]=d.Value}var c={ID:o.End.ID,Value:o.End.Value};o={Start:c,End:{}}}}return i},this.DRAWNUMBER=function(t,e,a){var i={Value:new Array,Text:new Array},r={DrawData:i,DrawType:"DRAWNUMBER"},n="number"==typeof a,s=void 0;n&&(s=Wt.IsInteger(a)?a.toString():a.toFixed(2));for(var o in t)if(i.Value[o]=null,t[o]&&!(o>=e.length)&&this.IsNumber(e[o]))if(n)i.Value[o]=e[o],i.Text[o]=s;else{if(o>=a.length||!a[o])continue;i.Value[o]=e[o],"number"==typeof a[o]?i.Text[o]=a[o].toFixed(2):i.Text[o]=a[o].toString()}return r},this.DRAWNUMBER_FIX=function(t,e,a,i,r){var n={Value:[],Text:[]},s={DrawData:n,DrawType:"DRAWNUMBER_FIX",Position:{X:e,Y:a,Type:i}},o=Wt.IsNumber(r);if(Array.isArray(t)){for(var h in t)if(n.Text[h]=null,n.Value[h]=null,t[h])if(o)n.Text[h]=this.RemoveZero(r.toFixed(2)),n.Value[h]=r;else{if(h>=r.length||!Wt.IsNumber(r[h]))continue;var l=r[h];n.Text[h]=this.RemoveZero(l.toFixed(2)),n.Value[h]=l}}else if(t)for(var h=0;h<this.SymbolData.Data.Data.length;++h)if(o)n.Text[h]=this.RemoveZero(r.toFixed(2)),n.Value[h]=r;else{if(h>=r.length||!Wt.IsNumber(r[h]))continue;var l=r[h];n.Text[h]=this.RemoveZero(l.toFixed(2)),n.Value[h]=l}else;return s},this.DRAWICON=function(t,e,a){var i=lr.GetDrawIcon(a);i||lr.GetDrawTextIcon(a),i||(i={Symbol:"🚩"});var r=[],n={DrawData:r,DrawType:"DRAWICON",Icon:i};if(t.length<=0)return n;var s="number"==typeof e;if("number"==typeof t){if(!t)return n;for(var o=0;o<this.SymbolData.Data.Data.length;++o)s?r[o]=e:o<e.length&&this.IsNumber(e[o])?r[o]=e[o]:r[o]=null;return n}for(var o in t)r[o]=null,t[o]&&(s?r[o]=e:this.IsNumber(e[o])&&(r[o]=e[o]));return n},this.DRAWCHANNEL=function(t,e,a,i,r,n,s){var o=[],h={DrawData:o,DrawType:"DRAWCHANNEL",Border:{}};if(t.length<=0)return h;if(i&&(h.Border.Color=i),s&&(h.AreaColor=s),r>0&&(h.Border.Width=r),n){var l=n.split(",");h.Border.Dotted=[];for(var u in l){if(l[u]){var d=parseInt(l[u]);d<=0||h.Border.Dotted.push(d)}}h.Border.Dotted.length<=0&&(h.Border.Dotted=null)}var c="number"==typeof e,D="number"==typeof a;if("number"==typeof t){if(!t)return h;for(var u=0;u<this.SymbolData.Data.Data.length;++u)if(o[u]=null,c&&D)o[u]={Value:e,Value2:a};else if(c&&!D){if(isNaN(a[u]))continue;o[u]={Value:e,Value2:a[u]}}else if(!c&&D){if(isNaN(e[u]))continue;o[u]={Value:e[u],Value2:a}}else{if(isNaN(e[u])||isNaN(a[u]))continue;o[u]={Value:e[u],Value2:a[u]}}}else for(var u=0;u<t.length;++u)if(o[u]=null,!isNaN(t[u])&&t[u])if(c&&D)o[u]={Value:e,Value2:a};else if(c&&!D){if(isNaN(a[u]))continue;o[u]={Value:e,Value2:a[u]}}else if(!c&&D){if(isNaN(e[u]))continue;o[u]={Value:e[u],Value2:a}}else{if(isNaN(e[u])||isNaN(a[u]))continue;o[u]={Value:e[u],Value2:a[u]}}return h},this.RGB=function(t,e,a){return"RGB("+t+","+e+","+a+")"},this.RGBA=function(t,e,a,i){return"RGB("+t+","+e+","+a+","+i+")"},this.PARTLINE=function(t){var e=[],a={DrawData:e,DrawType:"PARTLINE"};if(t.length<3)return a;for(var i=t[0],r=[],n=1;n<t.length&&n+1<t.length;n+=2)r.push({Cond:t[n],RGB:t[n+1]});for(var n in i){var s={Value:null,RGB:null};e[n]=s;var o=i[n];if(this.IsNumber(o)){var h=null;for(var l in r){var u=r[l];if(Array.isArray(u.Cond)){if(n<u.Cond.length&&u.Cond[n]){h=u.RGB;break}}else if(this.IsNumber(u.Cond)&&u.Cond){h=u.RGB;break}}h&&(s.Value=o,s.RGB=h)}}return a},this.FILLRGN2=function(t){var e=[],a={DrawData:e,DrawType:"FILLRGN2"};if(t.length<4)return a;for(var i=t[0],r=t[1],n=[],s=2;s<t.length&&s+1<t.length;s+=2)n.push({Cond:t[s],Color:t[s+1]});for(var s=0;s<this.SymbolData.Data.Data.length;++s){e[s]=null;var o={Value:null,Value2:null,Color:null};for(var h in n){var l=n[h];if(Array.isArray(l.Cond)){if(s<l.Cond.length&&l.Cond[s]){o.Color=l.Color;break}}else if(this.IsNumber(l.Cond)&&l.Cond){o.Color=l.Color;break}}if(o.Color){if(Array.isArray(i)){if(s>=i.length)continue;if(!this.IsNumber(i[s]))continue;o.Value=i[s]}else{if(!this.IsNumber(i))continue;o.Value=i}if(Array.isArray(r)){if(s>=r.length)continue;if(!this.IsNumber(r[s]))continue;o.Value2=r[s]}else{if(!this.IsNumber(r))continue;o.Value2=r}e[s]=o}}return a},this.DRAWGBK=function(t,e,a,i){var r={Color:[],Angle:i};e&&r.Color.push(e),a&&r.Color.push(a);var n={DrawData:null,DrawType:"DRAWGBK"};if(Array.isArray(t))for(var s in t){var o=t[s];if(o){n.DrawData=r;break}}else t&&(n.DrawData=r);return n},this.DRAWTEXT_LINE=function(t,e,a,i,r,n,s){var o={Text:{Title:a,Color:i},Line:{Type:n,Color:s}};r<=0&&(r=12),o.Text.Font=r*u()+"px 微软雅黑";var h={DrawData:null,DrawType:"DRAWTEXT_LINE"};if(Array.isArray(t))for(var l in t){var d=t[l];if(d){Array.isArray(e)?o.Price=e[l]:o.Price=e,h.DrawData=o;break}}else t&&(Array.isArray(e)?o.Price=e[0]:o.Price=e,h.DrawData=o);return h},this.DRAWRECTREL=function(t,e,a,i,r){var n={Rect:{Left:t,Top:e,Right:a,Bottom:i},Color:r};return 0==r&&(n.Color=null),{DrawData:n,DrawType:"DRAWRECTREL"}},this.DRAWOVERLAYLINE=function(t,e,a){var i={Data:t,MainData:e};return a&&"string"==typeof a&&(i.Title=a),{DrawData:i,DrawType:"DRAWOVERLAYLINE"}}}function $a(t,e,a){this.AST=t,this.Execute=a,this.Symbol="600000.sh",this.Name,this.Data=null,this.PeriodData=new Ai.default,this.IsApiPeriod=!1,this.SourceData=null,this.MarketValue=null,this.Period=0,this.Right=0,this.DataType=0,this.IsBeforeData=!1,this.DayCount,this.Arguments=[],this.KLineApiUrl=lr.Domain+"/API/KLine2",this.MinuteKLineApiUrl=lr.Domain+"/API/KLine3",this.RealtimeApiUrl=lr.Domain+"/API/stock",this.HistoryMinuteApiUrl=Zi.Domain+"/API/StockMinuteData",this.StockHistoryDayApiUrl=lr.Domain+"/API/StockHistoryDay",this.StockHistoryDay3ApiUrl=lr.Domain+"/API/StockHistoryDay3",this.StockNewsAnalysisApiUrl=lr.CacheDomain+"/cache/newsanalyze",this.HKToSHSZApiUrl=[lr.CacheDomain+"/cache/historyday/all/hk2shsz.json",lr.CacheDomain+"/cache/analyze/hk2shsz/hk2shsz.json",lr.Domain+"/API/HKToSHSZMinuteData",lr.CacheDomain+"/cache/analyze/hk2szshanalyze"],this.MaxRequestDataCount=1e3,this.MaxRequestMinuteDayCount=5,this.KLineDateTimeRange,this.LatestData,this.IndexData,this.LatestIndexData,this.FinanceData=new Ai.default,this.MarginData=new Ai.default,this.HKToSHSZData=new Ai.default,this.NewsAnalysisData=new Ai.default,this.ExtendData=new Ai.default,this.UserData=new Ai.default,this.CustomAPIData=new Ai.default,this.ScriptIndexOutData=new Ai.default,this.OtherSymbolData=new Ai.default,this.SectionFinanceData=new Ai.default,this.ThrowSFPeirod=new Mi.default,this.NetworkFilter,e&&(e.HQDataType&&(this.DataType=e.HQDataType),e.Data&&(this.Data=e.Data,this.DataType!=vr.MINUTE_ID&&this.DataType!=vr.MULTIDAY_MINUTE_ID&&this.DataType!=vr.HISTORY_MINUTE_ID&&(this.Period=e.Data.Period,this.Right=e.Data.Right)),e.SourceData&&(this.SourceData=e.SourceData),e.Symbol&&(this.Symbol=e.Symbol),e.Name&&(this.Name=e.Name),e.MaxRequestDataCount>0&&(this.MaxRequestDataCount=e.MaxRequestDataCount),e.MaxRequestMinuteDayCount>0&&(this.MaxRequestMinuteDayCount=e.MaxRequestMinuteDayCount),e.KLineApiUrl&&(this.KLineApiUrl=e.KLineApiUrl),e.Right&&(this.Right=e.Right),e.Period&&(this.Period=e.Period),!0===e.IsBeforeData&&(this.IsBeforeData=e.IsBeforeData),e.NetworkFilter&&(this.NetworkFilter=e.NetworkFilter),e.DayCount>0&&(this.DayCount=e.DayCount),e.Arguments&&(this.Arguments=e.Arguments),e.KLineRange&&(this.KLineDateTimeRange=e.KLineRange),e.IsApiPeriod&&(this.IsApiPeriod=e.IsApiPeriod)),this.RecvError=function(t){throw xi.Complier.Log("[JSSymbolData::RecvError] ajax error.",t.status),{FunctionName:"RecvError",Request:t}},this.GetLatestData=function(){if(this.LatestData)return this.Execute.RunNextJob();var t=this;if(this.NetworkFilter){var e={Name:"JSSymbolData::GetLatestData",Explain:"DYNAINFO()",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{symbol:[this.Symbol],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvLatestData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(e){t.RecvLatestData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvLatestData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];this.LatestData={Symbol:e.symbol,Name:e.name,Date:e.date,Time:e.time,YClose:e.yclose,Price:e.price,Open:e.open,High:e.high,Low:e.low,Vol:e.vol,Amount:e.amount,Increase:e.increase,Exchangerate:e.exchangerate,Amplitude:e.amplitude},xi.Complier.Log("[JSSymbolData::RecvLatestData]",this.LatestData)}},this.GetLatestCacheData=function(t){if(!this.LatestData)return null;switch(t){case Cr.YCLOSE:return this.LatestData.YClose;case Cr.OPEN:return this.LatestData.Open;case Cr.HIGH:return this.LatestData.High;case Cr.LOW:return this.LatestData.Low;case Cr.VOL:return this.LatestData.Vol;case Cr.AMOUNT:return this.LatestData.Amount;case Cr.INCREASE:return this.LatestData.Increase;case Cr.EXCHANGERATE:return this.LatestData.Exchangerate;case Cr.AMPLITUDE:return this.LatestData.Amplitude;case Cr.CLOSE:return this.LatestData.Price;default:return null}},this.GetLatestIndexData=function(){if(this.LatestIndexData)return this.Execute.RunNextJob();var t=this;if(this.NetworkFilter){var e={Name:"JSSymbolData::GetLatestIndexData",Explain:"最新大盘数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{symbol:["000001.sh"],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"],symbol:["000001.sh"]},type:"post",dataType:"json",async:!0,success:function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvLatestIndexData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];this.LatestIndexData={Symbol:e.symbol,Name:e.name,Date:e.date,Time:e.time,YClose:e.yclose,Price:e.price,Open:e.open,High:e.high,Low:e.low,Vol:e.vol,Amount:e.amount,Increase:e.increase,Amplitude:e.amplitude},xi.Complier.Log("[JSSymbolData::RecvLatestIndexData]",this.LatestIndexData)}},this.GetLatestIndexCacheData=function(t){if(!this.LatestIndexData)return null;switch(t){case"FROMOPEN":var e=parseInt(this.LatestIndexData.Time/100),a=60*parseInt(e/100)+e%100;return a<=565?0:a<570?1:a<=690?a-570+1:a<780?121:a<=900?122+a-780:242;default:return null}},this.GetVolRateData=function(t,e){var a=t.ID.toString()+"-VolRate-"+this.Symbol;if(this.ExtendData.has(a))return this.Execute.RunNextJob();var i=this;n.HttpRequest({url:i.RealtimeApiUrl,data:{field:["name","symbol","avgvol5","date"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){i.RecvVolRateData(t,a),i.Execute.RunNextJob()},error:function(t){i.RecvError(t)}})},this.RecvVolRateData=function(t,e){if(t.stock&&1==t.stock.length){var a=t.stock[0].avgvol5,i=t.stock[0].date,r={AvgVol5:a,Date:i};this.ExtendData.set(e,r),xi.Complier.Log("[JSSymbolData::RecvVolRateData]",r)}},this.GetVolRateCacheData=function(t){var e=pr.JOB_DOWNLOAD_VOLR_DATA.toString()+"-VolRate-"+this.Symbol;e&&this.ExtendData.has(e)||this.Execute.ThrowUnexpectedNode(t,"不支持VOLR");for(var a=[],i=this.ExtendData.get(e),r=i.AvgVol5/241,n=0,s=0,o=0;s<this.Data.Data.length;++s){a[s]=null;var h=this.Data.Data[s],l=h.DateTime;if(l){var u=l.split(" ");if(2==u.length){parseInt(u[0])==i.Date&&(n+=h.Vol,r>0&&(a[s]=n/(o+1)/r*100),++o)}}}return a},this.GetGroupData=function(t){var e=t.ID.toString()+"-Group-"+this.Symbol;if(this.ExtendData.has(e))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var i={Name:"JSSymbolData::GetGroupData",Explain:"HYBLOCK|DYBLOCK",Request:{Url:a.RealtimeApiUrl,Type:"POST",Data:{symbol:[this.Symbol],field:["name","symbol","industry","concept","region"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){a.RecvGroupData(t,e),a.Execute.RunNextJob()}),1==i.PreventDefault)return}n.HttpRequest({url:a.RealtimeApiUrl,data:{field:["name","symbol","industry","concept","region"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){a.RecvGroupData(t,e),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}})},this.RecvGroupData=function(t,e){if(t.stock&&1==t.stock.length){var a=t.stock[0],i=a.industry,r=a.concept,n=a.region,s={Industry:[],Concept:[],Region:[]};if(i)for(var o in i){var h=i[o];s.Industry.push({Name:h.name,Symbol:h.symbol})}if(r)for(var o in r){var h=r[o];s.Concept.push({Name:h.name,Symbol:h.symbol})}if(n)for(var o in n){var h=n[o];s.Region.push({Name:h.name,Symbol:h.symbol})}this.ExtendData.set(e,s)}},this.GetIndexData=function(){if(this.IndexData)return this.Execute.RunNextJob();var t=this;if(G.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.KLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],symbol:"000001.sh",start:-1,count:t.MaxRequestDataCount+500}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],symbol:"000001.sh",start:-1,count:t.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(G.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:"000001.sh",start:-1,count:t.MaxRequestDataCount+5}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:"000001.sh",start:-1,count:t.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}},this.RecvIndexHistroyData=function(t){xi.Complier.Log("[JSSymbolData::RecvIndexHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);this.IndexData=new G,this.IndexData.DataType=0,this.IndexData.Data=e;var a=this.SourceData.GetOverlayData(this.IndexData.Data);if(this.IndexData.Data=a,G.IsDayPeriod(this.Period,!1)){var i=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=i}},this.RecvIndexMinuteHistroyData=function(t){xi.Complier.Log("[JSSymbolData::RecvIndexMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.IndexData=new G,this.IndexData.DataType=1,this.IndexData.Data=e,G.IsMinutePeriod(this.Period,!1)){var a=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=a}},this.GetOtherSymbolData=function(t){var e=t.Args,a=this.Symbol;if(e.length>0){var i=e[0];if(i.Type==mr.Literal)a=i.Value;else if(i.Type==mr.Identifier){var r=!1;for(var s in this.Arguments){var o=this.Arguments[s];if(o.Name==i.Name){a=o.Value,r=!0;break}}if(!r){var h=t.Token;this.Execute.ErrorHandler.ThrowError(h.Index,h.Line,0,t.FunctionName+"() Error: can't read "+i.Name)}}}if(t.Symbol=a.toLowerCase(),t.Symbol==this.Symbol)return this.Execute.RunNextJob();if(this.OtherSymbolData.has(t.Symbol))return this.Execute.RunNextJob();var l=this;if(G.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var u=this.Data.GetDateRange(),d={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Period:l.Period,DateRange:u,Request:{Url:l.KLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestDataCount+500}},Self:this,PreventDefault:!1};if(this.NetworkFilter(d,function(e){l.RecvOtherSymbolKDayData(e,t),l.Execute.RunNextJob()}),1==d.PreventDefault)return}n.HttpRequest({url:l.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){l.RecvOtherSymbolKDayData(e,t),l.Execute.RunNextJob()},error:function(t){l.RecvError(t)}})}else if(G.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){var u=this.Data.GetDateRange(),d={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Period:l.Period,DateRange:u,Request:{Url:l.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestDataCount+5}},Self:this,PreventDefault:!1};if(this.NetworkFilter(d,function(e){l.RecvOtherSymbolKMinuteData(e,t),l.Execute.RunNextJob()}),1==d.PreventDefault)return}n.HttpRequest({url:l.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:l.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){l.RecvOtherSymbolKMinuteData(e,t),l.Execute.RunNextJob()},error:function(t){l.RecvError(t)}})}},this.RecvOtherSymbolKDayData=function(t,e){xi.Complier.Log("[JSSymbolData::RecvOtherSymbolKDayData] recv data",t);var a=this.JsonDataToHistoryData(t),i=new G;i.DataType=0,i.Data=a;var r=this.SourceData.GetOverlayData(i.Data);if(i.Data=r,G.IsDayPeriod(this.Period,!1)){var n=i.GetPeriodData(this.Period);i.Data=n}this.OtherSymbolData.set(e.Symbol,i)},this.RecvOtherSymbolKMinuteData=function(t,e){xi.Complier.Log("[JSSymbolData::RecvOtherSymbolKMinuteData] recv data",t);var a=this.JsonDataToMinuteHistoryData(t),i=new G;if(i.DataType=1,i.Data=a,G.IsMinutePeriod(this.Period,!1)){var r=i.GetPeriodData(this.Period);i.Data=r}this.OtherSymbolData.set(e.Symbol,i)},this.GetOtherSymolCacheData=function(t,e){if(e.length<=0)return this.GetSymbolCacheData(t);var a=e[0].toString().toLowerCase();if(a==this.Symbol)return this.GetSymbolCacheData(t);if(!this.OtherSymbolData.has(a))return[];var i=this.OtherSymbolData.get(a),r=a.toUpperCase();switch(t){case"CLOSE":case"C":return i.GetClose();case"VOL":case"V":return tr.IsSHSZ(r)?i.GetVol(100):i.GetVol();case"OPEN":case"O":return i.GetOpen();case"HIGH":case"H":return i.GetHigh();case"LOW":case"L":return i.GetLow();case"AMOUNT":case"AMO":return i.GetAmount();case"VOLINSTK":return i.GetPosition()}},this.GetIndexCacheData=function(t){if(!this.IndexData)return new Array;switch(t){case"INDEXA":return this.IndexData.GetAmount();case"INDEXC":return this.IndexData.GetClose();case"INDEXH":return this.IndexData.GetHigh();case"INDEXL":return this.IndexData.GetLow();case"INDEXO":return this.IndexData.GetOpen();case"INDEXV":return this.IndexData.GetVol();case"INDEXADV":return this.IndexData.GetUp();case"INDEXDEC":return this.IndexData.GetDown()}},this.GetBlockSymbol=function(t){var e=new Ai.default([["沪深A股","CNA.ci"],["创业板","GEM.ci"],["沪市A股","SHA.ci"],["中小板","SME.ci"],["深市A股","SZA.ci"]]);if(e.has(t))return e.get(t);if(!t)return null;var a=null,i=t.toUpperCase();if(i.indexOf(".SH")>0||i.indexOf(".SZ")>0){if(!new Mi.default(["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]).has(i))return null;a=t.replace(".SH",".sh"),a=t.replace(".SZ",".sz")}else t.indexOf(".CI")>0&&(a=t.replace(".CI",".ci"));return a},this.GetIndexIncreaseData=function(t){var e=null;if(t.IsSelfSymbol)e=this.Symbol;else{if(!t.Args||t.Args.length<=0){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+" Error: 参数不能为空")}e=t.Args[0].Value}var i=this.GetBlockSymbol(e);if(!i){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+" Error: can't support "+e)}var r=t.ID.toString()+"-UpCount-"+i,s=t.ID.toString()+"-DownCount-"+i;if(this.ExtendData.has(r)&&this.ExtendData.has(s))return this.Execute.RunNextJob();var o=this;if(this.DataType===vr.MINUTE_ID||this.DataType===vr.MULTIDAY_MINUTE_ID){var h=lr.CacheDomain+"/cache/analyze/increaseanalyze/"+i+".json";xi.Complier.Log("[JSSymbolData::GetIndexIncreaseData] minute Get url=",h),n.HttpRequest({url:h,type:"get",dataType:"json",async:!0,success:function(t){o.RecvMinuteIncreaseData(t,{UpKey:r,DownKey:s}),o.Execute.RunNextJob()},error:function(t){o.RecvError(t)}})}else this.DataType===vr.KLINE_ID&&G.IsDayPeriod(this.Period,!0)?(xi.Complier.Log("[JSSymbolData::GetIndexIncreaseData] K day Get url=",o.KLineApiUrl),n.HttpRequest({url:o.KLineApiUrl,data:{symbol:i,start:-1,count:o.MaxRequestDataCount,field:["up","down"]},type:"post",dataType:"json",async:!0,success:function(t){o.RecvHistoryIncreaseData(t,{UpKey:r,DownKey:s}),o.Execute.RunNextJob()},error:function(t){o.RecvError(t)}})):this.Execute.RunNextJob()},this.RecvHistoryIncreaseData=function(t,e){xi.Complier.Log("[JSSymbolData::RecvHistoryIncreaseData] recv data",t);var a=[],i=[];for(var r in t.data){var n=t.data[r],s=new H,o=new H;s.Date=n[0],s.Value=n[8],a[r]=s,o.Date=n[0],o.Value=n[9],i[r]=o}var h,l;h=this.SourceData?this.SourceData.GetFittingData(a):this.Data.GetFittingData(aryData),l=this.SourceData?this.SourceData.GetFittingData(i):this.Data.GetFittingData(aryData),this.ExtendData.set(e.UpKey,h),this.ExtendData.set(e.DownKey,l)},this.RecvMinuteIncreaseData=function(t,e){if(xi.Complier.Log("[JSSymbolData::RecvMinuteIncreaseData] recv data",t),t.minute){var a=t.minute;if(a.time&&a.up&&a.down){var i=[],r=[];if(this.IsBeforeData)for(var n=0,s=0;n<this.Data.Data.length;++n){i[n]=null,r[n]=null;var o=this.Data.Data[n];if(!o.Before){var h=o.DateTime;if(h){var l=h.split(" ");if(2==l.length){var u=parseInt(l[0]);u==t.date&&(i[n]=a.up[s],r[n]=a.down[s],++s)}}}}else for(var n=0,s=0;n<this.Data.Data.length;++n){i[n]=null,r[n]=null;var o=this.Data.Data[n],h=o.DateTime;if(h){var l=h.split(" ");if(2==l.length){var u=parseInt(l[0]);u==t.date&&(i[n]=a.up[s],r[n]=a.down[s],++s)}}}this.ExtendData.set(e.UpKey,i),this.ExtendData.set(e.DownKey,r)}}},this.GetIndexIncreaseCacheData=function(t,e,a){var i=this.GetBlockSymbol(e);i||this.Execute.ThrowUnexpectedNode(a,"不支持函数"+t+"("+e+")");var r;if("UPCOUNT"==t||"ADVANCE"==t?r=pr.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-UpCount-"+i:"DOWNCOUNT"!=t&&"DECLINE"!=t||(r=pr.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-DownCount-"+i),r&&this.ExtendData.has(r)||this.Execute.ThrowUnexpectedNode(a,"不支持函数"+t+"("+e+")"),this.DataType===vr.MINUTE_ID||this.DataType===vr.MULTIDAY_MINUTE_ID)return this.ExtendData.get(r);if(this.DataType===vr.KLINE_ID&&G.IsDayPeriod(this.Period,!0)){var n=this.ExtendData.get(r),s=new G;if(s.Data=n,s.Period=this.Period,s.Period>0){var o=s.GetPeriodSingleData(s.Period);s.Data=o}return s.GetValue()}return null},this.GetSymbolData=function(){if(this.Data)return this.Execute.RunNextJob();var t=this;if(this.DataType===vr.MINUTE_ID)return void n.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","minute","time","minutecount"],symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteData(e),t.Execute.RunNextJob()}});if(this.DataType===vr.MULTIDAY_MINUTE_ID)return void n.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMultiDayMinuteData(e),t.Execute.RunNextJob()}});if(G.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetSymbolData",Explain:"日线数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(G.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetSymbolData",Explain:"分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}},this.RecvHistroyData=function(t){xi.Complier.Log("[JSSymbolData::RecvHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);if(this.Data=new G,this.Data.DataType=0,this.Data.Data=e,this.SourceData=new G,this.SourceData.Data=e,this.Right>0){var a=this.Data.GetRightDate(this.Right);this.Data.Data=a}if(G.IsDayPeriod(this.Period,!1)){var i=this.Data.GetPeriodData(this.Period);this.Data.Data=i}this.Data.Right=this.Right,this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteHistroyData=function(t){xi.Complier.Log("[JSSymbolData::RecvMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.Data=new G,this.Data.DataType=1,this.Data.Data=e,this.SourceData=new G,this.SourceData.Data=e,G.IsMinutePeriod(this.Period,!1)){var a=this.Data.GetPeriodData(this.Period);this.Data.Data=a}this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteData=function(t){xi.Complier.Log("[JSSymbolData::RecvMinuteData] recv data",t);var e=this.JsonDataToMinuteData(t);this.Data=new G,this.Data.DataType=2,this.Data.Data=e,this.Name=t.stock[0].name},this.RecvMultiDayMinuteData=function(t){var e=this.JsonDataToMultiDayMinuteData(t);this.Data=new G,this.Data.DataType=2,this.Data.Data=e,this.Name=t.name},this.GetSymbolCacheData=function(t){if(!this.Data)return new Array;var e=this.Symbol.toUpperCase();switch(t){case"CLOSE":case"C":return this.Data.GetClose();case"VOL":case"V":return tr.IsSHSZ(e)?this.Data.GetVol(100):this.Data.GetVol();case"OPEN":case"O":return this.Data.GetOpen();case"HIGH":case"H":return this.Data.GetHigh();case"LOW":case"L":return this.Data.GetLow();case"AMOUNT":case"AMO":return this.Data.GetAmount();case"VOLINSTK":return this.Data.GetPosition()}},this.GetSymbolPeriodData=function(t){var e=Xa.GetPeriodInfo({Name:t.PeriodName}).Period,a={PeriodID:e,PeriodName:t.PeriodName};if(e==this.Period&&this.Execute.RunNextJob(),this.IsApiPeriod){if(this.PeriodData.has(t.PeriodName))return this.Execute.RunNextJob()}else if(G.IsDayPeriod(e,!0)){if(G.IsDayPeriod(this.Period,!0))return this.Execute.RunNextJob();a={PeriodID:0,PeriodName:"DAY"}}else{if(!G.IsMinutePeriod(e,!0))return this.Execute.RunNextJob();if(G.IsMinutePeriod(this.Period,!0))return this.Execute.RunNextJob();a={PeriodID:4,PeriodName:"MIN1"}}var i=this;if(this.NetworkFilter){var r={Name:"JSSymbolData::GetSymbolPeriodData",Explain:"跨周期数据",Request:{Data:{field:["symbol","name",t.ValueName],period:t.PeriodName,symbol:i.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){i.RecvSymbolPeriodData(t,a),i.Execute.RunNextJob()}),1==r.PreventDefault)return}if(G.IsMinutePeriod(e,!0))n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:i.Symbol,start:-1,count:i.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvSymbolPeriodData(t,a),i.Execute.RunNextJob()},error:function(t){i.RecvError(t)}});else{if(!G.IsDayPeriod(e,!0))return this.Execute.RunNextJob();n.HttpRequest({url:i.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:i.Symbol,start:-1,count:i.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvSymbolPeriodData(t,a),i.Execute.RunNextJob()},error:function(t){i.RecvError(t)}})}},this.RecvSymbolPeriodData=function(t,e){if(xi.Complier.Log("[JSSymbolData::RecvSymbolPeriodData] data, periodInfo ",t,e),G.IsDayPeriod(e.PeriodID,!0)){var a=this.JsonDataToHistoryData(t),i=new G;i.DataType=0,i.Data=a,i.Right=0,i.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,i)}else if(G.IsMinutePeriod(e.PeriodID,!0)){var a=this.JsonDataToMinuteHistoryData(t),r=new G;r.DataType=1,r.Data=a,r.Right=0,r.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,r)}},this.GetSymbolPeriodCacheData=function(t,e){var a=Xa.GetPeriodInfo({Name:e});if(this.Period==a.Period)return this.GetSymbolCacheData(t);var i=null;if(this.IsApiPeriod){var r=Xa.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>a.Order)return null;if(!this.PeriodData.has(e))return null;i=this.PeriodData.get(e),i=i.Data}else{var r=Xa.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>a.Order)return null;if(G.IsDayPeriod(a.Period,!0)&&G.IsMinutePeriod(this.Period,!0)){var n=this.PeriodData.get("DAY");i=0==a.Period?n.Data:n.GetPeriodData(a.Period)}else{var s=new G;if(s.Data=this.SourceData.Data,s.Period=this.Period,s.Right=this.Right,G.IsDayPeriod(a.Period,!0)&&s.Right>0){var o=s.GetRightData(s.Right);s.Data=o}i=s.GetPeriodData(a.Period)}}var h=this.Data.ConverPeriod(i,this.Period,a.Period),l=new G;l.Data=h;var u=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return l.GetClose();case"O":case"OPEN":return l.GetOpen();case"H":case"HIGH":return l.GetHigh();case"L":case"LOW":return l.GetLow();case"AMO":case"AMOUNT":return l.GetAmount();case"V":case"VOL":return tr.IsSHSZ(u)?l.GetVol(100):l.GetVol();case"VOLINSTK":return l.GetPosition();default:return null}},this.GetSymbolPeriodCacheData2=function(t,e,a){var i=Xa.GetPeriodInfo({Name:e});if(!i)return null;var r=Xa.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>i.Order)return null;var n;if(r.Period==i.Period)n=this.Data;else{var s;if(this.IsApiPeriod){if(!this.PeriodData.has(e))return null;s=this.PeriodData.get(e)}else if(G.IsMinutePeriod(r.Period,!0)&&G.IsDayPeriod(i.Period,!0)){var o=this.PeriodData.get("DAY");s=0==i.Period?o:o.GetPeriodData(i.Period)}else{var h=new G;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,G.IsDayPeriod(i.Period,!0)&&h.Right>0){var l=h.GetRightData(h.Right);h.Data=l}s=h.GetPeriodData(i.Period)}var u=this.Data.ConverPeriod(s,this.Period,i.Period),n=new G;n.Data=u}if(Wt.IsPlusNumber(a)){var d=new G,u=n.GetRef(a);d.Data=u,n=d}var c=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return n.GetClose();case"O":case"OPEN":return n.GetOpen();case"H":case"HIGH":return n.GetHigh();case"L":case"LOW":return n.GetLow();case"AMO":case"AMOUNT":return n.GetAmount();case"V":case"VOL":return tr.IsSHSZ(c)?n.GetVol(100):n.GetVol();case"VOLINSTK":return n.GetPosition();default:return null}},this.GetCurrBarsCount=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,a=e-1;a>=0;--a)t.push(a+1);return t},this.GetTotalTradeMinuteCount=function(){var t=ar.GetCoordinateData(this.Symbol);return t&&t.Count>0?t.Count-1:242},this.GetTotalBarsCount=function(){return this.Data.Data.length},this.GetIsLastBar=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,a=0;a<e;++a)a==e-1?t.push(1):t.push(0);return t},this.GetFinanceCacheData=function(t,e){var a=pr.GetFinnanceJobID(t);return a||this.Execute.ThrowUnexpectedNode(e,"不支持FINANCE("+t+")"),this.FinanceData.has(a)?this.FinanceData.get(a):[]},this.GetCompanyReleaseDate=function(t){if(this.FinanceData.has(t))return this.Execute.RunNextJob();var e=this;n.HttpRequest({url:e.RealtimeApiUrl,data:{field:["name","symbol","company.releasedate"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(a){e.RecvCompanyReleaseDate(t,a),e.Execute.RunNextJob()},error:function(t){e.RecvError(t)}})},this.RecvCompanyReleaseDate=function(t,e){if(e.stock&&1==e.stock.length){var a=e.stock[0].company.releasedate,i=new Date(a/1e4,a%1e4/100,a%100),r=[];for(var n in this.Data.Data){a=this.Data.Data[n].Date;var s=new Date(a/1e4,a%1e4/100,a%100),o=new H;o.Date=a,o.Value=parseInt((s-i)/864e5),r[n]=o}xi.Complier.Log("[JSSymbolData::RecvCompanyReleaseDate] jobID=",t,r);var h=new G;if(h.Data=r,h.Period=this.Period,h.Period>0){var l=h.GetPeriodSingleData(h.Period);h.Data=l}var u=h.GetValue();this.FinanceData.set(t,u)}},this.GetFinanceData=function(t){if(this.FinanceData.has(t))return this.Execute.RunNextJob();xi.Complier.Log("[JSSymbolData::GetFinanceData] jobID=",t);var e=this,a=["name","date","symbol"];switch(t){case pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA:case pr.JOB_DOWNLOAD_CAPITAL_DATA:case pr.JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA:case pr.JOB_DOWNLOAD_EXCHANGE_DATA:a.push("capital.a");break;case pr.JOB_DOWNLOAD_TOTAL_EQUITY_DATA:case pr.JOB_DOWNLOAD_MARKETVALUE_DATA:a.push("capital.total");break;case pr.JOB_DOWNLOAD_PER_U_PROFIT_DATA:a.push("finance.peruprofit");break;case pr.JOB_DOWNLOAD_PER_NETASSET_DATA:a.push("finance.pernetasset");break;case pr.JOB_DOWNLOAD_PER_C_RESERVE_DATA:a.push("finance.percreserve");break;case pr.JOB_DOWNLOAD_PER_S_EARNING_DATA:case pr.JOB_DOWNLOAD_PER_S_EARNING2_DATA:a.push("finance.persearning");break;case pr.JOB_DOWNLOAD_N_PROFIT_DATA:a.push("finance.nprofit");break;case pr.JOB_DOWNLOAD_AL_RATIO_DATA:a.push("finance.alratio");break;case pr.JOB_DOWNLOAD_PROFIT_YOY_DATA:a.push("finance.profityoy");break;case pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA:a.push("execdividend.quarter4");break;case pr.JOB_DOWNLOAD_SHAREHOLDER_DATA:a.push("shareholder")}if(this.NetworkFilter){var i={Name:"JSSymbolData::GetFinanceData",Explain:"财务数据",JobID:t,Request:{Url:e.StockHistoryDayApiUrl,Type:"POST",Data:{field:a,symbol:[this.Symbol],orderfield:"date"}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(a){e.RecvFinanceData(a,t),e.Execute.RunNextJob()}),1==i.PreventDefault)return}n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:a,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(a){e.RecvFinanceData(a,t),e.Execute.RunNextJob()}})},this.RecvFinanceData=function(t,e){switch(e){case pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA:case pr.JOB_DOWNLOAD_CAPITAL_DATA:case pr.JOB_DOWNLOAD_TOTAL_EQUITY_DATA:case pr.JOB_DOWNLOAD_PER_U_PROFIT_DATA:case pr.JOB_DOWNLOAD_PER_NETASSET_DATA:case pr.JOB_DOWNLOAD_PER_C_RESERVE_DATA:case pr.JOB_DOWNLOAD_PER_S_EARNING_DATA:case pr.JOB_DOWNLOAD_PER_S_EARNING2_DATA:case pr.JOB_DOWNLOAD_N_PROFIT_DATA:case pr.JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA:case pr.JOB_DOWNLOAD_MARKETVALUE_DATA:case pr.JOB_DOWNLOAD_EXCHANGE_DATA:case pr.JOB_DOWNLOAD_AL_RATIO_DATA:case pr.JOB_DOWNLOAD_PROFIT_YOY_DATA:case pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA:case pr.JOB_DOWNLOAD_SHAREHOLDER_DATA:return this.RecvStockDayData(t,e)}},this.RecvStockDayData=function(t,e){if(t.stock&&1==t.stock.length){var a=t.stock[0],i=!1,r=!1,n=new Array;for(var s in a.stockday){var o=a.stockday[s],h=new H;switch(h.Date=o.date,e){case pr.JOB_DOWNLOAD_CAPITAL_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.a))continue;h.Value=l.a/100,i=!0;break;case pr.JOB_DOWNLOAD_TOTAL_EQUITY_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.total))continue;h.Value=l.total/1e4,i=!0;break;case pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.a))continue;h.Value=l.a,i=!0;break;case pr.JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.a))continue;h.Value=l.a,r=!0;break;case pr.JOB_DOWNLOAD_MARKETVALUE_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.total))continue;h.Value=l.total,r=!0;break;case pr.JOB_DOWNLOAD_EXCHANGE_DATA:var l=o.capital;if(!l)continue;if(!this.IsNumber(l.a))continue;h.Value=l.a,i=!0;break;case pr.JOB_DOWNLOAD_PER_U_PROFIT_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.peruprofit))continue;h.Value=l.Finance.peruprofit,i=!0;break;case pr.JOB_DOWNLOAD_PER_NETASSET_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.pernetasset))continue;h.Value=l.Finance.pernetasset,i=!0;break;case pr.JOB_DOWNLOAD_PER_C_RESERVE_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.percreserve))continue;h.Value=l.Finance.percreserve,i=!0;break;case pr.JOB_DOWNLOAD_PER_S_EARNING_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.persearning))continue;h.Value=l.Finance.persearning,i=!0;break;case pr.JOB_DOWNLOAD_PER_S_EARNING2_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.persearning))continue;h.Value=l.Finance.persearning/l.Announcement.quarter*4,i=!0;break;case pr.JOB_DOWNLOAD_N_PROFIT_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.nprofit))continue;h.Value=l.Finance.nprofit,i=!0;break;case pr.JOB_DOWNLOAD_AL_RATIO_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.alratio))continue;h.Value=l.Finance.alratio,i=!0;break;case pr.JOB_DOWNLOAD_PROFIT_YOY_DATA:var l=this.JsonDataToFinance(o);if(!l)continue;if(!this.IsNumber(l.Finance.profityoy))continue;h.Value=l.Finance.profityoy,i=!0;break;case pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA:var l=o.execdividend;if(!l)continue;if(!this.IsNumber(l.quarter4))continue;h.Value=l.quarter4,i=!0;break;case pr.JOB_DOWNLOAD_SHAREHOLDER_DATA:var u=o.shareholder;if(!u||!this.IsNumber(u.count))continue;h.Value=u.count,i=!0;break;default:continue}n.push(h)}if(e==pr.JOB_DOWNLOAD_CAPITAL_DATA){var d=null;return n.length>0&&(d=parseInt(n[n.length-1].Value)),void this.FinanceData.set(e,d)}var c=void 0;i?c=this.SourceData?this.SourceData.GetFittingFinanceData(n):this.Data.GetFittingFinanceData(n):r?(c=this.SourceData?this.SourceData.GetFittingMarketValueData(n):this.Data.GetFittingMarketValueData(n),e==pr.JOB_DOWNLOAD_MARKETVALUE_DATA&&(this.MarketValue=c)):c=e==pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA?this.CalculateDividendYield(n):this.SourceData.GetFittingData(n);var D=new G;if(D.Data=c,D.Period=this.Period,D.Period>0){var m=D.GetPeriodSingleData(D.Period);D.Data=m}if(e==pr.JOB_DOWNLOAD_EXCHANGE_DATA)for(var C in this.Data.Data)D.Data[C]&&(this.IsNumber(D.Data[C].Value)&&0!=D.Data[C].Value?D.Data[C].Value=this.Data.Data[C].Vol/D.Data[C].Value*100:D.Data[C].Value=1);var f=D.GetValue();this.FinanceData.set(e,f)}},this.CalculateDividendYield=function(t){var e=[];if(!this.MarketValue)return e;for(var a=0,i=0;a<this.Data.Data.length;++a){var r=this.Data.Data[a],n=this.MarketValue[a];if(r&&n){var s=new H;if(s.Date=r.Date,s.Value=0,i+1<t.length&&t[i].Date<r.Date&&t[i+1].Date<=r.Date)++i,--a;else{if(i<t.length){var o=t[i],h=o.Date+1e4;r.Date>=o.Date&&r.Date<=h&&this.IsDivideNumber(n.Value)&&this.IsNumber(o.Value)&&(s.Value=o.Value/n.Value*100)}e.push(s)}}}return e},this.GetMarginCacheData=function(t,e){var a=pr.GetMarginJobID(t);return a||this.Execute.ThrowUnexpectedNode(e,"不支持MARGIN("+t+")"),this.MarginData.has(a)?this.MarginData.get(a):[]},this.GetMarginData=function(t){if(this.MarginData.has(t))return this.Execute.RunNextJob();xi.Complier.Log("[JSSymbolData::GetMarginData] jobID=",t);var e=this,a=["name","date","symbol"];switch(t){case pr.JOB_DOWNLOAD_MARGIN_BALANCE:a.push("margin.balance");break;case pr.JOB_DOWNLOAD_MARGIN_RATE:a.push("margin.rate");break;case pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case pr.JOB_DOWNLOAD_MARGIN_BUY_NET:a.push("margin.buy");break;case pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case pr.JOB_DOWNLOAD_MARGIN_SELL_NET:a.push("margin.sell")}n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:a,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(a){e.RecvMarginData(a,t),e.Execute.RunNextJob()}})},this.RecvMarginData=function(t,e){if(xi.Complier.Log(t),t.stock&&1==t.stock.length){var a=t.stock[0],i=new Array,r=[],n=[],s=[];for(var o in a.stockday){var h=a.stockday[o],l=h.margin;if(l){var u=new H;switch(u.Date=h.date,e){case pr.JOB_DOWNLOAD_MARGIN_BALANCE:if(!this.IsNumber(l.balance))continue;u.Value=l.balance,i.push(u);break;case pr.JOB_DOWNLOAD_MARGIN_RATE:if(!this.IsNumber(l.rate))continue;u.Value=l.rate,i.push(u);break;case pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case pr.JOB_DOWNLOAD_MARGIN_BUY_NET:var d=l.buy;if(!d)continue;if(!(this.IsNumber(d.balance)&&this.IsNumber(d.amount)&&this.IsNumber(d.repay)&&this.IsNumber(d.net)))continue;u.Value=d.balance;var c=new H;c.Date=h.date,c.Value=d.amount;var D=new H;D.Date=h.date,D.Value=d.repay;var m=new H;m.Date=h.date,m.Value=d.net,i.push(u),r.push(c),n.push(D),s.push(m);break;case pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case pr.JOB_DOWNLOAD_MARGIN_SELL_NET:var C=l.sell;if(!C)continue;if(!(this.IsNumber(C.balance)&&this.IsNumber(C.volume)&&this.IsNumber(C.repay)&&this.IsNumber(C.net)))continue;u.Value=d.balance;var c=new H;c.Date=h.date,c.Value=d.volume;var D=new H;D.Date=h.date,D.Value=d.repay;var m=new H;m.Date=h.date,m.Value=d.net,i.push(u),r.push(c),n.push(D),s.push(m);break;default:continue}}}var f=[];e===pr.JOB_DOWNLOAD_MARGIN_BALANCE||e===pr.JOB_DOWNLOAD_MARGIN_RATE?f.push({JobID:e,Data:i}):e===pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE||e===pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT||e===pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY||e===pr.JOB_DOWNLOAD_MARGIN_BUY_NET?(f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE,Data:i}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT,Data:r}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY,Data:n}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_BUY_NET,Data:s})):e!==pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE&&e!==pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME&&e!==pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY&&e!==pr.JOB_DOWNLOAD_MARGIN_SELL_NET||(f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE,Data:i}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME,Data:r}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY,Data:n}),f.push({JobID:pr.JOB_DOWNLOAD_MARGIN_SELL_NET,Data:s}));for(var p in f){var v=this.SourceData.GetFittingData(f[p].Data),S=new G;if(S.Data=v,S.Period=this.Period,S.Period>0){var T=S.GetPeriodSingleData(S.Period);S.Data=T}var M=S.GetValue();this.MarginData.set(f[p].JobID,M)}}},this.GetNewsAnalysisCacheData=function(t,e){var a=pr.GetNewsAnalysisID(t);return a||this.Execute.ThrowUnexpectedNode(e,"不支持NEWS("+t+")"),this.NewsAnalysisData.has(a)?this.NewsAnalysisData.get(a):[]},this.GetHKToSHSZData=function(t){var e=t.Args,a=this.Symbol;if(e.length>0){var i=e[0];if(i.Type==mr.Literal)a=i.Value;else if(i.Type==mr.Identifier){var r=!1;for(var n in this.Arguments){var s=this.Arguments[n];if(s.Name==i.Name){a=s.Value,r=!0;break}}if(!r){var o=t.Token;this.Execute.ErrorHandler.ThrowError(o.Index,o.Line,0,"HK2SHSZ() Error: can't read "+i.Name)}}}t.Symbol=a,1==a||2==a||3==a?this.GetHKToSHSZMarketData(a,t):this.GetHKToSHSZStockData(a,t)},this.GetHKToSHSZStockData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var a=t.toLowerCase(),i=this,r=this.HKToSHSZApiUrl[3]+"/"+a+".json";n.HttpRequest({url:r,type:"get",dataType:"json",async:!0,success:function(t){i.RecvHKToSHSZStockData(t,e),i.Execute.RunNextJob()},error:function(t){console.warn("[JSSymbolData::GetHKToSHSZStockData] request url="+r+" failed. error="+t.status),i.RecvHKToSHSZStockData(null,e),i.Execute.RunNextJob()}})},this.RecvHKToSHSZStockData=function(t,e){if(t){for(var a=t.symbol,i=a.toUpperCase(),r=[],n=0;n<t.date.length;++n){var s=new H;s.Date=t.date[n],s.Value=t.vol[n],r.push(s)}var o=this.Data.GetFittingData(r),h=new G;if(h.Data=o,h.Period=this.Period,h.Period>0){var l=h.GetPeriodSingleData(h.Period);h.Data=l}var t=h.GetValue();this.HKToSHSZData.set(i,t)}},this.GetHKToSHSZMarketData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var a,i=0;this.DataType===vr.MINUTE_ID?i=1:this.DataType==vr.MULTIDAY_MINUTE_ID?i=2:this.Period<=3&&(i=0),a=this.HKToSHSZApiUrl[i];var r=this;xi.Complier.Log("[JSSymbolData::GetHKToSHSZMarketData] code="+t+" url="+a+", dataType="+i),2===i?n.HttpRequest({url:a,data:{symbol:this.Symbol,daycount:this.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){r.RecvMulitMinuteHKToSHSZData(t,e),r.Execute.RunNextJob()}}):n.HttpRequest({url:a,type:"get",dataType:"json",async:!0,success:function(t){0==i?r.RecvHKToSHSZData(t,e):1==i&&r.RecvMinuteHKToSHSZData(t,e),r.Execute.RunNextJob()}})},this.RecvMinuteHKToSHSZData=function(t,e){var a=[],i=[],r=[];if(this.IsBeforeData){for(s in this.SourceData.Data){var n=this.SourceData.Data[s];if(!n.Before)break;a.push(null),i.push(null),r.push(null)}for(var s=0;s<t.time.length;++s){if(925!==t.time[s]){var o=t.hk2sh[s],h=t.hk2sz[s],l=o+h;a.push(l),i.push(o),r.push(h)}}}else for(var s=0;s<t.time.length;++s){var o=(t.time[s],t.hk2sh[s]),h=t.hk2sz[s],l=o+h;a.push(l),i.push(o),r.push(h)}var u=[{Data:a,ID:1},{Data:i,ID:2},{Data:r,ID:3}];for(var s in u){var n=u[s];this.HKToSHSZData.set(n.ID,n.Data)}},this.RecvHKToSHSZData=function(t,e){for(var a=[],i=[],r=[],n=0;n<t.date.length;++n){var s=t.date[n],o=1e6*t.hk2sh[n],h=1e6*t.hk2sz[n],l=o+h,u=new H;u.Date=s,u.Value=l;var d=new H;d.Date=s,d.Value=o;var c=new H;c.Date=s,c.Value=h,a.push(u),i.push(d),r.push(c)}var D=[{Data:a,ID:1},{Data:i,ID:2},{Data:r,ID:3}];for(var m in D){var C=this.Data.GetFittingData(D[m].Data),f=new G;if(f.Data=C,f.Period=this.Period,f.Period>0){var p=f.GetPeriodSingleData(f.Period);f.Data=p}var v=f.GetValue();this.HKToSHSZData.set(D[m].ID,v)}},this.RecvMulitMinuteHKToSHSZData=function(t,e){if(t.data&&!(t.data.length<=0)){for(var a=[],i=[],r=[],n=0,s=0;n<this.Data.Data.length&&s<t.data.length;){a[n]=null,i[n]=null,r[n]=null;var o=this.Data.Data[n],h=o.DateTime;if(h){var l=h.split(" ");if(2==l.length){var u=parseInt(l[0]),d=t.data[s];if(!d.minute||d.minute.length<=0)++s;else if(d.date>u)++n;else if(d.date<u)++s;else{for(var c in d.minute){var D=d.minute[c],m=D[1],C=D[2],f=m+C;a[n]=f,i[n]=m,r[n]=C,++n}++s}}else++n}else++n}var p=[{Data:a,ID:1},{Data:i,ID:2},{Data:r,ID:3}];for(var n in p){var o=p[n];this.HKToSHSZData.set(o.ID,o.Data)}}},this.GetHKToSHSZCacheData=function(t,e){return t||(t=this.Symbol),"string"==typeof t&&(t=t.toUpperCase()),this.HKToSHSZData.has(t)?this.HKToSHSZData.get(t):[]},this.GetNewsAnalysisData=function(t){if(this.NewsAnalysisData.has(t))return this.Execute.RunNextJob();var e=this,a=new Ai.default([[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE,"negative"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH,"research"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT,"interact"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,"holderchange"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,"holderchange"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER,"trustholder"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING,"Blocktrading"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS,"companynews"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS,"topmanagers"],[pr.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE,"Pledge"]]);if(!a.has(t))return void this.Execute.RunNextJob();var i=a.get(t),r=this.StockNewsAnalysisApiUrl+"/"+i+"/"+this.Symbol+".json";n.HttpRequest({url:r,type:"get",dataType:"json",async:!0,success:function(a){e.RecvNewsAnalysisData(a,t),e.Execute.RunNextJob()},error:function(a,i){e.RecvNewsAnalysisDataError(a,i,t),e.Execute.RunNextJob()}})},this.RecvNewsAnalysisDataError=function(t,e,a){xi.Complier.Log("[JSSymbolData::RecvNewsAnalysisDataError] ajax error.",t.status);for(var i=[],r=0;r<this.Data.Data.length;++r){var n=new H;n.Date=this.Data.Data[r].Date,n.Value=0,i.push(n)}var s=new G;s.Data=i,this.NewsAnalysisData.set(a,s.GetValue())},this.RecvNewsAnalysisData=function(t,e){if(t.data&&t.date&&!(t.data.length<=0||t.data.length!=t.date.length))if(xi.Complier.Log("[JSSymbolData::RecvNewsAnalysisData] jobID",e,t.update),e==pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE||e==pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2){for(var a=[],i=[],r=0;r<t.data.length;++r){var n=new H;n.Date=t.date[r],n.Value=t.data[r],this.IsNumber(n.Value)&&a.push(n),r<t.data2.length&&(n=new H,n.Date=t.date[r],n.Value=t.data2[r],this.IsNumber(n.Value)&&i.push(n))}var s=this.Data.GetFittingData2(a,0),o=new G;o.Data=s,this.NewsAnalysisData.set(pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,o.GetValue()),s=this.Data.GetFittingData2(i,0),o=new G,o.Data=s,this.NewsAnalysisData.set(pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,o.GetValue())}else{for(var a=[],r=0;r<t.data.length;++r){var n=new H;n.Date=t.date[r],n.Value=t.data[r],a.push(n)}var h=this.Data.GetFittingData2(a,0),o=new G;o.Data=h,this.NewsAnalysisData.set(e,o.GetValue())}},this.GetSectionFinanceData=function(t){var e=t.SF[0],a=t.SF[1].Period;if(this.SectionFinanceData.has(e))return this.Execute.RunNextJob();xi.Complier.Log("[JSSymbolData::GetSectionFinanceData] "+a.Year+"-"+a.Quarter);var i="announcement"+a.Quarter,r=this,s=["name","date","symbol",i,"finance"+a.Quarter],o=[i+".year","int32","eq",a.Year.toString()];n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:s,symbol:[this.Symbol],condition:[{item:o}]},type:"post",dataType:"json",async:!0,success:function(e){r.RecvSectionFinanceData(e,t),r.Execute.RunNextJob()}})},this.RecvSectionFinanceData=function(t,e){if(t.stock&&1==t.stock.length){var a=t.stock[0];if(a.stockday&&!(a.stockday.length<=0)){var i=a.stockday[0],r=e.SF[1].Period,n=null;if(1===r.Quarter?n=i.finance1:2===r.Quarter?n=i.finance2:3===r.Quarter?n=i.finance3:4===r.Quarter&&(n=i.finance4),n){var t=new Ai.default([[pr.JOB_DOWNLOAD_SECTION_F_01,n.currentassets],[pr.JOB_DOWNLOAD_SECTION_F_02,n.monetaryfunds],[pr.JOB_DOWNLOAD_SECTION_F_03,n.inventory],[pr.JOB_DOWNLOAD_SECTION_F_04,n.currentliabilities],[pr.JOB_DOWNLOAD_SECTION_F_05,n.ncurrentliabilities],[pr.JOB_DOWNLOAD_SECTION_F_06,n.expenses3],[pr.JOB_DOWNLOAD_SECTION_F_07,n.investmentincome],[pr.JOB_DOWNLOAD_SECTION_F_08,n.pcnprofit],[pr.JOB_DOWNLOAD_SECTION_F_09,n.nnetprofit],[pr.JOB_DOWNLOAD_SECTION_F_10,n.npersearning],[pr.JOB_DOWNLOAD_SECTION_F_11,n.woewa],[pr.JOB_DOWNLOAD_SECTION_F_12,n.inprocess],[pr.JOB_DOWNLOAD_SECTION_F_13,n.accdepreciation],[pr.JOB_DOWNLOAD_SECTION_F_14,n.mholderprofit],[pr.JOB_DOWNLOAD_SECTION_F_15,n.lossexchange],[pr.JOB_DOWNLOAD_SECTION_F_16,n.baddebts],[pr.JOB_DOWNLOAD_SECTION_F_17,n.fixedassets],[pr.JOB_DOWNLOAD_SECTION_F_18,n.curdepreciation],[pr.JOB_DOWNLOAD_SECTION_F_19,n.orevenues],[pr.JOB_DOWNLOAD_SECTION_F_20,n.moprofit],[pr.JOB_DOWNLOAD_SECTION_F_21,n.oprofit],[pr.JOB_DOWNLOAD_SECTION_F_22,n.nprofit],[pr.JOB_DOWNLOAD_SECTION_F_23,n.areceivable],[pr.JOB_DOWNLOAD_SECTION_F_24,n.financialcost],[pr.JOB_DOWNLOAD_SECTION_F_25,n.ccfo],[pr.JOB_DOWNLOAD_SECTION_F_26,n.totalassets],[pr.JOB_DOWNLOAD_SECTION_F_27,n.totalliabilities],[pr.JOB_DOWNLOAD_SECTION_F_28,n.totalownersequity],[pr.JOB_DOWNLOAD_SECTION_F_29,n.grossmargin],[pr.JOB_DOWNLOAD_SECTION_F_30,n.percreserve],[pr.JOB_DOWNLOAD_SECTION_F_31,n.peruprofit],[pr.JOB_DOWNLOAD_SECTION_F_32,n.persearning],[pr.JOB_DOWNLOAD_SECTION_F_33,n.pernetasset],[pr.JOB_DOWNLOAD_SECTION_F_34,n.perccfo],[pr.JOB_DOWNLOAD_SECTION_F_38,n.alratio],[pr.JOB_DOWNLOAD_SECTION_F_39,n.profityoy]]);4===r.Quarter&&(t.set(pr.JOB_DOWNLOAD_SECTION_F_35,n.nnprofitincrease),t.set(pr.JOB_DOWNLOAD_SECTION_F_36,n.nnprofitspeed),t.set(pr.JOB_DOWNLOAD_SECTION_F_37,n.nprofitincrease));var s=e.SF[0];this.SectionFinanceData.set(s,t)}}}},this.GetSectionFinanceCacheData=function(t,e,a,i){var r=pr.GetSectionReportPeriod(t,e);r||this.Execute.ThrowUnexpectedNode(i,"不支持FS("+t+", "+e+", '"+a+"') 报告期错误");var n=pr.GetSectionFinanceID(a);n||this.Execute.ThrowUnexpectedNode(i,"不支持FS("+t+", "+e+",'"+a+"') 财务数据字段名称错误");var s=r.Year+"-"+r.Quarter;if(!this.SectionFinanceData.has(s)&&!this.ThrowSFPeirod.has(s)){this.ThrowSFPeirod.add(s);var o={ID:pr.JOB_DOWNLOAD_SECTION_SF,SF:[s,{Period:r,Fields:new Mi.default([n])}]};this.Execute.ThrowDownloadSF(i,o,"FS("+t+", "+e+", '"+a+"') 动态下载")}if(!this.SectionFinanceData.has(s))return this.Execute.ThrowUnexpectedNode(i,"不支持FS("+t+", "+e+", '"+a+"') 没有这期财务数据");var h=this.SectionFinanceData.get(s);return h.has(n)||this.Execute.ThrowUnexpectedNode(i,"不支持FS("+t+", "+e+", '"+a+"') 没有这期财务数据字段"),h.get(n)},this.DownloadCustomVariantData=function(t){var e=lr.CustomVariant.Data.get(t.Name);if(!e||!e.Download)return this.Execute.RunNextJob();var a=this,i={Name:t.Name,Symbol:this.Symbol,KData:this.Data,Period:this.Period,Right:this.Right,Success:function(){a.Execute.RunNextJob()}};e.Download(i)},this.DownloadCustomFunctionData=function(t){var e=lr.CustomFunction.Data.get(t.Name);if(!e||!e.Download)return this.Execute.RunNextJob();var a=[];for(var i in t.Args){var r=t.Args[i];if(r.Type==mr.Literal)a.push(r.Value);else{if(r.Type!=mr.Identifier)return this.Execute.RunNextJob();var n=!1;for(var s in this.Arguments){var o=this.Arguments[s];if(o.Name==r.Name){a.push(o.Value),n=!0;break}}n||a.push(null)}}var h=this,l={Symbol:this.Symbol,KData:this.Data,Period:this.Period,Right:this.Right,Args:a,Name:t.Name,Token:t.Token,ThrowError:function(e){var a=t.Token;h.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,e)},Success:function(){h.Execute.RunNextJob()}};e.Download(l)},this.DownloadCustomAPIData=function(t){if(!this.NetworkFilter)return this.Execute.RunNextJob();var e=[];for(var a in t.Args){var i=t.Args[a];if(i.Type==mr.Literal)e.push(i.Value);else{if(i.Type!=mr.Identifier)return this.Execute.RunNextJob();var r=!1;for(var n in this.Arguments){var s=this.Arguments[n];if(s.Name==i.Name){e.push(s.Value),r=!0;break}}if(!r){var o=t.Token;this.Execute.ErrorHandler.ThrowError(o.Index,o.Line,0,"LoadAPIData() Error: can't read "+i.Name)}}}var h=this,l={Name:"JSSymbolData::DownloadCustomAPIData",Explain:"下载自定义api数据",Period:this.Period,Right:this.Right,Symbol:this.Symbol,KData:this.Data,Cache:this.CustomAPIData,Args:e,Self:this,PreventDefault:!1};this.NetworkFilter(l,function(t){h.RecvCustomAPIData(t,e),h.Execute.RunNextJob()}),1!=l.PreventDefault&&this.Execute.RunNextJob()},this.RecvCustomAPIData=function(t,e){t&&(1==t.Type?this.RecvCustomAPISingleData(t,e):this.RecvCustomAPIGroupData(t,e))},this.RecvCustomAPIGroupData=function(t,e){if(t&&t.data){var a=t.data,i=this.GenerateCustomAPIKey(e);if(G.IsMinutePeriod(this.Period,!0)){if(!a.date||!a.time)return;var r=a.date;a.time;for(var n in a)if("date"!=n&&"time"!=n)var s=a[n]}else if(G.IsDayPeriod(this.Period,!0)){if(!a.date)return;var r=a.date,o={__Type__:"Object"};for(var n in a)if("date"!=n){var s=a[n];if(Array.isArray(s)){var h=this.FittingCustomAPIArray(s,r);o[n]=h}else this.IsNumber(s)&&(o[n]=s)}this.CustomAPIData.set(i,o)}}},this.RecvCustomAPISingleData=function(t,e){var a=t.data,i=this.GenerateCustomAPIKey(e);if(G.IsMinutePeriod(this.Period,!0)){if(!a.date||!a.time)return;var r=a.date;a.time;for(var n in a)if("date"!=n&&"time"!=n){a[n]}}else if(G.IsDayPeriod(this.Period,!0)){if(!a.date)return;var r=a.date,s=a.value,o=null;o=Array.isArray(s)?1==t.DataType?this.FittingCustomAPIFinanceArray(s,r):this.FittingCustomAPIArray(s,r):s,this.CustomAPIData.set(i,o)}},this.FittingCustomAPIFinanceArray=function(t,e,a){var i=this.Data,r=[];for(var n in t){var s=t[n],o=new H;o.Date=e[n],a&&n<a.length&&(o.Time=a[n]),o.Value=s,r.push(o)}var h;if(G.IsDayPeriod(this.Period,!0))h=i.GetFittingFinanceData(r);else{if(!G.IsMinutePeriod(this.Period,!0))return null;h=i.GetMinuteFittingFinanceData(r)}var l=new G;return l.Data=h,l.GetValue()},this.FittingCustomAPIArray=function(t,e,a){var i=this.Data,r=[];for(var n in t){var s=t[n],o=new H;o.Date=e[n],a&&n<a.length&&(o.Time=a[n]),o.Value=s,r.push(o)}var h;if(G.IsDayPeriod(this.Period,!0))h=i.GetFittingData(r);else{if(!G.IsMinutePeriod(this.Period,!0))return null;h=i.GetMinuteFittingData(r)}var l=new G;return l.Data=h,l.GetValue()},this.GenerateCustomAPIKey=function(t){if(t.length<=0)return"__12_EMPTY_ARGS__";var e="";for(var a in t)e.length>0&&(e+=","),e+=t[a];return e},this.GetCustomApiData=function(t){var e=this.GenerateCustomAPIKey(t);return this.CustomAPIData.has(e)?this.CustomAPIData.get(e):(xi.Complier.Log("[JSSymbolData::GetCustomApiData] can't find api data key=["+e+"]"),null)},this.ReadArgumentValue=function(t,e){if(e.Name=t.Name,t.Type==mr.Literal)return e.Value=t.Value,!0;if(t.Type==mr.Identifier){var a=!1;for(var i in this.Arguments){var r=this.Arguments[i];if(r.Name==t.Name)return e.Value=r.Value,a=!0,!0}if(!a)return e.Error="can't read "+t.Name,!1}return e.Error="can't read "+t.Name+", type error.",!1},this.ReadIndexFunctionValue=function(t,e){var a={};if("object"===(void 0===t?"undefined":(0,Si.default)(t))){if(!this.ReadArgumentValue(t,a))return e.Error=a.Error,!1}else a.Value=t;var i=a.Value.indexOf(".");if(-1!=i){e.Name=a.Value.slice(0,i);var r=a.Value.indexOf("#",i+1);-1!=r?(e.Out=a.Value.slice(i+1,r),e.Period=a.Value.slice(r+1)):e.Out=a.Value.slice(i+1)}else{var r=a.Value.indexOf("#");-1!=r?(e.Name=a.Value.slice(0,r),e.Period=a.Value.slice(r+1)):e.Name=a.Value}var n=new Ai.default([["DAY",0],["WEEK",1],["MONTH",2],["SEASON",9],["YEAR",3],["MIN1",4],["MIN5",5],["MIN15",6],["MIN30",7],["MIN60",8]]);if(e.Period){if(!n.has(e.Period))return e.Error=e.Period+", 周期错误",!1;e.PeriodID=n.get(e.Period)}return!0},this.ReadSymbolArgumentValue=function(t,e){var a={};if("object"===(void 0===t?"undefined":(0,Si.default)(t))){if(!this.ReadArgumentValue(t,a))return e.Error=a.Error,!1}else a.Value=t;return""==a.Value&&(a.Value=this.Symbol),a.Value.indexOf(".SH")>0?e.Symbol=a.Value.replace(".SH",".sh"):a.Value.indexOf(".SZ")>0?e.Symbol=a.Value.replace(".SZ",".sz"):e.Symbol=a.Value,!0},this.ReadIndexArgumentValue=function(t,e){e.Args=[];for(var a in e.SytemIndex.Args){var i=e.SytemIndex.Args[a];e.Args.push({Value:i.Value,Name:i.Name})}if(t.length>2&&e.SytemIndex.Args&&e.SytemIndex.Args.length>0)for(var a=2,r=0;a<t.length&&r<e.SytemIndex.Args.length;++a,++r){var n={},i=t[a];if("object"===(void 0===i?"undefined":(0,Si.default)(i))){if(!this.ReadArgumentValue(i,n))return e.Error=n.Error,!1}else n.Value=i;e.Args[r].Value=n.Value}return!0},this.GenerateScriptIndexKey=function(t){var e="",a=t.Args;for(var i in a){e.length>0&&(e+=",");e+=a[i].Value.toString()}var r=t.Out?t.Out:"ALL";return"("+t.Symbol+","+t.PeriodID+"), "+t.Name+"("+e+")=>"+r},this.CallScriptIndex=function(t){var e=this;if(!(t.Args&&t.Args.length>=2)){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() Error: "+t.FunctionName+" 参数错误")}var i={Job:t,PeriodID:this.Period};if(!this.ReadSymbolArgumentValue(t.Args[0],i)){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() Error: "+i.Error)}if(!this.ReadIndexFunctionValue(t.Args[1],i)){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() Error: "+i.Error)}var r=new o,n=r.Get(i.Name);if(!n){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() "+i.Name+" 指标不存在")}if(i.SytemIndex=n,!this.ReadIndexArgumentValue(t.Args,i)){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() "+i.Name+" 指标参数错误 : "+i.Error+" ")}xi.Complier.Log("[JSSymbolData::CallScriptIndex] call script index",i);var s=null;if(this.Data&&this.Data.Data.length>0){var h=this.Data.Data[0],l=this.Data.Data[this.Data.Data.length-1];s={Start:{Date:h.Date,Time:h.Time},End:{Date:l.Date,Time:l.Time}}}var u={HQDataType:this.DataType,Symbol:i.Symbol,Name:"",Right:this.Right,Period:i.PeriodID,Data:null,SourceData:null,Callback:function(t,a,i){e.RecvScriptIndexData(t,a,i),e.Execute.RunNextJob()},CallbackParam:i,Async:!0,MaxRequestDataCount:this.MaxRequestDataCount+60,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount+2,Arguments:i.Args,IsBeforeData:this.IsBeforeData,NetworkFilter:this.NetworkFilter,KLineRange:s};ei.Execute(i.SytemIndex.Script,u,function(t,a){e.ExecuteScriptIndexError(t,a)})},this.RecvScriptIndexData=function(t,e,a){var i=this.GenerateScriptIndexKey(e);xi.Complier.Log("[JSSymbolData::RecvScriptIndexData] ",t,e,a,i);var r=a.Data.Data,n=t;if(e.Out){for(var s in t){var o=t[s];if(o.Name==e.Out){n=[o];break}}var h=this.Data.FitKLineIndex(r,n,this.Period,e.PeriodID);this.ScriptIndexOutData.set(i,h[0].Data)}else{var h=this.Data.FitKLineIndex(r,n,this.Period,e.PeriodID),l={__Type__:"Object"};for(var s in h){var o=h[s];l[o.Name]=o.Data}this.ScriptIndexOutData.set(i,l)}},this.ExecuteScriptIndexError=function(t,e){var a=e.Job.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,"CallScriptIndex() "+e.Name+" 指标执行错误 : "+t+" ")},this.GetScriptIndexOutData=function(t,e){var a={PeriodID:this.Period};this.ReadSymbolArgumentValue(t[0],a)||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 股票代码错误: "+a.Error),this.ReadIndexFunctionValue(t[1],a)||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 指标错误: "+a.Error);var i=new o,r=i.Get(a.Name);r||this.Execute.ThrowUnexpectedNode(e,"STKINDI() 指标错误: "+a.Name+" 指标不存在"),a.SytemIndex=r,this.ReadIndexArgumentValue(t,a)||this.Execute.ThrowUnexpectedNode(e,"STKINDI()  指标参数错误: "+a.Error);var n=this.GenerateScriptIndexKey(a);return this.ScriptIndexOutData.has(n)?this.ScriptIndexOutData.get(n):null},this.JsonDataToHistoryData=function(t){for(var e=t.data,a=new Array,i=0;i<e.length;++i){var r=new Y;r.Date=e[i][0],r.Open=e[i][2],r.YClose=e[i][1],r.Close=e[i][5],r.High=e[i][3],r.Low=e[i][4],r.Vol=e[i][6],r.Amount=e[i][7],e[i].length>8&&(r.Up=e[i][8]),e[i].length>9&&(r.Down=e[i][9]),e[i].length>10&&(r.Stop=e[i][10]),e[i].length>11&&(r.Unchanged=e[i][11]),isNaN(r.Open)||r.Open<=0||a.push(r)}return a},this.JsonDataToMinuteHistoryData=function(t){for(var e=t.data,a=new Array,i=0;i<e.length;++i){var r=new Y;r.Date=e[i][0],r.Open=e[i][2],r.YClose=e[i][1],r.Close=e[i][5],r.High=e[i][3],r.Low=e[i][4],r.Vol=e[i][6],r.Amount=e[i][7],r.Time=e[i][8],a.push(r)}for(var n=0;n<a.length;++n){var s=a[n];if(null==s&&coninue,isNaN(s.Open)||s.Open<=0||isNaN(s.High)||s.High<=0||isNaN(s.Low)||s.Low<=0||isNaN(s.Close)||s.Close<=0||isNaN(s.YClose)||s.YClose<=0)if(0==n)s.YClose>0&&(s.Open=s.YClose,s.High=s.YClose,s.Low=s.YClose,s.Close=s.YClose);else for(var o=n-1;o>=0;--o){var h=a[o];if(null==h&&coninue,h.Open>0&&h.High>0&&h.Low>0&&h.Close>0){s.YClose<=0&&(s.YClose=h.Close),s.Open=h.Open,s.High=h.High,s.Low=h.Low,s.Close=h.Close;break}}}return a},this.JsonDataToMinuteData=function(t){var e=new Array;for(var a in t.stock[0].minute){var i=t.stock[0].minute[a],r=new B;r.Close=i.price,r.Open=i.open,r.High=i.high,r.Low=i.low,r.Vol=i.vol,r.Amount=i.amount,r.DateTime=0==a?t.stock[0].date.toString()+" 0925":t.stock[0].date.toString()+" "+i.time.toString(),r.Date=t.stock[0].date,r.Time=i.time,r.Increase=i.increase,r.Risefall=i.risefall,r.AvPrice=i.avprice,e[a]=r}return e},this.JsonDataToMultiDayMinuteData=function(t){var e=t.symbol,a=e.toUpperCase(),i=tr.IsSHSZ(a),r=(tr.IsChinaFutures(a),[]);for(var n in t.data){var s=[],o=t.data[n],h=o.date,l=o.yclose,u=l,d=null;for(var c in o.minute){var D=o.minute[c];D[2]&&(u=D[2]);var m=new B;m.Close=D[2],m.Open=D[1],m.High=D[3],m.Low=D[4],m.Vol=D[5]/100,m.Amount=D[6],7<D.length&&D[7]>0&&(m.AvPrice=D[7],d=D[7]),m.DateTime=h.toString()+" "+D[0].toString(),m.Date=h,m.Time=D[0],m.Close||(m.Close=u,m.Open=m.High=m.Low=m.Close),!m.AvPrice&&d&&(m.AvPrice=d),m.Close&&l?m.Increase=(m.Close-l)/l*100:m.Increase=null,0==c&&(i&&(m.DateTime=h.toString()+" 0925"),m.IsFristData=!0),m.Open<=0&&(m.Open=null),m.Close<=0&&(m.Close=null),m.AvPrice<=0&&(m.AvPrice=null),m.High<=0&&(m.High=null),m.Low<=0&&(m.Low=null),m.AvPrice<=0&&(m.AvPrice=null),s[c]=m}var C=new G;C.Data=s,C.YClose=l,C.Close=o.close,C.Date=h,r.push(C)}for(var s=[],n=r.length-1;n>=0;--n){var m=r[n];for(var c in m.Data)s.push(m.Data[c])}return s},this.CODELIKE=function(t){return this.Symbol&&0==this.Symbol.indexOf(t)?1:0},this.NAMELIKE=function(t){return this.Name&&0==this.Name.indexOf(t)?1:0},this.SETCODE=function(){return this.Symbol.indexOf(".sh")?1:(this.Symbol.indexOf(".sz"),0)},this.GetSymbol=function(){return this.Symbol},this.GetName=function(){return this.Name},this.GetIndustry=function(){var t=pr.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Industry||e.Industry.length<=0)return"";var a="";for(var i in e.Industry){var r=e.Industry[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.GetRegion=function(){var t=pr.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Region||e.Region.length<=0)return"";var a="";for(var i in e.Region){var r=e.Region[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.GetConcept=function(){var t=pr.JOB_DOWNLOAD_GROUP_DATA.toString()+"-Group-"+this.Symbol;if(!this.ExtendData.has(t))return"";var e=this.ExtendData.get(t);if(!e.Concept||e.Concept.length<=0)return"";var a="";for(var i in e.Concept){var r=e.Concept[i];a.length>0&&(a+=" "),a+=r.Name}return a},this.DATE=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];t[e]=a.Date-19e6}return t},this.YEAR=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Date)?t[e]=parseInt(a.Date/1e4):t[e]=null}return t},this.MONTH=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Date)?t[e]=parseInt(a.Date%1e4/100):t[e]=null}return t},this.TIME=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var a=this.Data.Data[e];this.IsNumber(a.Time)?t[e]=a.Time:t[e]=0}return t},this.WEEK=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;var e=new Date;for(var a in this.Data.Data){var i=this.Data.Data[a];if(t[a]=null,this.IsNumber(i.Date)){var r=parseInt(i.Date/1e4),n=parseInt(i.Date%1e4/100),s=i.Date%100;e.setFullYear(r),e.setMonth(n-1),e.setDate(s),t[a]=e.getDay()}}return t},this.REFDATE=function(t,e){var a=null;if(Array.isArray(e)?e.length>0&&(a=e[e.length-1]):this.IsNumber(e)&&(a=e),null==a)return null;a<5e6&&(a+=19e6);var i=null;for(var r in this.Data.Data)if(this.Data.Data[r].Date==a){i=parseInt(r);break}return null==i||i>=t.length?null:t[i]},this.PERIOD=function(){var t=[5,6,7,11,0,1,2,3,4,5,9];return this.Period>=0&&this.Period<=t.length-1?t[this.Period]:this.Period},this.GetDrawNull=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data)t[e]=null;return t}}function ti(t,e){this.AST=t,this.ErrorHandler=new Ka,this.VarTable=new Ai.default,this.OutVarTable=[],this.Arguments=[],this.ErrorCallback,this.ConstVarTable=new Ai.default([["CLOSE",null],["VOL",null],["OPEN",null],["HIGH",null],["LOW",null],["AMOUNT",null],["C",null],["V",null],["O",null],["H",null],["L",null],["AMO",null],["VOLR",null],["VOLINSTK",null],["DATE",null],["YEAR",null],["MONTH",null],["PERIOD",null],["WEEK",null],["TIME",null],["INDEXA",null],["INDEXC",null],["INDEXH",null],["INDEXL",null],["INDEXO",null],["INDEXV",null],["INDEXADV",null],["INDEXDEC",null],["ADVANCE",null],["DECLINE",null],["FROMOPEN",null],["TOTALFZNUM",null],["CURRBARSCOUNT",null],["TOTALBARSCOUNT",null],["ISLASTBAR",null],["CAPITAL",null],["EXCHANGE",null],["SETCODE",null],["CODE",null],["STKNAME",null],["HYBLOCK",null],["DYBLOCK",null],["GNBLOCK",null],["DRAWNULL",null]]),this.SymbolData=new $a(this.AST,e,this),this.Algorithm=new Za(this.ErrorHandler,this.SymbolData),this.Draw=new Qa(this.ErrorHandler,this.SymbolData),this.JobList=[],this.UpdateUICallback=null,this.CallbackParam=null,this.IsSectionMode=!1,e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam),e.Arguments&&(this.Arguments=e.Arguments),e.IsSectionMode&&(this.IsSectionMode=e.IsSectionMode)),this.Execute=function(){this.OutVarTable=[],this.VarTable=new Ai.default,xi.Complier.Log("[JSExecute::Execute] Load Arguments",this.Arguments);for(var t in this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}this.RunNextJob()},this.RunNextJob=function(){if(!(this.JobList.length<=0)){xi.Complier.Log("[JSExecute::Execute] JobList",this.JobList);var t=this.JobList.shift();switch(t.ID){case pr.JOB_DOWNLOAD_SYMBOL_DATA:return this.SymbolData.GetSymbolData();case pr.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:return this.SymbolData.GetSymbolPeriodData(t);case pr.JOB_DOWNLOAD_INDEX_DATA:return this.SymbolData.GetIndexData();case pr.JOB_DOWNLOAD_LATEST_INDEX_DATA:return this.SymbolData.GetLatestIndexData();case pr.JOB_DOWNLOAD_INDEX_INCREASE_DATA:return this.SymbolData.GetIndexIncreaseData(t);case pr.JOB_DOWNLOAD_SYMBOL_LATEST_DATA:return this.SymbolData.GetLatestData();case pr.JOB_DOWNLOAD_VOLR_DATA:return this.SymbolData.GetVolRateData(t);case pr.JOB_DOWNLOAD_GROUP_DATA:return this.SymbolData.GetGroupData(t);case pr.JOB_DOWNLOAD_OTHER_SYMBOL_DATA:return this.SymbolData.GetOtherSymbolData(t);case pr.JOB_DOWNLOAD_TOTAL_EQUITY_DATA:case pr.JOB_DOWNLOAD_CAPITAL_DATA:case pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA:case pr.JOB_DOWNLOAD_PER_NETASSET_DATA:case pr.JOB_DOWNLOAD_PER_U_PROFIT_DATA:case pr.JOB_DOWNLOAD_PER_C_RESERVE_DATA:case pr.JOB_DOWNLOAD_PER_S_EARNING_DATA:case pr.JOB_DOWNLOAD_PER_S_EARNING2_DATA:case pr.JOB_DOWNLOAD_N_PROFIT_DATA:case pr.JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA:case pr.JOB_DOWNLOAD_MARKETVALUE_DATA:case pr.JOB_DOWNLOAD_EXCHANGE_DATA:case pr.JOB_DOWNLOAD_AL_RATIO_DATA:case pr.JOB_DOWNLOAD_PROFIT_YOY_DATA:case pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA:case pr.JOB_DOWNLOAD_SHAREHOLDER_DATA:return this.SymbolData.GetFinanceData(t.ID);case pr.JOB_DOWNLOAD_RELEASE_DATE_DATA:return this.SymbolData.GetCompanyReleaseDate(t.ID);case pr.JOB_DOWNLOAD_MARGIN_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_RATE:case pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case pr.JOB_DOWNLOAD_MARGIN_BUY_NET:case pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case pr.JOB_DOWNLOAD_MARGIN_SELL_NET:return this.SymbolData.GetMarginData(t.ID);case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:case pr.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:return this.SymbolData.GetNewsAnalysisData(t.ID);case pr.JOB_DOWNLOAD_HK_TO_SHSZ:return this.SymbolData.GetHKToSHSZData(t);case pr.JOB_DOWNLOAD_SECTION_SF:return this.SymbolData.GetSectionFinanceData(t);case pr.JOB_CUSTOM_VARIANT_DATA:return this.SymbolData.DownloadCustomVariantData(t);case pr.JOB_CUSTOM_FUNCTION_DATA:return this.SymbolData.DownloadCustomFunctionData(t);case pr.JOB_DOWNLOAD_CUSTOM_API_DATA:return this.SymbolData.DownloadCustomAPIData(t);case pr.JOB_EXECUTE_INDEX:return this.SymbolData.CallScriptIndex(t);case pr.JOB_RUN_SCRIPT:return this.Run()}}},this.ReadSymbolData=function(t,e){switch(t){case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":case"VOLINSTK":return this.SymbolData.GetSymbolCacheData(t);case"VOLR":return this.SymbolData.GetVolRateCacheData(e);case"INDEXA":case"INDEXC":case"INDEXH":case"INDEXH":case"INDEXO":case"INDEXV":case"INDEXL":case"INDEXADV":case"INDEXDEC":return this.SymbolData.GetIndexCacheData(t);case"CURRBARSCOUNT":return this.SymbolData.GetCurrBarsCount();case"TOTALBARSCOUNT":return this.SymbolData.GetTotalBarsCount();case"TOTALFZNUM":return this.SymbolData.GetTotalTradeMinuteCount();case"ISLASTBAR":return this.SymbolData.GetIsLastBar();case"CAPITAL":return this.SymbolData.GetFinanceCacheData(pr.JOB_DOWNLOAD_CAPITAL_DATA);case"EXCHANGE":return this.SymbolData.GetFinanceCacheData(pr.JOB_DOWNLOAD_EXCHANGE_DATA);case"SETCODE":return this.SymbolData.SETCODE();case"CODE":return this.SymbolData.GetSymbol();case"STKNAME":return this.SymbolData.GetName();case"HYBLOCK":return this.SymbolData.GetIndustry();case"DYBLOCK":return this.SymbolData.GetRegion();case"GNBLOCK":return this.SymbolData.GetConcept();case"TIME":return this.SymbolData.TIME();case"DATE":return this.SymbolData.DATE();case"YEAR":return this.SymbolData.YEAR();case"MONTH":return this.SymbolData.MONTH();case"WEEK":return this.SymbolData.WEEK();case"PERIOD":return this.SymbolData.PERIOD();case"FROMOPEN":return this.SymbolData.GetLatestIndexCacheData("FROMOPEN");case"DRAWNULL":return this.SymbolData.GetDrawNull();case"ADVANCE":case"DECLINE":return this.SymbolData.GetIndexIncreaseCacheData(t,this.SymbolData.Symbol,e)}},this.ReadCustomVariant=function(t,e){var a=lr.CustomVariant.Data.get(t);if(!a||!a.Read)return[];var i={Name:t,Symbol:this.SymbolData.Symbol,KData:this.SymbolData.Data,Period:this.SymbolData.Period,Right:this.SymbolData.Right};return a.Read(i)},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t)){var a=this.ConstVarTable.get(t);return null==a&&(a=this.ReadSymbolData(t,e),this.ConstVarTable.set(t,a)),a}if(lr.IsCustomVariant(t))return this.ReadCustomVariant(t,e);if(this.VarTable.has(t))return this.VarTable.get(t);if(t.indexOf("#")>0){var i=t.split("#");return this.SymbolData.GetSymbolPeriodCacheData(i[0],i[1])}return this.ThrowUnexpectedNode(e,"变量"+t+"不存在"),null},this.ReadMemberVariable=function(t){var e=t.Object,a=t.Property,i=void 0;if(!(i=e.Type==mr.BinaryExpression||e.Type==mr.LogicalExpression?this.VisitBinaryExpression(e):e.Type==mr.CallExpression?this.VisitCallExpression(e):this.GetNodeValue(e)))return null;var r=i[a.Name];return r||null},this.SingleDataToArrayData=function(t){for(var e=this.SymbolData.Data.Data.length,a=[],i=0;i<e;++i)a[i]=t;return a},this.RunAST=function(){this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();for(var t in this.AST.Body){var e=this.AST.Body[t];if(this.VisitNode(e),e.Type==mr.ExpressionStatement&&e.Expression)if(e.Expression.Type==mr.AssignmentExpression){if(":"==e.Expression.Operator&&e.Expression.Left){var a=e.Expression,i=a.Left.Name,r=this.VarTable.get(i),n=0;r&&"object"==(void 0===r?"undefined":(0,Si.default)(r))&&"Object"==r.__Type__?n=1e3:this.IsSectionMode||Array.isArray(r)||(r="string"==typeof r?this.SingleDataToArrayData(parseFloat(r)):this.SingleDataToArrayData(r)),this.OutVarTable.push({Name:i,Data:r,Type:n})}}else if(e.Expression.Type==mr.CallExpression){var s=e.Expression;if(this.Draw.IsDrawFunction(s.Callee.Name)){var o=s.Draw;o.Name=s.Callee.Name,this.OutVarTable.push({Name:o.Name,Draw:o,Type:1})}else{var h=s.Out;d="__temp_c_"+s.Callee.Name+"_"+t+"__";var n=0;Array.isArray(h)||(h=this.SingleDataToArrayData(h)),this.OutVarTable.push({Name:d,Data:h,Type:n,NoneName:!0})}}else if(e.Expression.Type==mr.Identifier){var l=e.Expression.Name,u=this.ReadVariable(l,e.Expression),n=0;u&&"object"==(void 0===u?"undefined":(0,Si.default)(u))&&"Object"==u.__Type__?n=1e3:this.IsSectionMode||Array.isArray(u)||(u="string"==typeof u?this.SingleDataToArrayData(parseFloat(u)):this.SingleDataToArrayData(u)),l="__temp_i_"+t+"__",this.OutVarTable.push({Name:l,Data:u,Type:n,NoneName:!0})}else if(e.Expression.Type==mr.BinaryExpression){var d="__temp_b_"+t+"__",c=e.Expression.Out,n=0;Array.isArray(c)||(c=this.SingleDataToArrayData(c)),this.OutVarTable.push({Name:d,Data:c,Type:n,NoneName:!0})}else if(e.Expression.Type==mr.LogicalExpression){var d="__temp_l_"+t+"__",D=e.Expression.Out,n=0;Array.isArray(D)||(D=this.SingleDataToArrayData(D)),this.OutVarTable.push({Name:d,Data:D,Type:n,NoneName:!0})}else if(e.Expression.Type==mr.SequenceExpression){var m=void 0,C=void 0,f=void 0,p=void 0,v=!1,S=!1,T=!1,M=!1,_=!1,I=!1,L=!0,g=!1,y=!1,A=!1,F=!1,E=!1;for(var x in e.Expression.Expression){var N=e.Expression.Expression[x];if(N.Type==mr.AssignmentExpression&&":"==N.Operator&&N.Left){m=N.Left.Name;var w=this.VarTable.get(m);Array.isArray(w)||(w=this.SingleDataToArrayData(w),this.VarTable.set(m,w))}else if(N.Type==mr.Identifier){var O=N.Name;if("COLORSTICK"===O)v=!0;else if("POINTDOT"===O)S=!0;else if("CIRCLEDOT"===O)T=!0;else if("DOTLINE"===O)y=!0;else if("LINESTICK"===O)M=!0;else if("STICK"===O)_=!0;else if("VOLSTICK"===O)I=!0;else if("DRAWABOVE"===O)E=!0;else if(0==O.indexOf("COLOR"))f=O;else if(0==O.indexOf("LINETHICK"))p=O;else if(0==O.indexOf("NODRAW"))L=!1;else if(0==O.indexOf("EXDATA"))g=!0;else if(0==O.indexOf("LINEOVERLAY"))A=!0;else{m=N.Name;var P=this.ReadVariable(m,N);Array.isArray(P)||(P=this.SingleDataToArrayData(P)),m="__temp_si_"+t+"__",F=!0,this.VarTable.set(m,P)}}else if(N.Type==mr.Literal){var R=this.SingleDataToArrayData(N.Value);m=N.Value.toString(),this.VarTable.set(m,R)}else if(N.Type==mr.CallExpression)if(this.Draw.IsDrawFunction(N.Callee.Name))C=N.Draw,C.Name=N.Callee.Name;else{var b=N.Out;m="__temp_sc_"+N.Callee.Name+"_"+t+"__",F=!0,this.VarTable.set(m,b)}else if(N.Type==mr.BinaryExpression){m="__temp_sb_"+t+"__";var Y=N.Out;F=!0,this.VarTable.set(m,Y)}}if(S&&m){var B=this.VarTable.get(m);Array.isArray(B)||(B=this.SingleDataToArrayData(B));var H={Name:m,Data:B,Radius:2,Type:3};f&&(H.Color=f),p&&(H.LineWidth=p),this.OutVarTable.push(H)}else if(T&&m){var k=this.VarTable.get(m);Array.isArray(k)||(k=this.SingleDataToArrayData(k));var V={Name:m,Data:k,Radius:1.3,Type:3};f&&(V.Color=f),p&&(V.LineWidth=p),this.OutVarTable.push(V)}else if(M&&m){var G=this.VarTable.get(m),W={Name:m,Data:G,Type:4};f&&(W.Color=f),p&&(W.LineWidth=p),this.OutVarTable.push(W)}else if(_&&m){var U=this.VarTable.get(m),X={Name:m,Data:U,Type:5};f&&(X.Color=f),p&&(X.LineWidth=p),this.OutVarTable.push(X)}else if(I&&m){var K=this.VarTable.get(m),J={Name:m,Data:K,Type:6};f&&(J.Color=f),this.OutVarTable.push(J)}else if(m&&f){var j=this.VarTable.get(m);Array.isArray(j)||(j=this.SingleDataToArrayData(j));var z={Name:m,Data:j,Color:f,Type:0};p&&(z.LineWidth=p),0==L&&(z.IsShow=!1),1==g&&(z.IsExData=!0),1==y&&(z.IsDotLine=!0),1==A&&(z.IsOverlayLine=!0),1==F&&(z.NoneName=!0),this.OutVarTable.push(z)}else if(C){var q={Name:C.Name,Draw:C,Type:1};f&&(q.Color=f),p&&(q.LineWidth=p),E&&(q.IsDrawAbove=!0),this.OutVarTable.push(q)}else if(v&&m){var Z=this.VarTable.get(m),Q={Name:m,Data:Z,Color:f,Type:2};p&&(Q.LineWidth=p),this.OutVarTable.push(Q)}else if(m){var $=this.VarTable.get(m),tt={Name:m,Data:$,Type:0};f&&(tt.Color=f),p&&(tt.LineWidth=p),0==L&&(tt.IsShow=!1),1==g&&(tt.IsExData=!0),1==y&&(tt.IsDotLine=!0),1==A&&(tt.IsOverlayLine=!0),this.OutVarTable.push(tt)}}}return xi.Complier.Log("[JSExecute::Run]",this.VarTable),this.OutVarTable},this.Run=function(){try{var t=this.RunAST();xi.Complier.Log("[JSComplier.Run] execute finish",t),this.UpdateUICallback&&(xi.Complier.Log("[JSComplier.Run] invoke UpdateUICallback."),this.CallbackParam&&this.CallbackParam.Job&&this.CallbackParam.Job.ID==pr.JOB_EXECUTE_INDEX?this.UpdateUICallback(t,this.CallbackParam,this.SymbolData):(this.CallbackParam&&this.CallbackParam.Self&&"ScriptIndexConsole"===this.CallbackParam.Self.ClassName&&(this.CallbackParam.JSExecute=this),this.UpdateUICallback(t,this.CallbackParam)))}catch(t){xi.Complier.Log(t),t.Job?(xi.Complier.Log("[JSComplier.Run] download job and reexectue",t.Job),this.JobList.push(t.Job),this.JobList.push({ID:pr.JOB_RUN_SCRIPT}),this.Execute()):this.ErrorCallback&&this.ErrorCallback(t,this.CallbackParam)}},this.VisitNode=function(t){switch(t.Type){case mr.SequenceExpression:this.VisitSequenceExpression(t);break;case mr.ExpressionStatement:this.VisitNode(t.Expression);break;case mr.AssignmentExpression:this.VisitAssignmentExpression(t);break;case mr.BinaryExpression:case mr.LogicalExpression:this.VisitBinaryExpression(t);break;case mr.CallExpression:this.VisitCallExpression(t)}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var a=t.Expression[e];this.VisitNode(a)}},this.VisitCallExpression=function(t){var e=t.Callee.Name,a=[];for(var i in t.Arguments){var r=t.Arguments[i],n=void 0;n=r.Type==mr.BinaryExpression||r.Type==mr.LogicalExpression?this.VisitBinaryExpression(r):r.Type==mr.CallExpression?this.VisitCallExpression(r):this.GetNodeValue(r),a.push(n)}if(fr&&xi.Complier.Log("[JSExecute::VisitCallExpression]",e,"(",a.toString(),")"),lr.IsCustomFunction(e))return t.Out=this.Algorithm.CallCustomFunction(e,a,this.SymbolData,t),t.Out;switch(e){case"DYNAINFO":t.Out=this.SymbolData.GetLatestCacheData(a[0]);break;case"STICKLINE":t.Draw=this.Draw.STICKLINE(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWTEXT":t.Draw=this.Draw.DRAWTEXT(a[0],a[1],a[2]),t.Out=[];break;case"DRAWTEXT_FIX":t.Draw=this.Draw.DRAWTEXT_FIX(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"SUPERDRAWTEXT":t.Draw=this.Draw.SUPERDRAWTEXT(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWICON":t.Draw=this.Draw.DRAWICON(a[0],a[1],a[2]),t.Out=[];break;case"DRAWLINE":t.Draw=this.Draw.DRAWLINE(a[0],a[1],a[2],a[3],a[4]),t.Out=t.Draw.DrawData;break;case"DRAWBAND":t.Draw=this.Draw.DRAWBAND(a[0],a[1],a[2],a[3]),t.Out=[];break;case"FILLRGN":a.length>=4?t.Draw=this.Draw.FILLRGN2(a):t.Draw=this.Draw.FILLRGN(a[0],a[1],a[2]),t.Out=[];break;case"DRAWKLINE":t.Draw=this.Draw.DRAWKLINE(a[0],a[1],a[2],a[3]),t.Out=[];break;case"DRAWKLINE_IF":t.Draw=this.Draw.DRAWKLINE_IF(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"PLOYLINE":case"POLYLINE":t.Draw=this.Draw.POLYLINE(a[0],a[1]),t.Out=t.Draw.DrawData;break;case"DRAWNUMBER":t.Draw=this.Draw.DRAWNUMBER(a[0],a[1],a[2]),t.Out=t.Draw.DrawData.Value;break;case"DRAWNUMBER_FIX":t.Draw=this.Draw.DRAWNUMBER_FIX(a[0],a[1],a[2],a[3],a[4]),t.Out=t.Draw.DrawData.Value;break;case"DRAWCHANNEL":t.Draw=this.Draw.DRAWCHANNEL(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),t.Out=[];break;case"RGB":t.Out=this.Draw.RGB(a[0],a[1],a[2]);break;case"PARTLINE":t.Draw=this.Draw.PARTLINE(a),t.Out=[];break;case"DRAWGBK":t.Draw=this.Draw.DRAWGBK(a[0],a[1],a[2],a[3]),t.Out=[];break;case"DRAWTEXT_LINE":t.Draw=this.Draw.DRAWTEXT_LINE(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),t.Out=[];break;case"DRAWRECTREL":t.Draw=this.Draw.DRAWRECTREL(a[0],a[1],a[2],a[3],a[4]),t.Out=[];break;case"DRAWOVERLAYLINE":t.Draw=this.Draw.DRAWOVERLAYLINE(a[0],a[1],a[2]),t.Out=t.Draw.DrawData.Data;break;case"CODELIKE":t.Out=this.SymbolData.CODELIKE(a[0]);break;case"NAMELIKE":t.Out=this.SymbolData.NAMELIKE(a[1]);break;case"REFDATE":t.Out=this.SymbolData.REFDATE(a[0],a[1]);break;case"FINANCE":t.Out=this.SymbolData.GetFinanceCacheData(a[0],t);break;case"MARGIN":t.Out=this.SymbolData.GetMarginCacheData(a[0],t);break;case"HK2SHSZ":t.Out=this.SymbolData.GetHKToSHSZCacheData(a[0],t);break;case"NEWS":t.Out=this.SymbolData.GetNewsAnalysisCacheData(a[0],t);break;case"UPCOUNT":case"DOWNCOUNT":t.Out=this.SymbolData.GetIndexIncreaseCacheData(e,a[0],t);break;case"SF":t.Out=this.SymbolData.GetSectionFinanceCacheData(a[0],a[1],a[2],t);break;case"LOADAPIDATA":t.Out=this.SymbolData.GetCustomApiData(a);break;case"STKINDI":t.Out=this.SymbolData.GetScriptIndexOutData(a,t);break;case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":t.Out=this.SymbolData.GetOtherSymolCacheData(e,a);break;case"COVER_C":case"COVER_O":case"COVER_H":case"COVER_L":case"COVER_A":case"COVER_V":return 2==a.length?this.SymbolData.GetSymbolPeriodCacheData2(Xa.GetConvertValueName(e),a[0],a[1]):this.SymbolData.GetSymbolPeriodCacheData(Xa.GetConvertValueName(e),a[0]);default:t.Out=this.Algorithm.CallFunction(e,a,t,this.SymbolData)}return t.Out},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=mr.Identifier&&this.ThrowUnexpectedNode(t);var a=e.Name,i=t.Right,r=null;if(i.Type==mr.BinaryExpression||i.Type==mr.LogicalExpression)r=this.VisitBinaryExpression(i);else if(i.Type==mr.CallExpression)r=this.VisitCallExpression(i);else if(i.Type==mr.Literal)r=i.Value;else if(i.Type==mr.Identifier)r=this.ReadVariable(i.Name,i);else if(i.Type==mr.MemberExpression)r=this.ReadMemberVariable(i);else if(i.Type==mr.UnaryExpression)if("-"==i.Operator){var n=this.GetNodeValue(i.Argument);r=this.Algorithm.Subtract(0,n)}else r=i.Argument.Value;fr&&xi.Complier.Log("[JSExecute::VisitAssignmentExpression]",a," = ",r),this.VarTable.set(a,r)},this.VisitBinaryExpression=function(t){var e=[];e.push(t);for(var a=null;0!=e.length;)if(a=e[e.length-1],a.Left&&t!=a.Left&&t!=a.Right)e.push(a.Left);else if(a.Right&&t!=a.Right)e.push(a.Right);else{var i=e.pop();if(i.Type==mr.BinaryExpression){var r=this.GetNodeValue(i.Left),n=this.GetNodeValue(i.Right);switch(fr&&xi.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",i,r,n),i.Out=null,i.Operator){case"-":i.Out=this.Algorithm.Subtract(r,n);break;case"*":i.Out=this.Algorithm.Multiply(r,n);break;case"/":i.Out=this.Algorithm.Divide(r,n);break;case"+":i.Out=this.Algorithm.Add(r,n);break;case">":i.Out=this.Algorithm.GT(r,n);break;case">=":i.Out=this.Algorithm.GTE(r,n);break;case"<":i.Out=this.Algorithm.LT(r,n);break;case"<=":i.Out=this.Algorithm.LTE(r,n);break;case"==":case"=":i.Out=this.Algorithm.EQ(r,n);break;case"!=":case"<>":i.Out=this.Algorithm.NEQ(r,n)}fr&&xi.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",i)}else if(i.Type==mr.LogicalExpression){var s=this.GetNodeValue(i.Left),o=this.GetNodeValue(i.Right);switch(fr&&xi.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",i,s,o),i.Out=null,i.Operator){case"&&":case"AND":i.Out=this.Algorithm.And(s,o);break;case"||":case"OR":i.Out=this.Algorithm.Or(s,o)}fr&&xi.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",i)}t=a}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case mr.Literal:return t.Value;case mr.UnaryExpression:if("-"==t.Operator){var e=this.GetNodeValue(t.Argument);return this.Algorithm.Subtract(0,e)}return t.Argument.Value;case mr.Identifier:return this.ReadVariable(t.Name,t);case mr.BinaryExpression:case mr.LogicalExpression:return t.Out;case mr.CallExpression:return this.VisitCallExpression(t);default:this.ThrowUnexpectedNode(t)}},this.ThrowUnexpectedNode=function(t,e){var a=t.Marker,i=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,i)},this.ThrowDownloadSF=function(t,e,a){var i=t.Marker,r=a;return this.ErrorHandler.ThrowDownloadJob(i.Index,i.Line,i.Column,r,e)},this.ThrowError=function(){}}function ei(){}function ai(t,e,a,i){this.newMethod=$e,this.newMethod(t),delete this.newMethod,this.Script=e,this.Arguments=[],this.OutVar=[],this.ID,this.FloatPrecision=2,this.StringFormat,this.KLineType=null,this.InstructionType,this.YSpecificMaxMin=null,this.YSplitScale=null,this.Condition=null,this.OutName=null,this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20,this.LockMinWidth=null,this.TitleFont=Zi.TitleFont,this.IsShortTitle=!1,i&&(i.FloatPrecision>=0&&(this.FloatPrecision=i.FloatPrecision),i.StringFormat>0&&(this.StringFormat=i.StringFormat),i.ID&&(this.ID=i.ID),(i.KLineType>=0||-1===i.KLineType)&&(this.KLineType=i.KLineType),i.InstructionType&&(this.InstructionType=i.InstructionType),i.YSpecificMaxMin&&(this.YSpecificMaxMin=i.YSpecificMaxMin),i.YSplitScale&&(this.YSplitScale=i.YSplitScale),i.Condition&&(this.Condition=i.Condition),i.TitleFont&&(this.TitleFont=i.TitleFont),i.IsShortTitle&&(this.IsShortTitle=i.IsShortTitle),i.OutName&&(this.OutName=i.OutName)),i&&i.Lock&&(1==i.Lock.IsLocked&&(this.IsLocked=!0),i.Lock.Callback&&(this.LockCallback=i.Lock.Callback),i.Lock.ID&&(this.LockID=i.Lock.ID),i.Lock.BG&&(this.LockBG=i.Lock.BG),i.Lock.TextColor&&(this.LockTextColor=i.Lock.TextColor),i.Lock.Text&&(this.LockText=i.Lock.Text),i.Lock.Font&&(this.LockFont=i.Lock.Font),i.Lock.Count&&(this.LockCount=i.Lock.Count),i.Lock.MinWidth&&(this.LockMinWidth=i.Lock.MinWidth*u())),a&&(this.Arguments=a),this.SetLock=function(t){1==t.IsLocked?(this.IsLocked=!0,t.Callback&&(this.LockCallback=t.Callback),t.ID&&(this.LockID=t.ID),t.BG&&(this.LockBG=t.BG),t.TextColor&&(this.LockTextColor=t.TextColor),t.Text&&(this.LockText=t.Text),t.Font&&(this.LockFont=t.Font),t.Count&&(this.LockCount=t.Count),t.MinWidth&&(this.LockMinWidth=t.MinWidth*u())):(this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20)},this.ExecuteScript=function(t,e,a){this.OutVar=[];var i={HQChart:t,WindowIndex:e,HistoryData:a,Self:this},r=vr.KLINE_ID;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?r=t.DayCount>1?vr.MULTIDAY_MINUTE_ID:vr.MINUTE_ID:"HistoryMinuteChartContainer"===t.ClassName&&(r=vr.HISTORY_MINUTE_ID);var n={HQDataType:r,Symbol:t.Symbol,Name:t.Name,Data:a,SourceData:t.SourceData,Callback:this.RecvResultData,CallbackParam:i,Async:!0,MaxRequestDataCount:t.MaxReqeustDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Arguments:this.Arguments,Condition:this.Condition,IsBeforeData:t.IsBeforeData,IsApiPeriod:t.IsApiPeriod};if(r===vr.HISTORY_MINUTE_ID&&(n.TrateDate=t.TradeDate),r===vr.MULTIDAY_MINUTE_ID&&(n.DayCount=t.DayCount),t.NetworkFilter&&(n.NetworkFilter=t.NetworkFilter),this.Condition&&!this.IsMeetCondition(i,n))return void this.ShowConditionError(i);var s=this.Script;ei.Execute(s,n,t.ScriptErrorCallback)},this.IsMeetCondition=function(t,e){if(xi.Complier.Log("[ScriptIndex::IsMeetCondition] ",this.Condition),this.Condition.Period){if(!this.IsMeetPeriodCondition(t,e))return!1;if(!this.IsMeetIncludeCondition(t,e))return!1}return!0},this.IsMeetPeriodCondition=function(t,e){if(!this.Condition.Period)return!0;for(var a in this.Condition.Period){var i=this.Condition.Period[a];switch(i){case Ni.MINUTE_ID:if(e.HQDataType==vr.MINUTE_ID)return!0;break;case Ni.MULTIDAY_MINUTE_ID:if(e.HQDataType==vr.MULTIDAY_MINUTE_ID)return!0;break;case Ni.KLINE_DAY_ID:case Ni.KLINE_WEEK_ID:case Ni.KLINE_MONTH_ID:case Ni.KLINE_YEAR_ID:case Ni.KLINE_TWOWEEK_ID:case Ni.KLINE_QUARTER_ID:case Ni.KLINE_MINUTE_ID:case Ni.KLINE_5_MINUTE_ID:case Ni.KLINE_15_MINUTE_ID:case Ni.KLINE_30_MINUTE_ID:case Ni.KLINE_60_MINUTE_ID:if(t.HQChart.Period==i)return!0}}return!1},this.IsMeetIncludeCondition=function(t,e){if(!this.Condition.Include||this.Condition.Include.length<=0)return!0;var a=t.HQChart.Symbol;a&&(a=a.toUpperCase());for(var i in this.Condition.Include){if(a==this.Condition.Include[i])return!0}return!1},this.ShowConditionError=function(t){var e=t.HQChart,a=t.WindowIndex;e.DeleteIndexPaint(a),0==a&&e.ShowKLine(!0);var i=new Q;i.Canvas=e.Canvas,i.ChartBorder=e.Frame.SubFrame[a].Frame.ChartBorder,i.ChartFrame=e.Frame.SubFrame[a].Frame,i.NotSupportMessage="指标不支持当前品种或周期",e.ChartPaint.push(i),e.Draw()},this.RecvResultData=function(t,e){var a=e.HQChart,i=e.WindowIndex,r=e.HistoryData;if(e.Self.OutVar=t,e.Self.BindData(a,i,r),0==e.Self.IsLocked)e.HQChart.Frame.SubFrame[i].Frame.SetLock(null);else{var n={IsLocked:!0,Callback:e.Self.LockCallback,IndexName:e.Self.Name,ID:e.Self.LockID,BG:e.Self.LockBG,Text:e.Self.LockText,TextColor:e.Self.LockTextColor,Font:e.Self.LockFont,Count:e.Self.LockCount,MinWidth:e.Self.LockMinWidth};e.HQChart.Frame.SubFrame[i].Frame.SetLock(n)}if(e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw(),a.GetIndexEvent){var s=a.GetIndexEvent();if(s){var o=e.Self,h={OutVar:o.OutVar,WindowIndex:i,Name:o.Name,Arguments:o.Arguments,HistoryData:r,Stock:{Symbol:a.Symbol,Name:a.Name}};s.Callback(s,h,o)}}},this.CreateLine=function(t,e,a,i){var r=new Q;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}a.IsDotLine&&(r.IsDotLine=!0),0==a.IsShow&&(r.IsShow=!1);var s=e+1;r.Data.Data=a.Data,a.NoneName?t.TitlePaint[s].Data[i]=new ue(r.Data,null,r.Color):t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateOverlayLine=function(t,e,a,i){var r=new $;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}a.IsDotLine&&(r.IsDotLine=!0),0==a.IsShow&&(r.IsShow=!1);var s=e+1;r.Data.Data=a.Data,t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateBar=function(t,e,a,i){var r=new ot;r.Canvas=t.Canvas,a.Draw.Width>0?r.Width=a.Draw.Width:r.Width=0,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i);r.Data.Data=a.Draw.DrawData,r.BarType=a.Draw.Type,t.ChartPaint.push(r)},this.CreateText=function(t,e,a,i,r){var n=new lt;n.Canvas=t.Canvas,n.Name=a.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),a.Color?n.Color=this.GetColor(a.Color):n.Color=this.GetDefaultColor(i);a.Draw.Position&&(n.Position=a.Draw.Position),a.Draw.DrawData&&(n.Data.Data=a.Draw.DrawData),n.Text=a.Draw.Text,a.Draw.Direction>0&&(n.Direction=a.Draw.Direction),a.Draw.YOffset>0&&(n.YOffset=a.Draw.YOffset),a.Draw.TextAlign&&(n.TextAlign=a.Draw.TextAlign),t.ChartPaint.push(n)},this.CreateMACD=function(t,e,a,i){var r=new Ct;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var s=e+1;r.Data.Data=a.Data,t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,this.GetDefaultColor(i)),t.ChartPaint.push(r)},this.CreatePointDot=function(t,e,a,i){var r=new at;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.Radius&&(r.Radius=a.Radius),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.Radius=n)}var s=e+1;r.Data.Data=a.Data,t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateStick=function(t,e,a,i){var r=new it;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var s=e+1;r.Data.Data=a.Data,t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateLineStick=function(t,e,a,i){var r=new rt;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var s=e+1;r.Data.Data=a.Data,t.TitlePaint[s].Data[i]=new ue(r.Data,a.Name,r.Color),t.ChartPaint.push(r)},this.CreateStraightLine=function(t,e,a,i){var r=new Q;if(r.DrawType=1,r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateVolStick=function(t,e,a,i,r){var n=new nt;n.Canvas=t.Canvas,n.Name=a.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.KLineDrawType=t.KLineDrawType,a.Color?n.Color=this.GetColor(a.Color):n.Color=this.GetDefaultColor(i);var s=e+1;n.Data.Data=a.Data,n.HistoryData=r,t.TitlePaint[s].Data[i]=new ue(n.Data,a.Name,n.Color),t.ChartPaint.push(n)},this.CreateBand=function(t,e,a,i){var r=new pt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.FirstColor=a.Draw.Color[0],r.SecondColor=a.Draw.Color[1],r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateFillRGN=function(t,e,a,i){var r=new vt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=a.Draw.DrawData,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),t.ChartPaint.push(r)},this.CreateFillRGN2=function(t,e,a,i){var r=new St;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateKLine=function(t,e,a,i){var r=new K;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=a.Draw.DrawData,r.IsShowMaxMinPrice=!1,r.IsShowKTooltip=!1,a.Color&&(r.UnchagneColor=r.DownColor=r.UpColor=this.GetColor(a.Color)),t.ChartPaint.push(r)},this.CreatePolyLine=function(t,e,a,i){var r=new Q;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var s=e+1;r.Data.Data=a.Draw.DrawData,t.TitlePaint[s].Data[i]=new ue(r.Data," ",r.Color),t.ChartPaint.push(r)},this.CreateBackgroud=function(t,e,a,i){var r=new Mt;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Draw&&a.Draw.DrawData){var n=a.Draw.DrawData;r.Color=n.Color,r.ColorAngle=n.Angle}t.ChartPaint.push(r)},this.CreateTextLine=function(t,e,a,i){var r=new It;if(r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Draw&&a.Draw.DrawData){var n=a.Draw.DrawData;r.Text=n.Text,r.Line=n.Line,r.Price=n.Price}t.ChartPaint.push(r)},this.CreateNumberText=function(t,e,a,i){var r=new lt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.TextAlign="center",a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.IsDrawAbove?r.Direction=1:r.Direction=2,a.Draw.Position&&(r.Position=a.Draw.Position);r.Data.Data=a.Draw.DrawData.Value,r.Text=a.Draw.DrawData.Text,t.ChartPaint.push(r)},this.CreateIcon=function(t,e,a,i){var r=new lt;r.Canvas=t.Canvas,r.TextAlign="center",r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame;r.Data.Data=a.Draw.DrawData;var n=a.Draw.Icon;1==n.IconFont?r.IconFont={Family:n.Family,Text:n.Symbol,Color:n.Color}:(r.Text=n.Symbol,a.Color?r.Color=this.GetColor(a.Color):n.Color?r.Color=n.Color:r.Color="rgb(0,0,0)"),t.ChartPaint.push(r)},this.CreateChannel=function(t,e,a,i){var r=new Tt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Draw.AreaColor?r.AreaColor=a.Draw.AreaColor:a.Color?r.AreaColor=this.GetColor(a.Color):r.AreaColor=this.GetDefaultColor(i),a.Draw.Border.Color?r.LineColor=a.Draw.Border.Color:r.LineColor=null,a.Draw.Border.Dotted&&(r.LineDotted=a.Draw.Border.Dotted),a.Draw.Border.Width>0&&(r.LineWidth=a.Draw.Border.Width),r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreatePartLine=function(t,e,a,i){var r=new et;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiLine=function(t,e,a,i){var r=new gt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Lines=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiBar=function(t,e,a,i){var r=new Lt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Bars=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiText=function(t,e,a,i){var r=new yt;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Texts=a.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiSVGIcon=function(t,e,a,i){var r=new At;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Family=a.Draw.DrawData.Family,r.Icon=a.Draw.DrawData.Icon,t.ChartPaint.push(r)},this.CreateColorKLine=function(t,e,a,i){var r=new J;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.KLineColor=a.Draw.DrawData.KLine,a.Color&&(r.Color=a.Color),t.ChartPaint.push(r)},this.CreateRectangle=function(t,e,a,i){var r=new _t;r.Canvas=t.Canvas,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Color=[a.Draw.DrawData.Color],r.Rect=a.Draw.DrawData.Rect,a.Color&&(r.BorderColor=this.GetColor(a.Color)),t.ChartPaint.push(r)},this.CreateScriptOverlayLine=function(t,e,a,i){var r=new tt;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=a.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,a.Color?r.Color=this.GetColor(a.Color):r.Color=this.GetDefaultColor(i),a.LineWidth){var n=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}a.IsDotLine&&(r.IsDotLine=!0),0==a.IsShow&&(r.IsShow=!1);var s=e+1;r.Data.Data=a.Draw.DrawData.Data,r.MainData.Data=a.Draw.DrawData.MainData,a.Draw.DrawData.Title&&(t.TitlePaint[s].Data[i]=new ue(r.Data,a.Draw.DrawData.Title,r.Color)),t.ChartPaint.push(r)},this.CreateSelfKLine=function(t,e,a){var i=new K;i.Canvas=t.Canvas,i.Name="Self Kline",i.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,i.ChartFrame=t.Frame.SubFrame[e].Frame,i.Data=a,i.IsShowMaxMinPrice=!1,i.IsShowKTooltip=!1,i.DrawType=this.KLineType,t.ChartPaint.push(i)},this.BindInstructionData=function(t,e,a){if(!(null==this.OutVar||this.OutVar.length<0)){var i="";for(var r in this.Arguments){var n=this.Arguments[r];i.length>0&&(i+=","),i+=n.Value.toString()}if(i.length>0&&(i="("+i+")"),2==this.InstructionType){var s=this.OutVar[this.OutVar.length-1];return t.SetInstructionData(this.InstructionType,{Data:s.Data,Name:this.Name,Param:i,ID:this.ID}),!0}if(1==this.InstructionType){var o,h;for(var l in this.OutVar){var u=this.OutVar[l];"ENTERLONG"==u.Name?o=u.Data:"EXITLONG"==u.Name&&(h=u.Data)}return t.SetInstructionData(this.InstructionType,{Buy:o,Sell:h,Name:this.Name,Param:i,ID:this.ID}),!0}}},this.BindData=function(t,e,a){if(0==e&&this.InstructionType)return void this.BindInstructionData(t,e,a);if(t.DeleteIndexPaint(e),0==e&&t.ShowKLine(!0),!(null==this.OutVar||this.OutVar.length<0)){null!=this.KLineType&&(0===this.KLineType||1===this.KLineType||2===this.KLineType?this.CreateSelfKLine(t,e,a):-1===this.KLineType&&0==e&&t.ShowKLine(!1)),e>=1&&t.Frame&&(t.Frame.SubFrame[e].Frame.YSplitOperator.FloatPrecision=this.FloatPrecision,this.YSpecificMaxMin&&(t.Frame.SubFrame[e].Frame.YSpecificMaxMin=this.YSpecificMaxMin),this.YSplitScale&&(t.Frame.SubFrame[e].Frame.YSplitScale=this.YSplitScale));for(var i in this.OutVar){var r=this.OutVar[i];if(!0!==r.IsExData&&1e3!=r.Type){if(0==r.Type)r.IsOverlayLine?this.CreateOverlayLine(t,e,r,i):this.CreateLine(t,e,r,i);else if(1==r.Type)switch(r.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,r,i);break;case"DRAWTEXT":case"SUPERDRAWTEXT":this.CreateText(t,e,r,i);break;case"DRAWLINE":this.CreateStraightLine(t,e,r,i);break;case"DRAWBAND":this.CreateBand(t,e,r,i);break;case"FILLRGN":this.CreateFillRGN(t,e,r,i);break;case"FILLRGN2":this.CreateFillRGN2(t,e,r,i);break;case"DRAWKLINE":case"DRAWKLINE_IF":this.CreateKLine(t,e,r,i);break;case"POLYLINE":this.CreatePolyLine(t,e,r,i);break;case"DRAWGBK":this.CreateBackgroud(t,e,r,i);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,r,i);break;case"DRAWNUMBER":case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,r,i);break;case"DRAWICON":this.CreateIcon(t,e,r,i);break;case"DRAWCHANNEL":this.CreateChannel(t,e,r,i);break;case"PARTLINE":this.CreatePartLine(t,e,r,i);break;case"DRAWRECTREL":this.CreateRectangle(t,e,r,i);break;case"DRAWOVERLAYLINE":this.CreateScriptOverlayLine(t,e,r,i);break;case"MULTI_LINE":this.CreateMultiLine(t,e,r,i);break;case"MULTI_BAR":this.CreateMultiBar(t,e,r,i);break;case"MULTI_TEXT":this.CreateMultiText(t,e,r,i);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,r,i);break;case"COLOR_KLINE":this.CreateColorKLine(t,e,r,i)}else 2==r.Type?this.CreateMACD(t,e,r,i):3==r.Type?this.CreatePointDot(t,e,r,i):4==r.Type?this.CreateLineStick(t,e,r,i):5==r.Type?this.CreateStick(t,e,r,i):6==r.Type&&this.CreateVolStick(t,e,r,i,a);var n=t.TitlePaint[e+1];n&&n.Data&&i<n.Data.length&&(this.StringFormat>0&&(n.Data[i].StringFormat=this.StringFormat),this.FloatPrecision>=0&&(n.Data[i].FloatPrecision=this.FloatPrecision),this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&n.SetDynamicOutName(this.OutName,this.Arguments))}}var s=e+1;if(t.TitlePaint[s].Title=this.Name,!this.IsShortTitle){var o="";for(var h in this.Arguments){var l=this.Arguments[h];o.length>0&&(o+=","),o+=l.Value.toString()}o.length>0&&(t.TitlePaint[s].Title=this.Name+"("+o+")")}return this.TitleFont&&(t.TitlePaint[s].Font=this.TitleFont),!0}},this.GetDefaultColor=function(t){var e=null;return Zi&&Zi.Index&&Zi.Index.LineColor&&(e=Zi.Index.LineColor),e&&Array.isArray(e)||(e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"]),e[parseInt(t)%(e.length-1)]},this.GetColor=function(t){var e=new Ai.default([["COLORBLACK","rgb(0,0,0)"],["COLORBLUE","rgb(18,95,216)"],["COLORGREEN","rgb(25,158,0)"],["COLORCYAN","rgb(0,255,198)"],["COLORRED","rgb(238,21,21)"],["COLORMAGENTA","rgb(255,0,222)"],["COLORBROWN","rgb(149,94,15)"],["COLORLIGRAY","rgb(218,218,218)"],["COLORGRAY","rgb(133,133,133)"],["COLORLIBLUE","rgb(94,204,255)"],["COLORLIGREEN","rgb(183,255,190)"],["COLORLICYAN","rgb(154,255,242)"],["COLORLIRED","rgb(255,172,172)"],["COLORLIMAGENTA","rgb(255,145,241)"],["COLORWHITE","rgb(255,255,255)"],["COLORYELLOW","rgb(255,198,0)"]]);return e.has(t)?e.get(t):0==t.indexOf("COLOR")?"#"+t.substr(5):"rgb(30,144,255)"}}function ii(t,e,a,i){this.newMethod=ai,this.newMethod(t,e,a,i),delete this.newMethod,this.OverlayIndex=null,this.BindData=function(t,e,a){if(this.OverlayIndex&&1==this.OverlayIndex.IsOverlay&&(this.OverlayIndex.Frame.ChartPaint=[],!(null==this.OutVar||this.OutVar.length<0))){var i={Data:[],Title:this.Name},r="";for(var n in this.Arguments){var s=this.Arguments[n];r.length>0&&(r+=","),r+=s.Value.toString()}r.length>0&&(i.Title=this.Name+"("+r+")");var o=e+1;t.TitlePaint[o].OverlayIndex.set(this.OverlayIndex.Identify,i),this.OverlayIndex.Frame.Frame.Title=i.Title;for(var n in this.OutVar){var h=this.OutVar[n];if(!0!==h.IsExData)if(0==h.Type)this.CreateLine(t,e,h,n);else if(1==h.Type)switch(h.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,h,n);break;case"DRAWTEXT":case"SUPERDRAWTEXT":this.CreateText(t,e,h,n);break;case"DRAWLINE":this.CreateStraightLine(t,e,h,n);break;case"DRAWBAND":this.CreateBand(t,e,h,n);break;case"DRAWKLINE":case"DRAWKLINE_IF":this.CreateKLine(t,e,h,n);break;case"POLYLINE":this.CreatePolyLine(t,e,h,n);break;case"DRAWNUMBER":case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,h,n);break;case"DRAWICON":this.CreateIcon(t,e,h,n);break;case"DRAWCHANNEL":this.CreateChannel(t,e,h,n);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,h,n);break;case"MULTI_LINE":this.CreateMultiLine(t,e,h,n);break;case"MULTI_BAR":this.CreateMultiBar(t,e,h,n);break;case"MULTI_TEXT":this.CreateMultiText(t,e,h,n);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,h,n)}else 2==h.Type?this.CreateMACD(t,e,h,n):3==h.Type?this.CreatePointDot(t,e,h,n):4==h.Type?this.CreateLineStick(t,e,h,n):5==h.Type?this.CreateStick(t,e,h,n):6==h.Type&&this.CreateVolStick(t,e,h,n,a)}return!0}},this.RecvResultData=function(t,e){var a=e.HQChart,i=e.WindowIndex,r=e.HistoryData;e.Self.OutVar=t,e.Self.BindData(a,i,r),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw();var n=a.GetOverlayIndexEvent();if(n){var s=e.Self,o={OutVar:s.OutVar,WindowIndex:i,Name:s.Name,Arguments:s.Arguments,HistoryData:r,Identify:s.OverlayIndex.Identify,Stock:{Symbol:a.Symbol,Name:a.Name}};n.Callback(n,o,s)}},this.CreateLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Q;if(s.Canvas=t.Canvas,s.DrawType=1,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(line.LineWidth=o)}0==a.IsShow&&(line.IsShow=!1);var h=e+1;s.Data.Data=a.Data,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[i]=new ue(s.Data,a.Name,s.Color),n.ChartPaint.push(s)},this.CreateBar=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new ot;s.Canvas=t.Canvas,a.Draw.Width>0?s.Width=a.Draw.Width:s.Width=1,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i);s.Data.Data=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateText=function(t,e,a,i,r){var n=this.OverlayIndex,s=n.Frame,o=new lt;o.Canvas=t.Canvas,o.Name=a.Name,o.ChartBorder=s.Frame.ChartBorder,o.ChartFrame=s.Frame,o.Identify=n.Identify,o.ReloadResource(),a.Color?o.Color=this.GetColor(a.Color):o.Color=this.GetDefaultColor(i);a.Draw.Position&&(o.Position=a.Draw.Position),a.Draw.DrawData&&(o.Data.Data=a.Draw.DrawData),o.Text=a.Draw.Text,a.Draw.Direction>0&&(o.Direction=a.Draw.Direction),a.Draw.YOffset>0&&(o.YOffset=a.Draw.YOffset),a.Draw.TextAlign&&(o.TextAlign=a.Draw.TextAlign),s.ChartPaint.push(o)},this.CreateMACD=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Ct;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify;var o=e+1;s.Data.Data=a.Data,t.TitlePaint[o].OverlayIndex.get(r.Identify).Data[i]=new ue(s.Data,a.Name,this.GetDefaultColor(i)),n.ChartPaint.push(s)},this.CreatePointDot=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new at;if(s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.Radius&&(s.Radius=a.Radius),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(s.Radius=o)}var h=e+1;s.Data.Data=a.Data,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[i]=new ue(s.Data,a.Name,s.Color),n.ChartPaint.push(s)},this.CreateStick=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new it;if(s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(s.LineWidth=o)}var h=e+1;s.Data.Data=a.Data,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[i]=new ue(s.Data,a.Name,s.Color),n.ChartPaint.push(s)},this.CreateLineStick=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new rt;if(s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(s.LineWidth=o)}var h=e+1;s.Data.Data=a.Data,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[i]=new ue(s.Data,a.Name,s.Color),n.ChartPaint.push(s)},this.CreateStraightLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Q;if(s.DrawType=1,s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(s.LineWidth=o)}s.Data.Data=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateVolStick=function(t,e,a,i,r){var n=this.OverlayIndex,s=n.Frame,o=new nt;o.Canvas=t.Canvas,o.Name=a.Name,o.ChartBorder=s.Frame.ChartBorder,o.ChartFrame=s.Frame,o.Identify=n.Identify,o.KLineDrawType=t.KLineDrawType,a.Color?o.Color=this.GetColor(a.Color):o.Color=this.GetDefaultColor(i);var h=e+1;o.Data.Data=a.Data,o.HistoryData=r,t.TitlePaint[h].OverlayIndex.get(n.Identify).Data[i]=new ue(o.Data,a.Name,o.Color),s.ChartPaint.push(o)},this.CreateBand=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new pt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.FirstColor=a.Draw.Color[0],s.SecondColor=a.Draw.Color[1],s.Data.Data=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateKLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new K;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data.Data=a.Draw.DrawData,s.IsShowMaxMinPrice=!1,s.IsShowKTooltip=!1,a.Color&&(s.UnchagneColor=s.DownColor=s.UpColor=this.GetColor(a.Color)),n.ChartPaint.push(s)},this.CreatePolyLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Q;if(s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.LineWidth){var o=parseInt(a.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(s.LineWidth=o)}var h=e+1;s.Data.Data=a.Draw.DrawData,t.TitlePaint[h].OverlayIndex.get(r.Identify).Data[i]=new ue(line.Data," ",line.Color),n.ChartPaint.push(s)},this.CreateNumberText=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new lt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.TextAlign="center",a.Color?s.Color=this.GetColor(a.Color):s.Color=this.GetDefaultColor(i),a.IsDrawAbove?s.Direction=1:s.Direction=2,a.Draw.Position&&(s.Position=a.Draw.Position);s.Data.Data=a.Draw.DrawData.Value,s.Text=a.Draw.DrawData.Text,n.ChartPaint.push(s)},this.CreateTextLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new It;if(s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,a.Draw&&a.Draw.DrawData){var o=a.Draw.DrawData;s.Text=o.Text,s.Line=o.Line,s.Price=o.Price}t.ChartPaint.push(s)},this.CreateIcon=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new lt;s.Canvas=t.Canvas,s.TextAlign="center",s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify;s.Data.Data=a.Draw.DrawData;var o=a.Draw.Icon;1==o.IconFont?s.IconFont={Family:o.Family,Text:o.Symbol,Color:o.Color}:(s.Text=o.Symbol,a.Color?s.Color=this.GetColor(a.Color):o.Color?s.Color=o.Color:s.Color="rgb(0,0,0)"),n.ChartPaint.push(s)},this.CreateChannel=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Tt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,a.Draw.AreaColor?s.AreaColor=a.Draw.AreaColor:a.Color?s.AreaColor=this.GetColor(a.Color):s.AreaColor=this.GetDefaultColor(i),a.Draw.Border.Color?s.LineColor=a.Draw.Border.Color:s.LineColor=null,a.Draw.Border.Dotted&&(s.LineDotted=a.Draw.Border.Dotted),a.Draw.Border.Width>0&&(s.LineWidth=a.Draw.Border.Width),s.Data.Data=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreatePartLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new et;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data.Data=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateMultiLine=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new gt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data=t.ChartPaint[0].Data,s.Lines=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateMultiBar=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new Lt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data=t.ChartPaint[0].Data,s.Bars=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateMultiText=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new yt;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data=t.ChartPaint[0].Data,s.Texts=a.Draw.DrawData,n.ChartPaint.push(s)},this.CreateMultiSVGIcon=function(t,e,a,i){var r=this.OverlayIndex,n=r.Frame,s=new At;s.Canvas=t.Canvas,s.Name=a.Name,s.ChartBorder=n.Frame.ChartBorder,s.ChartFrame=n.Frame,s.Identify=r.Identify,s.Data=t.ChartPaint[0].Data,s.Family=a.Draw.DrawData.Family,s.Icon=a.Draw.DrawData.Icon,n.ChartPaint.push(s)},this.CreateSelfKLine=function(t,e,a){var i=this.OverlayIndex,r=i.Frame,n=new K;n.Canvas=t.Canvas,n.Name="Self Kline",n.ChartBorder=r.Frame.ChartBorder,n.ChartFrame=r.Frame,n.Identify=i.Identify,n.Data=a,n.IsShowMaxMinPrice=!1,n.IsShowKTooltip=!1,n.DrawType=this.KLineType,r.ChartPaint.push(n)},this.GetDefaultColor=function(t){var e=["rgb(24,71,178)","rgb(42,230,215)","rgb(252,96,154)","rgb(0,128,255)","rgb(229,0,79)","rgb(68,114,196)","rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)"];return e[parseInt(t)%(e.length-1)]}}function ri(t,e,a,i,r){this.newMethod=r?ii:ai,this.newMethod(t,e,a,i),delete this.newMethod,this.IsOverlayIndex=1==r,this.ApiUrl,this.HQDataType,this.Version=1,i.API&&(i.API.Url&&(this.ApiUrl=i.API.Url),i.API.Name&&(this.Name=this.ID=i.API.Name),i.API.ID&&(this.ID=i.API.ID),i.API.Version>0&&(this.Version=i.API.Version)),this.ExecuteScript=function(t,e,a){xi.Complier.Log("[APIScriptIndex::ExecuteScript] name, Arguments ",this.Name,this.Arguments);var i=vr.KLINE_ID;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?i=t.DayCount>1?vr.MULTIDAY_MINUTE_ID:vr.MINUTE_ID:"HistoryMinuteChartContainer"===t.ClassName&&(i=vr.HISTORY_MINUTE_ID);var r=[];if(this.Arguments)for(var s in this.Arguments){var o=this.Arguments[s];r.push({name:o.Name,value:o.Value})}var h;t.GetRequestDataCount&&(h=t.GetRequestDataCount());var l=this,u={indexname:this.ID,symbol:t.Symbol,script:this.Script,args:r,period:t.Period,right:t.Right,hqdatatype:i};if(h&&(u.maxdatacount=h.MaxRequestDataCount,u.maxminutedaycount=h.MaxRequestMinuteDayCount),i!=vr.MULTIDAY_MINUTE_ID&&i!=vr.MINUTE_ID||(u.daycount=t.DayCount),this.HQDataType=i,t.NetworkFilter){var d={Name:"APIScriptIndex::ExecuteScript",Explain:"指标计算",Request:{Url:l.ApiUrl,Type:"POST",Data:u},Self:this,HQChart:t,PreventDefault:!1};if(t.NetworkFilter(d,function(i){2==l.Version?l.RecvAPIData2(i,t,e,a):l.RecvAPIData(i,t,e,a)}),1==d.PreventDefault)return}n.HttpRequest({url:l.ApiUrl,data:u,type:"post",dataType:"json",async:!0,success:function(i){l.RecvAPIData(i,t,e,a)},error:function(t){l.RecvError(t)}})},this.RecvAPIData2=function(t,e,a,i){if(xi.Complier.Log("[APIScriptIndex::RecvAPIData2] recv data ",this.Name,t),this.HQDataType==vr.KLINE_ID&&(this.OutVar=this.ConvertToLocalData(t,e),xi.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)),this.BindData(e,a,i),e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var r=e.GetIndexEvent();if(r){var t={OutVar:this.OutVar,WindowIndex:a,Name:this.Name,Arguments:this.Arguments,HistoryData:i,Stock:{Symbol:e.Symbol,Name:e.Name}};r.Callback(r,t,this)}}},this.ConvertToLocalData=function(t,e){var a=t.OutVar,i=e.ChartPaint[0].Data;if(G.IsDayPeriod(t.Period,!0))var r=i.GetAPIDataIndex(t.Date);else var r=i.GetAPIDataIndex(t.Date,t.Time);var n=[];for(var s in a){var o=a[s],h={Type:o.Type,Name:o.Name};if(0==o.Type){h.Data=[];for(var l=0;l<r.length;++l){var u=r[l];u.Index<0?h.Data[l]=null:h.Data[l]=o.Data[u.Index]}}else{if(1!=o.Type)continue;h.Name=o.DrawType,h.Draw={DrawType:o.DrawType};var d=o.Draw;switch(o.DrawType){case"STICKLINE":for(var c=[],l=0;l<r.length;++l){c[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var m=d.Price[D],C=d.Price2[D];Wt.IsNumber(m)&&Wt.IsNumber(C)&&(c[l]={Value:m,Value2:C})}}h.Draw.DrawData=c,h.Draw.Width=d.Width,h.Draw.Type=d.Empty;break;case"DRAWTEXT":for(var c=[],l=0;l<r.length;++l){c[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var m=d.Price[D];Wt.IsNumber(m)&&(c[l]=m)}}h.Draw.DrawData=c,h.Draw.Text=d.Text;break;case"DRAWNUMBER":for(var c={Value:[],Text:[]},l=0;l<r.length;++l){c.Value[l]=null,c.Text[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var m=d.Price[D],f=d.Number[D];Wt.IsNumber(m)&&Wt.IsNumber(f)&&(c.Value[l]=m,c.Text[l]=f.toFixed(2))}}h.Draw.DrawData=c;break;case"DRAWBAND":for(var c=[],l=0;l<r.length;++l){c[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var m=d.Val1[D],C=d.Val2[D];Wt.IsNumber(m)&&Wt.IsNumber(C)&&(c[l]={Value:m,Value2:C})}}h.Draw.DrawData=c,h.Draw.Color=[d.Color1.toLowerCase(),d.Color2.toLowerCase()];break;case"DRAWKLINE":for(var c=[],l=0;l<r.length;++l){var o={Open:null,High:null,Low:null,Close:null};c[l]=o;var u=r[l],D=u.Index;if(!(D<0)){var p=d.High[D],v=d.Low[D],S=d.Open[D],T=d.Close[D];Wt.IsPlusNumber(p)&&Wt.IsPlusNumber(v)&&Wt.IsPlusNumber(S)&&Wt.IsPlusNumber(T)&&(o.Open=S,o.Close=T,o.High=p,o.Low=v)}}h.Draw.DrawData=c;break;case"DRAWTEXT_FIX":for(var c={Value:[],Text:[]},l=0;l<r.length;++l){c.Value[l]=0,c.Text[l]=null;var u=r[l],D=u.Index;if(!(D<0)){d.Cond[D]&&(c.Value[l]=1,c.Text[l]=d.Text)}}h.Draw.DrawData=c,h.Draw.Position={X:d.X,Y:d.Y,Type:d.Type};break;case"DRAWNUMBER_FIX":for(var c={Value:[],Text:[]},l=0;l<r.length;++l){c.Value[l]=null,c.Text[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var M=d.Number[D];Wt.IsNumber(M)&&(c.Value[l]=M,c.Text[l]=Wt.RemoveZero(M.toFixed(2)))}}h.Draw.DrawData=c,h.Draw.Position={X:d.X,Y:d.Y,Type:d.Type};break;case"DRAWICON":var _=lr.GetDrawIcon(d.Type);_||lr.GetDrawTextIcon(d.Type),_||(_={Symbol:"🚩"}),h.Draw.Icon=_;for(var c=[],l=0;l<r.length;++l){c[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var M=d.Price[D];Wt.IsNumber(M)&&(c[l]=M)}}h.Draw.DrawData=c;break;case"PARTLINE":for(var c=[],l=0;l<r.length;++l){c[l]={Value:null,RGB:null};var u=r[l],D=u.Index;if(!(D<0)){var I=d.Color[D];if(Wt.IsString(I)){var M=d.Price[D];Wt.IsNumber(M)&&(c[l].Value=M,c[l].RGB=I)}}}h.Draw.DrawData=c;break;case"FILLRGN":for(var c=[],l=0;l<r.length;++l){c[l]=null;var u=r[l],D=u.Index;if(!(D<0)){var I=d.Color[D];if(Wt.IsString(I)){var M=d.Price[D];if(Wt.IsNumber(M)){var L=d.Price2[D];Wt.IsNumber(L)&&(c[l]={Value:M,Value2:L,Color:I})}}}}h.Draw.DrawData=c,h.Draw.DrawType="FILLRGN2";break;default:continue}}for(var s in o.Attribute){var g=o.Attribute[s];switch(g){case"COLORSTICK":h.Type=2;break;case"POINTDOT":h.Radius=2,h.Type=3;break;case"CIRCLEDOT":h.Radius=1.3,h.Type=3;break;case"DOTLINE":h.IsDotLine=!0;break;case"DRAWABOVE":h.IsDrawAbove=!0;break;case"LINESTICK":h.Type=4;break;case"STICK":h.Type=5;break;case"VOLSTICK":h.Type=6;break;case"NODRAW":M.IsShow=!1}0==g.indexOf("COLOR")?h.Color=g:0==g.indexOf("LINETHICK")&&(h.LineWidth=g)}n.push(h)}return n},this.RecvAPIData=function(t,e,a,i){if(xi.Complier.Log("[APIScriptIndex::RecvAPIData] recv data ",this.Name,t),0==t.code){if(t.outdata&&t.outdata.name&&(this.Name=t.outdata.name),t.outdata.args){this.Arguments=[];for(var r in t.outdata.args){var n=t.outdata.args[r];this.Arguments.push({Name:n.name,Value:n.value})}}if(this.HQDataType==vr.KLINE_ID?(this.OutVar=this.FittingData(t.outdata,e),xi.Complier.Log("[APIScriptIndex::RecvAPIData] conver to OutVar ",this.OutVar)):this.OutVar=this.FittingMinuteData(t.outdata,e),this.BindData(e,a,i),0==this.IsLocked)e.Frame.SubFrame[a].Frame.SetLock(null);else{var s={IsLocked:!0,Callback:this.LockCallback,IndexName:this.Name,ID:this.LockID,BG:this.LockBG,Text:this.LockText,TextColor:this.LockTextColor,Font:this.LockFont,Count:this.LockCount,MinWidth:this.LockMinWidth};e.Frame.SubFrame[a].Frame.SetLock(s)}if(e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var o=e.GetIndexEvent();if(o){var t={OutVar:this.OutVar,WindowIndex:a,Name:this.Name,Arguments:this.Arguments,HistoryData:i,Stock:{Symbol:e.Symbol,Name:e.Name}};o.Callback(o,t,this)}}}},this.FittingArray=function(t,e,a,i,r){var n=i.ChartPaint[0].Data,s=[];for(var o in t){var h=t[o],l=new H;l.Date=e[o],a&&o<a.length&&(l.Time=a[o]),l.Value=h,s.push(l)}var u;u=G.IsDayPeriod(i.Period,!0)?n.GetFittingData(s):n.GetMinuteFittingData(s);var d=new G;d.Data=u;return 1==r?d.GetObject():d.GetValue()},this.FittingMultiLine=function(t,e,a,i){var r=i.ChartPaint[0].Data;if(G.IsDayPeriod(i.Period,!0)){var n=[];for(var s in t){var o=t[s];for(var h in o.Point){var l=o.Point[h];n.push(l)}}return n.sort(function(t,e){return t.Date-e.Date}),r.GetDateIndex(n),t}if(G.IsMinutePeriod(i.Period,!0)){var n=[];for(var s in t){var o=t[s];for(var h in o.Point){var l=o.Point[h];n.push(l)}}return n.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),r.GetDateTimeIndex(n),t}return null},this.FittingMultiText=function(t,e,a,i){var r=i.ChartPaint[0].Data;return G.IsDayPeriod(i.Period,!0)?(t.sort(function(t,e){return t.Date-e.Date}),r.GetDateIndex(t),t):G.IsMinutePeriod(i.Period,!0)?(t.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),r.GetDateTimeIndex(t),t):null},this.FittingData=function(t,e){var a=t.outvar,i=t.date,r=t.time,n=(e.ChartPaint[0].Data,[]);for(var s in a){var o=a[s],h={Name:o.name,Type:o.type};if(o.color&&(h.Color=o.color),o.data)h.Data=this.FittingArray(o.data,i,r,e),o.color&&(h.Color=o.color),o.linewidth>=1&&(h.LineWidth=o.linewidth),0==o.isshow&&(h.IsShow=!1),1==o.isexdata&&(h.IsExData=!0),n.push(h);else if(o.Draw){var l=o.Draw,u={};if("DRAWICON"==l.DrawType)u.Icon=l.Icon,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e),h.Draw=u,n.push(h);else if("DRAWTEXT"==l.DrawType)u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e),h.Draw=u,n.push(h);else if("STICKLINE"==l.DrawType)u.Name=l.Name,u.Type=l.Type,u.Width=l.Width,u.DrawType=l.DrawType,u.DrawData=this.FittingArray(l.DrawData,i,r,e,1),h.Draw=u,n.push(h);else if("MULTI_LINE"==l.DrawType)u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingMultiLine(l.DrawData,i,r,e),h.Draw=u,n.push(h);else if("MULTI_BAR"==l.DrawType)u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingMultiLine(l.DrawData,i,r,e),h.Draw=u,n.push(h);else if("MULTI_TEXT"==l.DrawType)u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData=this.FittingMultiText(l.DrawData,i,r,e),h.Draw=u,n.push(h);else if("MULTI_SVGICON"==l.DrawType)u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType,u.DrawData={Icon:this.FittingMultiText(l.DrawData.Icon,i,r,e),Family:l.DrawData.Family},h.Draw=u,n.push(h);else if("COLOR_KLINE"==l.DrawType){u.Text=l.Text,u.Name=l.Name,u.DrawType=l.DrawType;var d=this.FittingMultiText(l.DrawData.KLine,i,r,e),c=new Ai.default;for(var s in d){var o=d[s];c.set(o.Index,o)}u.DrawData={KLine:c},l.Color&&(h.Color=l.Color),h.Draw=u,n.push(h)}}}return n},this.FittingMinuteData=function(t,e){var a=t.outvar,i=t.date,r=t.time,n=[];for(var s in a){item=a[s];var o={Name:item.name,Type:item.type};item.data&&(o.Data=this.FittingMinuteArray(item.data,i,r,e),item.color&&(o.Color=item.color),item.linewidth>=1&&(o.LineWidth=item.linewidth),0==item.isshow&&(o.IsShow=!1),1==item.isexdata&&(o.IsExData=!0),n.push(o))}return n},this.FittingMinuteArray=function(t,e,a,i){var r=i.SourceData,n=[];for(var s in t){var o=t[s],h=new H;h.Date=e[s],a&&s<a.length&&(h.Time=a[s]),h.Value=o,n.push(h)}var l=r.GetMinuteFittingData(n),u=new G;return u.Data=l,u.GetValue()}}function ni(t,e,a){this.newMethod=ai,this.newMethod(t,null,e,null),delete this.newMethod,this.JsonData,a.JsonData&&(this.JsonData=a.JsonData),this.RequestData=function(t,e,a){if(!this.JsonData)return console.warn("[LocalJsonDataIndex::RequestData] JsonData is null"),void(param.HQChart.ScriptErrorCallback&&param.HQChart.ScriptErrorCallback("json 数据不能为空"));this.OutVar=this.FittingData(this.JsonData,a),this.BindData(t,e,a)},this.FittingData=function(t,e){outVar=t.OutVar,date=t.Date,time=t.Time,result=[];for(i in outVar)if(item=outVar[i],xi.Complier.Log("[LocalJsonDataIndex::FittingData] item",item),0==item.Type||3==item.Type){var a=[];outVarItem={Name:item.Name,Type:item.Type};for(j in item.Data){var r=new H;r.Date=date[j],time&&j<time.length&&(r.Time=time[j]),r.Value=item.Data[j],a.push(r)}if(e.Period<4)var n=e.GetFittingData(a);else var n=e.GetMinuteFittingData(a);var s=new G;s.Data=n,outVarItem.Data=s.GetValue(),result.push(outVarItem)}else console.warn("[LocalJsonDataIndex::FittingData] can't support ",item.Name,item.Type);return result}}function si(t){this.ID,this.Name,this.Script,this.Arguments=[],this.ClassName="ScriptIndexConsole",this.ErrorCallback,this.FinishCallback,this.IsSectionMode=!1,t&&(t.Name&&(this.Name=t.Name),t.Script&&(this.Script=t.Script),t.ID&&(this.ID=t.ID),t.Args&&(this.Arguments=t.Args),t.ErrorCallback&&(this.ErrorCallback=t.ErrorCallback),t.FinishCallback&&(this.FinishCallback=t.FinishCallback),t.IsSectionMode&&(this.IsSectionMode=t.IsSectionMode)),this.ExecuteScript=function(t){this.OutVar=[];var e={Self:this},a={HQDataType:t.HQDataType,Symbol:t.Stock.Symbol,Name:t.Stock.Name,Period:t.Period,Right:t.Right,Callback:this.RecvResultData,CallbackParam:e,Async:!0,MaxRequestDataCount:t.Request.MaxDataCount,MaxRequestMinuteDayCount:t.Request.MaxMinuteDayCount,Arguments:this.Arguments,IsSectionMode:this.IsSectionMode,ClassName:"ScriptIndexConsole"};t.HQDataType===vr.HISTORY_MINUTE_ID&&(a.TrateDate=t.Request.TradeDate),t.HQDataType==vr.MULTIDAY_MINUTE_ID&&(a.DayCount=t.DayCount);var i=this.Script;ei.Execute(i,a,this.ErrorCallback)},this.RecvResultData=function(t,e){var a=e.Self,i=e.JSExecute,r=null;i.SymbolData.Data&&(r=i.SymbolData.Data.GetDate());var n={Out:t,Date:r,Stock:{Name:i.SymbolData.Name,Symbol:i.SymbolData.Symbol},Index:{Name:a.Name,ID:a.ID}};i.SymbolData.DataType==vr.MULTIDAY_MINUTE_ID||i.SymbolData.DataType==vr.MINUTE_ID?n.Time=i.SymbolData.Data.GetTime():i.SymbolData.DataType==vr.KLINE_ID&&G.IsMinutePeriod(i.SymbolData.Period,!0)&&(n.Time=i.SymbolData.Data.GetTime()),a.FinishCallback&&a.FinishCallback(n,e.JSExecute)}}function oi(){}Object.defineProperty(e,"__esModule",{value:!0});var hi,li=a(57),ui=r(li),di=a(223),ci=(r(di),a(219)),Di=r(ci),mi=a(221),Ci=r(mi),fi=a(220),pi=r(fi),vi=a(226),Si=r(vi),Ti=a(56),Mi=r(Ti),_i=a(55),Ii=r(_i),Li=a(218),gi=r(Li),yi=a(32),Ai=r(yi),Fi=a(30),Ei=r(Fi),xi={Chart:{Log:console.log},Complier:{Log:console.log},JSTable:{Log:console.log}};n.HttpRequest=function(t){Ei.default.ajax({url:t.url,data:t.data,type:t.type,dataType:t.dataType,async:t.async,success:t.success,error:t.error})};var Ni={MINUTE_ID:101,MULTIDAY_MINUTE_ID:102,HISTORY_MINUTE_ID:103,KLINE_DAY_ID:0,KLINE_WEEK_ID:1,KLINE_TWOWEEK_ID:21,KLINE_MONTH_ID:2,KLINE_QUARTER_ID:9,KLINE_YEAR_ID:3,KLINE_MINUTE_ID:4,KLINE_5_MINUTE_ID:5,KLINE_15_MINUTE_ID:6,KLINE_30_MINUTE_ID:7,KLINE_60_MINUTE_ID:8},wi=new s;if(o.AddIndex=function(t){for(var e in t)wi.Add(t[e])},o.prototype.Get=function(t){var e=wi.Get(t);if(e)return e;var a=this.DataMap.get(t);return a?a():null},o.prototype.Search=function(t){var e=[],a=new RegExp(t,"i");return this.DataMap.forEach(function(t,i){0!=i.indexOf("交易系统-")&&0!=i.indexOf("五彩K线-")&&i.search(a)>=0&&e.push(i)}),e},o.prototype.MA=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);"}},o.prototype.MA4=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);"}},o.prototype.MA5=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);"}},o.prototype.MA6=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);"}},o.prototype.MA7=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);"}},o.prototype.MA8=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0},{Name:"M8",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"},{Name:"MA8",DynamicName:"MA{M8}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);\nMA8:MA(CLOSE,M8);"}},o.prototype.BOLL=function(){return{Name:"BOLL",Description:"布林线",IsMainIndex:!0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},o.prototype.BOLL2=function(){return{Name:"BOLL2",Description:"布林线",IsMainIndex:!1,KLineType:0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},o.prototype.BBI=function(){return{Name:"BBI",Description:"多空均线",IsMainIndex:!0,Args:[{Name:"M1",Value:3},{Name:"M2",Value:6},{Name:"M3",Value:12},{Name:"M4",Value:24}],Script:"BBI:(MA(CLOSE,M1)+MA(CLOSE,M2)+MA(CLOSE,M3)+MA(CLOSE,M4))/4;"}},o.prototype.DKX=function(){return{Name:"DKX",Description:"多空线",IsMainIndex:!1,Args:[{Name:"M",Value:10}],Script:"MID:=(3*CLOSE+LOW+OPEN+HIGH)/6;\nDKX:(20*MID+19*REF(MID,1)+18*REF(MID,2)+17*REF(MID,3)+\n16*REF(MID,4)+15*REF(MID,5)+14*REF(MID,6)+\n13*REF(MID,7)+12*REF(MID,8)+11*REF(MID,9)+\n10*REF(MID,10)+9*REF(MID,11)+8*REF(MID,12)+\n7*REF(MID,13)+6*REF(MID,14)+5*REF(MID,15)+\n4*REF(MID,16)+3*REF(MID,17)+2*REF(MID,18)+REF(MID,20))/210;\nMADKX:MA(DKX,M);"}},o.prototype.MIKE=function(){return{Name:"MIKE",Description:"麦克支撑压力",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"HLC:=REF(MA((HIGH+LOW+CLOSE)/3,N),1);\nHV:=EMA(HHV(HIGH,N),3);\nLV:=EMA(LLV(LOW,N),3);\nSTOR:EMA(2*HV-LV,3);\nMIDR:EMA(HLC+HV-LV,3);\nWEKR:EMA(HLC*2-LV,3);\nWEKS:EMA(HLC*2-HV,3);\nMIDS:EMA(HLC-HV+LV,3);\nSTOS:EMA(2*LV-HV,3);"}},o.prototype.PBX=function(){return{Name:"PBX",Description:"瀑布线",IsMainIndex:!0,Args:[{Name:"M1",Value:4},{Name:"M2",Value:6},{Name:"M3",Value:9},{Name:"M4",Value:13},{Name:"M5",Value:18},{Name:"M6",Value:24}],Script:"PBX1:(EMA(CLOSE,M1)+MA(CLOSE,M1*2)+MA(CLOSE,M1*4))/3;\nPBX2:(EMA(CLOSE,M2)+MA(CLOSE,M2*2)+MA(CLOSE,M2*4))/3;\nPBX3:(EMA(CLOSE,M3)+MA(CLOSE,M3*2)+MA(CLOSE,M3*4))/3;\nPBX4:(EMA(CLOSE,M4)+MA(CLOSE,M4*2)+MA(CLOSE,M4*4))/3;\nPBX5:(EMA(CLOSE,M5)+MA(CLOSE,M5*2)+MA(CLOSE,M5*4))/3;\nPBX6:(EMA(CLOSE,M6)+MA(CLOSE,M6*2)+MA(CLOSE,M6*4))/3;"}},o.prototype.ENE=function(){return{Name:"ENE",Description:"轨道线",IsMainIndex:!0,Args:[{Name:"N",Value:25},{Name:"M1",Value:6},{Name:"M2",Value:6}],Script:"UPPER:(1+M1/100)*MA(CLOSE,N);\nLOWER:(1-M2/100)*MA(CLOSE,N);\nENE:(UPPER+LOWER)/2;"}},o.prototype.MACD=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA:EMA(DIF,MID);\nMACD:(DIF-DEA)*2,COLORSTICK;"}},o.prototype.MACD2=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF2:=EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA2:=EMA(DIF2,MID);\nMACD:(DIF2-DEA2)*2,COLORSTICK,LINETHICK50;\nDIF:DIF2;\nDEA:DEA2;"}},o.prototype.KDJ=function(){return{Name:"KDJ",Description:"随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);\nJ:3*K-2*D;"}},o.prototype.VOL=function(){return{Name:"VOL",Description:"成交量",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"}],Script:"VOL:VOL,VOLSTICK;\nMA1:MA(VOL,M1);\nMA2:MA(VOL,M2);"}},o.prototype.VOL_TDX=function(){return{Name:"VOL-TDX",Description:"成交量(虚拟)",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"TOTAL:=IF(PERIOD=1,5,IF(PERIOD=2,15,IF(PERIOD=3,30,IF(PERIOD=4,60,IF(PERIOD=5,TOTALFZNUM,1)))));\nMTIME:=MOD(FROMOPEN,TOTAL);\nCTIME:=IF(MTIME<0.5,TOTAL,MTIME);\nVVOL:IF((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VOL*(TOTAL+3)/(CTIME+3),DRAWNULL),NODRAW;\nSTICKLINE((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VVOL,0,-1,-1),COLORYELLOW;\nVOLUME:VOL,VOLSTICK;\nMAVOL1:MA(VOLUME,M1);\nMAVOL2:MA(VOLUME,M2);"}},o.prototype.RSI=function(){return{Name:"RSI",Description:"相对强弱指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(CLOSE,1);\nRSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;\nRSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;\nRSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;"}},o.prototype.BRAR=function(){return{Name:"BRAR",Description:"情绪指标",IsMainIndex:!1,Args:[{Name:"N",Value:26}],Script:"BR:SUM(MAX(0,HIGH-REF(CLOSE,1)),N)/SUM(MAX(0,REF(CLOSE,1)-LOW),N)*100;\nAR:SUM(HIGH-OPEN,N)/SUM(OPEN-LOW,N)*100;"}},o.prototype.WR=function(){return{Name:"WR",Description:"威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:10},{Name:"N1",Value:6}],Script:"WR1:100*(HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N));\nWR2:100*(HHV(HIGH,N1)-CLOSE)/(HHV(HIGH,N1)-LLV(LOW,N1));"}},o.prototype.BIAS=function(){return{Name:"BIAS",Description:"乖离率",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"BIAS1 :(CLOSE-MA(CLOSE,N1))/MA(CLOSE,N1)*100;\nBIAS2 :(CLOSE-MA(CLOSE,N2))/MA(CLOSE,N2)*100;\nBIAS3 :(CLOSE-MA(CLOSE,N3))/MA(CLOSE,N3)*100;"}},o.prototype.OBV=function(){return{Name:"OBV",Description:"累积能量线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\nOBV:SUM(IF(CLOSE==REF(CLOSE,1),0,VA),0);\nMAOBV:MA(OBV,M);"}},o.prototype.DMI=function(){return{Name:"DMI",Description:"趋向指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"MM",Value:6}],Script:"MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nDMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\nDMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\nPDI: DMP*100/MTR;\nMDI: DMM*100/MTR;\nADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\nADXR:EXPMEMA(ADX,MM);"}},o.prototype.CR=function(){return{Name:"CR",Description:"带状能量线",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:40},{Name:"M4",Value:62}],Script:"MID:=REF(HIGH+LOW,1)/2;\nCR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\nMA1:REF(MA(CR,M1),M1/2.5+1);\nMA2:REF(MA(CR,M2),M2/2.5+1);\nMA3:REF(MA(CR,M3),M3/2.5+1);\nMA4:REF(MA(CR,M4),M4/2.5+1);"}},o.prototype.PSY=function(){return{Name:"PSY",Description:"心理线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"PSY:COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\rPSYMA:MA(PSY,M);"}},o.prototype.CCI=function(){return{Name:"CCI",Description:"商品路径指标",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));"}},o.prototype.DMA=function(){return{Name:"DMA",Description:"平均差",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:50},{Name:"M",Value:10}],Script:"DIF:MA(CLOSE,N1)-MA(CLOSE,N2);\nDIFMA:MA(DIF,M);"}},o.prototype.TRIX=function(){return{Name:"TRIX",Description:"三重指数平均线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:9}],Script:"MTR:=EMA(EMA(EMA(CLOSE,N),N),N);\nTRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\nMATRIX:MA(TRIX,M) ;"}},o.prototype.VR=function(){return{Name:"VR",Description:"成交量变异率",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M",Value:6}],Script:"TH:=SUM(IF(CLOSE>REF(CLOSE,1),VOL,0),N);\nTL:=SUM(IF(CLOSE<REF(CLOSE,1),VOL,0),N);\nTQ:=SUM(IF(CLOSE==REF(CLOSE,1),VOL,0),N);\nVR:100*(TH*2+TQ)/(TL*2+TQ);\nMAVR:MA(VR,M);"}},o.prototype.EMV=function(){return{Name:"EMV",Description:"简易波动指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"M",Value:9}],Script:"VOLUME:=MA(VOL,N)/VOL;\nMID:=100*(HIGH+LOW-REF(HIGH+LOW,1))/(HIGH+LOW);\nEMV:MA(MID*VOLUME*(HIGH-LOW)/MA(HIGH-LOW,N),N);\nMAEMV:MA(EMV,M);"}},o.prototype.ROC=function(){return{Name:"ROC",Description:"变动率指标",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"ROC:100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMAROC:MA(ROC,M);"}},o.prototype.MTM=function(){return{Name:"MTM",Description:"动量线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"MTM:CLOSE-REF(CLOSE,N);\nMAMTM:MA(MTM,M);"}},o.prototype.FSL=function(){return{Name:"FSL",Description:"分水岭",IsMainIndex:!1,Args:[],Script:"SWL:(EMA(CLOSE,5)*7+EMA(CLOSE,10)*3)/10;\nSWS:DMA(EMA(CLOSE,12),MAX(1,100*(SUM(VOL,5)/(3*CAPITAL))));"}},o.prototype.CYR=function(){return{Name:"CYR",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N",Value:13},{Name:"M",Value:5}],Script:"DIVE:=0.01*EMA(AMOUNT,N)/EMA(VOL,N);\nCYR:(DIVE/REF(DIVE,1)-1)*100;\nMACYR:MA(CYR,M);"}},o.prototype.MASS=function(){return{Name:"MASS",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N1",Value:9},{Name:"N2",Value:25},{Name:"M",Value:6}],Script:"MASS:SUM(MA(HIGH-LOW,N1)/MA(MA(HIGH-LOW,N1),N1),N2);\nMAMASS:MA(MASS,M);"}},o.prototype.WAD=function(){return{Name:"WAD",Description:"威廉多空力度线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"MIDA:=CLOSE-MIN(REF(CLOSE,1),LOW);\nMIDB:=IF(CLOSE<REF(CLOSE,1),CLOSE-MAX(REF(CLOSE,1),HIGH),0);\nWAD:SUM(IF(CLOSE>REF(CLOSE,1),MIDA,MIDB),0);\nMAWAD:MA(WAD,M);"}},o.prototype.CHO=function(){return{Name:"CHO",Description:"佳庆指标",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:20},{Name:"M",Value:6}],Script:"MID:=SUM(VOL*(2*CLOSE-HIGH-LOW)/(HIGH+LOW),0);\nCHO:MA(MID,N1)-MA(MID,N2);\nMACHO:MA(CHO,M);"}},o.prototype.ADTM=function(){return{Name:"ADTM",Description:"动态买卖气指标",IsMainIndex:!1,Args:[{Name:"N",Value:23},{Name:"M",Value:8}],Script:"DTM:=IF(OPEN<=REF(OPEN,1),0,MAX((HIGH-OPEN),(OPEN-REF(OPEN,1))));\nDBM:=IF(OPEN>=REF(OPEN,1),0,MAX((OPEN-LOW),(OPEN-REF(OPEN,1))));\nSTM:=SUM(DTM,N);\nSBM:=SUM(DBM,N);\nADTM:IF(STM>SBM,(STM-SBM)/STM,IF(STM==SBM,0,(STM-SBM)/SBM));\nMAADTM:MA(ADTM,M);"}},o.prototype.HSL=function(){return{Name:"HSL",Description:"换手线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100);\nMAHSL:MA(HSL,N);"}},o.prototype.BIAS36=function(){return{Name:"BIAS36",Description:"三六乖离",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"BIAS36:MA(CLOSE,3)-MA(CLOSE,6);\nBIAS612:MA(CLOSE,6)-MA(CLOSE,12);\nMABIAS:MA(BIAS36,M);"}},o.prototype.BIAS_QL=function(){return{Name:"BIAS_QL",Description:"乖离率-传统版",IsMainIndex:!1,Args:[{Name:"N",Value:6},{Name:"M",Value:6}],Script:"BIAS :(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nBIASMA :MA(BIAS,M);"}},o.prototype.DPO=function(){return{Name:"DPO",Description:"区间震荡线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"DPO:CLOSE-REF(MA(CLOSE,N),N/2+1);\nMADPO:MA(DPO,M);"}},o.prototype.OSC=function(){return{Name:"OSC",Description:"变动速率线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"OSC:100*(CLOSE-MA(CLOSE,N));\nMAOSC:EXPMEMA(OSC,M);"}},o.prototype.ATR=function(){return{Name:"ATR",Description:"真实波幅",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"MTR:MAX(MAX((HIGH-LOW),ABS(REF(CLOSE,1)-HIGH)),ABS(REF(CLOSE,1)-LOW));\nATR:MA(MTR,N);"}},o.prototype.NVI=function(){return{Name:"ATR",Description:"负成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V<REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},o.prototype.PVI=function(){return{Name:"PVI",Description:"正成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V>REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},o.prototype.UOS=function(){return{Name:"UOS",Description:"终极指标",IsMainIndex:!1,Args:[{Name:"N1",Value:7},{Name:"N2",Value:14},{Name:"N3",Value:28},{Name:"M",Value:6}],Script:"TH:=MAX(HIGH,REF(CLOSE,1));\nTL:=MIN(LOW,REF(CLOSE,1));\nACC1:=SUM(CLOSE-TL,N1)/SUM(TH-TL,N1);\nACC2:=SUM(CLOSE-TL,N2)/SUM(TH-TL,N2);\nACC3:=SUM(CLOSE-TL,N3)/SUM(TH-TL,N3);\nUOS:(ACC1*N2*N3+ACC2*N1*N3+ACC3*N1*N2)*100/(N1*N2+N1*N3+N2*N3);\nMAUOS:EXPMEMA(UOS,M);"}},o.prototype.CYW=function(){return{Name:"CYW",Description:"主力控盘",IsMainIndex:!1,Args:[],Script:"VAR1:=CLOSE-LOW;\nVAR2:=HIGH-LOW;\nVAR3:=CLOSE-HIGH;\nVAR4:=IF(HIGH>LOW,(VAR1/VAR2+VAR3/VAR2)*VOL,0);\nCYW: SUM(VAR4,10)/10000, COLORSTICK;"}},o.prototype.LON=function(){return{Name:"LON",Description:"龙系长线",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"LC := REF(CLOSE,1);\nVID := SUM(VOL,2)/(((HHV(HIGH,2)-LLV(LOW,2)))*100);\nRC := (CLOSE-LC)*VID;\nLONG := SUM(RC,0);\nDIFF := SMA(LONG,10,1);\nDEA := SMA(LONG,20,1);\nLON : DIFF-DEA;\nLONMA : MA(LON,10);\nLONT : LON, COLORSTICK;"}},o.prototype.NDB=function(){return{Name:"NDB",Description:"脑电波",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"HH:=IF(C/REF(C,1)>1.098 AND L>REF(H,1),2*C-REF(C,1)-H,2*C-H-L);\nV1:= BARSCOUNT(C) - 1;\nV2:= 2 * REF(C, V1) - REF(H, V1) - REF(L, V1);\nDK: SUM(HH, 0) + V2;\nMDK5: MA(DK, P1);\nMDK10: MA(DK, P2);"}},o.prototype.SKDJ=function(){return{Name:"SKDJ",Description:"慢速随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M",Value:3}],Script:"LOWV:=LLV(LOW,N);\nHIGHV:=HHV(HIGH,N);\nRSV:=EMA((CLOSE-LOWV)/(HIGHV-LOWV)*100,M);\nK:EMA(RSV,M);\nD:MA(K,M);"}},o.prototype.KD=function(){return{Name:"KD",Description:"随机指标KD",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);"}},o.prototype.FKX=function(){return{Name:"FKX",Description:"反K线",IsMainIndex:!0,Args:[],Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"}},o.prototype.DKCOL=function(){return{Name:"DKCOL",Description:"多空能量柱(适用于分时主图)",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"FF:=(C-REF(C,N))/REF(C,N);\nSTICKLINE(FF>0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORRED;\nSTICKLINE(FF<0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORGREEN;"}},o.prototype.UDL=function(){return{Name:"UDL",Description:"引力线",IsMainIndex:!1,Args:[{Name:"N1",Value:3},{Name:"N2",Value:5},{Name:"N3",Value:10},{Name:"N4",Value:20},{Name:"M",Value:6}],Script:"UDL:(MA(CLOSE,N1)+MA(CLOSE,N2)+MA(CLOSE,N3)+MA(CLOSE,N4))/4;\nMAUDL:MA(UDL,M);"}},o.prototype.MFI=function(){return{Name:"MFI",Description:"资金流量指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"N2",Value:6}],Script:"TYP := (HIGH + LOW + CLOSE)/3;\nV1:=SUM(IF(TYP>REF(TYP,1),TYP*VOL,0),N)/SUM(IF(TYP<REF(TYP,1),TYP*VOL,0),N);\nMFI:100-(100/(1+V1));"}},o.prototype.LWR=function(){return{Name:"LWR",Description:"LWR威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:= (HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N))*100;\nLWR1:SMA(RSV,M1,1);\nLWR2:SMA(LWR1,M2,1);"}},o.prototype.MARSI=function(){return{Name:"MARSI",Description:"相对强弱平均线",IsMainIndex:!1,Args:[{Name:"M1",Value:10},{Name:"M2",Value:6}],Script:"DIF:=CLOSE-REF(CLOSE,1);\nVU:=IF(DIF>=0,DIF,0);\nVD:=IF(DIF<0,-DIF,0);\nMAU1:=MEMA(VU,M1);\nMAD1:=MEMA(VD,M1);\nMAU2:=MEMA(VU,M2);\nMAD2:=MEMA(VD,M2);\nRSI10:MA(100*MAU1/(MAU1+MAD1),M1);\nRSI6:MA(100*MAU2/(MAU2+MAD2),M2);"}},o.prototype.CYD=function(){return{Name:"CYD",Description:"承接因子",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYDS:WINNER(CLOSE)/(VOL/CAPITAL);\nCYDN:WINNER(CLOSE)/MA(VOL/CAPITAL,N);"}},o.prototype.CYF=function(){return{Name:"CYF",Description:"市场能量",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYF:100-100/(1+EMA(HSL,N));"}},o.prototype.TAPI=function(){return{Name:"TAPI",Description:"加权指数成交值",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"TAPI:AMOUNT/INDEXC;\nMATAIP:MA(TAPI,M);"}},o.prototype.VMACD=function(){return{Name:"VMACD",Description:"量平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(VOL,SHORT)-EMA(VOL,LONG);\nDEA:EMA(DIF,MID);\nMACD:DIF-DEA,COLORSTICK;"}},o.prototype.QACD=function(){return{Name:"QACD",Description:"快速异同平均",IsMainIndex:!1,Args:[{Name:"N1",Value:12},{Name:"N2",Value:26},{Name:"M",Value:9}],Script:"DIF:EMA(CLOSE,N1)-EMA(CLOSE,N2);\nMACD:EMA(DIF,M);\nDDIF:DIF-MACD;"}},o.prototype.VPT=function(){return{Name:"VPT",Description:"量价曲线",IsMainIndex:!1,Args:[{Name:"N",Value:51},{Name:"M",Value:6}],Script:"VPT:SUM(VOL*(CLOSE-REF(CLOSE,1))/REF(CLOSE,1),N);\nMAVPT:MA(VPT,M);"}},o.prototype.WVAD=function(){return{Name:"WVAD",Description:"威廉变异离散量",IsMainIndex:!1,Args:[{Name:"N",Value:24},{Name:"M",Value:6}],Script:"WVAD:SUM((CLOSE-OPEN)/(HIGH-LOW)*VOL,N)/10000;\nMAWVAD:MA(WVAD,M);"}},o.prototype.DBQR=function(){return{Name:"WVAD",Description:"对比强弱",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:60}],Script:"ZS:(INDEXC-REF(INDEXC,N))/REF(INDEXC,N);\nGG:(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMADBQR1:MA(GG,M1);\nMADBQR2:MA(GG,M2);\nMADBQR3:MA(GG,M3);"}},o.prototype.JS=function(){return{Name:"JS",Description:"加速线",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],Script:"JS:100*(CLOSE-REF(CLOSE,N))/(N*REF(CLOSE,N));\nMAJS1:MA(JS,M1);\nMAJS2:MA(JS,M2);\nMAJS3:MA(JS,M3);"}},o.prototype.CYE=function(){return{Name:"CYE",Description:"市场趋势",IsMainIndex:!1,Args:[],Script:"MAL:=MA(CLOSE,5);\nMAS:=MA(MA(CLOSE,20),5);\nCYEL:(MAL-REF(MAL,1))/REF(MAL,1)*100;\nCYES:(MAS-REF(MAS,1))/REF(MAS,1)*100;"}},o.prototype.QR=function(){return{Name:"QR",Description:"强弱指标",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"个股: (CLOSE-REF(CLOSE,N))/REF(CLOSE,N)*100; \n大盘: (INDEXC-REF(INDEXC,N))/REF(INDEXC,N)*100; \n强弱值:EMA(个股-大盘,2),COLORSTICK;"}},o.prototype.GDX=function(){return{Name:"GDX",Description:"轨道线",IsMainIndex:!1,Args:[{Name:"N",Value:30},{Name:"M",Value:9}],Script:"AA:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,N))/MA(CLOSE,N); \n轨道:DMA(CLOSE,AA);\n压力线:(1+M/100)*轨道; \n支撑线:(1-M/100)*轨道;"}},o.prototype.JLHB=function(){return{Name:"JLHB",Description:"绝路航标",IsMainIndex:!1,Args:[{Name:"N",Value:7},{Name:"M",Value:5}],Script:"VAR1:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*80; \nB:SMA(VAR1,N,1); \nVAR2:SMA(B,M,1); \n绝路航标:IF(CROSS(B,VAR2) AND B<40,50,0);"}},o.prototype.PCNT=function(){return{Name:"PCNT",Description:"幅度比",IsMainIndex:!1,Args:[{Name:"M",Value:5}],Script:"PCNT:(CLOSE-REF(CLOSE,1))/CLOSE*100;\nMAPCNT:EXPMEMA(PCNT,M);"}},o.prototype.BTX=function(){return{Name:"BTX",Description:"宝塔线",IsMainIndex:!1,Args:[],Script:"B1:=REF(C,1);\nB2:= REF(C, 2);\nSS:= IF(C > REF(C, 1) AND REF(C, 1) >= REF(C, 2), 1, IF(C < REF(C, 1) AND REF(C, 1) <= REF(C, 2), -1, IF(C > REF(C, 2) AND REF(C, 2) > REF(C, 1), 2, IF(C < REF(C, 2) AND REF(C, 2) < REF(C, 1), -2, 0))));\nSM:= IF(REF(SS, 1) <> 0, REF(SS, 1), IF(REF(SS, 2) <> 0, REF(SS, 2), IF(REF(SS, 3) <> 0, REF(SS, 3), IF(REF(SS, 5) <> 0, REF(SS, 5), IF(REF(SS, 6) <> 0, REF(SS, 6), IF(REF(SS, 7) <> 0, REF(SS, 7), 0))))));\nMC:= IF(REF(SS, 1) <> 0, B2, IF(SM > 0, MIN(B1, B2), MAX(B1, B2)));\nTOW1:= IF(C > REF(C, 1), C, REF(C, 1));\nTOW2:= IF((SS == -1 OR SS == -2) AND SM > 0, B2, TOW1);\nTOWER:= IF(TOW1 > TOW2, TOW1, TOW2);\nSTICKLINE(SS == 1 OR SM >= 1 AND SS == 0, B1, C, 10, 1), COLORRED;\nSTICKLINE(SS == -1 OR SM <= -1 AND SS == 0, B1, C, 10, 0), COLORCYAN;\nSTICKLINE(SS == 2, B2, C, 10, 1), COLORRED;\nSTICKLINE(SS == -2, B2, C, 10, 0), COLORCYAN;\nSTICKLINE((SS == -1 OR SS == -2) AND SM > 0, B2, B1, 10, 1), COLORRED;\nSTICKLINE((SS == 1 OR SS == 2) AND SM < 0, B2, B1, 10, 0), COLORCYAN;"}},o.prototype.AMO=function(){return{Name:"AMO",Description:"成交金额",IsMainIndex:!1,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"AMOW:AMOUNT/10000.0,VOLSTICK;\nAMO1:MA(AMOW,M1);\nAMO2:MA(AMOW,M2);"}},o.prototype.VRSI=function(){return{Name:"VRSI",Description:"相对强弱量",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(VOL,1);\nRSI1:SMA(MAX(VOL-LC,0),N1,1)/SMA(ABS(VOL-LC),N1,1)*100;\nRSI2:SMA(MAX(VOL-LC,0),N2,1)/SMA(ABS(VOL-LC),N2,1)*100;\nRSI3:SMA(MAX(VOL-LC,0),N3,1)/SMA(ABS(VOL-LC),N3,1)*100;"}},o.prototype.HSCOL=function(){return{Name:"HSCOL",Description:"换手柱",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSCOL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100),VOLSTICK;\nMAHSL:MA(HSCOL,N);"}},o.prototype.DBQRV=function(){return{Name:"DBQRV",Description:"对比强弱量(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"ZS:(INDEXV-REF(INDEXV,N))/REF(INDEXV,N);\nGG:(VOL-REF(VOL,N))/REF(VOL,N);"}},o.prototype.DBLB=function(){return{Name:"DBLB",Description:"对比量比(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M",Value:5}],Script:"GG:=VOL/SUM(REF(VOL,1),N);\nZS:=INDEXV/SUM(REF(INDEXV,1),N);\nDBLB:GG/ZS;\nMADBLB:MA(DBLB,M);"}},o.prototype.ACD=function(){return{Name:"ACD",Description:"升降线",IsMainIndex:!1,Args:[{Name:"M",Value:20}],Script:"LC:=REF(CLOSE,1);\nDIF:=CLOSE-IF(CLOSE>LC,MIN(LOW,LC),MAX(HIGH,LC));\nACD:SUM(IF(CLOSE==LC,0,DIF),0);\nMAACD:EXPMEMA(ACD,M);"}},o.prototype.EXPMA=function(){return{Name:"EXPMA",Description:"指数平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},o.prototype.EXPMA_S=function(){return{Name:"EXPMA_S",Description:"指数平均线-副图",IsMainIndex:!1,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},o.prototype.HMA=function(){return{Name:"HMA",Description:"高价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"HMA1:MA(HIGH,M1);\nHMA2:MA(HIGH,M2);\nHMA3:MA(HIGH,M3);\nHMA4:MA(HIGH,M4);\nHMA5:MA(HIGH,M5);"}},o.prototype.LMA=function(){return{Name:"LMA",Description:"低价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"LMA1:MA(LOW,M1);\nLMA2:MA(LOW,M2);\nLMA3:MA(LOW,M3);\nLMA4:MA(LOW,M4);\nLMA5:MA(LOW,M5);"}},o.prototype.VMA=function(){return{Name:"VMA",Description:"变异平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"VV:=(HIGH+OPEN+LOW+CLOSE)/4;\nVMA1:MA(VV,M1);\nVMA2:MA(VV,M2);\nVMA3:MA(VV,M3);\nVMA4:MA(VV,M4);\nVMA5:MA(VV,M5);"}},o.prototype.AMV=function(){return{Name:"AMV",Description:"成本价均线",IsMainIndex:!1,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"AMOV:=VOL*(OPEN+CLOSE)/2;\nAMV1:SUM(AMOV,M1)/SUM(VOL,M1);\nAMV2:SUM(AMOV,M2)/SUM(VOL,M2);\nAMV3:SUM(AMOV,M3)/SUM(VOL,M3);\nAMV4:SUM(AMOV,M4)/SUM(VOL,M4);"}},o.prototype.BBIBOLL=function(){return{Name:"BBIBOLL",Description:"多空布林线",IsMainIndex:!0,Args:[{Name:"N",Value:11},{Name:"M",Value:6}],Script:"CV:=CLOSE;\nBBIBOLL:(MA(CV,3)+MA(CV,6)+MA(CV,12)+MA(CV,24))/4;\nUPR:BBIBOLL+M*STD(BBIBOLL,N);\nDWN:BBIBOLL-M*STD(BBIBOLL,N);"}},o.prototype.ALLIGAT=function(){return{Name:"ALLIGAT",Description:"鳄鱼线",IsMainIndex:!0,Args:[],Script:"NN:=(H+L)/2;\n上唇:REF(MA(NN,5),3),COLOR40FF40;\n牙齿:REF(MA(NN,8),5),COLOR0000C0;\n下颚:REF(MA(NN,13),8),COLORFF4040;"}},o.prototype.ZX=function(){return{Name:"ZX",Description:"重心线",IsMainIndex:!1,Args:[],Script:"AV:0.01*AMOUNT/VOL;"}},o.prototype.XS=function(){return{Name:"XS",Description:"薛斯通道",IsMainIndex:!0,Args:[{Name:"N",Value:13}],Script:"VAR2:=CLOSE*VOL;\nVAR3:=EMA((EMA(VAR2,3)/EMA(VOL,3)+EMA(VAR2,6)/EMA(VOL,6)+EMA(VAR2,12)/EMA(VOL,12)+EMA(VAR2,24)/EMA(VOL,24))/4,N);\nSUP:1.06*VAR3;\nSDN:VAR3*0.94;\nVAR4:=EMA(CLOSE,9);\nLUP:EMA(VAR4*1.14,5);\nLDN:EMA(VAR4*0.86,5);"}},o.prototype.XS2=function(){return{Name:"XS2",Description:"薛斯通道II",IsMainIndex:!0,Args:[{Name:"N",Value:102},{Name:"M",Value:7}],Script:"AA:=MA((2*CLOSE+HIGH+LOW)/4,5); \n通道1:AA*N/100; \n通道2:AA*(200-N)/100; \nCC:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,20))/MA(CLOSE,20); \nDD:=DMA(CLOSE,CC); \n通道3:(1+M/100)*DD; \n通道4:(1-M/100)*DD;"}},o.prototype.SG_XDT=function(){return{Name:"SG-XDT",Description:"心电图(需下载日线)",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"QR:CLOSE/INDEXC*1000;\nMQR1:MA(QR,5);\nMQR2:MA(QR,10);"}},o.prototype.SG_SMX=function(){return{Name:"SG-SMX",Description:"生命线(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:50}],Script:"H1:=HHV(HIGH,N);\nL1:=LLV(LOW,N);\nH2:=HHV(INDEXH,N);\nL2:=LLV(INDEXL,N);\nZY:=CLOSE/INDEXC*2000;\nZY1:EMA(ZY,3);\nZY2:EMA(ZY,17);\nZY3:EMA(ZY,34);"}},o.prototype.SG_LB=function(){return{Name:"SG-LB",Description:"量比(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY2:=VOL/INDEXV*1000;\n量比:ZY2;\nMA5:MA(ZY2,5);\nMA10:MA(ZY2,10);"}},o.prototype.SG_PF=function(){return{Name:"SG-PF",Description:"强势股评分(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY1:=CLOSE/INDEXC*1000;\nA1:=IF(ZY1>HHV(ZY1,3),10,0);\nA2:=IF(ZY1>HHV(ZY1,5),15,0);\nA3:=IF(ZY1>HHV(ZY1,10),20,0);\nA4:=IF(ZY1>HHV(ZY1,2),10,0);\nA5:=COUNT(ZY1>REF(ZY1,1) ,9)*5;\n强势股评分:A1+A2+A3+A4+A5;"}},o.prototype.RAD=function(){return{Name:"RAD",Description:"威力雷达(需下载日线)",IsMainIndex:!1,Args:[{Name:"D",Value:3},{Name:"S",Value:30},{Name:"M",Value:30}],Script:"SM:=(OPEN+HIGH+CLOSE+LOW)/4;\nSMID:=MA(SM,D);\nIM:=(INDEXO+INDEXH+INDEXL+INDEXC)/4;\nIMID:=MA(IM,D);\nSI1:=(SMID-REF(SMID,1))/SMID;\nII:=(IMID-REF(IMID,1))/IMID;\nRADER1:SUM((SI1-II)*2,S)*1000;\nRADERMA:SMA(RADER1,M,1);"}},o.prototype.SHT=function(){return{Name:"SHT",Description:"龙系短线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"VAR1:=MA((VOL-REF(VOL,1))/REF(VOL,1),5);\nVAR2:=(CLOSE-MA(CLOSE,24))/MA(CLOSE,24)*100;\nMY: VAR2*(1+VAR1);\nSHT: MY, COLORSTICK;\nSHTMA: MA(SHT,N);"}},o.prototype.ZLJC=function(){return{Name:"ZLJC",Description:"主力进出",IsMainIndex:!1,Args:[],Script:"VAR1:=(CLOSE+LOW+HIGH)/3; \nVAR2:=SUM(((VAR1-REF(LOW,1))-(HIGH-VAR1))*VOL/100000/(HIGH-LOW),0); \nVAR3:=EMA(VAR2,1); \nJCS:VAR3; \nJCM:MA(VAR3,12); \nJCL:MA(VAR3,26);"}},o.prototype.ZLMM=function(){return{Name:"ZLMM",Description:"主力买卖",IsMainIndex:!1,Args:[],Script:"LC :=REF(CLOSE,1);\nRSI2:=SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100;\nRSI3:=SMA(MAX(CLOSE-LC,0),18,1)/SMA(ABS(CLOSE-LC),18,1)*100;\nMMS:MA(3*RSI2-2*SMA(MAX(CLOSE-LC,0),16,1)/SMA(ABS(CLOSE-LC),16,1)*100,3);\nMMM:EMA(MMS,8);\nMML:MA(3*RSI3-2*SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100,5);"}},o.prototype.SLZT=function(){return{Name:"SLZT",Description:"神龙在天",IsMainIndex:!1,Args:[],Script:"白龙: MA(CLOSE,125);\n黄龙: 白龙+2*STD(CLOSE,170);\n紫龙: 白龙-2*STD(CLOSE,145);\n青龙: SAR(125,1,7), LINESTICK;\nVAR2:=HHV(HIGH,70);\nVAR3:=HHV(HIGH,20);\n红龙: VAR2*0.83;\n蓝龙: VAR3*0.91;"}},o.prototype.ADVOL=function(){return{Name:"ADVOL",Description:"龙系离散量",IsMainIndex:!1,Args:[],Script:"A:=SUM(((CLOSE-LOW)-(HIGH-CLOSE))*VOL/10000/(HIGH-LOW),0);\nADVOL:A;\nMA1:MA(A,30);\nMA2:MA(MA1,100);"}},o.prototype.CYC=function(){return{Name:"CYC",Description:"成本均线",IsMainIndex:!0,Args:[{Name:"P1",Value:5},{Name:"P2",Value:13},{Name:"P3",Value:34}],Script:"JJJ:=IF(DYNAINFO(8)>0.01,0.01*DYNAINFO(10)/DYNAINFO(8),DYNAINFO(3));\nDDD:=(DYNAINFO(5)<0.01 || DYNAINFO(6)<0.01);\nJJJT:=IF(DDD,1,(JJJ<(DYNAINFO(5)+0.01) && JJJ>(DYNAINFO(6)-0.01)));\nCYC1:IF(JJJT,0.01*EMA(AMOUNT,P1)/EMA(VOL,P1),EMA((HIGH+LOW+CLOSE)/3,P1));\nCYC2:IF(JJJT,0.01*EMA(AMOUNT,P2)/EMA(VOL,P2),EMA((HIGH+LOW+CLOSE)/3,P2));\nCYC3:IF(JJJT,0.01*EMA(AMOUNT,P3)/EMA(VOL,P3),EMA((HIGH+LOW+CLOSE)/3,P3));\nCYC4:IF(JJJT,DMA(AMOUNT/(100*VOL),100*VOL/FINANCE(7)),EMA((HIGH+LOW+CLOSE)/3,120));"}},o.prototype.CYS=function(){return{Name:"CYS",Description:"市场盈亏",IsMainIndex:!1,Args:[],Script:"CYC13:EMA(AMOUNT,13)/EMA(VOL,13);\nCYS:(CLOSE-CYC13)/CYC13*100;"}},o.prototype.CYQKL=function(){return{Name:"CYQKL",Description:"博弈K线长度",IsMainIndex:!1,Args:[],Script:"KL:100*(WINNER(CLOSE)-WINNER(OPEN));"}},o.prototype.SCR=function(){return{Name:"SCR",Description:"筹码集中度",IsMainIndex:!1,Args:[{Name:"P1",Value:90}],Script:"A:=P1+(100-P1)/2;\nB:=(100-P1)/2;\nCC:=COST(A);\nDD:=COST(B);\nSCR:(CC-DD)/(CC+DD)*100/2;"}},o.prototype.ASR=function(){return{Name:"ASR",Description:"浮筹比例",IsMainIndex:!1,Args:[],Script:"ASR:(WINNER(C*1.1)-WINNER(C*0.9))/WINNER(HHV(H,0))*100;"}},o.prototype.SAR=function(){return{Name:"SAR",Description:"抛物转向",IsMainIndex:!0,Args:[{Name:"P",Value:10},{Name:"STEP",Value:2},{Name:"MAXP",Value:20}],Script:"S:SAR(P,STEP,MAXP),CIRCLEDOT;"}},o.prototype.TJCJL=function(){return{Name:"太极成交量",Description:"太极成交量",IsMainIndex:!0,Args:[],Script:"总手:VOL,NODRAW;\nZZ:=IF(REF(C,1)>REF(O,1) AND O>REF(C,1)*1.014 AND C<O*1.02,1,3);\nV5:=MA(V,5);\nV12:=MA(V,12);\nV34:=MA(V,34);\nC6:=MA(C,6);\nSTICKLINE(VOL,0,VOL,10,0),COLORLIGRAY;\nSTICKLINE(CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,0,VOL,10,0),COLORRED;\nSTICKLINE(CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,0,VOL,10,0),COLORGREEN;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05,0,VOL,10,0),COLORYELLOW;\nSTICKLINE(VOL<MA(VOL,5)/2 AND V<V12/2,0,VOL,10,0),COLORBLUE;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,VOL*0.5,0,10,0),COLORRED;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,VOL*0.5,0,10,0),COLORRED;"}},o.prototype.Dragon4_Main=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!0,Args:[{Name:"N1",Value:5},{Name:"N2",Value:10},{Name:"N3",Value:50},{Name:"N4",Value:60}],Script:"蜻蜓点水:=EMA(CLOSE,N1),COLORGRAY;\n魔界:=EMA(CLOSE,N2),COLORGREEN;\n水:=EMA(CLOSE,N3),COLORRED;\nDRAWKLINE(HIGH,OPEN,LOW,CLOSE);\n生命线:MA(CLOSE,N4),COLORBLUE,LINETHICK2;\nDRAWBAND(魔界,'RGB(186,225,250)',水,'RGB(253,194,124)');\nDRAWBAND(蜻蜓点水,'RGB(128,138,135)',魔界,'RGB(0,0,255)');"}},o.prototype.Dragon4_Fig=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!1,Args:[],Script:"倍:VOL>=REF(V,1)*1.90 AND C>REF(C,1),COLORYELLOW;\n低:VOL<REF(LLV(VOL,13),1),COLORGREEN;\n地:VOL<REF(LLV(VOL,100),1),COLORMAGENTA; \n平:=ABS(VOL-HHV(REF(VOL,1),5))/HHV(REF(VOL,1),5)<=0.03 OR ABS(VOL-REF(VOL,1))/REF(VOL,1)<=0.03,NODRAW,COLORWHITE;\n倍缩:VOL<=REF(V,1)*0.5,COLORFF8000;\n梯量:COUNT(V>REF(V,1),3)==3 AND COUNT(C>O,3)==3,COLORBROWN;\n缩量涨:COUNT(C>REF(C,1),2)==2 AND COUNT(V<REF(V,1),2)==2,COLORBLUE;\nSTICKLINE(C>=REF(C,1),V,0,2,0),COLORRED;\nSTICKLINE(C<REF(C,1),V,0,2,0),COLORGREEN;\nSTICKLINE(倍,0,V,2,0),COLORYELLOW;\nSTICKLINE(低,0,V,2,0),COLORGREEN;\nSTICKLINE(地,0,V,2,0),COLORLIMAGENTA;\nSTICKLINE(平,0,V,2,0),COLORGRAY;\nSTICKLINE(倍缩,0,V,2,0),COLORFF8000;\nSTICKLINE(梯量,0,V,2,0),COLORBROWN;\nSTICKLINE(缩量涨,0,V,2,0),COLORBLUE;"}},o.prototype.FundsAnalysis=function(){return{Name:"资金分析",Description:"资金分析",IsMainIndex:!1,Args:[{Name:"M",Value:55},{Name:"N",Value:34}],Script:"LC:=REF(CLOSE,1);\nRSI:=((SMA(MAX((CLOSE - LC),0),3,1) / SMA(ABS((CLOSE - LC)),3,1)) * 100);\nFF:=EMA(CLOSE,3);\nMA15:=EMA(CLOSE,21); DRAWTEXT(CROSS(85,RSI),75,'▼'),COLORGREEN;\nVAR1:=IF(YEAR>=2038 AND MONTH>=1,0,1);\nVAR2:=REF(LOW,1)*VAR1;\nVAR3:=SMA(ABS(LOW-VAR2),3,1)/SMA(MAX(LOW-VAR2,0),3,1)*100*VAR1;\nVAR4:=EMA(IF(CLOSE*1.3,VAR3*10,VAR3/10),3)*VAR1;\nVAR5:=LLV(LOW,30)*VAR1;\nVAR6:=HHV(VAR4,30)*VAR1;\nVAR7:=IF(MA(CLOSE,58),1,0)*VAR1;\nVAR8:=EMA(IF(LOW<=VAR5,(VAR4+VAR6*2)/2,0),3)/618*VAR7*VAR1;\n吸筹A:IF(VAR8>100,100,VAR8)*VAR1,COLORFB2F3B;\n{吸筹B}STICKLINE(吸筹A>-150,0,吸筹A,8,0),COLORFB2F3B;\n\n散户线: 100*(HHV(HIGH,M)-CLOSE)/(HHV(HIGH,M)-LLV(LOW,M)),COLORAA89BD,LINETHICK2;\nRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,3,1);\nD:=SMA(K,3,1);\nJ:=3*K-2*D;\n主力线:EMA(J,5),COLORF39800,LINETHICK2;\nDRAWICON(CROSS(主力线,散户线),主力线,1);\nDRAWICON(CROSS(散户线,主力线),主力线,2);"}},o.prototype.MarginProportion=function(){return{Name:"融资占比(%)",Description:"融资占比",IsMainIndex:!1,Condition:{Period:[Ni.KLINE_DAY_ID]},Args:[],Script:"占比:MARGIN(2);"}},o.prototype.Margin2=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[Ni.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:MARGIN(1);\n        T2:MA(MARGIN(1),N);"}},o.prototype.Margin3=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[Ni.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:=MARGIN(1);\n        T2:=MA(MARGIN(1),N);\n        STICKLINE(T1-T2>=0,0,T1-T2,50,T1>T2),COLORRED;\n        STICKLINE(T1-T2<0,T1-T2,0,50,T1>T2),COLORGREEN;"}},o.prototype.FXG_BSPoint=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,Args:[],Script:"MA5:MA(CLOSE,5);\n        MA13:MA(CLOSE,13);\n        MA21:MA(CLOSE,21);\n        MA34:MA(CLOSE,34);\n        {MA55:MA(CLOSE,55),COLOR0000FF;}\n        {MA120:=MA(CLOSE,120),COLORFFFF00;}\n        天使:=EMA(C,2),COLOR000000;\n        魔鬼:=EMA(SLOPE(C,21)*20+C,42),COLOR000000;\n        买:=CROSS(天使,魔鬼);\n        卖:=CROSS(魔鬼,天使);\n        DRAWICON(买,L*0.97,13);\n        DRAWICON(卖,H*1.03,14);\n        DRAWKLINE_IF(天使>=魔鬼,HIGH,CLOSE,LOW,OPEN),COLORRED;\n        DRAWKLINE_IF(天使<魔鬼,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n        DRAWKLINE_IF(CROSS(天使,魔鬼),HIGH,CLOSE,LOW,OPEN),COLORYELLOW;\n        DRAWKLINE_IF(CROSS(魔鬼,天使),HIGH,CLOSE,LOW,OPEN),COLORBLACK;"}},o.prototype.FXG_INDEX=function(){return{Name:"涨停多空线",Description:"涨停多空线",IsMainIndex:!1,Args:[],Script:"做多能量线: SMA((CLOSE-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100,5,1)-8,COLORRED,LINETHICK3;\n做空能量线: SMA((HHV(HIGH,36)-CLOSE)/(HHV(HIGH,36)-LLV(LOW,36))*100,2,1),COLORGREEN,LINETHICK3;\n20,POINTDOT,COLORF00FF0;\n50,POINTDOT,COLORGREEN;\n80,POINTDOT,COLORLIBLUE;"}},o.prototype.FXG_INDEX2=function(){return{Name:"涨停吸筹区",Description:"涨停吸筹区",IsMainIndex:!1,Args:[],Script:"VAR0:=EMA(HHV(HIGH,500),21); \nVAR1:=EMA(HHV(HIGH,250),21);\nVAR2:=EMA(HHV(HIGH,90),21); \nVAR3:=EMA(LLV(LOW,500),21); \nVAR4:=EMA(LLV(LOW,250),21); \nVAR5:=EMA(LLV(LOW,90),21);\n\nVAR6:=EMA((VAR3*0.96+VAR4*0.96+VAR5*0.96+VAR0*0.558+VAR1*0.558+VAR2*0.558)/6,21); \nVAR7:=EMA((VAR3*1.25+VAR4*1.23+VAR5*1.2+VAR0*0.55+VAR1*0.55+VAR2*0.65)/6,21); \nVAR8:=EMA((VAR3*1.3+VAR4*1.3+VAR5*1.3+VAR0*0.68+VAR1*0.68+VAR2*0.68)/6,21); \nVAR9:=EMA((VAR6*3+VAR7*2+VAR8)/6*1.738,21); \nVAR10:=REF(LOW,1); \nVAR11:=SMA(ABS(LOW-VAR10),3,1)/SMA(MAX(LOW-VAR10,0),3,1)*100; \nVAR12:=EMA(IFF(CLOSE*1.35<=VAR9,VAR11*10,VAR11/10),3); \nVAR13:=LLV(LOW,30); \nVAR14:=HHV(VAR12,30); \nVAR15:=IFF(MA(CLOSE,58),1,0); \nVAR16:=EMA(IFF(LOW<=VAR13,(VAR12+VAR14*2)/2,0),3)/618*VAR15;\n\n资金入场:IFF(VAR16>0,VAR16,0),LINETHICK,LINETHICK2, COLORFF0000; \n\nA1:IFF(资金入场>0,资金入场*1.2,0),STICK,LINETHICK5, COLORFF0000;\nA2:IFF(资金入场>0,资金入场*0.8,0),STICK,LINETHICK5, COLORFF6600;\nA3:IFF(资金入场>0,资金入场*0.6,0),STICK,LINETHICK5, COLORFF9900;\nA4:IFF(资金入场>0,资金入场*0.4,0) ,STICK,LINETHICK5,COLORFFCC00;\nA5:IFF(资金入场>0,资金入场*0.2,0) ,STICK,LINETHICK5,COLORFFFF00;"}},o.prototype.FXG_INDEX3=function(){return{Name:"量能黄金点",Description:"量能黄金点",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"A:=IFF((CLOSE>126.32),VOL,VOL); \n主力:=MA(A,4),COLORRED;\n游资:=MA(A,8),COLORYELLOW;\n大户:=MA(A,16),COLORF0F000;\n散户:=MA(A,32),COLOR00FF00;\n主比:=ABS(((主力)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORRED;\n游比:=ABS(((游资)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORYELLOW;\n大比:=ABS(((大户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORF0F000;\n散比:=ABS(((散户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLOR00FF00;\n警戒线:MA(A,180),COLORFF66FF;\nSTICKLINE((主力 > 0),0,主力,2.5,0),COLOR1020BB;\nSTICKLINE((主力 > 0),0,主力,0.7,0),COLORRED;\nSTICKLINE((游资 > 0),0,游资,2.5,0),COLOR009CFF;\nSTICKLINE((游资 > 0),0,游资,0.7,0),COLORYELLOW;\nSTICKLINE((大户 > 0),0,大户,2.5,0),COLORFF8800;\nSTICKLINE((大户 > 0),0,大户,0.7,0),COLORLIBLUE;\nSTICKLINE((散户 > 0),0,散户,2.5,0),COLOR00CA00;\nSTICKLINE((散户 > 0),0,散户,0.7,0),COLORGREEN;"}},o.prototype.NewsNegative=function(){return{Name:"负面新闻",Description:"负面新闻统计",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"负面:NEWS(1);\nMA1:MA(负面,N);\nMA2:MA(负面,N2);"}},o.prototype.UpDownAnalyze=function(){return{Name:"涨跌趋势",Description:"涨跌趋势",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[Ni.MINUTE_ID,Ni.MULTIDAY_MINUTE_ID,Ni.KLINE_DAY_ID]},Args:[],Script:"上涨家数:UPCOUNT('CNA.CI'),COLORRED;\n下跌家数:DOWNCOUNT('CNA.CI'),COLORGREEN;"}},o.prototype.HK2SHSZ=function(){return{Name:"北上资金",Description:"北上资金",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[Ni.MINUTE_ID,Ni.MULTIDAY_MINUTE_ID,Ni.KLINE_DAY_ID]},Args:[],Script:"净流入:HK2SHSZ(1),COLORSTICK;"}},o.prototype.ShareHolder=function(){return{Name:"股东人数",Description:"股东人数",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[Ni.KLINE_DAY_ID,Ni.KLINE_MONTH_ID,Ni.KLINE_WEEK_ID,Ni.KLINE_YEAR_ID]},Args:[],Script:"人数:FINANCE(100);"}},o.prototype.VOLRate=function(){return{Name:"量比",Description:"量比",IsMainIndex:!1,Condition:{Period:[Ni.MINUTE_ID,Ni.MULTIDAY_MINUTE_ID]},Args:[],Script:"LIANGBI:VOLR;"}},o.prototype.COLOR_KSTAR1=function(){return{Name:"十字星",Description:"十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH>LOW;"}},o.prototype.COLOR_KSTAR2=function(){return{Name:"早晨之星",Description:"早晨之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:(REF(CLOSE,2)/REF(OPEN,2)<0.95) && (REF(OPEN,1) < REF(CLOSE,2)) && (ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03) && CLOSE/OPEN>1.05 && CLOSE>REF(CLOSE,2);"}},o.prototype.COLOR_KSTAR3=function(){return{Name:"黄昏之星",Description:"黄昏之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05 && REF(OPEN,1)>REF(CLOSE,2) && ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03 && CLOSE/OPEN<0.95 && CLOSE<REF(CLOSE,2);"}},o.prototype.COLOR_SHI1=function(){return{Name:"长十字",Description:"长十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH/LOW>1.03;"}},o.prototype.COLOR_K220=function(){return{Name:"身怀六甲",Description:"身怀六甲",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1)>0.04&&\n            ABS(CLOSE-OPEN)/CLOSE<0.005&&\n            MAX(CLOSE,OPEN)<MAX(REF(CLOSE,1),REF(OPEN,1))&&\n            MIN(CLOSE,OPEN)>MIN(REF(CLOSE,1),REF(OPEN,1));"}},o.prototype.COLOR_K300=function(){return{Name:"三个白武士",Description:"三个白武士",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:UPNDAY(CLOSE,3)&&NDAY(CLOSE,OPEN,3);"}},o.prototype.COLOR_K310=function(){return{Name:"三只乌鸦",Description:"三只乌鸦",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:DOWNNDAY(CLOSE,3)&&NDAY(OPEN,CLOSE,3);"}},o.prototype.COLOR_K380=function(){return{Name:"光头阳线",Description:"光头阳线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:HIGH==CLOSE&&HIGH>LOW;"}},o.prototype.COLOR_K390=function(){return{Name:"光脚阴线",Description:"光脚阴线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:LOW==CLOSE&&HIGH>LOW;"}},o.prototype.COLOR_K134=function(){return{Name:"垂死十字",Description:"垂死十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&CLOSE==LOW&&CLOSE<HIGH;"}},o.prototype.COLOR_K140=function(){return{Name:"早晨十字星",Description:"早晨十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)<0.95&&\nREF(OPEN,1)<REF(CLOSE,2)&&\nREF(OPEN,1)==REF(CLOSE,1)&&\nCLOSE/OPEN>1.05&&CLOSE>REF(CLOSE,2);"}},o.prototype.COLOR_K150=function(){return{Name:"黄昏十字星",Description:"黄昏十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05&&\nREF(OPEN,1)>REF(CLOSE,2)&&\nREF(OPEN,1)=REF(CLOSE,1)&&\nCLOSE/OPEN<0.95&&CLOSE<REF(CLOSE,2);"}},o.prototype.COLOR_K160=function(){return{Name:"射击之星",Description:"射击之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE>MA(CLOSE,5);"}},o.prototype.COLOR_K165=function(){return{Name:"倒转锤头",Description:"倒转锤头",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE<MA(CLOSE,5);"}},o.prototype.COLOR_K170=function(){return{Name:"锤头",Description:"锤头",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE<MA(CLOSE,5);"}},o.prototype.COLOR_K180=function(){return{Name:"吊颈",Description:"吊颈",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE>MA(CLOSE,5);"}},o.prototype.COLOR_K190=function(){return{Name:"穿头破脚",Description:"穿头破脚",IsMainIndex:!0,InstructionType:2,Script:"OUT:(REF(CLOSE,1)/REF(OPEN,1)>1.03&&\nCLOSE/OPEN<0.96&&\nCLOSE<REF(OPEN,1)&&OPEN>REF(CLOSE,1))||\n(REF(CLOSE,1)/REF(OPEN,1)<0.97&&\nCLOSE/OPEN>1.04&&\nCLOSE>REF(OPEN,1)&&OPEN<REF(CLOSE,1));"}},o.prototype.COLOR_SWORD=function(){return{Name:"剑",Description:"剑",IsMainIndex:!0,InstructionType:2,Script:"AA:=VOL>REF(VOL,1)||VOL>(CAPITAL*0.1);\nBB:=OPEN>=(REF(HIGH,1))&&REF(HIGH,1)>(REF(HIGH,2)*1.06);\nCC:=CLOSE>(REF(CLOSE,1))-(REF(CLOSE,1)*0.01);\nDD:=CLOSE<(HIGH*0.965) && HIGH>(OPEN*1.05);\nEE:=LOW<OPEN && LOW<CLOSE&&HIGH>(REF(CLOSE,1)*1.06);\nFF:=(HIGH-(MAX(OPEN,CLOSE)))/2>(MIN(OPEN,CLOSE))-LOW;\nGG:=(ABS(OPEN-CLOSE))/2<(MIN(OPEN,CLOSE)-LOW);\nSWORDO:AA&&BB&&CC&&DD&&EE&&FF&&GG;"}},o.prototype.COLOR_CSFR=function(){return{Name:"出水芙蓉",Description:"出水芙蓉",IsMainIndex:!0,InstructionType:2,Script:"A:=CLOSE>OPEN;\nB:=A&&CLOSE>MA(CLOSE,S)&&CLOSE>MA(CLOSE,M)&&CLOSE>MA(CLOSE,LL);\nCC:=B&&OPEN<MA(CLOSE,M)&&OPEN<MA(CLOSE,LL);\nCSFRO:CC&&(CLOSE-OPEN)>0.0618*CLOSE;"}},o.prototype.COLOR_WYGD=function(){return{Name:"乌云盖顶",Description:"乌云盖顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)>1.03 AND \nCLOSE/OPEN<0.97 AND \nOPEN>REF(CLOSE,1) AND CLOSE<REF(CLOSE,1), 3);"}},o.prototype.COLOR_SGCJ=function(){return{Name:"曙光初现",Description:"曙光初现",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)<0.97 AND \nCLOSE/OPEN>1.03 AND \nOPEN<REF(CLOSE,1) AND CLOSE>REF(CLOSE,1), 3);"}},o.prototype.COLOR_SZTAI=function(){return{Name:"十字胎",Description:"十字胎",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1) > 0.04 AND \nCLOSE==OPEN AND CLOSE < MAX(REF(CLOSE,1),REF(OPEN,1)) AND \nCLOSE > MIN(REF(CLOSE,1),REF(OPEN,1)), 2);"}},o.prototype.COLOR_PINGDING=function(){return{Name:"平顶",Description:"平顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET(ABS(HIGH-REF(HIGH,1))/HIGH<0.001,2);"}},o.prototype.COLOR_PINGDI=function(){return{Name:"平底",Description:"平底",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET((ABS(LOW-REF(LOW,1))/LOW<0.001 AND \nABS(REF(LOW,1)-REF(LOW,2))/REF(LOW,1)<=0.001),2);"}},o.prototype.COLOR_DAYANZHU=function(){return{Name:"大阳烛",Description:"大阳烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:CLOSE/OPEN>1.05 AND HIGH/LOW < CLOSE/OPEN+0.018;"}},o.prototype.COLOR_DAYINGZHU=function(){return{Name:"大阴烛",Description:"大阴烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:OPEN/CLOSE > 1.05 AND HIGH/LOW < OPEN/CLOSE+0.018;"}},o.prototype.COLOR_HYFG=function(){return{Name:"好友反攻",Description:"好友反攻",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( (REF(CLOSE,1)<REF(OPEN,1) AND \nCLOSE>OPEN AND ABS(CLOSE-REF(CLOSE,1))/CLOSE<0.002),2);"}},o.prototype.COLOR_TKQK=function(){return{Name:"跳空缺口",Description:"跳空缺口",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( HIGH<REF(LOW,1) OR LOW>REF(HIGH,1),2);"}},o.prototype.COLOR_SFWY=function(){return{Name:"双飞乌鸦",Description:"双飞乌鸦",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( REF(CLOSE,1)<REF(OPEN,1) AND CLOSE<OPEN AND CLOSE/OPEN<0.98,1);"}},o.prototype.COLOR_SSSBQ=function(){return{Name:"上升三部曲",Description:"上升三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)>1.03 AND \nREF(CLOSE,3)<REF(OPEN,3) AND \nREF(CLOSE,2)<REF(OPEN,2) AND \nREF(CLOSE,1)<REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN>1.03 AND \nCLOSE>REF(CLOSE,4), 5);"}},o.prototype.COLOR_XDSBQ=function(){return{Name:"下跌三部曲",Description:"下跌三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)<0.97 AND \nREF(CLOSE,3)>REF(OPEN,3) AND \nREF(CLOSE,2)>REF(OPEN,2) AND \nREF(CLOSE,1)>REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN<0.97 AND \nCLOSE<REF(CLOSE,4), 5);"}},o.prototype.COLOR_CHXY=function(){return{Name:"长下影",Description:"长下影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(MIN(CLOSE,OPEN)-LOW)/(HIGH-LOW)>0.667;"}},o.prototype.COLOR_CHSY=function(){return{Name:"长上影",Description:"长上影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(HIGH-MAX(CLOSE,OPEN))/(HIGH-LOW)>0.667,COLORBLUE;"}},o.prototype.COLOR_FENLI=function(){return{Name:"分离",Description:"分离",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( OPEN==REF(OPEN,1) AND (CLOSE-OPEN)*(REF(CLOSE,1)-REF(OPEN,1))<0,2);"}},o.prototype.TRADE_BIAS=function(){return{Name:"BIAS",Description:"乖离率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:6},{Name:"LH",Value:6}],Script:"BIAS:=(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nENTERLONG:CROSS(-LL,BIAS);\nEXITLONG:CROSS(BIAS,LH);"}},o.prototype.TRADE_CCI=function(){return{Name:"CCI",Description:"CCI专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));\nINDEX:=CCI;\nENTERLONG:CROSS(INDEX,-100);\nEXITLONG:CROSS(100,INDEX);"}},o.prototype.TRADE_DMI=function(){return{Name:"DMI",Description:"趋向专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"MTR:=SUM(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(LOW-REF(CLOSE,1))),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nPDM:=SUM(IF(HD>0&&HD>LD,HD,0),N);\nMDM:=SUM(IF(LD>0&&LD>HD,LD,0),N);\nPDI:=PDM*100/MTR;\nMDI:=MDM*100/MTR;\nENTERLONG:CROSS(PDI,MDI);\nEXITLONG:CROSS(MDI,PDI);"}},o.prototype.TRADE_KD=function(){return{Name:"KD",Description:"KD指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"WRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nWK:=SMA(WRSV,M1,1);\nD:=SMA(WK,M2,1);\nENTERLONG:CROSS(WK,D)&&WK<20;\nEXITLONG:CROSS(D,WK)&&WK>80;"}},o.prototype.TRADE_BOLL=function(){return{Name:"BOLL",Description:"布林带专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:20}],Script:"MID :=MA(CLOSE,N);\nUPPER:=MID+2*STD(CLOSE,N);\nLOWER:=MID-2*STD(CLOSE,N);\nENTERLONG:CROSS(CLOSE,LOWER);\nEXITLONG:CROSS(CLOSE,UPPER);"}},o.prototype.TRADE_KDJ=function(){return{Name:"KDJ",Description:"KDJ专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,M1,1);\nD:=SMA(K,M1,1);\nJ:=3*K-2*D;\nENTERLONG:CROSS(J,0);\nEXITLONG:CROSS(100,J);"}},o.prototype.TRADE_MA=function(){return{Name:"MA",Description:"均线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"SHORT",Value:5},{Name:"LONG",Value:20}],Script:"ENTERLONG:CROSS(MA(CLOSE,SHORT),MA(CLOSE,LONG));\nEXITLONG:CROSS(MA(CLOSE,LONG),MA(CLOSE,SHORT));"}},o.prototype.TRADE_MACD=function(){return{Name:"MACD",Description:"MACD专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"LONG",Value:26},{Name:"SHORT",Value:12},{Name:"M",Value:9}],Script:"DIFF:=EMA(CLOSE,SHORT) - EMA(CLOSE,LONG);\nDEA  := EMA(DIFF,M);\nMACD := 2*(DIFF-DEA);\nENTERLONG:CROSS(MACD,0);\nEXITLONG:CROSS(0,MACD);"}},o.prototype.TRADE_MTM=function(){return{Name:"MTM",Description:"动力指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6}],Script:"WMTM:=C-REF(C,N);\nENTERLONG:CROSS(WMTM,0);\nEXITLONG:CROSS(0,WMTM);"}},o.prototype.TRADE_PSY=function(){return{Name:"PSY",Description:"PSY心理线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:10},{Name:"LH",Value:85}],Script:"MYPSY:=COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\nENTERLONG:CROSS(LL,MYPSY);\nEXITLONG:CROSS(MYPSY,LH);"}},o.prototype.TRADE_ROC=function(){return{Name:"ROC",Description:"变动速率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"WROC:=MA(100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N),M);\nENTERLONG:CROSS(WROC,0);\nEXITLONG:CROSS(0,WROC);"}},o.prototype.TRADE_RSI=function(){return{Name:"RSI",Description:"相对强弱专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6},{Name:"LL",Value:20},{Name:"LH",Value:80}],Script:"LC:=REF(CLOSE,1);\nWRSI:=SMA(MAX(CLOSE-LC,0),N,1)/SMA(ABS(CLOSE-LC),N,1)*100;\nENTERLONG:CROSS(WRSI,LL);\nEXITLONG:CROSS(LH,WRSI);"}},o.prototype.TRADE_VR=function(){return{Name:"VR",Description:"VR容量比率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:26},{Name:"LL",Value:70},{Name:"LH",Value:250}],Script:"WVR := SUM((IF(CLOSE>OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)/SUM((IF(CLOSE<OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)*100;\nENTERLONG:CROSS(LL,WVR);\nEXITLONG:CROSS(WVR,LH);"}},o.prototype.TRADE_DPSJ=function(){return{Name:"DPSJ",Description:"大盘随机专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N1",Value:18},{Name:"N2",Value:12}],Script:"RSV:=(INDEXC-LLV(INDEXL,N1))/(HHV(INDEXH,N1)-LLV(INDEXL,N1))*100;\nK:=SMA(RSV,N2,1);\nHSL:VOL/100/(FINANCE(7));\nENTERLONG: CROSS(K,20);\nEXITLONG: (CROSS(HSL,5) OR CROSS(K,80));"}},o.prototype.Zealink_Index1=function(){return{Name:"资金吸筹",Description:"资金吸筹",IsMainIndex:!1,Args:[],Script:"VAR1:=REF((LOW+OPEN+CLOSE+HIGH)/4,1);  \nVAR2:= SMA(ABS(LOW - VAR1), 13, 1) / SMA(MAX(LOW - VAR1, 0), 10, 1);\nVAR3:= EMA(VAR2, 10);\nVAR4:= LLV(LOW, 33);\nVAR5:= EMA(IF(LOW <= VAR4, VAR3, 0), 3) * 0.2;\n主力进场: IF(VAR5 > REF(VAR5, 1), VAR5,0), COLORRED, NODRAW;\n洗盘: IF(VAR5 < REF(VAR5, 1),  VAR5,0), COLORYELLOW, NODRAW;\nSTICKLINE(VAR5> REF(VAR5, 1),0, VAR5, 20, 0), COLORRED;\nSTICKLINE(VAR5 < REF(VAR5, 1), 0, VAR5, 20, 0), COLORYELLOW;"}},o.prototype.Zealink_Index2=function(){return{Name:"牛熊区间",Description:"牛熊区间",IsMainIndex:!1,YSpecificMaxMin:{Max:100,Min:1,Count:4},YSplitScale:[1,50,100],Args:[],Script:"短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+ 13 * REF(H, 7) + 12 * REF(H, 8) + 11 * REF(H, 9) + 10 * REF(H, 10) + 9 * REF(H, 11) + 8 * REF(H, 12)\n+ 7 * REF(H, 13) + 6 * REF(H, 14) + 5 * REF(H, 15) + 4 * REF(H, 16) + 3 * REF(H, 17) + 2 * REF(H, 18) +\nREF(H, 20))/ 210, COLORBLUE, LINETHICK1;\n短低L:= (20 * L + 19 * REF(L, 1) + 18 * REF(L, 2) + 17 * REF(L, 3) + 16 * REF(L, 4) + 15 * REF(L, 5) + 14 * REF(L, 6)\n+ 13 * REF(L, 7) + 12 * REF(L, 8) + 11 * REF(L, 9) + 10 * REF(L, 10) + 9 * REF(L, 11) + 8 * REF(L, 12)\n+ 7 * REF(L, 13) + 6 * REF(L, 14) + 5 * REF(L, 15) + 4 * REF(L, 16) + 3 * REF(L, 17) + 2 * REF(L, 18) +\nREF(L, 20)) / 210, COLORBLUE, LINETHICK1;\nD90H:= EMA(短高H, 90), COLORRED, LINETHICK1;\nD90L:= EMA(短低L, 90), COLORRED, LINETHICK1;\nD90差:= D90H - D90L;\nD90顶:= D90H + D90差 * 2, COLORRED, LINETHICK1;\nD90底:= D90L - D90差 * 2, COLORRED, LINETHICK1;\n高0:= (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1 + EMA(EMA(H, 25), 25), LINETHICK1, COLORWHITE;\n低0:= EMA(EMA(L, 25), 25) - (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1, LINETHICK1, COLORWHITE;\n多头定位:= 低0 >= D90底 AND 高0 >= D90顶;\n空头定位:= 高0 <= D90顶 AND 低0 <= D90底;\n震荡定位:= 低0 >= D90底 AND 高0 <= D90顶;\n牛市: IF(多头定位 == 1, 100, 1), COLORRED, NODRAW;\n熊市: IF(空头定位 == 1, 100, 1), COLORGREEN, NODRAW;\n震荡: IF(震荡定位 == 1, 100, 1), COLORGRAY, NODRAW;\nSTICKLINE(多头定位 == 1, 100, 1, 100, 0), COLORRED;\nSTICKLINE(空头定位 == 1, 100, 1, 100, 0), COLORGREEN;\nSTICKLINE(震荡定位 == 1, 100, 1, 100, 0), COLORGRAY;"}},o.prototype.Zealink_Index3=function(){return{Name:"持仓信号",Description:"持仓信号",IsMainIndex:!0,Args:[],Script:'买线:=EMA(C,2);\n卖线:=EMA(SLOPE(C,30)*5+C,20); \nBU:=CROSS(买线,卖线);\nSEL:=CROSS(卖线,买线);\n\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORRED;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORGREEN;\n\nHHJSJDA:=(3*CLOSE+OPEN+LOW+HIGH)/6;\nHHJSJDB:(19*HHJSJDA+19*REF(HHJSJDA,1)+18*REF(HHJSJDA,2)+17*REF(HHJSJDA,3)+16*REF(HHJSJDA,4)+15*REF(HHJSJDA,5)+14*REF(HHJSJDA,6)\n+13*REF(HHJSJDA,7)+12*REF(HHJSJDA,8)+11*REF(HHJSJDA,9)+10*REF(HHJSJDA,10)+9*REF(HHJSJDA,11)+8*REF(HHJSJDA,12)+7*REF(HHJSJDA,13)+6*REF(HHJSJDA,14)+5*REF(HHJSJDA,15)+4*REF(HHJSJDA,16)+3*REF(HHJSJDA,17)+2*REF\n(HHJSJDA,20)+REF(HHJSJDA,19))/210,COLORYELLOW;\nHHJSJDC:MA(HHJSJDB,5),COLORRED;\n\nSVAR11:=HHV(HIGH,34);\nSVAR14:=CLOSE-REF(CLOSE,1);\nSVAR15:=MAX(SVAR14,0);\nSVAR16:=ABS(SVAR14);\nSVAR17:=SMA(SVAR15,7,1)/SMA(SVAR16,7,1)*100;\nSVAR18:=SMA(SVAR15,13,1)/SMA(SVAR16,13,1)*100;\nSVAR19:=BARSCOUNT(CLOSE);\nSVAR20:=SMA(MAX(SVAR14,0),6,1)/SMA(ABS(SVAR14),6,1)*100;\nSVAR21:=(-200)*(HHV(HIGH,60)-CLOSE)/(HHV(HIGH,60)-LLV(LOW,60))+100;\nSVAR1A:=(CLOSE-LLV(LOW,15))/(HHV(HIGH,15)-LLV(LOW,15))*100;\nSVAR1B:=SMA((SMA(SVAR1A,4,1)-50)*2,3,1);\nSVAR1C:=(INDEXC-LLV(INDEXL,14))/(HHV(INDEXH,14)-LLV(INDEXL,14))*100;\nSVAR1D:=SMA(SVAR1C,4,1);\nSVAR1E:=SMA(SVAR1D,3,1);\nSVAR1F:=(HHV(HIGH,30)-CLOSE)/CLOSE*100;\nSVAR22:=SVAR20<=25 AND SVAR21<-95 AND SVAR1F>20 AND SVAR1B<-30 AND SVAR1E<30 AND SVAR11-CLOSE>=-0.25 AND SVAR17<22 AND SVAR18<28 AND SVAR19>50;\nBUY3:=CROSS(SVAR22,0.5) AND COUNT(SVAR22==1,10)==1;\n\nSVARF:=LOW*0.9;\nSVAR10X:=100-3*SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1)+2*SMA(SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);\nSVAR11X:=SVARF<REF(SVAR10X,1) AND VOL>REF(VOL,1) AND CLOSE>REF(CLOSE,1);\nBUY2:=SVAR11X AND COUNT(SVAR11X,30)==1;\n\nVAR1:=(CLOSE+HIGH+LOW+OPEN)/4;\nVAR2:=SUMBARS(VOL,CAPITAL);\nVAR3:=HHV(VAR1,VAR2);\nVAR4:=LLV(VAR1,VAR2);\nVAR5:=(2*VAR1-VAR4-REF(VAR4,1))/(VAR3-VAR4);\nVAR6:=(VAR1-VAR4)/(VAR3-VAR4);\nVAR7:=IF(VAR1<=VAR4,VAR5*60,VAR6*60);\nVAR8:=600*(EMA(CLOSE,3)-EMA(LOW,30))/EMA(LOW,30);\nVAR9:=EMA(VAR8,7);\nVARC:=HHV(HIGH,9)-LLV(LOW,9);\nVARD:=HHV(HIGH,9)-CLOSE;\nVARE:=CLOSE-LLV(LOW,9);\nVARF:=VARD/VARC*100-70;\nVAR10:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*100;\nVAR11:=(2*CLOSE+HIGH+LOW)/4;\nVAR12:=SMA(VARE/VARC*100,3,1);\nVAR13:=LLV(LOW,34);\nVAR14:=SMA(VAR12,3,1)-SMA(VARF,9,1);\nVAR15:=IF(VAR14>100,VAR14-100,0);\nVAR16:=HHV(HIGH,34);\nVAR17:=EMA((VAR11-VAR13)/(VAR16-VAR13)*100,8);\nVAR18:=EMA(VAR17,5);\nBUY:=STICKLINE(VAR17-VAR18>0,VAR17,VAR18,8,1),COLORRED;\nSELL:=STICKLINE(VAR17-VAR18<0,VAR17,VAR18,8,1),COLORGREEN;\nBUY1:=VAR17>VAR18 AND REF(VAR17,1)<REF(VAR18,1);\nSELL1:=VAR17<VAR18 AND REF(VAR17,1)>REF(VAR18,1);\n\n短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+13*REF(H,7)+12*REF(H,8)+11*REF(H,9)+10*REF(H,10)+9*REF(H,11)+8*REF(H,12)\n+7*REF(H,13)+6*REF(H,14)+5*REF(H,15)+4*REF(H,16)+3*REF(H,17)+2*REF(H,18)+\nREF(H,20))/210,COLORBLUE,LINETHICK1;\n短低L:=(20*L+19*REF(L,1)+18*REF(L,2)+17*REF(L,3)+16*REF(L,4)+15*REF(L,5)+14*REF(L,6)\n+13*REF(L,7)+12*REF(L,8)+11*REF(L,9)+10*REF(L,10)+9*REF(L,11)+8*REF(L,12)\n+7*REF(L,13)+6*REF(L,14)+5*REF(L,15)+4*REF(L,16)+3*REF(L,17)+2*REF(L,18)+\nREF(L,20))/210,COLORBLUE,LINETHICK1;\nD90H:=EMA(短高H,90),COLORRED,LINETHICK1;\nD90L:=EMA(短低L,90),COLORRED,LINETHICK1;\nD90差:=D90H-D90L;\nD90顶:=D90H+D90差*2,COLORRED,LINETHICK1;\nD90底:=D90L-D90差*2,COLORRED,LINETHICK1;\n高0:=(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1+EMA(EMA(H,25),25),LINETHICK1,COLORWHITE;\n低0:=EMA(EMA(L,25),25)-(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1,LINETHICK1,COLORWHITE;\n多头定位:=低0>=D90底 AND 高0>=D90顶;\n空头定位:=高0<=D90顶 AND 低0<=D90底;\n震荡定位:=低0>=D90底 AND 高0<=D90顶;\n\n牛市:=多头定位==1;\n熊市:=空头定位==1;\n震荡:=震荡定位==1;\n\n非牛市:=熊市 OR 震荡;\n非熊市:=牛市 OR 震荡;\n\nBUY11:=BUY1 AND 非熊市;\nSELL11:=SELL1 AND 震荡定位==0;\n\nBUY111:=BUY11 AND COUNT(BUY11,10)<2;\nBUY0:=BUY111 AND COUNT(BUY111,21)==1;\nSELL111:=SELL11 AND COUNT(SELL11,10)<2;\nSELL0:=SELL111 AND COUNT(SELL111,10)==1;\n\nXK1:=EMA(100*(CLOSE-LLV(LOW,34))/(HHV(HIGH,34)-LLV(LOW,34)),3)/4;\n上穿:=REF(XK1,1)<5 AND XK1>=5;\nBUY4:=上穿 AND COUNT(XK1<2,12)<1;\n\nSELL2:=REF(XK1,1)<=22.5 AND XK1>22.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,5)>0;\nSELL3:=REF(XK1,1)>=21.5 AND XK1<21.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,12)>1;\nSELL4:=SELL2 OR SELL3 AND COUNT((SELL2 OR SELL3)==1,5)==1;\n\nSUPERDRAWTEXT(BUY0,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL0,H,"风险",1,10),COLORGREEN;\nSUPERDRAWTEXT(BUY2,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(BUY4,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL4,H,"风险",1,10),COLORGREEN;'}},o.prototype.Zealink_Index4=function(){return{Name:"股东实际增减持",Description:"股东实际增减持",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"增持:NEWS(4),NODRAW,COLORRED;\n减持:NEWS(5),NODRAW,COLORGREEN;\nSTICKLINE(增持>0,0,增持,1,0),COLORRED;\nSTICKLINE(减持<0,0,减持,1,0),COLORGREEN;"}},o.prototype.Zealink_Index5=function(){return{Name:"大宗交易",Description:"大宗交易",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"交易次数:NEWS(7);"}},o.prototype.Zealink_Index6=function(){return{Name:"信托持股",Description:"信托持股",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"家数:NEWS(6);"}},o.prototype.Zealink_Index7=function(){return{Name:"官网新闻",Description:"官网新闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(8);"}},o.prototype.Zealink_Index8=function(){return{Name:"高管要闻",Description:"高管要闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(9);"}},o.prototype.Zealink_Index9=function(){return{Name:"股权质押",Description:"股权质押",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"次数:NEWS(10);"}},o.prototype.Zealink_Index10=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3; \nA:=EMA(JJ,10); \nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13); \nM4:=EMA(M2,55); \nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\nINDEXCLOSE:INDEXC,EXDATA;\nINDEXOPEN:INDEXO,EXDATA;\nDRAWICON(REF(B1,1),L*0.97,13);\nDRAWICON(REF(S1,1),H*1.03,14);"}},o.prototype.Zealink_Index11=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3;\nA:=EMA(JJ,10);\nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13);\nM4:=EMA(M2,55);\n持股区域:=STICKLINE(A>B,A,B,2,0),COLORYELLOW; \n持币区域:=STICKLINE(A<B,A,B,2,0),COLORBLUE;\n\nVR1:=(C+O+REF(C,1))/3;\nVR3:=HHV(VR1,21);\nVR4:=LLV(VR1,21);\nVR5:=(2*VR1-VR4-REF(VR4,1))/(VR3-VR4);\nVR6:=(VR1-VR4)/(VR3-VR4);\nVR7:=IF(VR1<=VR4,VR5*60,VR6*60);\nVR8:=600*(EMA(C,3)-EMA(L,30))/EMA(L,30);\nVR9:=EMA(VR8,7);\nVRA:=(WINNER(120*C/100)-WINNER(100*C/100))*100;\nVRB:=(-100)*(WINNER(120*C/100)-WINNER(100*C/100))+5;\nVRC:=HHV(H,9)-LLV(L,9);\nVRD:=HHV(H,9)-C;\nVRE:=C-LLV(L,9);\nVRF:=VRD/VRC*100-70;\nVR10:=(C-LLV(L,60))/(HHV(H,60)-LLV(L,60))*100;\nVR11:=(2*C+H+L)/4;\nVR12:=SMA(VRE/VRC*100,3,1);\nVR13:=LLV(L,34);\nVR14:=SMA(VR12,3,1)-SMA(VRF,9,1);\nVR15:=IF(VR14>100,VR14-100,0);\nVR16:=HHV(H,34);\nVR17:=EMA((VR11-VR13)/(VR16-VR13)*100,8);\nVR18:=EMA(VR17,5);\n\nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\n\nB9:=BARSLAST(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)));\nS9:=BARSLAST(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)));\n\nDRAWICON(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)) AND REF(B9,2)>=S9,L*0.97,13);\nDRAWICON(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)) AND REF(S9,1)>=B9,H*1.03,14);\n\nDRAWKLINE_IF(VR17>VR18,HIGH,CLOSE,LOW,OPEN),COLORRED;\nDRAWKLINE_IF(VR17<VR18,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n\nINDEXCLOSE:INDEXC,EXDATA;\t\t//取指数的收盘价 回测的时候计算BATE系数用 "}},o.prototype.HeikinAshi=function(){return{Name:"平均K线",Description:"Heikin-Ashi 平均K线",IsMainIndex:!0,KLineType:-1,Args:[],Script:"HCLOSE:(OPEN+HIGH+LOW+CLOSE)/4, NODRAW;\nHOPEN:(REF(OPEN,1)+REF(CLOSE,1))/2,NODRAW;\nHHIGH:MAX(HIGH,MAX(HOPEN,HCLOSE)),NODRAW;\nHLOW:MIN(LOW,MIN(HOPEN,HCLOSE)),NODRAW;\nDRAWKLINE(HHIGH,HOPEN,HLOW,HCLOSE);"}},o.prototype.ADL=function(){return{Name:"腾落指标",Description:"腾落指标",IsMainIndex:!1,StringFormat:2,Condition:{Period:[Ni.KLINE_DAY_ID,Ni.KLINE_WEEK_ID,Ni.KLINE_TWOWEEK_ID,Ni.KLINE_MONTH_ID,Ni.KLINE_QUARTER_ID,Ni.KLINE_YEAR_ID],Include:["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]},Args:[{Name:"M",Value:7}],Script:"ADL:SUM(ADVANCE-DECLINE,0);\nMAADL:MA(ADL,M);"}},o.prototype.EMPTY=function(){return{Name:"",Description:"空指标",IsMainIndex:!0,Args:[],Script:"VAR2:=C;"}},o.prototype.CJL=function(){return{Name:"CJL",Description:"期货持仓量",IsMainIndex:!1,Args:[],Script:"成交量:VOL,VOLSTICK;\n持仓量:VOLINSTK,LINEOVERLAY;"}},o.prototype.ASI=function(){return{Name:"ASI",Description:"振动升降指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6}],Script:"X_1:=REF(CLOSE,1);\nX_2:=ABS(HIGH-X_1);\nX_3:=ABS(LOW-X_1);\nX_4:=ABS(HIGH-REF(LOW,1));\nX_5:=ABS(X_1-REF(OPEN,1));\nX_6:=IF(X_2>X_3 AND X_2>X_4,X_2+X_3/2+X_5/4,IF(X_3>X_4 AND X_3>X_2,X_3+X_2/2+X_5/4,X_4+X_5/4));\nX_7:=CLOSE-X_1+(CLOSE-OPEN)/2+X_1-REF(OPEN,1);\nX_8:=8*X_7/X_6*MAX(X_2,X_3);\nASI:SUM(X_8,0),LINETHICK2;\nMASI:MA(ASI,N1),LINETHICK2;"}},o.prototype.DC=function(){return{Name:"DC",Description:"唐奇安通道",IsMainIndex:!0,Args:[{Name:"N1",Value:20}],Script:"UPPER:HHV(H,N1),COLORBLUE,LINETHICK2;\nLOWER:LLV(L,N1),COLORBLUE,LINETHICK2;\nMIDDLE:(UPPER+LOWER)/2,COLORRED,LINETHICK3;"}},o.prototype.DEMA=function(){return{Name:"DEMA",Description:"双重指数移动均线",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"ERR:=C-EMA(C,N1);\nDEMA:EMA(C,10)+EMA(ERR,N1);"}},o.prototype.VWAP=function(){return{Name:"VWAP",Description:"成交量加权平均价",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"PRICE:=(H+L+C)/3;\nT2:=VOL*PRICE;\nVWAP:SUM(T2,0)/SUM(VOL,0);"}},o.prototype.SQJZ=function(){return{Name:"SQJZ",Description:"神奇九转",IsMainIndex:!0,Script:"B:=C<REF(C,4);\nN:=CURRBARSCOUNT;\nB1:=(N=6 AND REFXV(COUNT(B,6),5)=6) OR (N=7 AND REFXV(COUNT(B,7),6)=7) OR (N=8 AND REFXV(COUNT(B,8),7)=8) OR (N>=9 AND REFXV(COUNT(B,9),8)=9);\nDRAWNUMBER(B1 AND REF(B,1)=0,L,1),COLORMAGENTA;\nB2:=(N=5 AND REFXV(COUNT(B,6),4)=6) OR (N=6 AND REFXV(COUNT(B,7),5)=7) OR (N=7 AND REFXV(COUNT(B,8),6)=8) OR (N>=8 AND REFXV(COUNT(B,9),7)=9);\nDRAWNUMBER(B2 AND REF(B,2)=0,L,2),COLORMAGENTA;\nB8:=(N=1 AND COUNT(B,8)=8) OR (N>=2 AND REFXV(COUNT(B,9),1)=9);\nDRAWNUMBER(B8 AND REF(B,8)=0,L,8),COLORMAGENTA;\nB9:=(N>=1 AND COUNT(B,9)=9);\nDRAWNUMBER(B9 AND REF(B,9)=0,L,9),COLORBROWN;\nS:=C>REF(C,4);\nS1:=(N=6 AND REFXV(COUNT(S,6),5)=6) OR (N=7 AND REFXV(COUNT(S,7),6)=7) OR (N=8 AND REFXV(COUNT(S,8),7)=8) OR (N>=9 AND REFXV(COUNT(S,9),8)=9);\nDRAWNUMBER(S1 AND REF(S,1)=0,H,1),COLORMAGENTA,DRAWABOVE;\nS2:=(N=5 AND REFXV(COUNT(S,6),4)=6) OR (N=6 AND REFXV(COUNT(S,7),5)=7) OR (N=7 AND REFXV(COUNT(S,8),6)=8) OR (N>=8 AND REFXV(COUNT(S,9),7)=9);\nDRAWNUMBER(S2 AND REF(S,2)=0,H,2),COLORMAGENTA,DRAWABOVE;\nS8:=(N=1 AND COUNT(S,8)=8) OR (N>=2 AND REFXV(COUNT(S,9),1)=9);\nDRAWNUMBER(S8 AND REF(S,8)=0,H,8),COLORMAGENTA,DRAWABOVE;\nS9:=(N>=1 AND COUNT(S,9)=9);\nDRAWNUMBER(S9 AND REF(S,9)=0,H,9),COLORGREEN,DRAWABOVE;"}},o.prototype.XT=function(){return{Name:"XT",Description:"箱体",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"【箱顶】:PEAK(CLOSE,N,1)*0.98;\n【箱底】:TROUGH(CLOSE,N,1)*1.02;\n【箱高】:100*(【箱顶】-【箱底】)/【箱底】,NODRAW;"}},o.prototype.CFJT=function(){return{Name:"CFJT",Description:"财富阶梯",IsMainIndex:!0,Script:"突破:=REF(EMA(C,14),1);\nA1X:=(EMA(C,10)-突破)/突破*100;\n多方:=IF(A1X>=0,REF(EMA(C,10),BARSLAST(CROSS(A1X,0))+1),DRAWNULL);\n空方:=IF(A1X<0,REF(EMA(C,10),BARSLAST(CROSS(0,A1X))+1),DRAWNULL);\nSTICKLINE(A1X>=0,多方,突破,110,0),COLORRED;\nSTICKLINE(A1X<0,空方,突破,110,0),COLORGREEN;"}},o.prototype.CYX=function(){return{Name:"CYX",Description:"撑压线",IsMainIndex:!0,Args:[{Name:"N",Value:7}],Script:"Z1:=STRCAT(HYBLOCK,' ');\nZ2:=STRCAT(Z1,DYBLOCK);\nZ3:=STRCAT(Z2,' ');\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,STRCAT(Z3,GNBLOCK)),COLOR00C0C0;\nA1:=REF(H,N)=HHV(H,2*N+1);\nB1:=FILTER(A1,N);\nC1:=BACKSET(B1,N+1);\nD1:=FILTER(C1,N);\nA2:=REF(L,N)=LLV(L,2*N+1);\nB2:=FILTER(A2,N);\nC2:=BACKSET(B2,N+1);\nD2:=FILTER(C2,N);\nE1:=(REF(LLV(L,2*N),1)+REF(HHV(H,2*N),1))/2;\nE2:=(H+L)/2;\nH1:=(D1 AND NOT(D2 AND E1>=E2)) OR ISLASTBAR OR BARSCOUNT(C)=1;\nL1:=(D2 AND NOT(D1 AND E1<E2));\nH2:=D1 AND NOT(D2 AND E1>=E2);\nX1:=REF(BARSLAST(H1),1)+1;\nF1:=BACKSET(H1 AND COUNT(L1,X1)>0,LLVBARS(IF(L1,L,10000),X1));\nG1:=F1>REF(F1,1);\nI1:=BACKSET(G1,2);\nLD:=I1>REF(I1,1);\nL2:=LD OR ISLASTBAR OR BARSCOUNT(C)=1;\nX2:=REF(BARSLAST(L2),1)+1;\nF2:=BACKSET(L2 AND COUNT(H2,X2)>0,HHVBARS(IF(H2,H,0),X2));\nG2:=F2>REF(F2,1);\nI2:=BACKSET(G2,2);\nHD:=I2>REF(I2,1);\nR1:=BACKSET(ISLASTBAR,BARSLAST(HD)+1);\nS1:=R1>REF(R1,1);\nT1:=BACKSET(ISLASTBAR,BARSLAST(LD)+1);\nU1:=T1>REF(T1,1);\nR2:=BACKSET(S1,REF(BARSLAST(HD),1)+2);\nS2:=R2>REF(R2,1);\nT2:=BACKSET(U1,REF(BARSLAST(LD),1)+2);\nU2:=T2>REF(T2,1);\nDRAWLINE(S2,H,S1,H,1),LINETHICK2,COLORRED;\nDRAWLINE(U2,L,U1,L,1),LINETHICK2,COLORGREEN;"}},o.prototype.WAVE=function(){return{Name:"WAVE",Description:"波浪分析",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"ZIG(3,N);"}},o.prototype.TEST=function(){return{Name:"TEST",Description:"测试脚本",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"DRAWCHANNEL(OPEN>C,H,L, 'RGB(255,94,102)', 2 ,'5,5','RGBA(58,20,62,0.3)' );"}},!xi)var xi={Chart:{Log:console.log},Complier:{Log:console.log}};h.Init=function(t){var e=new h(t);return e.OnSize(),e},h.SetDomain=function(t,e){t&&(Zi.Domain=t),e&&(Zi.CacheDomain=e)},h.SetPyIndexDomain=function(t){t&&(Zi.PyIndexDomain=t)},h.SetStyle=function(t){t&&Zi.SetStyle(t)},h.SetTextResource=function(t,e){$i.SetTextResource(t,e)},h.GetLocalization=function(){return $i},h.GetDevicePixelRatio=function(){return u()},h.CreateGuid=function(){return D()},h.GetResource=function(){return Zi},h.GetMinuteTimeStringData=function(){return er},h.GetMinuteCoordinateData=function(){return ar},h.GetKLineZoom=function(){return Ui},h.GetDivTooltipDataFormat=function(){return ji},h.SetUSATimeType=function(t){rr.TimeType=t,nr.TimeType=t,sr.TimeType=t,or.TimeType=t},h.GetChinaFuturesTimeData=function(){return ir},h.AddPeriodCallback=function(t){Yi.AddPeriodCallback(t)},h.RemovePeriodCallback=function(t){Yi.RemovePeriodCallback(t)},h.RegisterDrawPicture=function(t){return ce.RegisterDrawPicture(t)},h.RegisterDrawPictureIonFont=function(t){return ce.RegisterIonFont(t)};var Oi={RECV_KLINE_MATCH:1,RECV_INDEX_DATA:2,RECV_HISTROY_DATA:3,RECV_TRAIN_MOVE_STEP:4,CHART_STATUS:5,BARRAGE_PLAY_END:6,RECV_OVERLAY_INDEX_DATA:7,DBCLICK_KLINE:8,RECV_START_AUTOUPDATE:9,RECV_STOP_AUTOUPDATE:10,ON_CONTEXT_MENU:11,ON_TITLE_DRAW:12,ON_SELECT_RECT:13,RECV_MINUTE_DATA:14,ON_CLICK_INDEXTITLE:15,RECV_KLINE_UPDATE_DATA:16,ON_CLICK_DRAWPICTURE:17,ON_FINISH_DRAWPICTURE:18,ON_INDEXTITLE_DRAW:19,ON_CUSTOM_VERTICAL_DRAW:20,RECV_KLINE_MANUAL_UPDATE_DATA:21,ON_ENABLE_SPLASH_DRAW:22,ON_CLICK_CHART_PAINT:23},Pi={OP_SCROLL_LEFT:1,OP_SCROLL_RIGHT:2,OP_ZOOM_OUT:3,OP_ZOOM_IN:4,OP_GOTO_HOME:5,OP_GOTO_END:6,OP_LEFT_ZOOM_OUT:7,OP_LEFT_ZOOM_IN:8,OP_RIGHT_ZOOM_OUT:9,OP_RIGHT_ZOOM_IN:10},Ri={DISABLE_DRAG_ID:0,CLICK_TOUCH_MODE_ID:3};Number.prototype.toFixed2=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return c(this,t)},Y.Copy=function(t){var e=new Y;return e.Date=t.Date,e.YClose=t.YClose,e.Open=t.Open,e.Close=t.Close,e.High=t.High,e.Low=t.Low,e.Vol=t.Vol,e.Amount=t.Amount,e.Time=t.Time,e.FlowCapital=t.FlowCapital,e.Position=t.Position,e.YFClose=t.YFClose,e.FClose=t.FClose,e.Stop=t.Stop,e.Up=t.Up,e.Down=t.Down,e.Unchanged=t.Unchanged,e},Y.CopyTo=function(t,e){t.Date=e.Date,t.YClose=e.YClose,t.Open=e.Open,t.Close=e.Close,t.High=e.High,t.Low=e.Low,t.Vol=e.Vol,t.Amount=e.Amount,t.Time=e.Time,t.FlowCapital=e.FlowCapital,t.Position=e.Position,t.YFClose=e.YFClose,t.FClose=e.FClose,t.Stop=e.Stop,t.Up=e.Up,t.Down=e.Down,t.Unchanged=e.Unchanged},Y.CopyRight=function(t,e){var a=new Y;return a.Date=t.Date,a.YClose=t.YClose*e,a.Open=t.Open*e,a.Close=t.Close*e,a.High=t.High*e,a.Low=t.Low*e,a.Vol=t.Vol,a.Amount=t.Amount,a.FlowCapital=t.FlowCapital,a.Position=t.Position,a.YFClose=t.YFClose,a.FClose=t.FClose,a};var bi={INVESTOR:1,ANNOUNCEMENT:2,PFORECAST:3,ANNOUNCEMENT_QUARTER_1:4,ANNOUNCEMENT_QUARTER_2:5,ANNOUNCEMENT_QUARTER_3:6,ANNOUNCEMENT_QUARTER_4:7,RESEARCH:8,BLOCKTRADING:9,TRADEDETAIL:10,ANNOUNCEMENT_EX_START:100,ANNOUNCEMENT_EX_END:200};V.GetMinutePeriodData=null;var Yi=new V;G.GetKLineDataTime=function(t){var e={Date:t.Date,Time:0};return Wt.IsNumber(t.Time)&&(e.Time=t.Time),e},G.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),a=e.getDay();if(5==a)return t;var i=e.getTime();if(a<5){var r=864e5*(5-a);i+=r}else{var r=864e5*(a-5);i-=r}e.setTime(i);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},G.GetSunday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),a=e.getDay();if(0==a)return t;var i=e.getTime();if(a>0){i+=864e5*(7-a)}e.setTime(i);var r=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return r},G.GetQuarter=function(t){var e=parseInt(t%1e4/100);return 1==e||2==e||3==e?1:4==e||5==e||6==e?2:7==e||8==e||9==e?3:10==e||11==e||12==e?4:0};var Bi=4e4,Hi=49999;G.IsDayPeriod=function(t,e){return 1==t||2==t||3==t||9==t||21==t||(t>Bi&&t<=Hi||0==t&&1==e)};var ki=2e4,Vi=29999;G.IsMinutePeriod=function(t,e){return 5==t||6==t||7==t||8==t||11==t||12==t||(t>ki&&t<=Vi||4==t&&1==e)};var Gi=3e4,Wi=32e3;G.IsSecondPeriod=function(t){return t>Gi&&t<=Wi},G.IsTickPeriod=function(t){return 10==t},G.GetPeriodName=function(t){var e=new Ai.default([[0,"日线"],[1,"周线"],[2,"月线"],[3,"年线"],[9,"季线"],[21,"双周"],[4,"1分"],[5,"5分"],[6,"15分"],[7,"30分"],[8,"60分"],[11,"2小时"],[12,"4小时"],[10,"分笔"]]);return e.has(t)?e.get(t):""};var Ui=[[48,10],[44,10],[40,9],[36,9],[32,8],[28,8],[24,7],[20,7],[18,6],[16,6],[14,5],[12,5],[8,4],[6,4],[4,4],[3,3],[3,1],[2,1],[1,1],[1,0]],Xi={STATUS_NONE_ID:0,STATUS_REQUESTDATA_ID:1,STATUS_RECVDATA_ID:2,STATUS_FINISHED_ID:3};Wt.FormatValueThousandsString=function(t,e){if(null==t||isNaN(t)){if(e>0){for(var a="-.",i=0;i<e;++i)a+="-";return a}return"--"}var r="",n=t.toFixed(e);if(e>0){for(var s=n.split(".")[1],o=n.split(".")[0];o.length>3;)r=","+o.slice(-3)+r,o=o.slice(0,o.length-3);o&&(r=o+r+"."+s)}else{for(;n.length>3;)r=","+n.slice(-3)+r,n=n.slice(0,n.length-3);n&&(r=n+r)}return r},Wt.FormatValueString=function(t,e,a){if(null==t||isNaN(t)){if(e>0){for(var i="-.",r=0;r<e;++r)i+="-";return i}return"--"}if(t<1e-11&&t>-1e-11)return"0";var n=Math.abs(t);return a===Qi.LANGUAGE_ENGLISH_ID?n<1e4?t.toFixed(e):n<1e6?(t/1e3).toFixed(e)+"K":n<1e9?(t/1e6).toFixed(e)+"M":n<1e12?(t/1e9).toFixed(e)+"B":(t/1e12).toFixed(e)+"T":n<1e4?t.toFixed(e):n<1e8?(t/1e4).toFixed(e)+"万":n<1e12?(t/1e8).toFixed(e)+"亿":(t/1e12).toFixed(e)+"万亿"},Wt.FromatIntegerString=function(t,e,a){return t<1e4&&Wt.IsInteger(t)&&(e=0),Wt.FormatValueString(t,e,a)},Wt.NumberToString=function(t){return t<10?"0"+t.toString():t.toString()},Wt.FormatDateString=function(t,e){var a=parseInt(t/1e4),i=parseInt(t/100)%100,r=t%100;switch(e){case"MM-DD":return Wt.NumberToString(i)+"-"+Wt.NumberToString(r);default:return a.toString()+"-"+Wt.NumberToString(i)+"-"+Wt.NumberToString(r)}},Wt.FormatTimeString=function(t,e){if("HH:MM:SS"==e){var a=parseInt(t/1e4),i=parseInt(t%1e4/100),r=t%100;return Wt.NumberToString(a)+":"+Wt.NumberToString(i)+":"+Wt.NumberToString(r)}if("HH:MM"==e){var a=parseInt(t/100),i=t%100;return Wt.NumberToString(a)+":"+Wt.NumberToString(i)}if(t<1e4){var a=parseInt(t/100),i=t%100;return Wt.NumberToString(a)+":"+Wt.NumberToString(i)}var a=parseInt(t/1e4),i=parseInt(t%1e4/100),r=t%100;return Wt.NumberToString(a)+":"+Wt.NumberToString(i)+":"+Wt.NumberToString(r)},Wt.FormatReportDateString=function(t){var e,a=parseInt(t/1e4),i=parseInt(t/100)%100;switch(i){case 3:e="一季度报";break;case 6:e="半年报";break;case 9:e="三季度报";break;case 12:e="年报"}return a.toString()+e},Wt.FormatDateTimeString=function(t,e){var a=t.split(" ");if(a.length<2)return"";var i=parseInt(a[1]),r=i%100,n=parseInt(i/100),s=(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString());if(1==e){var o=parseInt(a[0]),h=parseInt(o/1e4),l=parseInt(o%1e4/100),u=o%100;s=h.toString()+"-"+(l<10?"0"+l.toString():l.toString())+"-"+(u<10?"0"+u.toString():u.toString())+" "+s}return s},Wt.FormatValueColor=function(t,e){return null!=t&&null==e?0==t?"PriceNull":t>0?"PriceUp":"PriceDown":null==t||null==e?"PriceNull":t==e?"PriceNull":t>e?"PriceUp":"PriceDown"},Wt.IsNumber=function(t){return null!=t&&!isNaN(t)},Wt.IsPlusNumber=function(t){return null!=t&&(!isNaN(t)&&t>0)},Wt.IsInteger=function(t){return"number"==typeof t&&t%1==0},Wt.IsObjectExist=function(t){return void 0!==t&&null!=t},Wt.IsBool=function(t){return!0===t||!1===t},Wt.IsString=function(t){return!(!t||"string"!=typeof t)},Wt.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,a=t[e];if("0"!=a){if("."==a){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var Ki=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],Ji=["日","一","二","三","四","五","六"],ji=new se,zi=["不复权","前复权","后复权"],qi={DEFAULT:1,ORIGINAL:2,INTEGER:3,THOUSANDS:21};ce.ColorToRGBA=function(t,e){if(/^(rgb|RGB)/.test(t)){for(var a="#",i=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r=0;r<i.length;r++){var n=Number(i[r]).toString(16);"0"===n&&(n+=n),a+=n}t=a}return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},ce.ArrayDrawPricture=[{Name:"线段",ClassName:"ChartDrawPictureLine",Create:function(){return new De}},{Name:"射线",ClassName:"ChartDrawPictureHaflLine",Create:function(){return new me}},{Name:"水平线",ClassName:"ChartDrawPictureHorizontalLine",Create:function(){return new Ce}},{Name:"趋势线",ClassName:"ChartDrawPictureTrendLine",Create:function(){return new fe}},{Name:"矩形",ClassName:"ChartDrawPictureRect",Create:function(){return new pe}},{Name:"圆弧线",ClassName:"ChartDrawPictureArc",Create:function(){return new ve}},{Name:"M头W底",ClassName:"ChartDrawPictureWaveMW",Create:function(){return new Se}},{Name:"平行线",ClassName:"ChartDrawPictureParallelLines",Create:function(){return new Te}},{Name:"平行通道",ClassName:"ChartDrawPictureParallelChannel",Create:function(){return new _e}},{Name:"价格通道线",ClassName:"ChartDrawPicturePriceChannel",Create:function(){return new Me}},{Name:"文本",ClassName:"ChartDrawPictureText",Create:function(){return new Ie}},{Name:"江恩角度线",ClassName:"ChartDrawPictureGannFan",Create:function(){return new ge}},{Name:"阻速线",ClassName:"ChartDrawPictureResistanceLine",Create:function(){return new ye}},{Name:"黄金分割",ClassName:"ChartDrawPictureGoldenSection",Create:function(){return new Ae}},{Name:"百分比线",ClassName:"ChartDrawPicturePercentage",Create:function(){return new Fe}},{Name:"波段线",ClassName:"ChartDrawPictureWaveBand",Create:function(){return new Ee}},{Name:"三角形",ClassName:"ChartDrawPictureTriangle",Create:function(){return new xe}},{Name:"对称角度",ClassName:"ChartDrawPictureSymmetryAngle",Create:function(){return new Ne}},{Name:"圆",ClassName:"ChartDrawPictureCircle",Create:function(){return new we}},{Name:"平行四边形",ClassName:"ChartDrawPictureQuadrangle",Create:function(){return new Oe}},{Name:"斐波那契周期线",ClassName:"ChartDrawPictureFibonacci",Create:function(){return new Pe}},{ClassName:"ChartDrawPictureIconFont",Create:function(){return new Le}}],ce.MapIonFont=new Ai.default([["icon-arrow_up",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_down",{Text:"",Color:"#db563e",Family:"iconfont"}],["icon-arrow_right",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_left",{Text:"",Color:"#318757",Family:"iconfont"}]]),ce.GetDrawPictureByName=function(t){for(var e in ce.ArrayDrawPricture){var a=ce.ArrayDrawPricture[e];if(a.Name==t)return a}return null},ce.GetDrawPictureByClassName=function(t){for(var e in ce.ArrayDrawPricture){var a=ce.ArrayDrawPricture[e];if(a.ClassName==t)return a}return null},ce.RegisterDrawPicture=function(t){if(!t.Name||!t.ClassName||!t.Create)return!1;var e={Name:t.Name,ClassName:t.ClassName,Create:t.Create};return ce.ArrayDrawPricture.push(e),xi.Chart.Log("[IChartDrawPicture.RegisterDrawPicture] registered new draw picture class. item=",e),!0},ce.RegisterIonFont=function(t){if(!t.Name||!t.Text||!t.Family)return!1;var e=ce.MapIonFont.has(t.Name);return ce.MapIonFont.set(t.Name,t),xi.Chart.Log("[IChartDrawPicture.RegisterIonFont] registered new icon font, obj=, isOverwirte=",t,e),!0},ce.CreateChartDrawPicture=function(t){var e=ce.GetDrawPictureByClassName(t.ClassName);if(!e)return null;var a=e.Create();return t.Period>=0&&(a.Period=t.Period),t.Guid&&(a.Guid=t.Guid),t.Symbol&&(a.Symbol=t.Symbol),t.Value&&(a.Value=t.Value),t.Text&&(a.Text=t.Text),t.LineColor&&(a.LineColor=t.LineColor),t.AreaColor&&(a.AreaColor=t.AreaColor),t.FontOption&&(a.FontOption=t.FontOption),t.Label&&(a.Label=t.Label),t.LineWidth>0&&(a.LineWidth=t.LineWidth),a};var Zi=new Be,Qi={LANGUAGE_CHINESE_ID:0,LANGUAGE_ENGLISH_ID:1},$i=new He;ke.Get=function(t){return new Ai.default([["市场多空",{IsMainIndex:!1,Create:function(){return new ea}}],["市场择时",{IsMainIndex:!1,Create:function(){return new aa}}],["市场关注度",{IsMainIndex:!1,Create:function(){return new ia}}],["指数热度",{IsMainIndex:!1,Create:function(){return new ra}}],["财务粉饰",{IsMainIndex:!1,Create:function(){return new sa}}],["自定义指数热度",{IsMainIndex:!1,Create:function(){return new na},Name:"自定义指数热度"}],["能图-趋势",{IsMainIndex:!1,Create:function(){return new oa},Name:"大盘/个股趋势"}],["能图-位置研判",{IsMainIndex:!1,Create:function(){return new ha},Name:"位置研判"}],["能图-点位研判",{IsMainIndex:!1,Create:function(){return new da},Name:"点位研判"}],["CJL",{IsMainIndex:!1,Create:function(){return new ta}}]]).get(t)},Ve.EMA=function(t,e){var a=[],i=0;if(i>=t.length)return a;for(;i<t.length&&(null==t[i]||isNaN(t[i]));++i);var r=i,n=i+1;a[r]=t[r];for(var s=i+1;s<t.length;++s,++r,++n)a[n]=(2*t[n]+(e-1)*a[r])/(e+1);return a},Ve.SMA=function(t,e,a){for(var i=[],r=0,n=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){n=t[r],i[r]=n;break}for(++r;r<t.length;++r)i[r]=(a*t[r]+(e-a)*n)/e,n=i[r];return i},Ve.DMA=function(t,e){var a=[];if(t.length<0||t.length!=e.length)return a;for(var i=0;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])&&null!=e[i]&&!isNaN(e[i])){a[i]=t[i];break}for(i+=1;i<t.length;++i)null==t[i]||null==e[i]?a[i]=null:t[i]<1?a[i]=e[i]*t[i]+(1-e[i])*a[i-1]:a[i]=t[i];return a},Ve.HHV=function(t,e){var a=[];if(e>t.length)return a;for(var i=-1e4,r=e,n=0;r<t.length;++r,++n){if(r<e+i)i=t[r]<t[i]?i:r;else for(n=1+(i=r-e+1);n<=r;++n)t[n]>t[i]&&(i=n);a[r]=t[i]}return a},Ve.LLV=function(t,e){var a=[];if(e>t.length)return a;for(var i=-1e4,r=e;r<t.length;++r,++n){if(r<e+i)i=t[r]>t[i]?i:r;else for(var n=1+(i=r-e+1);n<=r;++n)t[n]<t[i]&&(i=n);a[r]=t[i]}return a},Ve.REF=function(t,e){var a=[];if(t.length<=0)return a;if(e>=t.length)return a;a=t.slice(0,t.length-e);for(var i=0;i<e;++i)a.unshift(null);return a},Ve.REFDATE=function(t,e){var a=[];if(t.length<=0)return a;e=t.length-1;for(var i in t)a[i]=t[e];return a},Ve.SUM=function(t,e){var a=[];if(0==e){a[0]=t[0];for(var i=1;i<t.length;++i)a[i]=a[i-1]+t[i]}else for(var i=e-1,r=0;i<t.length;++i,++r)for(var n=0;n<e;++n)0==n?a[i]=t[n+r]:a[i]+=t[n+r];return a},Ve.ARRAY_SUBTRACT=function(t,e){var a=[];if("number"==typeof e)for(var i in t)null==t[i]||isNaN(t[i])?a[i]=null:a[i]=t[i]-e;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?null==t[i]||null==e[i]?a[i]=null:a[i]=t[i]-e[i]:a[i]=null;return a},Ve.ARRAY_GT=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]>e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]>e[i]?1:0:a[i]=null;return a},Ve.ARRAY_GTE=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]>=e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]>=e[i]?1:0:a[i]=null;return a},Ve.ARRAY_LT=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]<e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]<e[i]?1:0:a[i]=null;return a},Ve.ARRAY_LTE=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]<=e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]<=e[i]?1:0:a[i]=null;return a},Ve.ARRAY_EQ=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]==e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]==e[i]?1:0:a[i]=null;return a},Ve.ARRAY_IF=function(t,e,a){var i=[],r=["number"==typeof e,"number"==typeof a];for(var n in t)t[n]?i[n]=r[0]?e:e[n]:i[n]=r[1]?a:a[n];return i},Ve.ARRAY_AND=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]&&e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]&&e[i]?1:0:a[i]=0;return a},Ve.ARRAY_OR=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]||e?1:0;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&t[i]?a[i]=1:i<e.length&&e[i]?a[i]=1:a[i]=0;return a},Ve.ARRAY_MULTIPLY=function(t,e){if(2==arguments.length){var a=[];if("number"==typeof e)for(var i in t)null==t[i]||isNaN(t[i])?a[i]=null:a[i]=t[i]*e;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?a[i]=t[i]*e[i]:a[i]=null;return a}for(var a=Ve.ARRAY_MULTIPLY(arguments[0],arguments[1]),i=2;i<arguments.length;++i)a=Ve.ARRAY_MULTIPLY(a,arguments[i]);return a},Ve.ARRAY_DIVIDE=function(t,e){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]/e;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?null==t[i]||null==e[i]||isNaN(t[i])||isNaN(e[i])?a[i]=null:0==e[i]?a[i]=null:a[i]=t[i]/e[i]:a[i]=null;return a},Ve.ARRAY_ADD=function(t,e){if(2==arguments.length){var a=[];if("number"==typeof e)for(var i in t)a[i]=t[i]+e;else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?null==t[i]||null==e[i]||isNaN(t[i])||isNaN(e[i])?a[i]=null:a[i]=t[i]+e[i]:a[i]=null;return a}for(var a=Ve.ARRAY_ADD(arguments[0],arguments[1]),i=2;i<arguments.length;++i)a=Ve.ARRAY_ADD(a,arguments[i]);return a},Ve.MAX=function(t,e){var a=[];if("number"==typeof e)for(var i in t)null==t[i]?a[i]=null:a[i]=Math.max(t[i],e);else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?null==t[i]||null==e[i]?a[i]=null:a[i]=Math.max(t[i],e[i]):a[i]=null;return a},Ve.MIN=function(t,e){var a=[];if("number"==typeof e)for(var i in t)null==t[i]?a[i]=null:a[i]=Math.min(t[i],e);else for(var r=Math.max(t.length,e.length),i=0;i<r;++i)i<t.length&&i<e.length?null==t[i]||null==e[i]?a[i]=null:a[i]=Math.min(t[i],e[i]):a[i]=null;return a},Ve.ABS=function(t){var e=[];for(var a in t)null==t[a]?e[a]=null:e[a]=Math.abs(t[a]);return e},Ve.MA=function(t,e){for(var a=[],i=0,r=t.length;i<r;i++)if(i<e)a[i]=null;else{for(var n=0,s=0;s<e;s++)n+=t[i-s];a[i]=n/e}return a},Ve.EXPMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=e;i<t.length;++i)if(null!=t[i]){a[i]=t[i];break}for(i+=1;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},Ve.EXPMEMA=function(t,e){var a=[];if(e>=t.length)return a;for(var i=0;i<t.length&&(!t[i]||isNaN(t[i]));++i);for(var r=0,n=0;i<t.length&&n<e;++n,++i)t[i]&&!isNaN(t[i])?r+=t[i]:r+=t[i-1];for(a[i-1]=r/e;i<t.length;++i)null!=a[i-1]&&null!=t[i]?a[i]=(2*t[i]+(e-1)*a[i-1])/(e+1):null!=a[i-1]&&(a[i]=a[i-1]);return a},Ve.STD=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(var n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=Math.pow(t[n-s]-r[n],2);a[n]=Math.sqrt(i/e)}return a},Ve.AVEDEV=function(t,e){for(var a=[],i=0,r=[],n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=t[n-s];r[n]=i/e}for(var n=e-1;n<t.length;++n){i=0;for(var s=0;s<e;++s)i+=Math.abs(t[n-s]-r[n]);a[n]=i/e}return a},Ve.COUNT=function(t,e){for(var a=[],i=e-1;i<t.length;++i){for(var r=0,n=0;n<e;++n)t[i-n]&&++r;a[i]=r}return a},Ve.CROSS=function(t,e){var a=[];if(t.length!=e.length)return a=[];for(var i=0;i<t.length&&(null==t[i]||isNaN(t[i])||null==e[i]||!isNaN(e[i]));++i);for(++i;i<t.length;++i)a[i]=t[i]>e[i]&&t[i-1]<e[i-1]?1:0;return a},Ve.MULAR=function(t,e){var a=[];if(t.length<e)return a;for(var i=e;i<t.length;++i)if(null!=t[i]&&!isNaN(t[i])){a[i]=t[i];break}for(++i;i<t.length;++i)a[i]=a[i-1]*t[i];return a},Ve.STICKLINE=function(t,e,a){var i=[];if(t.length<=0)return i;var r="number"==typeof e,n="number"==typeof a;for(var s in t)if(i[s]=null,!isNaN(t[s])&&t[s])if(r&&n)i[s]={Value:e,Value2:a};else if(r&&!n){if(isNaN(a[s]))continue;i[s]={Value:e,Value2:a[s]}}else if(!r&&n){if(isNaN(e[s]))continue;i[s]={Value:e[s],Value2:a}}else{if(isNaN(e[s])||isNaN(a[s]))continue;i[s]={Value:e[s],Value2:a[s]}}return i},Ge.JsonDataToHistoryData=function(t){var e=[];if(!t.data)return e;var a=null;t.symbol&&(a=t.symbol.toUpperCase());tr.IsFutures(a);for(var i=t.data,r=0;r<i.length;++r){var n=new Y,s=i[r];n.Date=s[0],n.Open=s[2],n.YClose=s[1],n.Close=s[5],n.High=s[3],n.Low=s[4],n.Vol=s[6],n.Amount=s[7],Wt.IsNumber(s[8])&&(n.Position=s[8]),Wt.IsNumber(s[9])&&(n.FClose=s[9]),Wt.IsNumber(s[10])&&(n.YFClose=s[10]),isNaN(n.Open)||n.Open<=0||e.push(n)}return e},Ge.JsonDataToRealtimeData=function(t,e){if(!t.stock)return null;var a;for(var i in t.stock){var r=t.stock[i];if(r&&r.symbol==e){a=r;break}}if(!a)return null;var n=e.toUpperCase(),s=(tr.IsSHSZ(n),new Y);return s.Date=a.date,s.Open=a.open,s.YClose=a.yclose,s.High=a.high,s.Low=a.low,s.Vol=a.vol,s.Amount=a.amount,s.Close=a.price,Wt.IsNumber(a.position)&&(s.Position=a.position),s},Ge.JsonDataToMinuteRealtimeData=function(t,e){if(!t.stock)return null;var a;for(var i in t.stock){var r=t.stock[i];if(r&&r.symbol==e){a=r;break}}if(!a)return null;var n=e.toUpperCase(),s=(tr.IsSHSZ(n),tr.IsFutures(n)),o=new Array,h=a.yclose,l=a.date;s&&a.yclearing&&(h=a.yclearing);for(var i in a.minute){var u=a.minute[i],d=new Y;d.Close=u.price,d.Open=u.open,d.High=u.high,d.Low=u.low,d.Vol=u.vol,d.Amount=u.amount,u.date>0?d.Date=u.date:d.Date=l,d.Time=u.time,d.YClose=h,Wt.IsNumber(u.position)&&(d.Position=u.position),d.Close||(d.Close=h,d.Open=d.High=d.Low=d.Close),d.Open<=0&&(d.Open=null),d.Close<=0&&(d.Close=null),d.High<=0&&(d.High=null),d.Low<=0&&(d.Low=null),u.price>0&&(h=u.price),o[i]=d}return o},Ge.JsonDataToMinuteHistoryData=function(t){var e=null;t.symbol&&(e=t.symbol.toUpperCase());e&&tr.IsSHSZ(e);e&&tr.IsFutures(e);for(var a=t.data,i=new Array,r=0,n=0;n<a.length;++n){var s=new Y,o=a[n];s.Date=o[0],s.Open=o[2],s.YClose=o[1],s.Close=o[5],s.High=o[3],s.Low=o[4],s.Vol=o[6],s.Amount=o[7],s.Time=o[8],Wt.IsNumber(o[9])&&(s.Position=o[9]),s.YClose<=0&&r>0&&(s.YClose=r),s.Close>0&&(r=s.Close),i.push(s)}for(var n=0;n<i.length;++n){var h=i[n];if(null==h&&coninue,isNaN(h.Open)||h.Open<=0||isNaN(h.High)||h.High<=0||isNaN(h.Low)||h.Low<=0||isNaN(h.Close)||h.Close<=0)if(0==n)h.YClose>0&&(h.Open=h.YClose,h.High=h.YClose,h.Low=h.YClose,h.Close=h.YClose);else for(var l=n-1;l>=0;--l){var u=i[l];if(null==u&&coninue,u.Open>0&&u.High>0&&u.Low>0&&u.Close>0){h.YClose<=0&&(h.YClose=u.Close),h.Open=u.Open,h.High=u.High,h.Low=u.Low,h.Close=u.Close;break}}}return i},Ge.JsonDataToTickData=function(t){var e=[];if(!t.detail)return e;var a=t.date,i=t.yclose;for(var r in t.detail){var n=new Y,s=t.detail[r];s&&(n.Date=a,n.Time=s[0],n.Low=n.High=n.Close=n.Open=s[1],n.YClose=i,n.Vol=s[2],n.Amount=s[3],n.Flag=s[4],isNaN(n.Open)||n.Open<=0||(i=n.Close,e.push(n)))}return e},We.JsonDataToMinuteData2=function(t){var e=(t.stock[0].symbol,t.stock[0].yclose),a=t.stock[0].yclose,i=t.stock[0].yclose,r=[],n=t.stock[0],s=n.date;for(var o in n.before){var h=new B,l=n.before[o],u=l[0];h.Before={},h.Before.Close=l[1],h.Before.Close?e=h.Before.Close:h.Before.Close=e,h.Before.Vol=l[2]/100,h.Before.Amount=l[3],h.DateTime=s.toString()+" "+u.toString(),h.Date=s,h.Time=u,i&&h.Before.Close&&(h.Before.Increase=(h.Before.Close-i)/i*100),r.push(h)}for(var o in n.minute){var l=n.minute[o],h=new B;l.price&&(e=l.price),l.avprice&&(a=l.avprice),925!=l.time&&(h.Close=l.price,h.Open=l.open,h.High=l.high,h.Low=l.low,h.Amount=l.amount,h.Vol=l.vol/100,h.DateTime=t.stock[0].date.toString()+" "+l.time.toString(),h.Date=t.stock[0].date,h.Time=l.time,h.Increase=l.increase,h.Risefall=l.risefall,h.AvPrice=l.avprice,h.Close||(h.Open=h.High=h.Low=h.Close=e),h.AvPrice||(h.AvPrice=a),i&&h.Close&&(h.Increase=(h.Close-i)/i*100),r.push(h))}return r},We.JsonDataToMinuteData=function(t,e){var a=t.stock[0].symbol,i=a.toUpperCase(),r=tr.IsSHSZ(i),n=tr.IsFutures(i),s=tr.IsSHO(i),o=new Array,h=t.stock[0].yclose,l=t.stock[0].yclose,u=t.stock[0].yclose;n&&t.stock[0].yclearing&&(u=h=l=t.stock[0].yclearing);var d=t.stock[0].date;for(var c in t.stock[0].minute){var D=t.stock[0].minute[c],m=new B;m.Close=D.price,m.Open=D.open,m.High=D.high,m.Low=D.low,m.Vol=r?D.vol/100:D.vol,m.Amount=D.amount,D.date>0&&(d=D.date),m.DateTime=d.toString()+" "+D.time.toString(),m.Date=d,m.Time=D.time,(n||s)&&(m.Position=D.position),0==c&&(m.IsFristData=!0),m.Increase=D.increase,m.Risefall=D.risefall,m.AvPrice=D.avprice,Wt.IsNumber(D.lead)&&(m.Lead=D.lead),m.Close||(m.Close=h,m.Open=m.High=m.Low=m.Close),m.AvPrice||(m.AvPrice=l),m.Open<=0&&(m.Open=null),m.Close<=0&&(m.Close=null),m.AvPrice<=0&&(m.AvPrice=null),m.High<=0&&(m.High=null),m.Low<=0&&(m.Low=null),u&&m.Close&&(m.Increase=(m.Close-u)/u*100);var C=Math.abs(m.AvPrice-m.Close);r&&C>.13*m.Close&&(m.AvPrice=l),D.price>0&&(h=D.price),D.avprice>0&&m.AvPrice===D.avprice&&(l=D.avprice),o[c]=m}return o},We.JsonDataToMinuteDataArray=function(t){var e=t.symbol,a=e.toUpperCase(),i=tr.IsSHSZ(a),r=tr.IsSHO(a),n=tr.IsFutures(a),s=[];for(var o in t.data){var h=[],l=t.data[o],u=l.date,d=l.yclose,c=d,D=null;for(var m in l.minute){var C=l.minute[m];C[2]&&(c=C[2]);var f=new B;if(f.Close=C[2],f.Open=C[1],f.High=C[3],f.Low=C[4],f.Vol=i?C[5]/100:C[5],f.Amount=C[6],7<C.length&&C[7]>0&&(f.AvPrice=C[7]),f.DateTime=u.toString()+" "+C[0].toString(),f.Date=u,f.Time=C[0],8<C.length&&C[8]>0&&(f.Date=C[8]),(n||r)&&9<C.length&&(f.Position=C[9]),f.Close||(f.Close=c,f.Open=f.High=f.Low=f.Close),!f.AvPrice&&D&&(f.AvPrice=D),f.Close&&d?f.Increase=(f.Close-d)/d*100:f.Increase=null,0==m&&(f.IsFristData=!0),f.Open<=0&&(f.Open=null),f.Close<=0&&(f.Close=null),f.AvPrice<=0&&(f.AvPrice=null),f.High<=0&&(f.High=null),f.Low<=0&&(f.Low=null),f.AvPrice<=0&&(f.AvPrice=null),f.AvPrice&&i){Math.abs(f.AvPrice-f.Close)>.13*f.Close&&(f.AvPrice=D)}C.length>7&&C[7]>0&&f.AvPrice===C[7]&&(D=C[7]),h[m]=f}var p=new G;p.Data=h,p.YClose=d,p.Close=l.close,p.Date=u,s.push(p)}return s},Ue.JsonDataToMinuteData=function(t){var e=[];for(var a in t.minute.time){var i=new B;t.minute.price[a]<=0&&a>0?(i.Close=e[a-1].Close,i.Open=e[a-1].Close,i.High=i.Close,i.Low=i.Close,i.Vol=t.minute.vol[a],i.Amount=t.minute.amount[a],i.DateTime=t.date.toString()+" "+t.minute.time[a].toString(),i.AvPrice=e[a-1].AvPrice):(i.Close=t.minute.price[a],i.Open=t.minute.open[a],i.High=t.minute.high[a],i.Low=t.minute.low[a],i.Vol=t.minute.vol[a],i.Amount=t.minute.amount[a],i.DateTime=t.date.toString()+" "+t.minute.time[a].toString(),i.AvPrice=t.minute.avprice[a]),i.Open<=0&&(i.Open=null),i.Close<=0&&(i.Close=null),i.AvPrice<=0&&(i.AvPrice=null),i.High<=0&&(i.High=null),i.Low<=0&&(i.Low=null),e[a]=i}return e},la.prototype.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]},ca.Get=function(t){return new Ai.default([["互动易",{Create:function(){return new ma}}],["公告",{Create:function(){return new Ca}}],["业绩预告",{Create:function(){return new fa}}],["调研",{Create:function(){return new pa}}],["大宗交易",{Create:function(){return new va}}],["龙虎榜",{Create:function(){return new Sa}}]]).get(t)},ca.GetClassInfo=function(t){return new Ai.default([["互动易",{ClassName:"InvestorInfo"}],["公告",{ClassName:"AnnouncementInfo"}],["业绩预告",{ClassName:"PforecastInfo"}],["调研",{ClassName:"ResearchInfo"}],["大宗交易",{ClassName:"BlockTrading"}],["龙虎榜",{ClassName:"TradeDetail"}]]).get(t)},ca.GetIconUrl=function(t){switch(t){case bi.INVESTOR:return Zi.KLine.Info.Investor.Icon;case bi.PFORECAST:return Zi.KLine.Info.Pforecast.Icon;case bi.ANNOUNCEMENT:return Zi.KLine.Info.Announcement.Icon;case bi.ANNOUNCEMENT_QUARTER_1:case bi.ANNOUNCEMENT_QUARTER_2:case bi.ANNOUNCEMENT_QUARTER_3:case bi.ANNOUNCEMENT_QUARTER_4:return Zi.KLine.Info.Announcement.IconQuarter;case bi.RESEARCH:return Zi.KLine.Info.Research.Icon;case bi.BLOCKTRADING:return Zi.KLine.Info.BlockTrading.Icon;case bi.TRADEDETAIL:return Zi.KLine.Info.TradeDetail.Icon;default:return Zi.KLine.Info.Announcement.Icon}},ca.GetIconLibrary=function(t){var e=Zi.KLine.Info.IconLibrary;if(!e||!e.Icon)return Zi.KLine.Info.Announcement.IconFont;if(t>=0&&t<e.Icon.length){var a=e.Icon[t];return{Text:a.Text,HScreenText:a.HScreenText,Color:a.Color,Family:e.Family}}return Zi.KLine.Info.Announcement.IconFont},ca.GetIconFont=function(t){if(t>=bi.ANNOUNCEMENT_EX_START&&t<=bi.ANNOUNCEMENT_EX_END){var e=t-bi.ANNOUNCEMENT_EX_START;return ca.GetIconLibrary(e)}switch(t){case bi.INVESTOR:return Zi.KLine.Info.Investor.IconFont;case bi.PFORECAST:return Zi.KLine.Info.Pforecast.IconFont;case bi.ANNOUNCEMENT:return Zi.KLine.Info.Announcement.IconFont;case bi.ANNOUNCEMENT_QUARTER_1:case bi.ANNOUNCEMENT_QUARTER_2:case bi.ANNOUNCEMENT_QUARTER_3:case bi.ANNOUNCEMENT_QUARTER_4:return Zi.KLine.Info.Announcement.IconFont2;case bi.RESEARCH:return Zi.KLine.Info.Research.IconFont;case bi.BLOCKTRADING:return Zi.KLine.Info.BlockTrading.IconFont;case bi.TRADEDETAIL:return Zi.KLine.Info.TradeDetail.IconFont;default:return Zi.KLine.Info.Announcement.IconFont}},Ta.InfoMap=new Ai.default([["大盘异动",{Create:function(){return new _a}}]]),Ta.Get=function(t){return Ta.InfoMap.get(t)};var tr={SH:".SH",SZ:".SZ",SHO:".SHO",HK:".HK",FHK:".FHK",SHFE:".SHF",SHFE2:".SHFE",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",FTSE:".FTSE",BIT:".BIT",BIZ:".BIZ",FOREX:".FOREX",NYMEX:".NYMEX",COMEX:".COMEX",NYBOT:".NYBOT",CBOT:".CBOT",LME:".LME",ET:".ET",IsET:function(t){return!!t&&t.indexOf(this.ET)>0},IsETShowAvPrice:function(t){return!1},IsNYMEX:function(t){return!!t&&t.indexOf(this.NYMEX)>0},IsCOMEX:function(t){return!!t&&t.indexOf(this.COMEX)>0},IsNYBOT:function(t){return!!t&&t.indexOf(this.NYBOT)>0},IsCBOT:function(t){return!!t&&t.indexOf(this.CBOT)>0},IsLME:function(t){return!!t&&t.indexOf(this.LME)>0},IsForeignExchange:function(t){return!!t&&t.indexOf(this.FOREX)>0},IsFTSE:function(t){return!!t&&t.indexOf(this.FTSE)>0},IsFHK:function(t){return!!t&&t.indexOf(this.FHK)>0},IsBIT:function(t){return!!t&&(t.indexOf(this.BIT)>0||t.indexOf(this.BIZ)>0)},IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsSHO:function(t){var e=t.length-this.SHO.length;return t.indexOf(this.SHO)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsSHFE:function(t){return!!t&&(t.indexOf(this.SHFE)>0||t.indexOf(this.SHFE2)>0)},IsCFFEX:function(t){return!!t&&t.indexOf(this.CFFEX)>0},IsDCE:function(t){return!!t&&t.indexOf(this.DCE)>0},IsCZCE:function(t){return!!t&&t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsFutures:function(t){return this.IsChinaFutures(t)||this.IsNYMEX(t)||this.IsCOMEX(t)||this.IsNYBOT(t)||this.IsCBOT(t)||this.IsLME(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var a=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(a)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e)&&"0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(2))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}return!1},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase(),a=new Date,i=a.getDay(),r=100*a.getHours()+a.getMinutes();if(this.IsUSA(e)){var n=Ua(-4),i=n.getDay(),r=100*n.getHours()+n.getMinutes();return 6==i||0==i?0:r>1730?3:r<930?1:2}return this.IsBIT(e)?2:this.IsForeignExchange(e)?2:this.IsFTSE(e)?6==i||0==i?0:r>=830&&r<=2359?2:r>=0&&r<=500?2:0:this.IsFHK(e)?6==i||0==i?0:r>=900&&r<=2359?2:r>=0&&r<=320?2:0:this.IsET(e)?this.GetETMarketStatus(t):this.IsHK(e)?6==i||0==i?0:r>1630?3:r<925?1:2:this.IsNYMEX(e)?this.GetNYMEXMarketStatus(e):this.IsCOMEX(e)?this.GetCOMEXMarketStatus(e):this.IsNYBOT(e)?this.GetNYBOTMarketStatus(e):this.IsCBOT(e)?this.GetCBOTMarketStatus(e):this.IsLME(e)?this.GetLMEMarketStatus(e):this.IsChinaFutures(e)?6==i||0==i?0:r>=2100?2:r<=240?2:r>=830&&r<=1510?2:1:6==i||0==i?0:r>1540?3:r<925?1:2},GetLimitPriceRange:function(t,e){return this.IsSHSZStockA(t)?this.IsSHStockSTAR(t)?{Max:.2,Min:-.2}:e?e.indexOf("ST")>=0?{Max:.05,Min:-.05}:{Max:.1,Min:-.1}:null:null},GetFHKDecimal:function(t){return 0},GetFTSEDecimal:function(t){return 0},GetBITDecimal:function(t){return 2},GetSHODecimal:function(t){return 4},GetETDecimal:function(t){return 2},GetForeignExchangeDecimal:function(t){return 4},GetNYMEXDecimal:function(t){return rr.GetDecimal(t)},GetCOMEXDecimal:function(t){return nr.GetDecimal(t)},GetNYBOTDecimal:function(t){return sr.GetDecimal(t)},GetCBOTDecimal:function(t){return or.GetDecimal(t)},GetLMEDecimal:function(t){return hr.GetDecimal(t)},GetETMarketStatus:function(t){return 2},GetNYMEXMarketStatus:function(t){return rr.GetMarketStatus(t)},GetCOMEXMarketStatus:function(t){return nr.GetMarketStatus(t)},GetNYBOTMarketStatus:function(t){return sr.GetMarketStatus(t)},GetCBOTMarketStatus:function(t){return or.GetMarketStatus(t)},GetLMEMarketStatus:function(t){return hr.GetMarketStatus(t)}},er=new Ra,ar=new ba,ir=new Ya,rr=new Ba,nr=new Ha,sr=new ka,or=new Va,hr=new Ga;if(!xi)var xi={Chart:{Log:console.log},Complier:{Log:console.log}};var lr={Domain:"https://opensource.zealink.com",CacheDomain:"https://opensourcecache.zealink.com",DrawIcon:{Family:"iconfont",Data:new Ai.default([[1,{Text:"",Color:"rgb(255,106,106)"}],[2,{Text:"",Color:"rgb(46,139,87)"}],[11,{Text:"",Color:"rgb(245,159,40)"}],[12,{Text:"",Color:"rgb(245,159,40)"}],[13,{Text:"",Color:"rgb(209,37,35)"}],[14,{Text:"",Color:"rgb(127,209,59)"}],[9,{Text:"",Color:"rgb(245,159,40)"}],[36,{Text:"",Color:"rgb(255,106,106)"}],[37,{Text:"",Color:"rgb(46,139,87)"}],[38,{Text:"",Color:"rgb(238,44,44)"}],[39,{Text:"",Color:"rgb(0,139,69)"}],[46,{Text:"",Color:"rgb(51,51,51)"}]])},CustomDrawIcon:{Data:new Ai.default},CustomFunction:{Data:new Ai.default},CustomVariant:{Data:new Ai.default},GetDrawIcon:function(t){if(lr.CustomDrawIcon.Data.has(t)){var e=lr.CustomDrawIcon.Data.get(t);return{Symbol:e.Text,Color:e.Color,Family:e.Family,IconFont:!0,ID:t}}if(lr.DrawIcon.Data.has(t)){var a=lr.DrawIcon.Data.get(t);return{Symbol:a.Text,Color:a.Color,Family:lr.DrawIcon.Family,IconFont:!0,ID:t}}return null},GetDrawTextIcon:function(t){return new Ai.default([[1,{Symbol:"↑",Color:"rgb(238,44,44)"}],[2,{Symbol:"↓",Color:"rgb(0,139,69)"}],[3,{Symbol:"😧"}],[4,{Symbol:"😨"}],[5,{Symbol:"😁"}],[6,{Symbol:"😱"}],[7,{Symbol:"B",Color:"rgb(238,44,44)"}],[8,{Symbol:"S",Color:"rgb(0,139,69)"}],[9,{Symbol:"💰"}],[10,{Symbol:"📪"}],[11,{Symbol:"👆"}],[12,{Symbol:"👇"}],[13,{Symbol:"B",Color:"rgb(178,34,34)"}],[14,{Symbol:"S",Color:"rgb(0,139,69)"}],[36,{Symbol:"Χ",Color:"rgb(238,44,44)"}],[37,{Symbol:"X",Color:"rgb(0,139,69)"}],[38,{Symbol:"▲",Color:"rgb(238,44,44)"}],[39,{Symbol:"▼",Color:"rgb(0,139,69)"}],[40,{Symbol:"◉",Color:"rgb(238,44,44)"}],[41,{Symbol:"◈",Color:"rgb(238,44,44)"}],[42,{Symbol:"📌"}],[43,{Symbol:"💎"}],[44,{Symbol:"🥇"}],[45,{Symbol:"🥈"}],[46,{Symbol:"🥉"}],[47,{Symbol:"🏅"}]]).get(type)},IsCustomFunction:function(t){return!!lr.CustomFunction.Data.has(t)},IsCustomVariant:function(t){return!!lr.CustomVariant.Data.has(t)}},ur={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"},dr={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},cr={FromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},IsWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},IsLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},IsIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||12304===t||12305===t||t>=128&&dr.NonAsciiIdentifierStart.test(cr.FromCodePoint(t))},IsIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||35===t||12304===t||12305===t||t>=128&&dr.NonAsciiIdentifierPart.test(cr.FromCodePoint(t))},IsDecimalDigit:function(t){return t>=48&&t<=57},IsHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}},Dr={};Dr[1]="Boolean",Dr[2]="<end>",Dr[3]="Identifier",Dr[4]="Keyword",Dr[5]="Null",Dr[6]="Numeric",Dr[7]="Punctuator",Dr[8]="String",Dr[9]="RegularExpression",Dr[10]="Template",Xa.GetPeriodInfo=function(t){var e=[{Name:"MIN1",Period:4,Order:1},{Name:"MIN5",Period:5,Order:2},{Name:"MIN15",Period:6,Order:3},{Name:"MIN30",Period:7,Order:4},{Name:"MIN60",Period:8,Order:5},{Name:"DAY",Period:0,Order:1e3},{Name:"WEEK",Period:1,Order:1001},{Name:"MONTH",Period:2,Order:1002},{Name:"SEASON",Period:9,Order:1003},{Name:"YEAR",Period:3,Order:1004}];if(t.Name){for(var a in e)if(t.Name&&e[a].Name==t.Name)return e[a];return null}if(Wt.IsNumber(t.PeriodID)){for(var a in e)if(e[a].Period==t.PeriodID)return e[a];return null}return null},Xa.GetConvertValueName=function(t){var e;return"COVER_C"==t?e="CLOSE":"COVER_O"==t?e="OPEN":"COVER_H"==t?e="HIGH":"COVER_L"==t?e="LOW":"COVER_A"==t?e="AMOUNT":"COVER_V"==t&&(e="VOL"),e};var mr={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};Za.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},Za.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},Za.MOD=function(t,e){if(t<0&&e<0||t>=0&&e>=0){if(parseInt(t)==t&&parseInt(e)==e)return t%e;var a=parseFloat((t-Math.floor(t/e)*e).toFixed(1));return a}var i=Math.abs(t),r=Math.abs(e),a=Math.abs(Math.abs(e)*(Math.floor(i/r)+1)-Math.abs(t));return e<0&&(a=-a),a},Qa.prototype.CalculateDrawLine=function(t){t.List=[];for(var e=t.Start.ID;e<=t.End.ID;++e)t.List.push(e);var a=Math.abs(t.Start.Value-t.End.Value),i=t.List.length-1,r=[];if(r.push({ID:t.Start.ID,Value:t.Start.Value}),t.Start.Value>t.End.Value)for(var n=1;n<t.List.length-1;++n){var s=a*(t.List.length-1-n)/i+t.End.Value;r.push({ID:t.List[n],Value:s})}else for(var o=1;o<t.List.length-1;++o){var s=a*o/i+t.Start.Value;r.push({ID:t.List[o],Value:s})}return r.push({ID:t.End.ID,Value:t.End.Value}),r},Qa.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},Qa.prototype.IsDrawFunction=function(t){return!!new Mi.default(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE_IF","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWNUMBER_FIX","DRAWICON","DRAWCHANNEL","PARTLINE","DRAWTEXT_FIX","DRAWGBK","DRAWTEXT_LINE","DRAWRECTREL","DRAWOVERLAYLINE","FILLRGN","FILLRGN2"]).has(t)},Qa.prototype.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,a=t[e];if("0"!=a){if("."==a){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var Cr={YCLOSE:3,OPEN:4,HIGH:5,LOW:6,CLOSE:7,VOL:8,AMOUNT:10,AMPLITUDE:13,INCREASE:14,EXCHANGERATE:37};$a.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},$a.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},$a.prototype.JsonDataToFinance=function(t){for(var e,a=1;a<=4;++a){switch(a){case 1:var i=t.finance1,r=t.announcement1;break;case 2:var i=t.finance2,r=t.announcement2;break;case 3:var i=t.finance3,r=t.announcement3;break;case 4:var i=t.finance4,r=t.announcement4}i&&r&&this.IsNumber(r.year)&&this.IsNumber(r.quarter)&&(e?e.Announcement.year<r.year&&(e={Date:t.date,Finance:i,Announcement:r}):e={Date:t.date,Finance:i,Announcement:r})}return e};var fr=!1,pr={JOB_DOWNLOAD_SYMBOL_DATA:1,JOB_DOWNLOAD_INDEX_DATA:2,JOB_DOWNLOAD_SYMBOL_LATEST_DATA:3,JOB_DOWNLOAD_INDEX_INCREASE_DATA:4,JOB_DOWNLOAD_VOLR_DATA:5,JOB_DOWNLOAD_GROUP_DATA:6,JOB_DOWNLOAD_LATEST_INDEX_DATA:8,JOB_DOWNLOAD_OTHER_SYMBOL_DATA:9,JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:10,JOB_DOWNLOAD_TOTAL_EQUITY_DATA:100,JOB_DOWNLOAD_FLOW_EQUITY_DATA:101,JOB_DOWNLOAD_PER_U_PROFIT_DATA:102,JOB_DOWNLOAD_PER_NETASSET_DATA:103,JOB_DOWNLOAD_PER_C_RESERVE_DATA:104,JOB_DOWNLOAD_PER_S_EARNING_DATA:105,JOB_DOWNLOAD_PER_S_EARNING2_DATA:106,JOB_DOWNLOAD_RELEASE_DATE_DATA:107,JOB_DOWNLOAD_N_PROFIT_DATA:108,JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA:109,JOB_DOWNLOAD_MARKETVALUE_DATA:110,JOB_DOWNLOAD_PROFIT_YOY_DATA:111,JOB_DOWNLOAD_AL_RATIO_DATA:112,JOB_DOWNLOAD_DIVIDEND_YIELD_DATA:113,JOB_DOWNLOAD_SHAREHOLDER_DATA:114,JOB_DOWNLOAD_CAPITAL_DATA:200,JOB_DOWNLOAD_EXCHANGE_DATA:201,JOB_DOWNLOAD_MARGIN_BALANCE:1e3,JOB_DOWNLOAD_MARGIN_RATE:1001,JOB_DOWNLOAD_MARGIN_BUY_BALANCE:1010,JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:1011,JOB_DOWNLOAD_MARGIN_BUY_REPAY:1012,JOB_DOWNLOAD_MARGIN_BUY_NET:1013,JOB_DOWNLOAD_MARGIN_SELL_BALANCE:1020,JOB_DOWNLOAD_MARGIN_SELL_VOLUME:1021,JOB_DOWNLOAD_MARGIN_SELL_REPAY:1022,JOB_DOWNLOAD_MARGIN_SELL_NET:1023,JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:2e3,JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:2001,JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:2002,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:2003,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:2004,JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:2005,JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:2006,JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:2007,JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:2008,JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:2009,JOB_DOWNLOAD_HK_TO_SH:2050,JOB_DOWNLOAD_HK_TO_SZ:2051,JOB_DOWNLOAD_HK_TO_SH_SZ:2052,JOB_DOWNLOAD_HK_TO_SHSZ:2053,JOB_CUSTOM_FUNCTION_DATA:6e3,JOB_CUSTOM_VARIANT_DATA:6001,JOB_DOWNLOAD_SECTION_SF:2e4,JOB_DOWNLOAD_SECTION_F_01:20001,JOB_DOWNLOAD_SECTION_F_02:20002,JOB_DOWNLOAD_SECTION_F_03:20003,JOB_DOWNLOAD_SECTION_F_04:20004,JOB_DOWNLOAD_SECTION_F_05:20005,JOB_DOWNLOAD_SECTION_F_06:20006,JOB_DOWNLOAD_SECTION_F_07:20007,JOB_DOWNLOAD_SECTION_F_08:20008,JOB_DOWNLOAD_SECTION_F_09:20009,JOB_DOWNLOAD_SECTION_F_10:20010,JOB_DOWNLOAD_SECTION_F_11:20011,JOB_DOWNLOAD_SECTION_F_12:20012,JOB_DOWNLOAD_SECTION_F_13:20013,JOB_DOWNLOAD_SECTION_F_14:20014,JOB_DOWNLOAD_SECTION_F_15:20015,JOB_DOWNLOAD_SECTION_F_16:20016,JOB_DOWNLOAD_SECTION_F_17:20017,JOB_DOWNLOAD_SECTION_F_18:20018,JOB_DOWNLOAD_SECTION_F_19:20019,JOB_DOWNLOAD_SECTION_F_20:20020,JOB_DOWNLOAD_SECTION_F_21:20021,JOB_DOWNLOAD_SECTION_F_22:20022,JOB_DOWNLOAD_SECTION_F_23:20023,JOB_DOWNLOAD_SECTION_F_24:20024,JOB_DOWNLOAD_SECTION_F_25:20025,JOB_DOWNLOAD_SECTION_F_26:20026,JOB_DOWNLOAD_SECTION_F_27:20027,JOB_DOWNLOAD_SECTION_F_28:20028,JOB_DOWNLOAD_SECTION_F_29:20029,JOB_DOWNLOAD_SECTION_F_30:20030,JOB_DOWNLOAD_SECTION_F_31:20031,JOB_DOWNLOAD_SECTION_F_32:20032,JOB_DOWNLOAD_SECTION_F_33:20033,JOB_DOWNLOAD_SECTION_F_34:20034,JOB_DOWNLOAD_SECTION_F_35:20035,JOB_DOWNLOAD_SECTION_F_36:20036,JOB_DOWNLOAD_SECTION_F_37:20037,JOB_DOWNLOAD_SECTION_F_38:20038,JOB_DOWNLOAD_SECTION_F_39:20039,JOB_DOWNLOAD_CUSTOM_API_DATA:3e4,JOB_EXECUTE_INDEX:30010,JOB_RUN_SCRIPT:1e4,GetFinnanceJobID:function(t){var e=new Ai.default([[1,pr.JOB_DOWNLOAD_TOTAL_EQUITY_DATA],[7,pr.JOB_DOWNLOAD_FLOW_EQUITY_DATA],[9,pr.JOB_DOWNLOAD_AL_RATIO_DATA],[18,pr.JOB_DOWNLOAD_PER_C_RESERVE_DATA],[30,pr.JOB_DOWNLOAD_N_PROFIT_DATA],[32,pr.JOB_DOWNLOAD_PER_U_PROFIT_DATA],[33,pr.JOB_DOWNLOAD_PER_S_EARNING2_DATA],[34,pr.JOB_DOWNLOAD_PER_NETASSET_DATA],[38,pr.JOB_DOWNLOAD_PER_S_EARNING_DATA],[40,pr.JOB_DOWNLOAD_FLOW_MARKETVALUE_DATA],[41,pr.JOB_DOWNLOAD_MARKETVALUE_DATA],[42,pr.JOB_DOWNLOAD_RELEASE_DATE_DATA],[43,pr.JOB_DOWNLOAD_PROFIT_YOY_DATA],[45,pr.JOB_DOWNLOAD_DIVIDEND_YIELD_DATA],[100,pr.JOB_DOWNLOAD_SHAREHOLDER_DATA],[200,pr.JOB_DOWNLOAD_CAPITAL_DATA],[201,pr.JOB_DOWNLOAD_EXCHANGE_DATA]]);return e.has(t)?e.get(t):null},GetMarginJobID:function(t){var e=new Ai.default([[1,pr.JOB_DOWNLOAD_MARGIN_BALANCE],[2,pr.JOB_DOWNLOAD_MARGIN_RATE],[3,pr.JOB_DOWNLOAD_MARGIN_BUY_BALANCE],[4,pr.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT],[5,pr.JOB_DOWNLOAD_MARGIN_BUY_REPAY],[6,pr.JOB_DOWNLOAD_MARGIN_BUY_NET],[7,pr.JOB_DOWNLOAD_MARGIN_SELL_BALANCE],[8,pr.JOB_DOWNLOAD_MARGIN_SELL_VOLUME],[9,pr.JOB_DOWNLOAD_MARGIN_SELL_REPAY],[10,pr.JOB_DOWNLOAD_MARGIN_SELL_NET]]);return e.has(t)?e.get(t):null},GetNewsAnalysisID:function(t){var e=new Ai.default([[1,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE],[2,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH],[3,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT],[4,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE],[5,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2],[6,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER],[7,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING],[8,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS],[9,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS],[10,pr.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE]]);return e.has(t)?e.get(t):null},GetSectionFinanceID:function(t){var e=new Ai.default([["流动资产",pr.JOB_DOWNLOAD_SECTION_F_01],["货币资金",pr.JOB_DOWNLOAD_SECTION_F_02],["存货",pr.JOB_DOWNLOAD_SECTION_F_03],["流动负债",pr.JOB_DOWNLOAD_SECTION_F_04],["非流动负债",pr.JOB_DOWNLOAD_SECTION_F_05],["三项费用",pr.JOB_DOWNLOAD_SECTION_F_06],["投资收益",pr.JOB_DOWNLOAD_SECTION_F_07],["归母净利润",pr.JOB_DOWNLOAD_SECTION_F_08],["扣非净利润",pr.JOB_DOWNLOAD_SECTION_F_09],["扣非每股收益",pr.JOB_DOWNLOAD_SECTION_F_10],["加权平均净资产收益",pr.JOB_DOWNLOAD_SECTION_F_11],["在建工程",pr.JOB_DOWNLOAD_SECTION_F_12],["累计折旧",pr.JOB_DOWNLOAD_SECTION_F_13],["少数股东利润",pr.JOB_DOWNLOAD_SECTION_F_14],["汇兑损益",pr.JOB_DOWNLOAD_SECTION_F_15],["坏账计提",pr.JOB_DOWNLOAD_SECTION_F_16],["固定资产",pr.JOB_DOWNLOAD_SECTION_F_17],["当期折旧",pr.JOB_DOWNLOAD_SECTION_F_18],["营业总收入",pr.JOB_DOWNLOAD_SECTION_F_19],["主营业务利润",pr.JOB_DOWNLOAD_SECTION_F_20],["营业利润",pr.JOB_DOWNLOAD_SECTION_F_21],["净利润",pr.JOB_DOWNLOAD_SECTION_F_22],["应收账款",pr.JOB_DOWNLOAD_SECTION_F_23],["财务费用",pr.JOB_DOWNLOAD_SECTION_F_24],["经营性现金流",pr.JOB_DOWNLOAD_SECTION_F_25],["资产总计",pr.JOB_DOWNLOAD_SECTION_F_26],["负债总计",pr.JOB_DOWNLOAD_SECTION_F_27],["所有者权益总计",pr.JOB_DOWNLOAD_SECTION_F_28],["毛利率",pr.JOB_DOWNLOAD_SECTION_F_29],["每股资本公积金",pr.JOB_DOWNLOAD_SECTION_F_30],["每股未分配利润",pr.JOB_DOWNLOAD_SECTION_F_31],["每股收益",pr.JOB_DOWNLOAD_SECTION_F_32],["每股净资产",pr.JOB_DOWNLOAD_SECTION_F_33],["每股经营性现金流",pr.JOB_DOWNLOAD_SECTION_F_34],["扣非净利润涨幅",pr.JOB_DOWNLOAD_SECTION_F_35],["扣非净利润涨速",pr.JOB_DOWNLOAD_SECTION_F_36],["净利润涨幅",pr.JOB_DOWNLOAD_SECTION_F_37],["资产负债率",pr.JOB_DOWNLOAD_SECTION_F_38],["利润同比",pr.JOB_DOWNLOAD_SECTION_F_39]]);return e.has(t)?e.get(t):null},GetSectionReportPeriod:function(t,e){return t>=2e3&&e>=1&&e<=4?{Year:t,Quarter:e}:null}};ei.Tokenize=function(t){xi.Complier.Log("[JSComplier.Tokenize]",t);var e=new ja(t),a=[];try{for(;;){var i=e.GetNextToken();if(!i)break;a.push(i)}}catch(t){}return a},ei.Parse=function(t){xi.Complier.Log("[JSComplier.Parse]",t);var e=new qa(t);return e.Initialize(),e.ParseScript()},ei.Execute=function(t,e,a){!function(){try{xi.Complier.Log("[JSComplier.Execute]",t,e),xi.Complier.Log("[JSComplier.Execute] parser .....");var i=new qa(t);i.Initialize();var r=i.ParseScript(),n=r;xi.Complier.Log("[JSComplier.Execute] parser finish.",n),xi.Complier.Log("[JSComplier.Execute] execute .....");var s=new ti(n,e);s.ErrorCallback=a,s.JobList=i.Node.GetDataJobList(),"ScriptIndexConsole"==e.ClassName&&s.JobList.unshift({ID:pr.JOB_DOWNLOAD_SYMBOL_DATA}),s.JobList.push({ID:pr.JOB_RUN_SCRIPT});s.Execute()}catch(t){xi.Complier.Log(t),a&&a(t,e.CallbackParam)}}(),xi.Complier.Log("[JSComplier.Execute] async execute.")},ei.SetDomain=function(t,e){t&&(lr.Domain=t),e&&(lr.CacheDomain=e)},ei.AddIcon=function(t){lr.CustomDrawIcon.Data.set(t.ID,t)},ei.AddFunction=function(t){if(t&&t){var e=t.Name.toUpperCase();lr.CustomFunction.Data.set(e,t)}},ei.AddVariant=function(t){if(t&&t){var e=t.Name.toUpperCase();lr.CustomVariant.Data.set(e,t)}};var vr={KLINE_ID:0,MINUTE_ID:2,HISTORY_MINUTE_ID:3,MULTIDAY_MINUTE_ID:4};si.SetDomain=function(t,e){ei.SetDomain(t,e)};var Sr={BGColor:"rgb(0,0,0)",TooltipBGColor:"rgb(255, 255, 255)",TooltipAlpha:.92,SelectRectBGColor:"rgba(1,130,212,0.06)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(228,228,228)",Minute:{VolBarColor:"rgb(255,236,0)",PriceColor:"rgb(25,180,231)",AreaPriceColor:"rgba(63,158,255,.3)",AvPriceColor:"rgb(255,236,0)",PositionColor:"rgb(218,165,32)"},DefaultTextColor:"rgb(101,104,112)",DefaultTextFont:14*u()+"px 微软雅黑",TitleFont:13*u()+"px 微软雅黑",UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(101,104,112)",CloseLineColor:"rgb(178,34,34)",FrameBorderPen:"rgba(236,236,236,0.13)",FrameSplitPen:"rgba(236,236,236,0.13)",FrameSplitTextColor:"rgb(101,104,112)",FrameSplitTextFont:12*u()+"px 微软雅黑",FrameTitleBGColor:"rgb(0,0,0)",Frame:{XBottomOffset:1*u()},FrameLatestPrice:{TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(190,190,190)",BGAlpha:.6},CorssCursorBGColor:"rgb(43,54,69)",CorssCursorTextColor:"rgb(255,255,255)",CorssCursorTextFont:12*u()+"px 微软雅黑",CorssCursorHPenColor:"rgb(130,130,130)",CorssCursorVPenColor:"rgb(130,130,130)",KLine:{MaxMin:{Font:12*u()+"px 微软雅黑",Color:"rgb(255,250,240)"},Info:{Investor:{ApiUrl:"https://opensource.zealink.com/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"https://opensource.zealink.com/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"https://opensource.zealink.com/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"https://opensource.zealink.com/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},Index:{LineColor:["rgb(255,189,09)","rgb(22,198,255)","rgb(174,35,161)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],NotSupport:{Font:"14px 微软雅黑",TextColor:"rgb(52,52,52)"}},ColorArray:["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],DrawPicture:{LineColor:"rgb(30,144,255)",PointColor:"rgb(105,105,105)"},TooltipPaint:{BGColor:"rgba(20,20,20,0.8)",BorderColor:"rgb(210,210,210)",TitleColor:"rgb(210,210,210)",TitleFont:13*u()+"px 微软雅黑"},MinuteInfo:{TextColor:"rgb(84,143,255)",Font:14*u()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,1)"}},Tr={BLACK_ID:1};oi.GetStyleConfig=function(t){switch(t){case Tr.BLACK_ID:return Sr;default:return null}},e.default=(hi={jsChartInit:h.Init,jsChartStyle:h.SetStyle,JSChart:h,ChartData:G,HistoryData:Y,MARKET_SUFFIX_NAME:tr,IFrameSplitOperator:Wt,JSKLineInfoMap:ca,JSCHART_EVENT_ID:Oi,JSCHART_OPERATOR_ID:Pi,JSAlgorithm:Za,JSComplier:ei,JSIndexScript:o,GetDevicePixelRatio:u},(0,ui.default)(hi,"GetDevicePixelRatio",u),(0,ui.default)(hi,"ScriptIndexConsole",si),(0,ui.default)(hi,"STYLE_TYPE_ID",Tr),(0,ui.default)(hi,"HQChartStyle",oi),(0,ui.default)(hi,"JSConsole",xi),hi)},,,function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,a){var i,r=typeof t;if("string"===r){var n,s=[],o=t.length,h=0;for(i=0;i<o;++i)n=t.charCodeAt(i),n<128?s[h++]=n:n<2048?(s[h++]=192|n>>6,s[h++]=128|63&n):n<55296||n>=57344?(s[h++]=224|n>>12,s[h++]=128|n>>6&63,s[h++]=128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),s[h++]=240|n>>18,s[h++]=128|n>>12&63,s[h++]=128|n>>6&63,s[h++]=128|63&n);t=s}else{if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var l=[],u=[];for(i=0;i<64;++i){var d=t[i]||0;l[i]=92^d,u[i]=54^d}Sha256.call(this,e,a),this.update(u),this.oKeyPad=l,this.inner=!0,this.sharedMemory=a}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(304),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(a){return new Sha256(e,!0).update(a)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var a=0;a<OUTPUT_TYPES.length;++a){var i=OUTPUT_TYPES[a];e[i]=createOutputMethod(i,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(a,i){return new HmacSha256(a,e,!0).update(i)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,a){return e.create(t).update(a)};for(var a=0;a<OUTPUT_TYPES.length;++a){var i=OUTPUT_TYPES[a];e[i]=createHmacOutputMethod(i,t)}return e};Sha256.prototype.update=function(t){if(!this.finalized){var e,a=typeof t;if("string"!==a){if("object"!==a)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var i,r,n=0,s=t.length,o=this.blocks;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(r=this.start;n<s&&r<64;++n)o[r>>2]|=t[n]<<SHIFT[3&r++];else for(r=this.start;n<s&&r<64;++n)i=t.charCodeAt(n),i<128?o[r>>2]|=i<<SHIFT[3&r++]:i<2048?(o[r>>2]|=(192|i>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(o[r>>2]|=(224|i>>12)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++n)),o[r>>2]|=(240|i>>18)<<SHIFT[3&r++],o[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,a,i,r,n,s,o,h,l,u,d=this.h0,c=this.h1,D=this.h2,m=this.h3,C=this.h4,f=this.h5,p=this.h6,v=this.h7,S=this.blocks;for(t=16;t<64;++t)r=S[t-15],e=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,r=S[t-2],a=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,S[t]=S[t-16]+e+S[t-7]+a<<0;for(u=c&D,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,r=S[0]-1413257819,v=r-150054599<<0,m=r+24177077<<0):(o=704751109,r=S[0]-210244248,v=r-1521486534<<0,m=r+143694565<<0),this.first=!1):(e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),a=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),o=d&c,i=o^d&D^u,s=C&f^~C&p,r=v+a+s+K[t]+S[t],n=e+i,v=m+r<<0,m=r+n<<0),e=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),a=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),h=m&d,i=h^m&c^o,s=v&C^~v&f,r=p+a+s+K[t+1]+S[t+1],n=e+i,p=D+r<<0,D=r+n<<0,e=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),l=D&m,i=l^D&d^h,s=p&v^~p&C,r=f+a+s+K[t+2]+S[t+2],n=e+i,f=c+r<<0,c=r+n<<0,e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),u=c&D,i=u^c&m^l,s=f&p^~f&v,r=C+a+s+K[t+3]+S[t+3],n=e+i,C=d+r<<0,d=r+n<<0;this.h0=this.h0+d<<0,this.h1=this.h1+c<<0,this.h2=this.h2+D<<0,this.h3=this.h3+m<<0,this.h4=this.h4+C<<0,this.h5=this.h5+f<<0,this.h6=this.h6+p<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,a=this.h2,i=this.h3,r=this.h4,n=this.h5,s=this.h6,o=this.h7,h=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(h+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]),h},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,a=this.h2,i=this.h3,r=this.h4,n=this.h5,s=this.h6,o=this.h7,h=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,a>>24&255,a>>16&255,a>>8&255,255&a,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||h.push(o>>24&255,o>>16&255,o>>8&255,255&o),h},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()}).call(exports,__webpack_require__(206),__webpack_require__(24))},function(t,e,a){function i(t){return a(r(t))}function r(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./af":79,"./af.js":79,"./ar":86,"./ar-dz":80,"./ar-dz.js":80,"./ar-kw":81,"./ar-kw.js":81,"./ar-ly":82,"./ar-ly.js":82,"./ar-ma":83,"./ar-ma.js":83,"./ar-sa":84,"./ar-sa.js":84,"./ar-tn":85,"./ar-tn.js":85,"./ar.js":86,"./az":87,"./az.js":87,"./be":88,"./be.js":88,"./bg":89,"./bg.js":89,"./bm":90,"./bm.js":90,"./bn":91,"./bn.js":91,"./bo":92,"./bo.js":92,"./br":93,"./br.js":93,"./bs":94,"./bs.js":94,"./ca":95,"./ca.js":95,"./cs":96,"./cs.js":96,"./cv":97,"./cv.js":97,"./cy":98,"./cy.js":98,"./da":99,"./da.js":99,"./de":102,"./de-at":100,"./de-at.js":100,"./de-ch":101,"./de-ch.js":101,"./de.js":102,"./dv":103,"./dv.js":103,"./el":104,"./el.js":104,"./en-SG":105,"./en-SG.js":105,"./en-au":106,"./en-au.js":106,"./en-ca":107,"./en-ca.js":107,"./en-gb":108,"./en-gb.js":108,"./en-ie":109,"./en-ie.js":109,"./en-il":110,"./en-il.js":110,"./en-nz":111,"./en-nz.js":111,"./eo":112,"./eo.js":112,"./es":115,"./es-do":113,"./es-do.js":113,"./es-us":114,"./es-us.js":114,"./es.js":115,"./et":116,"./et.js":116,"./eu":117,"./eu.js":117,"./fa":118,"./fa.js":118,"./fi":119,"./fi.js":119,"./fo":120,"./fo.js":120,"./fr":123,"./fr-ca":121,"./fr-ca.js":121,"./fr-ch":122,"./fr-ch.js":122,"./fr.js":123,"./fy":124,"./fy.js":124,"./ga":125,"./ga.js":125,"./gd":126,"./gd.js":126,"./gl":127,"./gl.js":127,"./gom-latn":128,"./gom-latn.js":128,"./gu":129,"./gu.js":129,"./he":130,"./he.js":130,"./hi":131,"./hi.js":131,"./hr":132,"./hr.js":132,"./hu":133,"./hu.js":133,"./hy-am":134,"./hy-am.js":134,"./id":135,"./id.js":135,"./is":136,"./is.js":136,"./it":138,"./it-ch":137,"./it-ch.js":137,"./it.js":138,"./ja":139,"./ja.js":139,"./jv":140,"./jv.js":140,"./ka":141,"./ka.js":141,"./kk":142,"./kk.js":142,"./km":143,"./km.js":143,"./kn":144,"./kn.js":144,"./ko":145,"./ko.js":145,"./ku":146,"./ku.js":146,"./ky":147,"./ky.js":147,"./lb":148,"./lb.js":148,"./lo":149,"./lo.js":149,"./lt":150,"./lt.js":150,"./lv":151,"./lv.js":151,"./me":152,"./me.js":152,"./mi":153,"./mi.js":153,"./mk":154,"./mk.js":154,"./ml":155,"./ml.js":155,"./mn":156,"./mn.js":156,"./mr":157,"./mr.js":157,"./ms":159,"./ms-my":158,"./ms-my.js":158,"./ms.js":159,"./mt":160,"./mt.js":160,"./my":161,"./my.js":161,"./nb":162,"./nb.js":162,"./ne":163,"./ne.js":163,"./nl":165,"./nl-be":164,"./nl-be.js":164,"./nl.js":165,"./nn":166,"./nn.js":166,"./pa-in":167,"./pa-in.js":167,"./pl":168,"./pl.js":168,"./pt":170,"./pt-br":169,"./pt-br.js":169,"./pt.js":170,"./ro":171,"./ro.js":171,"./ru":172,"./ru.js":172,"./sd":173,"./sd.js":173,"./se":174,"./se.js":174,"./si":175,"./si.js":175,"./sk":176,"./sk.js":176,"./sl":177,"./sl.js":177,"./sq":178,"./sq.js":178,"./sr":180,"./sr-cyrl":179,"./sr-cyrl.js":179,"./sr.js":180,"./ss":181,"./ss.js":181,"./sv":182,"./sv.js":182,"./sw":183,"./sw.js":183,"./ta":184,"./ta.js":184,"./te":185,"./te.js":185,"./tet":186,"./tet.js":186,"./tg":187,"./tg.js":187,"./th":188,"./th.js":188,"./tl-ph":189,"./tl-ph.js":189,"./tlh":190,"./tlh.js":190,"./tr":191,"./tr.js":191,"./tzl":192,"./tzl.js":192,"./tzm":194,"./tzm-latn":193,"./tzm-latn.js":193,"./tzm.js":194,"./ug-cn":195,"./ug-cn.js":195,"./uk":196,"./uk.js":196,"./ur":197,"./ur.js":197,"./uz":199,"./uz-latn":198,"./uz-latn.js":198,"./uz.js":199,"./vi":200,"./vi.js":200,"./x-pseudo":201,"./x-pseudo.js":201,"./yo":202,"./yo.js":202,"./zh-cn":203,"./zh-cn.js":203,"./zh-hk":204,"./zh-hk.js":204,"./zh-tw":205,"./zh-tw.js":205};i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id=291},,,,function(t,e,a){a(301);var i=a(53)(a(214),a(298),null,null);t.exports=i.exports},function(t,e,a){a(300);var i=a(53)(a(215),a(297),null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"divklinechart",staticStyle:{height:"600px"}},[a("div",{ref:"divsymbol",staticClass:"headTitle"},[a("div",{staticClass:"name-box"},[a("div",{staticClass:"nameWrap"},[a("span",{staticClass:"stockName"},[t._v(t._s(t.Name))]),t._v(" "),a("span",{staticClass:"exchangeInfo"},[t._v(t._s(t.PairName))])])])]),t._v(" "),a("div",{ref:"divperiod",staticClass:"tabs kLineTabs blockBg"},[a("p",{staticClass:"tabsTitle"},t._l(t.Period.Menu,function(e,i){return a("span",{key:i,class:{active:e.Name==t.Period.SelItem.Name},on:{click:function(a){return t.ChangePeriod(e)}}},[t._v(t._s(e.Name))])}),0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.KLine.IsShow,expression:"KLine.IsShow"}],ref:"divkline",staticClass:"klineWrap"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.Minute.IsShow,expression:"Minute.IsShow"}],ref:"divkminute",staticClass:"klineWrap"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.Index.IsShow,expression:"Index.IsShow"}],ref:"divindex",staticClass:"indexWrap"},t._l(t.Index.Menu,function(e,i){return a("span",{key:i,staticClass:"indexItem",on:{click:function(a){return t.ChangeIndex(e)}}},[t._v("\n            "+t._s(e.Name))])}),0)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab_cont"},[t._m(0),t._v(" "),t._l(t.BitList,function(e){return a("dl",{key:e.Symbol,staticClass:"c_list",on:{click:function(a){return t.ClickSymbol(e)}}},[a("dd",[a("span",{staticClass:"full-name"},[t._v(t._s(e.Name))]),t._v(" "),a("span",{staticClass:"short-name"},[t._v(t._s(e.Symbol))])]),t._v(" "),a("dd",[a("span",[t._v(t._s(e.Price.Text))])]),t._v(" "),a("dd",[a("span",[t._v(t._s(e.Vol.Text))])])])})],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dl",{staticClass:"head"},[a("dd",[a("span",[t._v("代币名称")])]),t._v(" "),a("dd",[a("span",[t._v("现市价")])]),t._v(" "),a("dd",[a("span",[t._v("交易金额")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"app",staticStyle:{height:"100%"},attrs:{id:"app"}},[a("stockHq",{ref:"klinechart",attrs:{DefaultPairName:"ETH/BTC",DefaultName:"以太币",DefaultfloatPrecision:"8",DefaultPeriod:"0"}}),t._v(" "),a("coinList",{on:{ChangeSymbol:t.ChangeSymbol}})],1)},staticRenderFns:[]}},function(t,e,a){var i=a(281);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(54)("2d7fb2c5",i,!0)},function(t,e,a){var i=a(282);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(54)("d719ae50",i,!0)},function(t,e,a){var i=a(283);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(54)("792f270f",i,!0)},function(t,e){t.exports=function(t,e){for(var a=[],i={},r=0;r<e.length;r++){var n=e[r],s=n[0],o=n[1],h=n[2],l=n[3],u={id:t+":"+r,css:o,media:h,sourceMap:l};i[s]?i[s].parts.push(u):a.push(i[s]={id:s,parts:[u]})}return a}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}],[216]);